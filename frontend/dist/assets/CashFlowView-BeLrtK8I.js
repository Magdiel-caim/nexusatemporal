import{j as e}from"./data-vendor-DN4GCDiI.js";import{r as d}from"./react-vendor-C5Agepg6.js";import{f as u}from"./index-BijFhL0-.js";import{c as P,aI as R,h as C,aJ as F,R as X,af as T,ae as M,D,ab as E,ac as I,a9 as c,n as J,S as K,aK as q}from"./ui-vendor-DNtzCOk3.js";function G(){const[s,n]=d.useState(null),[A,y]=d.useState(!0),[f,b]=d.useState(!1),[o,x]=d.useState(!1),[N,m]=d.useState(!1),[S,g]=d.useState(!1),[p,j]=d.useState("0"),[a,l]=d.useState({cashAmount:0,pixAmount:0,creditCardAmount:0,debitCardAmount:0,transferAmount:0,otherAmount:0,notes:""}),[h,k]=d.useState("0"),[v,w]=d.useState("");d.useEffect(()=>{O()},[]);const O=async()=>{var t;try{y(!0);const r=new Date().toISOString().split("T")[0],W=await u.getCashFlowByDate(r);n(W)}catch(r){((t=r.response)==null?void 0:t.status)===404?n(null):console.error("Erro ao carregar caixa:",r)}finally{y(!1)}},L=async()=>{try{const t=new Date().toISOString().split("T")[0],r=await u.openCashFlow({date:t,openingBalance:Number(p)});n(r),b(!1),c.success("Caixa aberto com sucesso!")}catch(t){c.error("Erro ao abrir caixa: "+t.message)}},z=async()=>{if(s)try{const t=a.cashAmount+a.pixAmount+a.creditCardAmount+a.debitCardAmount+a.transferAmount+a.otherAmount,r=await u.closeCashFlow(s.id,{...a,closingBalance:t});n(r),x(!1),c.success("Caixa fechado com sucesso!")}catch(t){c.error("Erro ao fechar caixa: "+t.message)}},V=async()=>{if(s)try{const t=await u.recordWithdrawal(s.id,Number(h),v||void 0);n(t),m(!1),k("0"),w(""),c.success("Sangria registrada com sucesso!")}catch(t){c.error("Erro ao registrar sangria: "+t.message)}},H=async()=>{if(s)try{const t=await u.recordDeposit(s.id,Number(h),v||void 0);n(t),g(!1),k("0"),w(""),c.success("Reforço registrado com sucesso!")}catch(t){c.error("Erro ao registrar reforço: "+t.message)}},$=async()=>{if(s)try{const t=new Date().toISOString().split("T")[0],r=await u.updateCashFlowFromTransactions(t);n(r),c.success("Caixa atualizado com transações!")}catch(t){c.error("Erro ao atualizar: "+t.message)}},i=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),U=t=>new Date(t).toLocaleDateString("pt-BR"),B=t=>new Date(t).toLocaleString("pt-BR");return A?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900",children:e.jsx(C,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Caixa do Dia - ",U(s.date)]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.isClosed?e.jsxs("span",{className:"inline-flex items-center text-red-600",children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),"Fechado em ",B(s.closedAt)]}):e.jsxs("span",{className:"inline-flex items-center text-green-600",children:[e.jsx(R,{className:"w-4 h-4 mr-1"}),"Aberto desde ",B(s.openedAt||s.createdAt)]})})]})]}),!s.isClosed&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:$,className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",title:"Atualizar com transações",children:e.jsx(X,{className:"w-4 h-4"})}),e.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-3 py-2 border border-orange-300 rounded-md text-sm font-medium text-orange-700 bg-white hover:bg-orange-50",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Sangria"]}),e.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center px-3 py-2 border border-green-300 rounded-md text-sm font-medium text-green-700 bg-white hover:bg-green-50",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Reforço"]}),e.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Fechar Caixa"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Saldo Inicial"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i(s.openingBalance)})]}),e.jsx(D,{className:"w-8 h-8 text-gray-400"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Receitas"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i(s.totalIncome)})]}),e.jsx(E,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Despesas"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:i(s.totalExpense)})]}),e.jsx(I,{className:"w-8 h-8 text-red-600"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Saldo Final"}),e.jsx("p",{className:`text-2xl font-bold ${s.closingBalance>=0?"text-green-600":"text-red-600"}`,children:i(s.closingBalance)})]}),e.jsx(D,{className:"w-8 h-8 text-blue-600"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Detalhamento por Forma de Pagamento"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Dinheiro"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i(s.cashAmount)})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"PIX"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i(s.pixAmount)})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Cartão Crédito"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i(s.creditCardAmount)})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Cartão Débito"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i(s.debitCardAmount)})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Transferência"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i(s.transferAmount)})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Outros"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i(s.otherAmount)})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Movimentações de Caixa"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400 mb-1",children:"Sangrias"}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:i(s.withdrawals)})]}),e.jsx(T,{className:"w-8 h-8 text-orange-600"})]})}),e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 mb-1",children:"Reforços"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:i(s.deposits)})]}),e.jsx(M,{className:"w-8 h-8 text-green-600"})]})})]})]}),s.notes&&e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Observações"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.notes})]}),o&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>x(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Fechar Caixa"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dinheiro"}),e.jsx("input",{type:"number",value:a.cashAmount,onChange:t=>l(r=>({...r,cashAmount:Number(t.target.value)})),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"PIX"}),e.jsx("input",{type:"number",value:a.pixAmount,onChange:t=>l(r=>({...r,pixAmount:Number(t.target.value)})),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cartão Crédito"}),e.jsx("input",{type:"number",value:a.creditCardAmount,onChange:t=>l(r=>({...r,creditCardAmount:Number(t.target.value)})),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cartão Débito"}),e.jsx("input",{type:"number",value:a.debitCardAmount,onChange:t=>l(r=>({...r,debitCardAmount:Number(t.target.value)})),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Transferência"}),e.jsx("input",{type:"number",value:a.transferAmount,onChange:t=>l(r=>({...r,transferAmount:Number(t.target.value)})),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Outros"}),e.jsx("input",{type:"number",value:a.otherAmount,onChange:t=>l(r=>({...r,otherAmount:Number(t.target.value)})),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",step:"0.01"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),e.jsx("textarea",{value:a.notes,onChange:t=>l(r=>({...r,notes:t.target.value})),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cancelar"}),e.jsx("button",{onClick:z,className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700",children:"Fechar Caixa"})]})]})]})}),N&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>m(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Registrar Sangria"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor"}),e.jsx("input",{type:"number",value:h,onChange:t=>k(t.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",step:"0.01",min:"0"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Motivo (opcional)"}),e.jsx("textarea",{value:v,onChange:t=>w(t.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cancelar"}),e.jsx("button",{onClick:V,className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-md hover:bg-orange-700",children:"Registrar Sangria"})]})]})]})}),S&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>g(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Registrar Reforço"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor"}),e.jsx("input",{type:"number",value:h,onChange:t=>k(t.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",step:"0.01",min:"0"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Motivo (opcional)"}),e.jsx("textarea",{value:v,onChange:t=>w(t.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cancelar"}),e.jsx("button",{onClick:H,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700",children:"Registrar Reforço"})]})]})]})})]}):e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-center py-12",children:[e.jsx(P,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Caixa não aberto"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Abra o caixa para começar a registrar movimentações do dia."}),e.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Abrir Caixa"]})]}),f&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>b(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Abrir Caixa"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Saldo Inicial"}),e.jsx("input",{type:"number",value:p,onChange:t=>j(t.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",step:"0.01",min:"0"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cancelar"}),e.jsx("button",{onClick:L,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700",children:"Abrir Caixa"})]})]})]})})]})}function Q(){const[s,n]=d.useState([]),[A,y]=d.useState(!0),[f,b]=d.useState(!1),[o,x]=d.useState({search:"",dateFrom:"",dateTo:"",status:""});d.useEffect(()=>{N()},[]);const N=async()=>{try{y(!0);const a=await u.getCashFlows({dateFrom:o.dateFrom||void 0,dateTo:o.dateTo||void 0,isClosed:o.status==="fechado"?!0:o.status==="aberto"?!1:void 0});n(a)}catch(a){c.error("Erro ao carregar histórico: "+a.message)}finally{y(!1)}},m=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),S=a=>new Date(a).toLocaleDateString("pt-BR"),g=a=>new Date(a).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),p=a=>a?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",children:"Fechado"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:"Aberto"}),j=s.filter(a=>!(o.search&&!a.date.includes(o.search)));return A?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Histórico de Caixas"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[j.length," registro(s) encontrado(s)"]})]}),e.jsxs("button",{onClick:()=>b(!f),className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Filtros"]})]}),f&&e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Buscar Data"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:o.search,onChange:a=>x(l=>({...l,search:a.target.value})),placeholder:"DD/MM/AAAA",className:"pl-10 w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data Início"}),e.jsx("input",{type:"date",value:o.dateFrom,onChange:a=>x(l=>({...l,dateFrom:a.target.value})),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data Fim"}),e.jsx("input",{type:"date",value:o.dateTo,onChange:a=>x(l=>({...l,dateTo:a.target.value})),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:N,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Aplicar"})})]})}),e.jsx("div",{className:"space-y-3",children:j.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx(C,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Nenhum caixa encontrado"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Altere os filtros ou aguarde a abertura de novos caixas"})]}):j.map(a=>{var l,h;return e.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(C,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S(a.date)}),p(a.isClosed)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(E,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Abertura"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:m(a.openingBalance)}),a.openedAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[g(a.openedAt)," - ",((l=a.openedBy)==null?void 0:l.name)||"N/A"]})]}),a.isClosed&&a.closingBalance!==null&&e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(D,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Fechamento"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:m(a.closingBalance)}),a.closedAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[g(a.closedAt)," - ",((h=a.closedBy)==null?void 0:h.name)||"N/A"]})]}),a.isClosed&&a.closingBalance!==null&&e.jsxs("div",{className:`p-3 rounded-lg ${a.closingBalance>=a.openingBalance?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Saldo"})]}),e.jsx("p",{className:`text-lg font-bold ${a.closingBalance>=a.openingBalance?"text-green-600":"text-red-600"}`,children:m(a.closingBalance-a.openingBalance)})]})]})]})})},a.id)})})]})}function ae(){const[s,n]=d.useState("today");return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>n("today"),className:`py-3 px-1 border-b-2 font-medium text-sm inline-flex items-center ${s==="today"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Caixa do Dia"]}),e.jsxs("button",{onClick:()=>n("history"),className:`py-3 px-1 border-b-2 font-medium text-sm inline-flex items-center ${s==="history"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Histórico"]})]})}),s==="today"&&e.jsx(G,{}),s==="history"&&e.jsx(Q,{})]})}export{ae as default};
