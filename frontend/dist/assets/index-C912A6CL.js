const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-A4GL3Rj1.js","assets/react-vendor-B1IcTyqJ.js","assets/data-vendor-CPXAi296.js","assets/ui-vendor-CGldjw86.js","assets/TransactionList-UZLGbNTW.js","assets/SupplierList-BsmaS1ox.js","assets/InvoiceList-BXDxv5Kl.js","assets/CashFlowView-CCXb0sg1.js","assets/PurchaseOrderView-CR8Gb4QG.js","assets/FinancialReports-DtHA2vFr.js","assets/PieChart-pQduoUJX.js","assets/ProductList-B-0tTy7H.js","assets/exportService-DJdCKWFj.js","assets/exceljs.min-BlcZB2QI.js","assets/ProductForm-Bl3gaBSV.js","assets/MovementList-CQRs4gIV.js","assets/MovementForm-lyR1-lRA.js","assets/AlertList-DLf6L9lW.js","assets/ReportsView-ViA5nbg7.js","assets/ProcedureStockTab-BW0dLmz8.js","assets/InventoryCountTab-BDpcjZCa.js"])))=>i.map(i=>d[i]);
var UK=Object.defineProperty;var WK=(e,t,r)=>t in e?UK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ur=(e,t,r)=>WK(e,typeof t!="symbol"?t+"":t,r);import{j as i,a as vu,c as HK,u as a6,b as cc,d as Nh,Q as VK,e as GK}from"./data-vendor-CPXAi296.js";import{a as gl,r as k,u as vi,L as sx,R as Z,c as ms,b as $m,g as Lr,d as n6,e as E7,f as _7,N as XN,B as qK,h as YK,i as ia}from"./react-vendor-B1IcTyqJ.js";import{z as Le,S as nd,U as Ls,C as Yr,a as JK,T as KK,b as xh,D as Ba,B as z_,A as Qc,c as rs,d as Sh,e as ba,F as qa,f as $_,g as Do,h as zu,i as xf,j as $u,P as Yh,G as QK,X as br,k as ka,l as sd,m as aa,M as Lo,n as s6,o as M7,p as ro,q as vs,r as ja,s as An,t as Cw,u as Ml,v as Go,w as XK,L as i6,x as L7,y as ZK,E as ZN,H as xc,I as ec,Q as eQ,R as ix,J as tQ,K as Tg,N as Uu,O as o6,V as e3,W as _u,Y as U_,Z as T7,_ as Um,$ as W_,a0 as t3,a1 as I7,a2 as b0,a3 as r3,a4 as D7,a5 as P7,a6 as Zy,a7 as Zs,a8 as rQ,a9 as aQ,aa as nQ,ab as sQ,ac as iQ,ad as oQ,ae as lQ,af as cQ,ag as dQ,ah as Tf,ai as l6,aj as c6,ak as Aw,al as fQ,am as uQ,an as Wm,ao as d6,ap as wn,aq as hQ,ar as eb,as as ej,at as O7,au as mQ,av as Ew,aw as tj,ax as pQ,ay as ox,az as gQ,aA as F1,aB as xQ,aC as vQ,aD as Nb,aE as Wu,aF as df,aG as yQ,aH as bQ,aI as R7,aJ as a3,aK as H_,aL as wQ,aM as f6,aN as kQ,aO as jQ,aP as NQ,aQ as SQ,aR as lx,aS as CQ,aT as F7,aU as AQ,aV as EQ,aW as B7,aX as z7,aY as n3,aZ as _Q,a_ as MQ,a$ as LQ,b0 as TQ,b1 as rj,b2 as IQ,b3 as V_,b4 as G_,b5 as DQ,b6 as q_,b7 as PQ}from"./ui-vendor-CGldjw86.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var s3={},Y_=gl;s3.createRoot=Y_.createRoot,s3.hydrateRoot=Y_.hydrateRoot;const u6=k.createContext(void 0);function OQ({children:e}){const[t,r]=k.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});k.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("theme",t)},[t]);const a=()=>{r(s=>s==="light"?"dark":"light")},n=s=>{r(s)};return i.jsx(u6.Provider,{value:{theme:t,toggleTheme:a,setTheme:n},children:e})}function $7(){const e=k.useContext(u6);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}let U7=class extends k.Component{constructor(){super(...arguments);Ur(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("ErrorBoundary caught an error:",r,a)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:i.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Algo deu errado"}),i.jsx("p",{className:"text-sm text-red-700 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"Ocorreu um erro inesperado"}),i.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Tentar novamente"})]}):this.props.children}};const RQ="https://api.nexusatemporal.com.br/api",me=vu.create({baseURL:RQ,headers:{"Content-Type":"application/json"}});me.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));me.interceptors.response.use(e=>e,e=>{var t,r,a;return((t=e.response)==null?void 0:t.status)===401?(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",Le.error("Sessão expirada. Faça login novamente.")):((r=e.response)==null?void 0:r.status)===403?Le.error("Você não tem permissão para acessar este recurso."):((a=e.response)==null?void 0:a.status)>=500&&Le.error("Erro no servidor. Tente novamente mais tarde."),Promise.reject(e)});const go={async login(e){const{data:t}=await me.post("/auth/login",e);return{user:t.data.user,token:t.data.accessToken,refreshToken:t.data.refreshToken}},async register(e){const{data:t}=await me.post("/auth/register",e);return{user:t.data,token:"",refreshToken:""}},async logout(){await me.post("/auth/logout"),localStorage.removeItem("token"),localStorage.removeItem("user")},async getProfile(){const{data:e}=await me.get("/auth/profile");return e},async refreshToken(e){const{data:t}=await me.post("/auth/refresh",{refreshToken:e});return t},async forgotPassword(e){await me.post("/auth/forgot-password",{email:e})},async resetPassword(e,t){await me.post("/auth/reset-password",{token:e,password:t})},setToken(e){localStorage.setItem("token",e)},getToken(){return localStorage.getItem("token")},setUser(e){localStorage.setItem("user",JSON.stringify(e))},getUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null}},kc=HK(e=>({user:go.getUser(),token:go.getToken(),isAuthenticated:!!go.getToken(),isLoading:!1,login:async t=>{var r,a;e({isLoading:!0});try{const{user:n,token:s}=await go.login(t);go.setToken(s),go.setUser(n),e({user:n,token:s,isAuthenticated:!0,isLoading:!1}),Le.success("Login realizado com sucesso!")}catch(n){throw e({isLoading:!1}),Le.error(((a=(r=n.response)==null?void 0:r.data)==null?void 0:a.error)||"Erro ao fazer login"),n}},register:async t=>{var r,a;e({isLoading:!0});try{const{user:n,token:s}=await go.register(t);go.setToken(s),go.setUser(n),e({user:n,token:s,isAuthenticated:!0,isLoading:!1}),Le.success("Conta criada com sucesso!")}catch(n){throw e({isLoading:!1}),Le.error(((a=(r=n.response)==null?void 0:r.data)==null?void 0:a.error)||"Erro ao criar conta"),n}},logout:async()=>{try{await go.logout()}catch(t){console.error("Erro ao fazer logout:",t)}finally{e({user:null,token:null,isAuthenticated:!1}),Le.success("Logout realizado com sucesso!")}},loadUser:()=>{const t=go.getUser(),r=go.getToken();e({user:t,token:r,isAuthenticated:!!r})}})),h6="/assets/logo-full-B3Op3OHa.png";function FQ(){const[e,t]=k.useState(""),[r,a]=k.useState(""),{login:n,isLoading:s}=kc(),o=vi(),l=async c=>{c.preventDefault();try{await n({email:e,password:r}),o("/dashboard")}catch{}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("img",{src:h6,alt:"Nexus Atemporal",className:"h-20 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Sistema de Gestão para Clínicas"})]}),i.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:e,onChange:c=>t(c.target.value),className:"input-field",placeholder:"seu@email.com",required:!0,autoFocus:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),i.jsx("input",{type:"password",value:r,onChange:c=>a(c.target.value),className:"input-field",placeholder:"••••••••",required:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),i.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Lembrar-me"})]}),i.jsx(sx,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Esqueceu a senha?"})]}),i.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full",children:s?"Entrando...":"Entrar"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Não tem uma conta?"," ",i.jsx(sx,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-700",children:"Criar conta"})]})})]})})})}function BQ(){const[e,t]=k.useState(""),[r,a]=k.useState(""),[n,s]=k.useState(""),[o,l]=k.useState(""),[c,d]=k.useState(""),{register:f,isLoading:u}=kc(),m=vi(),h=async g=>{if(g.preventDefault(),o!==c){alert("As senhas não coincidem");return}try{await f({name:e,email:r,phone:n,password:o}),m("/dashboard")}catch{}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800 py-12",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("img",{src:h6,alt:"Nexus Atemporal",className:"h-16 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-1",children:"Criar Conta"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Preencha os dados para começar"})]}),i.jsxs("form",{onSubmit:h,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome Completo"}),i.jsx("input",{type:"text",value:e,onChange:g=>t(g.target.value),className:"input-field",placeholder:"Seu nome",required:!0,autoFocus:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:r,onChange:g=>a(g.target.value),className:"input-field",placeholder:"seu@email.com",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Telefone"}),i.jsx("input",{type:"tel",value:n,onChange:g=>s(g.target.value),className:"input-field",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),i.jsx("input",{type:"password",value:o,onChange:g=>l(g.target.value),className:"input-field",placeholder:"••••••••",required:!0,minLength:6})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Senha"}),i.jsx("input",{type:"password",value:c,onChange:g=>d(g.target.value),className:"input-field",placeholder:"••••••••",required:!0,minLength:6})]}),i.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full",children:u?"Criando conta...":"Criar Conta"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Já tem uma conta?"," ",i.jsx(sx,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-700",children:"Fazer login"})]})})]})})})}const Qn={async getPipelines(){const{data:e}=await me.get("/leads/pipelines");return e},async getPipeline(e){const{data:t}=await me.get(`/leads/pipelines/${e}`);return t},async createPipeline(e){const{data:t}=await me.post("/leads/pipelines",e);return t},async updatePipeline(e,t){const{data:r}=await me.put(`/leads/pipelines/${e}`,t);return r},async deletePipeline(e){await me.delete(`/leads/pipelines/${e}`)},async createStage(e){const{data:t}=await me.post("/leads/stages",e);return t},async updateStage(e,t){const{data:r}=await me.put(`/leads/stages/${e}`,t);return r},async deleteStage(e){await me.delete(`/leads/stages/${e}`)},async reorderStages(e){await me.post("/leads/stages/reorder",{stageOrders:e})},async getLeads(e){const{data:t}=await me.get("/leads/leads",{params:e});return t},async getLead(e){const{data:t}=await me.get(`/leads/leads/${e}`);return t},async createLead(e){const{data:t}=await me.post("/leads/leads",e);return t},async updateLead(e,t){const{data:r}=await me.put(`/leads/leads/${e}`,t);return r},async deleteLead(e){await me.delete(`/leads/leads/${e}`)},async moveLeadToStage(e,t){const{data:r}=await me.post(`/leads/leads/${e}/move`,{stageId:t});return r},async bulkUpdateLeads(e,t){const{data:r}=await me.post("/leads/leads/bulk-update",{leadIds:e,data:t});return r},async getLeadActivities(e){const{data:t}=await me.get(`/leads/leads/${e}/activities`);return t},async createActivity(e,t){const{data:r}=await me.post(`/leads/leads/${e}/activities`,t);return r},async completeActivity(e){const{data:t}=await me.put(`/leads/activities/${e}/complete`);return t},async getLeadStats(){const{data:e}=await me.get("/leads/leads/stats");return e},async getProcedures(){const{data:e}=await me.get("/leads/procedures");return e},async getProcedure(e){const{data:t}=await me.get(`/leads/procedures/${e}`);return t},async createProcedure(e){const{data:t}=await me.post("/leads/procedures",e);return t},async updateProcedure(e,t){const{data:r}=await me.put(`/leads/procedures/${e}`,t);return r},async deleteProcedure(e){await me.delete(`/leads/procedures/${e}`)}};class zQ{constructor(){Ur(this,"baseUrl","/appointments")}async getToday(){return(await me.get(`${this.baseUrl}/today`)).data.data}async getAll(t=1,r=50){const a=await me.get(`${this.baseUrl}?page=${t}&limit=${r}`);return{data:a.data.data,total:a.data.total}}async getByDateRange(t,r){return(await me.get(`${this.baseUrl}?startDate=${t}&endDate=${r}`)).data.data}async getById(t){return(await me.get(`${this.baseUrl}/${t}`)).data.data}async getByLead(t){return(await me.get(`${this.baseUrl}/lead/${t}`)).data.data}async getByProfessional(t,r,a){return(await me.get(`${this.baseUrl}/professional/${t}?startDate=${r}&endDate=${a}`)).data.data}async create(t){return(await me.post(this.baseUrl,t)).data.data}async update(t,r){return(await me.put(`${this.baseUrl}/${t}`,r)).data.data}async confirmPayment(t,r,a){return(await me.post(`${this.baseUrl}/${t}/confirm-payment`,{paymentProof:r,paymentMethod:a})).data.data}async sendAnamnesis(t){await me.post(`${this.baseUrl}/${t}/send-anamnesis`)}async confirm(t,r,a){return(await me.post(`${this.baseUrl}/${t}/confirm`,{confirmed:r,reschedule:a})).data.data}async checkIn(t){return(await me.post(`${this.baseUrl}/${t}/check-in`)).data.data}async startAttendance(t){return(await me.post(`${this.baseUrl}/${t}/start`)).data.data}async finalizeAttendance(t,r){return(await me.post(`${this.baseUrl}/${t}/finalize`,r)).data.data}async cancel(t,r){return(await me.delete(`${this.baseUrl}/${t}`,{data:{reason:r}})).data.data}async checkAvailability(t,r,a,n,s){return(await me.post(`${this.baseUrl}/check-availability`,{scheduledDate:t,duration:r,location:a,professionalId:n,excludeAppointmentId:s})).data.data}async getOccupiedSlots(t,r,a,n=5){const s=new URLSearchParams({date:t,location:r,interval:n.toString()});return a&&s.append("professionalId",a),(await me.get(`${this.baseUrl}/occupied-slots?${s.toString()}`)).data.data}async getAvailableSlots(t,r,a,n=7,s=20,o=5){const l=new URLSearchParams({date:t,location:r,startHour:n.toString(),endHour:s.toString(),interval:o.toString()});return a&&l.append("professionalId",a),(await me.get(`${this.baseUrl}/available-slots?${l.toString()}`)).data.data}}const bn=new zQ,Ci={async getTransactions(e){const{data:t}=await me.get("/financial/transactions",{params:e});return t},async getTransaction(e){const{data:t}=await me.get(`/financial/transactions/${e}`);return t},async createTransaction(e){const{data:t}=await me.post("/financial/transactions",e);return t},async updateTransaction(e,t){const{data:r}=await me.put(`/financial/transactions/${e}`,t);return r},async deleteTransaction(e){await me.delete(`/financial/transactions/${e}`)},async confirmTransaction(e,t){return(await me.patch(`/financial/transactions/${e}/confirm`,t)).data},async cancelTransaction(e,t){const{data:r}=await me.patch(`/financial/transactions/${e}/cancel`,{reason:t});return r},async reverseTransaction(e,t){const{data:r}=await me.patch(`/financial/transactions/${e}/reverse`,{reason:t});return r},async createInstallmentTransactions(e){const{data:t}=await me.post("/financial/transactions/installments",e);return t},async getTransactionStats(e,t){const{data:r}=await me.get("/financial/transactions/stats",{params:{dateFrom:e,dateTo:t}});return r},async getAccountsReceivable(e){const{data:t}=await me.get("/financial/transactions/accounts-receivable",{params:{dateLimit:e}});return t},async getAccountsPayable(e){const{data:t}=await me.get("/financial/transactions/accounts-payable",{params:{dateLimit:e}});return t},async getOverdueTransactions(){const{data:e}=await me.get("/financial/transactions/overdue");return e},async getCashFlow(e,t){const{data:r}=await me.get("/financial/transactions/cash-flow",{params:{month:e,year:t}});return r},async getSuppliers(e){const{data:t}=await me.get("/financial/suppliers",{params:e});return t},async getSupplier(e){const{data:t}=await me.get(`/financial/suppliers/${e}`);return t},async createSupplier(e){const{data:t}=await me.post("/financial/suppliers",e);return t},async updateSupplier(e,t){const{data:r}=await me.put(`/financial/suppliers/${e}`,t);return r},async deleteSupplier(e){const{data:t}=await me.delete(`/financial/suppliers/${e}`);return t},async activateSupplier(e){const{data:t}=await me.patch(`/financial/suppliers/${e}/activate`);return t},async deactivateSupplier(e){const{data:t}=await me.patch(`/financial/suppliers/${e}/deactivate`);return t},async getSupplierStats(){const{data:e}=await me.get("/financial/suppliers/stats");return e},async getInvoices(e){const{data:t}=await me.get("/financial/invoices",{params:e});return t},async getInvoice(e){const{data:t}=await me.get(`/financial/invoices/${e}`);return t},async getInvoiceByNumber(e){const{data:t}=await me.get(`/financial/invoices/number/${e}`);return t},async createInvoice(e){const{data:t}=await me.post("/financial/invoices",e);return t},async updateInvoice(e,t){const{data:r}=await me.put(`/financial/invoices/${e}`,t);return r},async cancelInvoice(e,t){const{data:r}=await me.patch(`/financial/invoices/${e}/cancel`,{reason:t});return r},async markInvoiceAsSent(e,t){const{data:r}=await me.patch(`/financial/invoices/${e}/send`,t);return r},async attachPdfToInvoice(e,t){const{data:r}=await me.patch(`/financial/invoices/${e}/attach-pdf`,{pdfUrl:t});return r},async getInvoiceStats(e){const{data:t}=await me.get("/financial/invoices/stats",{params:{year:e}});return t},async getPurchaseOrders(e){const{data:t}=await me.get("/financial/purchase-orders",{params:e});return t},async getPurchaseOrder(e){const{data:t}=await me.get(`/financial/purchase-orders/${e}`);return t},async createPurchaseOrder(e){const{data:t}=await me.post("/financial/purchase-orders",e);return t},async updatePurchaseOrder(e,t){const{data:r}=await me.put(`/financial/purchase-orders/${e}`,t);return r},async approvePurchaseOrder(e){const{data:t}=await me.patch(`/financial/purchase-orders/${e}/approve`);return t},async markPurchaseOrderAsSent(e,t){const{data:r}=await me.patch(`/financial/purchase-orders/${e}/send`,t);return r},async markPurchaseOrderInTransit(e){const{data:t}=await me.patch(`/financial/purchase-orders/${e}/in-transit`);return t},async receivePurchaseOrder(e,t){const{data:r}=await me.patch(`/financial/purchase-orders/${e}/receive`,t);return r},async cancelPurchaseOrder(e,t){const{data:r}=await me.patch(`/financial/purchase-orders/${e}/cancel`,{cancelReason:t});return r},async addPurchaseOrderAttachment(e,t){const{data:r}=await me.post(`/financial/purchase-orders/${e}/attachments`,t);return r},async getPurchaseOrderStats(){const{data:e}=await me.get("/financial/purchase-orders/stats");return e},async getCashFlows(e){const{data:t}=await me.get("/financial/cash-flow",{params:e});return t},async getCashFlowById(e){const{data:t}=await me.get(`/financial/cash-flow/${e}`);return t},async getCashFlowByDate(e){const{data:t}=await me.get(`/financial/cash-flow/date/${e}`);return t},async openCashFlow(e){const{data:t}=await me.post("/financial/cash-flow",e);return t},async closeCashFlow(e,t){const{data:r}=await me.patch(`/financial/cash-flow/${e}/close`,t);return r},async updateCashFlowFromTransactions(e){const{data:t}=await me.patch(`/financial/cash-flow/${e}/update`);return t},async recordWithdrawal(e,t,r){const{data:a}=await me.post(`/financial/cash-flow/${e}/withdrawal`,{amount:t,notes:r});return a},async recordDeposit(e,t,r){const{data:a}=await me.post(`/financial/cash-flow/${e}/deposit`,{amount:t,notes:r});return a},async getCashFlowSummary(e,t){const{data:r}=await me.get("/financial/cash-flow/summary",{params:{month:e,year:t}});return r}};var $Q=(e=>(e.MEDICAMENTO="MEDICAMENTO",e.MATERIAL="MATERIAL",e.EQUIPAMENTO="EQUIPAMENTO",e.COSMÉTICO="COSMETICO",e.SUPLEMENTO="SUPLEMENTO",e.OUTRO="OUTRO",e))($Q||{}),UQ=(e=>(e.UNIDADE="UN",e.CAIXA="CX",e.FRASCO="FR",e.AMPOLA="AMP",e.COMPRIMIDO="CP",e.ML="ML",e.LITRO="L",e.GRAMA="G",e.KG="KG",e))(UQ||{}),WQ=(e=>(e.ENTRADA="entrada",e.SAIDA="saida",e.AJUSTE="ajuste",e.DEVOLUCAO="devolucao",e.PERDA="perda",e))(WQ||{}),HQ=(e=>(e.COMPRA="compra",e.PROCEDIMENTO="procedimento",e.AJUSTE_INVENTARIO="ajuste_inventario",e.DEVOLUCAO_FORNECEDOR="devolucao_fornecedor",e.DEVOLUCAO_CLIENTE="devolucao_cliente",e.PERDA="perda",e.VENCIMENTO="vencimento",e.DANO="dano",e.TRANSFERENCIA="transferencia",e.OUTRO="outro",e))(HQ||{}),VQ=(e=>(e.ACTIVE="ACTIVE",e.RESOLVED="RESOLVED",e.IGNORED="IGNORED",e))(VQ||{}),GQ=(e=>(e.IN_PROGRESS="IN_PROGRESS",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e))(GQ||{}),qQ=(e=>(e.SURPLUS="SURPLUS",e.SHORTAGE="SHORTAGE",e.MATCH="MATCH",e))(qQ||{});class YQ{async getProducts(t){const r=new URLSearchParams;return t!=null&&t.search&&r.append("search",t.search),t!=null&&t.category&&r.append("category",t.category),(t==null?void 0:t.isActive)!==void 0&&r.append("isActive",String(t.isActive)),t!=null&&t.lowStock&&r.append("lowStock",String(t.lowStock)),t!=null&&t.limit&&r.append("limit",String(t.limit)),t!=null&&t.offset&&r.append("offset",String(t.offset)),(await me.get(`/stock/products?${r.toString()}`)).data}async getProduct(t){return(await me.get(`/stock/products/${t}`)).data}async createProduct(t){return(await me.post("/stock/products",t)).data}async updateProduct(t,r){return(await me.put(`/stock/products/${t}`,r)).data}async deleteProduct(t){await me.delete(`/stock/products/${t}`)}async getProductBySku(t){return(await me.get(`/stock/products/sku/${t}`)).data}async getProductByBarcode(t){return(await me.get(`/stock/products/barcode/${t}`)).data}async getLowStockProducts(){return(await me.get("/stock/dashboard/low-stock")).data}async getOutOfStockProducts(){return(await me.get("/stock/dashboard/out-of-stock")).data}async getExpiringProducts(t=30){return(await me.get(`/stock/dashboard/expiring?days=${t}`)).data}async getStockValue(){return(await me.get("/stock/dashboard/stock-value")).data}async getMovements(t){const r=new URLSearchParams;return t!=null&&t.productId&&r.append("productId",t.productId),t!=null&&t.type&&r.append("type",t.type),t!=null&&t.reason&&r.append("reason",t.reason),t!=null&&t.startDate&&r.append("startDate",t.startDate),t!=null&&t.endDate&&r.append("endDate",t.endDate),t!=null&&t.limit&&r.append("limit",String(t.limit)),t!=null&&t.offset&&r.append("offset",String(t.offset)),(await me.get(`/stock/movements?${r.toString()}`)).data}async getMovement(t){return(await me.get(`/stock/movements/${t}`)).data}async createMovement(t){return(await me.post("/stock/movements",t)).data}async getProductMovements(t,r=50){return(await me.get(`/stock/movements/product/${t}?limit=${r}`)).data}async getMovementSummary(t,r){return(await me.get(`/stock/movements/summary?startDate=${t}&endDate=${r}`)).data}async getAlerts(t){const r=new URLSearchParams;return t!=null&&t.type&&r.append("type",t.type),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.productId&&r.append("productId",t.productId),t!=null&&t.limit&&r.append("limit",String(t.limit)),t!=null&&t.offset&&r.append("offset",String(t.offset)),(await me.get(`/stock/alerts?${r.toString()}`)).data}async resolveAlert(t,r){return(await me.post(`/stock/alerts/${t}/resolve`,{resolution:r})).data}async ignoreAlert(t){return(await me.post(`/stock/alerts/${t}/ignore`)).data}async getAlertCount(){return(await me.get("/stock/alerts/count")).data}async healthCheck(){return(await me.get("/stock/health")).data}async getMovementsMonthly(t=6){return(await me.get(`/stock/reports/movements-monthly?months=${t}`)).data}async getMostUsedProducts(t=10){return(await me.get(`/stock/reports/most-used-products?limit=${t}`)).data}async getStockValueByCategory(){return(await me.get("/stock/reports/stock-value-by-category")).data}async addProductToProcedure(t){return(await me.post("/stock/procedure-products",t)).data}async getProcedureProducts(t){return(await me.get(`/stock/procedure-products/${t}`)).data}async removeProcedureProduct(t){await me.delete(`/stock/procedure-products/${t}`)}async validateStockForProcedure(t){return(await me.get(`/stock/procedures/${t}/validate-stock`)).data}async consumeStockForProcedure(t,r){return(await me.post(`/stock/procedures/${t}/consume-stock`,{medicalRecordId:r})).data}async updateProcedureProductQuantity(t,r){return(await me.put(`/stock/procedure-products/${t}/quantity`,{quantityUsed:r})).data}async getInventoryCounts(t){const r=new URLSearchParams;return t!=null&&t.status&&r.append("status",t.status),t!=null&&t.startDate&&r.append("startDate",t.startDate),t!=null&&t.endDate&&r.append("endDate",t.endDate),t!=null&&t.location&&r.append("location",t.location),t!=null&&t.limit&&r.append("limit",String(t.limit)),t!=null&&t.offset&&r.append("offset",String(t.offset)),(await me.get(`/stock/inventory-counts?${r.toString()}`)).data}async createInventoryCount(t){return(await me.post("/stock/inventory-counts",t)).data}async getInventoryCount(t){return(await me.get(`/stock/inventory-counts/${t}`)).data}async addInventoryCountItem(t,r){return(await me.post(`/stock/inventory-counts/${t}/items`,r)).data}async updateInventoryCountItem(t,r){return(await me.put(`/stock/inventory-count-items/${t}`,r)).data}async deleteInventoryCountItem(t){await me.delete(`/stock/inventory-count-items/${t}`)}async adjustInventoryItem(t){return(await me.post(`/stock/inventory-count-items/${t}/adjust`)).data}async batchAdjustInventory(t){return(await me.post(`/stock/inventory-counts/${t}/adjust-all`)).data}async completeInventoryCount(t){return(await me.post(`/stock/inventory-counts/${t}/complete`)).data}async cancelInventoryCount(t){return(await me.post(`/stock/inventory-counts/${t}/cancel`)).data}async getDiscrepancyReport(t){return(await me.get(`/stock/inventory-counts/${t}/discrepancies`)).data}async getProcedures(t){const r=new URLSearchParams;t&&r.append("search",t),r.append("limit","100");try{return(await me.get(`/procedures?${r.toString()}`)).data}catch{return{data:[],total:0}}}}const vh=new YQ,Zd=(e,t=0)=>{if(typeof e=="number"&&isFinite(e)&&!isNaN(e))return e;const r=Number(e);return isNaN(r)||!isFinite(r)?t:r},JQ=e=>{const t=Zd(e);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)};function KQ(){const{user:e}=kc(),t=vi(),[r,a]=k.useState(!0),[n,s]=k.useState({newLeads:0,totalPatients:0,avgAttendanceTime:0,conversionRate:0,avgTicket:0,uptime:99.9,attendancesByClinic:{moema:0,avPaulista:0}}),[o,l]=k.useState([]),[c,d]=k.useState(!1),[f,u]=k.useState(!1),[m,h]=k.useState([]),[g,p]=k.useState([]),[x,v]=k.useState(0),[b,y]=k.useState([]),[w,j]=k.useState(null),[E,A]=k.useState(!1),[C,S]=k.useState(!1),[T,_]=k.useState([]),[M,D]=k.useState([]),[O,B]=k.useState([]),[U,q]=k.useState(0),[K,G]=k.useState(0),[ve,fe]=k.useState([]),[I,z]=k.useState([]),H=[{id:"new-leads",name:"Novos Leads Hoje",description:"Exibe quantidade de novos leads cadastrados hoje",category:"metrics",roles:["admin","owner","manager","superadmin","super_admin"],isDefault:!0},{id:"today-appointments",name:"Agendamentos Hoje",description:"Exibe total de agendamentos do dia",category:"metrics",roles:["receptionist","doctor","professional","user"],isDefault:!0},{id:"total-patients",name:"Total de Pacientes",description:"Número total de pacientes atendidos",category:"metrics",roles:["admin","owner","manager","superadmin","super_admin","receptionist","doctor","professional"],isDefault:!0},{id:"avg-time",name:"Tempo Médio",description:"Tempo médio de atendimento",category:"metrics",roles:["admin","owner","manager","superadmin","super_admin"],isDefault:!0},{id:"conversion-rate",name:"Taxa de Conversão",description:"Percentual de leads convertidos",category:"metrics",roles:["admin","owner","manager","superadmin","super_admin"],isDefault:!0},{id:"avg-ticket",name:"Ticket Médio",description:"Valor médio por cliente",category:"metrics",roles:["admin","owner","manager","superadmin","super_admin"],isDefault:!0},{id:"clinics-attendance",name:"Atendimentos por Clínica",description:"Distribuição de atendimentos entre unidades",category:"metrics",roles:["admin","owner","manager","superadmin","super_admin"],isDefault:!0},{id:"uptime",name:"Uptime do Sistema",description:"Disponibilidade do sistema",category:"metrics",roles:["admin","owner","superadmin","super_admin"],isDefault:!0},{id:"alerts",name:"Alertas",description:"Notificações e alertas importantes",category:"alerts",roles:["admin","owner","manager","superadmin","super_admin","receptionist"],isDefault:!0},{id:"recent-activities",name:"Atividades Recentes",description:"Últimas atividades do sistema",category:"tables",roles:["admin","owner","manager","superadmin","super_admin"],isDefault:!0},{id:"appointments-table",name:"Tabela de Agendamentos",description:"Lista detalhada dos agendamentos",category:"tables",roles:["admin","owner","manager","superadmin","super_admin","receptionist","doctor","professional"],isDefault:!0},{id:"financial-summary",name:"Resumo Financeiro",description:"Receitas e despesas do mês",category:"metrics",roles:["admin","owner","manager","superadmin","super_admin","financeiro","financial"],isDefault:!0},{id:"pending-payables",name:"Contas a Pagar",description:"Lista de contas pendentes de pagamento",category:"tables",roles:["admin","owner","manager","superadmin","super_admin","financeiro","financial"],isDefault:!0},{id:"pending-receivables",name:"Contas a Receber",description:"Lista de valores a receber",category:"tables",roles:["admin","owner","manager","superadmin","super_admin","financeiro","financial"],isDefault:!0},{id:"low-stock-alert",name:"Alertas de Estoque Baixo",description:"Produtos com estoque abaixo do mínimo",category:"alerts",roles:["admin","owner","manager","superadmin","super_admin","administrativo","administrative","estoque","stock"],isDefault:!0},{id:"stock-summary",name:"Resumo de Estoque",description:"Visão geral do estoque",category:"metrics",roles:["admin","owner","manager","superadmin","super_admin","administrativo","administrative","estoque","stock"],isDefault:!0}];k.useEffect(()=>{We(),J();const he=setInterval(()=>{We()},6e4);return()=>clearInterval(he)},[]);const J=()=>{const he=localStorage.getItem(`dashboard-widgets-${e==null?void 0:e.id}`);if(he)_(JSON.parse(he));else{const ie=H.filter(de=>de.isDefault&&de.roles.includes((e==null?void 0:e.role)||"")).map(de=>de.id);_(ie)}},te=he=>{localStorage.setItem(`dashboard-widgets-${e==null?void 0:e.id}`,JSON.stringify(he)),_(he),Le.success("Preferências salvas com sucesso!")},W=he=>T.includes(he),Y=()=>!!(e!=null&&e.role),Q=()=>e!=null&&e.role?!["receptionist","doctor","professional","user"].includes(e.role):!1,ne=()=>e!=null&&e.role?["admin","owner","manager","superadmin","super_admin"].includes(e.role):!1,pe=he=>{u(!1),t("/leads",{state:{openLeadId:he}})},F=async(he,ie)=>{try{await bn.update(he,{status:ie}),Le.success("Status atualizado com sucesso!"),We()}catch(de){console.error("Erro ao atualizar status:",de),Le.error("Erro ao atualizar status")}},Te=he=>{j(he),A(!0)},xe=async()=>{try{console.log("[Dashboard] Carregando dados financeiros para role:",e==null?void 0:e.role);const he=new Date,ie=new Date(he.getFullYear(),he.getMonth(),1),de=new Date(he.getFullYear(),he.getMonth()+1,0),Ae=ie.toISOString().split("T")[0],ze=de.toISOString().split("T")[0];console.log("[Dashboard] Buscando transações de",Ae,"até",ze);const Ce=await Ci.getTransactions({dateFrom:Ae,dateTo:ze});console.log("[Dashboard] Total de transações:",Ce.length);const _e=Ce.filter(Ee=>Ee.type==="despesa"&&Ee.status==="pendente"),Ve=Ce.filter(Ee=>Ee.type==="receita"&&Ee.status==="pendente");console.log("[Dashboard] Contas a pagar:",_e.length,"| Contas a receber:",Ve.length);const Ie=Ce.filter(Ee=>Ee.type==="receita"&&Ee.status==="confirmada").reduce((Ee,Be)=>Ee+Zd(Be.amount),0),Re=Ce.filter(Ee=>Ee.type==="despesa"&&Ee.status==="confirmada").reduce((Ee,Be)=>Ee+Zd(Be.amount),0);console.log("[Dashboard] Receitas:",Ie,"| Despesas:",Re),D(_e.slice(0,5)),B(Ve.slice(0,5)),q(Ie),G(Re)}catch(he){console.error("[Dashboard] Erro ao carregar dados financeiros:",he)}},se=async()=>{try{console.log("[Dashboard] Carregando dados de estoque para role:",e==null?void 0:e.role);const he=await vh.getProducts();console.log("[Dashboard] Resposta de produtos:",he);const de=(Array.isArray(he)?he:he.data||[]).filter(_e=>_e.currentStock<=_e.minimumStock&&_e.isActive);console.log("[Dashboard] Produtos com estoque baixo:",de.length);const Ae=await vh.getAlerts();console.log("[Dashboard] Resposta de alertas:",Ae);const Ce=(Array.isArray(Ae)?Ae:Ae.data||[]).filter(_e=>_e.status==="ACTIVE");console.log("[Dashboard] Alertas ativos:",Ce.length),fe(de.slice(0,5)),z(Ce.slice(0,5))}catch(he){console.error("[Dashboard] Erro ao carregar dados de estoque:",he)}},We=async()=>{var he;try{a(!0);const[ie,de]=await Promise.all([Qn.getLeads(),bn.getToday()]),Ae=new Date;Ae.setHours(0,0,0,0);const ze=ie.filter(Ht=>{const It=new Date(Ht.createdAt);return It.setHours(0,0,0,0),It.getTime()===Ae.getTime()}),Ce=new Date;Ce.setDate(Ce.getDate()-2);const _e=ie.filter(Ht=>{const It=new Date(Ht.updatedAt),Nt=new Date;return Nt.setHours(Nt.getHours()-4),It>Nt?!1:!Ht.activities||Ht.activities.length===0?!0:new Date(Ht.activities[0].createdAt)<Ce}),Ve=ie.filter(Ht=>Ht.status==="won"),Ie=ie.length>0?Ve.length/ie.length*100:0,Re=de.filter(Ht=>Ht.paymentAmount&&Ht.paymentAmount>0),Ee=Re.reduce((Ht,It)=>Ht+(Number(It.paymentAmount)||0),0),Be=Re.length>0?Ee/Re.length:0,Pe=de.filter(Ht=>Ht.status==="finalizado"&&Ht.estimatedDuration),it=Pe.length>0?Pe.reduce((Ht,It)=>Ht+(It.estimatedDuration||0),0)/Pe.length:45,ft=de.filter(Ht=>{var It;return(It=Ht.location)==null?void 0:It.toLowerCase().includes("moema")}),st=de.filter(Ht=>{var It;return((It=Ht.location)==null?void 0:It.toLowerCase().includes("paulista"))||Ht.location==="av_paulista"});s({newLeads:ze.length,totalPatients:ie.length,avgAttendanceTime:Math.round(it),conversionRate:Math.round(Ie),avgTicket:Be,uptime:99.9,attendancesByClinic:{moema:ft.length,avPaulista:st.length}}),l(ze.slice(0,10)),v(_e.length),y(_e);const pt=de.filter(Ht=>["confirmado","aguardando_atendimento","em_atendimento"].includes(Ht.status));p(pt);const At=[];ze.length>0&&At.push({id:"1",type:"lead",title:"Novo lead cadastrado",description:ze[0].name,time:"Hoje",color:"bg-blue-100 text-blue-600"});const St=de.filter(Ht=>Ht.status==="confirmado");St.length>0&&At.push({id:"2",type:"appointment",title:"Agendamento confirmado",description:((he=St[0].lead)==null?void 0:he.name)||"Cliente",time:"Hoje",color:"bg-green-100 text-green-600"}),Re.length>0&&At.push({id:"3",type:"payment",title:"Pagamento recebido",description:`R$ ${Number(Re[0].paymentAmount).toFixed(2)} via ${Re[0].paymentMethod||"PIX"}`,time:"Hoje",color:"bg-purple-100 text-purple-600"}),At.length===0&&At.push({id:"1",type:"info",title:"Nenhuma atividade recente",description:"Aguardando novas atividades",time:"Hoje",color:"bg-gray-100 text-gray-600"}),h(At);const Ut=[];console.log("[Dashboard] Role do usuário:",e==null?void 0:e.role);const Wt=["admin","owner","manager","superadmin","super_admin","financeiro","financial"].includes((e==null?void 0:e.role)||""),Jr=["admin","owner","manager","superadmin","super_admin","administrativo","administrative","estoque","stock"].includes((e==null?void 0:e.role)||"");console.log("[Dashboard] Acesso financeiro:",Wt),console.log("[Dashboard] Acesso estoque:",Jr),Wt&&(console.log("[Dashboard] Carregando dados financeiros..."),Ut.push(xe())),Jr&&(console.log("[Dashboard] Carregando dados de estoque..."),Ut.push(se())),await Promise.all(Ut),console.log("[Dashboard] Dados extras carregados com sucesso")}catch(ie){console.error("Erro ao carregar dashboard:",ie),Le.error("Erro ao carregar dados do dashboard")}finally{a(!1)}},Se=he=>({aguardando_pagamento:"Aguardando Pagamento",aguardando_confirmacao:"Aguardando Confirmação",confirmado:"Confirmado",aguardando_atendimento:"Aguardando Atendimento",check_in:"Check-in Realizado",em_atendimento:"Em Atendimento",finalizado:"Finalizado",cancelado:"Cancelado"})[he]||he,Fe=he=>({aguardando_pagamento:"bg-orange-100 text-orange-800",aguardando_confirmacao:"bg-yellow-100 text-yellow-800",confirmado:"bg-green-100 text-green-800",aguardando_atendimento:"bg-cyan-100 text-cyan-800",check_in:"bg-blue-100 text-blue-800",em_atendimento:"bg-indigo-100 text-indigo-800",finalizado:"bg-gray-100 text-gray-800",cancelado:"bg-red-100 text-red-800"})[he]||"bg-gray-100 text-gray-800";return r?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:["Bem-vindo, ",e==null?void 0:e.name,"!"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Visão geral do seu sistema Nexus"})]}),Y()&&i.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[i.jsx(nd,{size:20}),"Personalizar Dashboard"]})]}),ne()&&W("new-leads")&&i.jsx("div",{onClick:()=>d(!0),className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 cursor-pointer hover:from-primary-700 hover:to-primary-800 transition-all shadow-lg",children:i.jsxs("div",{className:"flex items-center justify-between text-white",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Novos Leads Hoje"}),i.jsx("p",{className:"text-4xl font-bold",children:n.newLeads}),i.jsx("p",{className:"text-sm mt-2 opacity-90",children:"Clique para ver detalhes"})]}),i.jsx("div",{className:"bg-white/20 p-4 rounded-full",children:i.jsx(Ls,{size:40})})]})}),!ne()&&W("today-appointments")&&i.jsx("div",{onClick:()=>t("/appointments"),className:"bg-gradient-to-r from-indigo-600 to-indigo-700 rounded-lg p-6 cursor-pointer hover:from-indigo-700 hover:to-indigo-800 transition-all shadow-lg",children:i.jsxs("div",{className:"flex items-center justify-between text-white",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Agendamentos Hoje"}),i.jsx("p",{className:"text-4xl font-bold",children:g.length}),i.jsx("p",{className:"text-sm mt-2 opacity-90",children:"Clique para ver todos"})]}),i.jsx("div",{className:"bg-white/20 p-4 rounded-full",children:i.jsx(Yr,{size:40})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[W("total-patients")&&i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total de Pacientes"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.totalPatients}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Atendidos pela clínica"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900/20",children:i.jsx(JK,{className:"text-blue-600",size:24})})]})}),Q()&&W("avg-time")&&i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Tempo Médio"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[n.avgAttendanceTime,"min"]}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"-5min vs mês anterior"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:i.jsx(KK,{className:"text-orange-600",size:24})})]})}),Q()&&W("conversion-rate")&&i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Taxa de Conversão"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[n.conversionRate,"%"]}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Lead → Fechado"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/20",children:i.jsx(xh,{className:"text-green-600",size:24})})]})}),Q()&&W("avg-ticket")&&i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Ticket Médio"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.avgTicket)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Por cliente fechado"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-purple-100 dark:bg-purple-900/20",children:i.jsx(Ba,{className:"text-purple-600",size:24})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-indigo-100",children:i.jsx(z_,{className:"text-indigo-600",size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Moema"}),i.jsx("p",{className:"text-xl font-bold",children:n.attendancesByClinic.moema})]})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-indigo-100",children:i.jsx(z_,{className:"text-indigo-600",size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"AV Paulista"}),i.jsx("p",{className:"text-xl font-bold",children:n.attendancesByClinic.avPaulista})]})]})}),Q()&&i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:i.jsx(Qc,{className:"text-green-600",size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Uptime"}),i.jsxs("p",{className:"text-xl font-bold",children:[n.uptime,"%"]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[W("alerts")&&i.jsxs("div",{className:"card",children:[i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[i.jsx(rs,{className:"text-orange-600",size:24}),"Alertas"]}),i.jsxs("div",{className:"space-y-3",children:[x>0&&i.jsx("div",{onClick:()=>u(!0),className:"p-4 bg-orange-50 border border-orange-200 rounded-lg cursor-pointer hover:bg-orange-100 transition-colors",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(rs,{className:"text-orange-600 flex-shrink-0 mt-0.5",size:20}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-medium text-orange-900",children:[x," Lead",x>1?"s":""," sem resposta"]}),i.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Clique para ver os leads aguardando retorno há mais de 2 dias"})]}),i.jsx(Sh,{className:"text-orange-600 flex-shrink-0",size:20})]})}),x===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(ba,{className:"mx-auto mb-2 text-green-600",size:40}),i.jsx("p",{children:"Nenhum alerta no momento"})]})]})]}),W("recent-activities")&&i.jsxs("div",{className:"card",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Atividades Recentes"}),i.jsx("div",{className:"space-y-3",children:m.map(he=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[i.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${he.color.split(" ")[0]}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:he.title}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:he.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:he.time})]})]},he.id))})]})]}),W("appointments-table")&&i.jsxs("div",{className:"card",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Agendamentos Hoje"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Horário"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paciente"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Procedimento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Local"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:g.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum agendamento para hoje"})}):g.map(he=>{var ie,de;return i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(he.scheduledDate).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("button",{onClick:()=>Te(he.lead),className:"text-primary-600 hover:text-primary-700 hover:underline flex items-center gap-1",children:[((ie=he.lead)==null?void 0:ie.name)||"N/A",i.jsx(qa,{size:14})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:((de=he.procedure)==null?void 0:de.name)||"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:he.location==="moema"?"Moema":he.location==="av_paulista"?"Av. Paulista":he.location}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Fe(he.status)}`,children:Se(he.status)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:he.paymentAmount?`R$ ${Number(he.paymentAmount).toFixed(2)}`:"-"}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[he.status==="confirmado"&&(e==null?void 0:e.role)==="receptionist"&&i.jsxs("button",{onClick:()=>F(he.id,"aguardando_atendimento"),className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-1",title:"Marcar como Aguardando Atendimento",children:["Aguardando ",i.jsx($_,{size:12})]}),he.status==="aguardando_atendimento"&&["doctor","professional"].includes((e==null?void 0:e.role)||"")&&i.jsxs("button",{onClick:()=>F(he.id,"em_atendimento"),className:"text-xs px-2 py-1 bg-indigo-500 text-white rounded hover:bg-indigo-600 flex items-center gap-1",title:"Iniciar Atendimento",children:["Iniciar ",i.jsx($_,{size:12})]}),he.status==="em_atendimento"&&["doctor","professional"].includes((e==null?void 0:e.role)||"")&&i.jsx("span",{className:"text-xs text-indigo-600 font-medium",children:"Em Atendimento"})]})]},he.id)})})]})})]}),W("financial-summary")&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Receitas do Mês"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Confirmadas"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/20",children:i.jsx(Do,{className:"text-green-600",size:24})})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Despesas do Mês"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(K)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Confirmadas"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/20",children:i.jsx(zu,{className:"text-red-600",size:24})})]})})]}),W("pending-payables")&&M.length>0&&i.jsxs("div",{className:"card",children:[i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[i.jsx(xf,{className:"text-red-600",size:24}),"Contas a Pagar"]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:M.map(he=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:he.description}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(he.dueDate).toLocaleDateString("pt-BR")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(he.amount))})]},he.id))})]})}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>t("/financeiro"),className:"w-full btn-primary",children:"Ver Todas as Contas"})})]}),W("pending-receivables")&&O.length>0&&i.jsxs("div",{className:"card",children:[i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[i.jsx(Ba,{className:"text-green-600",size:24}),"Contas a Receber"]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:O.map(he=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:he.description}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(he.dueDate).toLocaleDateString("pt-BR")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(he.amount))})]},he.id))})]})}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>t("/financeiro"),className:"w-full btn-primary",children:"Ver Todas as Contas"})})]}),W("low-stock-alert")&&ve.length>0&&i.jsxs("div",{className:"card",children:[i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[i.jsx($u,{className:"text-orange-600",size:24}),"Alertas de Estoque Baixo"]}),i.jsx("div",{className:"space-y-3",children:ve.map(he=>i.jsx("div",{className:"p-4 border border-orange-200 bg-orange-50 dark:border-orange-700 dark:bg-orange-900/20 rounded-lg",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:he.name}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsxs("span",{children:["Estoque Atual: ",i.jsx("strong",{className:"text-orange-600",children:he.currentStock})]}),i.jsxs("span",{children:["Mínimo: ",he.minimumStock]}),he.sku&&i.jsxs("span",{children:["SKU: ",he.sku]})]})]}),i.jsx(Yh,{className:"text-orange-600",size:20})]})},he.id))}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>t("/estoque"),className:"w-full btn-primary",children:"Ver Estoque Completo"})})]}),W("stock-summary")&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Produtos com Estoque Baixo"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:ve.length}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Requerem atenção"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:i.jsx(Yh,{className:"text-orange-600",size:24})})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Alertas Ativos"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:I.length}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Estoque e validades"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/20",children:i.jsx($u,{className:"text-red-600",size:24})})]})})]}),c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Novos Leads Hoje (",o.length,")"]}),i.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:o.length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(Ls,{className:"mx-auto mb-3 opacity-50",size:48}),i.jsx("p",{children:"Nenhum lead novo hoje"})]}):i.jsx("div",{className:"space-y-3",children:o.map(he=>i.jsx("div",{onClick:()=>{d(!1),t("/leads",{state:{openLeadId:he.id}})},className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:he.name}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[he.phone&&i.jsxs("span",{children:["📞 ",he.phone]}),he.procedure&&i.jsx("span",{children:he.procedure.name}),he.estimatedValue&&i.jsx("span",{className:"text-green-600 font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(he.estimatedValue)})]})]}),i.jsx(Sh,{className:"text-gray-400",size:20})]})},he.id))})}),i.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:i.jsx("button",{onClick:()=>{d(!1),t("/leads")},className:"w-full btn-primary",children:"Ver Todos os Leads"})})]})}),f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rs,{className:"text-orange-600",size:28}),i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Leads Sem Resposta (",b.length,")"]})]}),i.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Leads aguardando retorno há mais de 2 dias"})]}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:b.length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(ba,{className:"mx-auto mb-3 text-green-600",size:48}),i.jsx("p",{children:"Nenhum lead sem resposta"})]}):i.jsx("div",{className:"space-y-3",children:b.map(he=>i.jsx("div",{onClick:()=>pe(he.id),className:"p-4 border border-orange-200 bg-orange-50 dark:border-orange-700 dark:bg-orange-900/20 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 cursor-pointer transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:he.name}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[he.phone&&i.jsxs("span",{children:["📞 ",he.phone]}),he.procedure&&i.jsx("span",{children:he.procedure.name}),he.activities&&he.activities.length>0&&i.jsxs("span",{className:"text-orange-600 font-medium",children:["Última atividade: ",new Date(he.activities[0].createdAt).toLocaleDateString("pt-BR")]}),(!he.activities||he.activities.length===0)&&i.jsx("span",{className:"text-red-600 font-medium",children:"Nenhuma atividade registrada"})]})]}),i.jsx(Sh,{className:"text-orange-600",size:20})]})},he.id))})}),i.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:i.jsx("button",{onClick:()=>{u(!1),t("/leads")},className:"w-full btn-primary",children:"Ver Todos os Leads"})})]})}),E&&w&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qa,{className:"text-primary-600",size:28}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Ficha do Paciente"})]}),i.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Informações Pessoais"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nome"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.name})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.email||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Telefone"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.phone||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"WhatsApp"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.whatsapp||"-"})]})]})]}),(w.city||w.state||w.neighborhood)&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Localização"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[w.neighborhood&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bairro"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.neighborhood})]}),w.city&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cidade"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.city})]}),w.state&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Estado"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.state})]})]})]}),w.notes&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Observações"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:w.notes})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Informações Adicionais"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.status&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Status"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.status})]}),w.source&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Origem"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.source})]}),w.estimatedValue&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor Estimado"}),i.jsx("p",{className:"font-medium text-green-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w.estimatedValue)})]})]})]})]})}),i.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex gap-3",children:[i.jsx("button",{onClick:()=>{A(!1),t("/leads",{state:{openLeadId:w.id}})},className:"flex-1 btn-primary",children:"Ver Detalhes Completos"}),i.jsx("button",{onClick:()=>A(!1),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Fechar"})]})]})}),C&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[85vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nd,{className:"text-primary-600",size:28}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Personalizar Dashboard"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Selecione os widgets que deseja visualizar na sua dashboard"})]})]}),i.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-180px)]",children:["metrics","alerts","tables"].map(he=>{const ie=H.filter(Ae=>Ae.category===he&&Ae.roles.includes((e==null?void 0:e.role)||""));if(ie.length===0)return null;const de={metrics:"Métricas",alerts:"Alertas",tables:"Tabelas e Listas",charts:"Gráficos"};return i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:de[he]}),i.jsx("div",{className:"space-y-2",children:ie.map(Ae=>i.jsxs("label",{className:"flex items-start gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",checked:T.includes(Ae.id),onChange:ze=>{ze.target.checked?_([...T,Ae.id]):_(T.filter(Ce=>Ce!==Ae.id))},className:"mt-1 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(QK,{size:16,className:"text-gray-400"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Ae.name})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:Ae.description})]})]},Ae.id))})]},he)})}),i.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex gap-3",children:[i.jsx("button",{onClick:()=>{const he=H.filter(ie=>ie.isDefault&&ie.roles.includes((e==null?void 0:e.role)||"")).map(ie=>ie.id);_(he)},className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Restaurar Padrões"}),i.jsx("button",{onClick:()=>{te(T),S(!1)},className:"flex-1 btn-primary",children:"Salvar Preferências"})]})]})})]})}function W7({isOpen:e,onClose:t,title:r,children:a,size:n="md"}){if(k.useEffect(()=>{const l=c=>{c.key==="Escape"&&t()};if(e){document.addEventListener("keydown",l);const c=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",l),document.body.style.overflow=c}}},[e,t]),!e)return null;const s={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"},o=i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 overflow-y-auto",children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70",onClick:t,"aria-hidden":"true"}),i.jsxs("div",{className:`relative w-full ${s[n]} bg-white dark:bg-gray-800 rounded-lg shadow-2xl z-[10000] my-8`,onClick:l=>l.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:r}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",type:"button",children:i.jsx(br,{size:24})})]}),i.jsx("div",{className:"p-6 max-h-[calc(100vh-16rem)] overflow-y-auto",children:a})]})]});return gl.createPortal(o,document.body)}const _w={async getUsers(){const{data:e}=await me.get("/auth/users");return e.data}};function QQ({onSubmit:e,onCancel:t,initialData:r,stages:a}){var x,v,b,y;const[n,s]=k.useState(!1),[o,l]=k.useState([]),[c,d]=k.useState([]),[f,u]=k.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",phone2:(r==null?void 0:r.phone2)||"",whatsapp:(r==null?void 0:r.whatsapp)||"",neighborhood:(r==null?void 0:r.neighborhood)||"",city:(r==null?void 0:r.city)||"",state:(r==null?void 0:r.state)||"",stageId:(r==null?void 0:r.stageId)||((x=a[0])==null?void 0:x.id)||"",procedureId:(r==null?void 0:r.procedureId)||((v=r==null?void 0:r.procedure)==null?void 0:v.id)||"",assignedToId:((b=r==null?void 0:r.assignedTo)==null?void 0:b.id)||"",source:(r==null?void 0:r.source)||"website",channel:(r==null?void 0:r.channel)||"whatsapp",clientStatus:(r==null?void 0:r.clientStatus)||"conversa_iniciada",attendanceLocation:(r==null?void 0:r.attendanceLocation)||"moema",estimatedValue:(r==null?void 0:r.estimatedValue)||"",notes:(r==null?void 0:r.notes)||"",tags:((y=r==null?void 0:r.tags)==null?void 0:y.join(", "))||""});k.useEffect(()=>{m(),h()},[]);const m=async()=>{try{const w=await Qn.getProcedures();l(w)}catch(w){console.error("Erro ao carregar procedimentos:",w)}},h=async()=>{try{const w=await _w.getUsers();d(w)}catch(w){console.error("Erro ao carregar usuários:",w)}},g=async w=>{if(w.preventDefault(),!f.name.trim()){Le.error("Nome é obrigatório");return}if(!f.stageId){Le.error("Selecione um estágio");return}s(!0);try{const j={...f,procedureId:f.procedureId||void 0,assignedToId:f.assignedToId||void 0,email:f.email||void 0,phone:f.phone||void 0,phone2:f.phone2||void 0,whatsapp:f.whatsapp||void 0,neighborhood:f.neighborhood||void 0,city:f.city||void 0,state:f.state||void 0,estimatedValue:f.estimatedValue?parseFloat(f.estimatedValue):void 0,tags:f.tags?f.tags.split(",").map(E=>E.trim()).filter(Boolean):[],notes:f.notes||void 0};await e(j),Le.success(r?"Lead atualizado com sucesso":"Lead criado com sucesso")}catch(j){Le.error(j.message||"Erro ao salvar lead")}finally{s(!1)}},p=(w,j)=>{u(E=>({...E,[w]:j}))};return i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-white mb-4",children:"Informações Básicas"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:["Nome do Lead ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:f.name,onChange:w=>p("name",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Nome completo",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Email"}),i.jsx("input",{type:"email",value:f.email,onChange:w=>p("email",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"email@exemplo.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Telefone"}),i.jsx("input",{type:"tel",value:f.phone,onChange:w=>p("phone",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Telefone 2"}),i.jsx("input",{type:"tel",value:f.phone2,onChange:w=>p("phone2",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"WhatsApp"}),i.jsx("input",{type:"tel",value:f.whatsapp,onChange:w=>p("whatsapp",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Bairro"}),i.jsx("input",{type:"text",value:f.neighborhood,onChange:w=>p("neighborhood",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Bairro"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Cidade"}),i.jsx("input",{type:"text",value:f.city,onChange:w=>p("city",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Cidade"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Estado"}),i.jsxs("select",{value:f.state,onChange:w=>p("state",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Selecione"}),i.jsx("option",{value:"AC",children:"Acre"}),i.jsx("option",{value:"AL",children:"Alagoas"}),i.jsx("option",{value:"AP",children:"Amapá"}),i.jsx("option",{value:"AM",children:"Amazonas"}),i.jsx("option",{value:"BA",children:"Bahia"}),i.jsx("option",{value:"CE",children:"Ceará"}),i.jsx("option",{value:"DF",children:"Distrito Federal"}),i.jsx("option",{value:"ES",children:"Espírito Santo"}),i.jsx("option",{value:"GO",children:"Goiás"}),i.jsx("option",{value:"MA",children:"Maranhão"}),i.jsx("option",{value:"MT",children:"Mato Grosso"}),i.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),i.jsx("option",{value:"MG",children:"Minas Gerais"}),i.jsx("option",{value:"PA",children:"Pará"}),i.jsx("option",{value:"PB",children:"Paraíba"}),i.jsx("option",{value:"PR",children:"Paraná"}),i.jsx("option",{value:"PE",children:"Pernambuco"}),i.jsx("option",{value:"PI",children:"Piauí"}),i.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),i.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),i.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),i.jsx("option",{value:"RO",children:"Rondônia"}),i.jsx("option",{value:"RR",children:"Roraima"}),i.jsx("option",{value:"SC",children:"Santa Catarina"}),i.jsx("option",{value:"SP",children:"São Paulo"}),i.jsx("option",{value:"SE",children:"Sergipe"}),i.jsx("option",{value:"TO",children:"Tocantins"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:["Estágio ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("select",{value:f.stageId,onChange:w=>p("stageId",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,children:a.map(w=>i.jsx("option",{value:w.id,children:w.name},w.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Procedimento"}),i.jsxs("select",{value:f.procedureId,onChange:w=>p("procedureId",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Selecione um procedimento"}),o.map(w=>{const j=w.price?Number(w.price):null;return i.jsxs("option",{value:w.id,children:[w.name," ",j?`- R$ ${j.toFixed(2)}`:""]},w.id)})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:["Responsável ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"(Atendimento)"})]}),i.jsxs("select",{value:f.assignedToId,onChange:w=>p("assignedToId",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Selecione um responsável"}),c.map(w=>i.jsxs("option",{value:w.id,children:[w.name," (",w.email,")"]},w.id))]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-white mb-4",children:"Detalhes da Venda"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Origem"}),i.jsxs("select",{value:f.source,onChange:w=>p("source",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"website",children:"Website"}),i.jsx("option",{value:"facebook",children:"Facebook"}),i.jsx("option",{value:"instagram",children:"Instagram"}),i.jsx("option",{value:"whatsapp",children:"WhatsApp"}),i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"phone",children:"Telefone"}),i.jsx("option",{value:"referral",children:"Indicação"}),i.jsx("option",{value:"walk_in",children:"Visita Presencial"}),i.jsx("option",{value:"other",children:"Outro"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Canal"}),i.jsxs("select",{value:f.channel,onChange:w=>p("channel",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"whatsapp",children:"WhatsApp"}),i.jsx("option",{value:"phone",children:"Telefone"}),i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"instagram",children:"Instagram"}),i.jsx("option",{value:"facebook",children:"Facebook"}),i.jsx("option",{value:"website",children:"Website"}),i.jsx("option",{value:"in_person",children:"Presencial"}),i.jsx("option",{value:"other",children:"Outro"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Situação do Cliente"}),i.jsxs("select",{value:f.clientStatus,onChange:w=>p("clientStatus",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"conversa_iniciada",children:"Conversa Iniciada"}),i.jsx("option",{value:"agendamento_pendente",children:"Agendamento Pendente"}),i.jsx("option",{value:"agendado",children:"Agendado"}),i.jsx("option",{value:"em_tratamento",children:"Em Tratamento"}),i.jsx("option",{value:"finalizado",children:"Finalizado"}),i.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Local de Atendimento"}),i.jsxs("select",{value:f.attendanceLocation,onChange:w=>p("attendanceLocation",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"moema",children:"Moema"}),i.jsx("option",{value:"perdizes",children:"Perdizes"}),i.jsx("option",{value:"online",children:"Online"}),i.jsx("option",{value:"a_domicilio",children:"A Domicílio"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Valor Estimado"}),i.jsx("input",{type:"number",step:"0.01",value:f.estimatedValue,onChange:w=>p("estimatedValue",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"0.00"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-white mb-4",children:"Informações Adicionais"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Tags"}),i.jsx("input",{type:"text",value:f.tags,onChange:w=>p("tags",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Separadas por vírgula: tag1, tag2, tag3"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Separe as tags com vírgulas"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Observações"}),i.jsx("textarea",{value:f.notes,onChange:w=>p("notes",w.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Adicione observações sobre este lead..."})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",disabled:n,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50",disabled:n,children:n?"Salvando...":r?"Atualizar Lead":"Criar Lead"})]})]})}function da(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function vf(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const H7=6048e5,XQ=864e5,Zv=43200,J_=1440;let ZQ={};function B1(){return ZQ}function Hu(e,t){var l,c,d,f;const r=B1(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,n=da(e),s=n.getDay(),o=(s<a?7:0)+s-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function Sb(e){return Hu(e,{weekStartsOn:1})}function V7(e){const t=da(e),r=t.getFullYear(),a=vf(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const n=Sb(a),s=vf(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Sb(s);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function K_(e){const t=da(e);return t.setHours(0,0,0,0),t}function Cb(e){const t=da(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function eX(e,t){const r=K_(e),a=K_(t),n=+r-Cb(r),s=+a-Cb(a);return Math.round((n-s)/XQ)}function tX(e){const t=V7(e),r=vf(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Sb(r)}function tb(e,t){const r=da(e),a=da(t),n=r.getTime()-a.getTime();return n<0?-1:n>0?1:n}function rX(e){return vf(e,Date.now())}function aX(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nX(e){if(!aX(e)&&typeof e!="number")return!1;const t=da(e);return!isNaN(Number(t))}function sX(e,t){const r=da(e),a=da(t),n=r.getFullYear()-a.getFullYear(),s=r.getMonth()-a.getMonth();return n*12+s}function iX(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function oX(e,t){return+da(e)-+da(t)}function lX(e){const t=da(e);return t.setHours(23,59,59,999),t}function cX(e){const t=da(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function dX(e){const t=da(e);return+lX(t)==+cX(t)}function fX(e,t){const r=da(e),a=da(t),n=tb(r,a),s=Math.abs(sX(r,a));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*s);let l=tb(r,a)===-n;dX(da(e))&&s===1&&tb(e,a)===1&&(l=!1),o=n*(s-Number(l))}return o===0?0:o}function uX(e,t,r){const a=oX(e,t)/1e3;return iX(r==null?void 0:r.roundingMethod)(a)}function hX(e){const t=da(e),r=vf(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const mX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pX=(e,t,r)=>{let a;const n=mX[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Ch(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const gX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yX={date:Ch({formats:gX,defaultWidth:"full"}),time:Ch({formats:xX,defaultWidth:"full"}),dateTime:Ch({formats:vX,defaultWidth:"full"})},bX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wX=(e,t,r,a)=>bX[e];function tc(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return n[s]}}const kX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},AX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EX=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_X={ordinalNumber:EX,era:tc({values:kX,defaultWidth:"wide"}),quarter:tc({values:jX,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tc({values:NX,defaultWidth:"wide"}),day:tc({values:SX,defaultWidth:"wide"}),dayPeriod:tc({values:CX,defaultWidth:"wide",formattingValues:AX,defaultFormattingWidth:"wide"})};function rc(e){return(t,r={})=>{const a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=t.match(n);if(!s)return null;const o=s[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?LX(l,u=>u.test(o)):MX(l,u=>u.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function MX(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function LX(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function G7(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const TX=/^(\d+)(th|st|nd|rd)?/i,IX=/\d+/i,DX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PX={any:[/^b/i,/^(a|c)/i]},OX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RX={any:[/1/i,/2/i,/3/i,/4/i]},FX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$X={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HX={ordinalNumber:G7({matchPattern:TX,parsePattern:IX,valueCallback:e=>parseInt(e,10)}),era:rc({matchPatterns:DX,defaultMatchWidth:"wide",parsePatterns:PX,defaultParseWidth:"any"}),quarter:rc({matchPatterns:OX,defaultMatchWidth:"wide",parsePatterns:RX,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rc({matchPatterns:FX,defaultMatchWidth:"wide",parsePatterns:BX,defaultParseWidth:"any"}),day:rc({matchPatterns:zX,defaultMatchWidth:"wide",parsePatterns:$X,defaultParseWidth:"any"}),dayPeriod:rc({matchPatterns:UX,defaultMatchWidth:"any",parsePatterns:WX,defaultParseWidth:"any"})},q7={code:"en-US",formatDistance:pX,formatLong:yX,formatRelative:wX,localize:_X,match:HX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VX(e){const t=da(e);return eX(t,hX(t))+1}function GX(e){const t=da(e),r=+Sb(t)-+tX(t);return Math.round(r/H7)+1}function Y7(e,t){var f,u,m,h;const r=da(e),a=r.getFullYear(),n=B1(),s=(t==null?void 0:t.firstWeekContainsDate)??((u=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=vf(e,0);o.setFullYear(a+1,0,s),o.setHours(0,0,0,0);const l=Hu(o,t),c=vf(e,0);c.setFullYear(a,0,s),c.setHours(0,0,0,0);const d=Hu(c,t);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function qX(e,t){var l,c,d,f;const r=B1(),a=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,n=Y7(e,t),s=vf(e,0);return s.setFullYear(n,0,a),s.setHours(0,0,0,0),Hu(s,t)}function YX(e,t){const r=da(e),a=+Hu(r,t)-+qX(r,t);return Math.round(a/H7)+1}function ea(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const Ud={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return ea(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ea(r+1,2)},d(e,t){return ea(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ea(e.getHours()%12||12,t.length)},H(e,t){return ea(e.getHours(),t.length)},m(e,t){return ea(e.getMinutes(),t.length)},s(e,t){return ea(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,r-3));return ea(n,t.length)}},J0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q_={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return Ud.y(e,t)},Y:function(e,t,r,a){const n=Y7(e,a),s=n>0?n:1-n;if(t==="YY"){const o=s%100;return ea(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):ea(s,t.length)},R:function(e,t){const r=V7(e);return ea(r,t.length)},u:function(e,t){const r=e.getFullYear();return ea(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return ea(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return ea(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return Ud.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return ea(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const n=YX(e,a);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):ea(n,t.length)},I:function(e,t,r){const a=GX(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):ea(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ud.d(e,t)},D:function(e,t,r){const a=VX(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):ea(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ea(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ea(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),n=a===0?7:a;switch(t){case"i":return String(n);case"ii":return ea(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let n;switch(a===12?n=J0.noon:a===0?n=J0.midnight:n=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let n;switch(a>=17?n=J0.evening:a>=12?n=J0.afternoon:a>=4?n=J0.morning:n=J0.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Ud.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ud.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):ea(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):ea(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ud.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ud.s(e,t)},S:function(e,t){return Ud.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Z_(a);case"XXXX":case"XX":return uu(a);case"XXXXX":case"XXX":default:return uu(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return Z_(a);case"xxxx":case"xx":return uu(a);case"xxxxx":case"xxx":default:return uu(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+X_(a,":");case"OOOO":default:return"GMT"+uu(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+X_(a,":");case"zzzz":default:return"GMT"+uu(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return ea(a,t.length)},T:function(e,t,r){const a=e.getTime();return ea(a,t.length)}};function X_(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),s=a%60;return s===0?r+String(n):r+String(n)+t+ea(s,2)}function Z_(e,t){return e%60===0?(e>0?"-":"+")+ea(Math.abs(e)/60,2):uu(e,t)}function uu(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=ea(Math.trunc(a/60),2),s=ea(a%60,2);return r+n+t+s}const eM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},J7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},JX=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return eM(e,t);let s;switch(a){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",eM(a,t)).replace("{{time}}",J7(n,t))},KX={p:J7,P:JX},QX=/^D+$/,XX=/^Y+$/,ZX=["D","DD","YY","YYYY"];function eZ(e){return QX.test(e)}function tZ(e){return XX.test(e)}function rZ(e,t,r){const a=aZ(e,t,r);if(console.warn(a),ZX.includes(e))throw new RangeError(a)}function aZ(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iZ=/^'([^]*?)'?$/,oZ=/''/g,lZ=/[a-zA-Z]/;function Es(e,t,r){var f,u,m,h,g,p,x,v;const a=B1(),n=(r==null?void 0:r.locale)??a.locale??q7,s=(r==null?void 0:r.firstWeekContainsDate)??((u=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??a.weekStartsOn??((v=(x=a.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,l=da(e);if(!nX(l))throw new RangeError("Invalid time value");let c=t.match(sZ).map(b=>{const y=b[0];if(y==="p"||y==="P"){const w=KX[y];return w(b,n.formatLong)}return b}).join("").match(nZ).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:cZ(b)};if(Q_[y])return{isToken:!0,value:b};if(y.match(lZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:n};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&tZ(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&eZ(y))&&rZ(y,t,String(e));const w=Q_[y[0]];return w(l,y,n.localize,d)}).join("")}function cZ(e){const t=e.match(iZ);return t?t[1].replace(oZ,"'"):e}function dZ(e,t,r){const a=B1(),n=(r==null?void 0:r.locale)??a.locale??q7,s=2520,o=tb(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=da(t),d=da(e)):(c=da(e),d=da(t));const f=uX(d,c),u=(Cb(d)-Cb(c))/1e3,m=Math.round((f-u)/60);let h;if(m<2)return r!=null&&r.includeSeconds?f<5?n.formatDistance("lessThanXSeconds",5,l):f<10?n.formatDistance("lessThanXSeconds",10,l):f<20?n.formatDistance("lessThanXSeconds",20,l):f<40?n.formatDistance("halfAMinute",0,l):f<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):m===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",m,l);if(m<45)return n.formatDistance("xMinutes",m,l);if(m<90)return n.formatDistance("aboutXHours",1,l);if(m<J_){const g=Math.round(m/60);return n.formatDistance("aboutXHours",g,l)}else{if(m<s)return n.formatDistance("xDays",1,l);if(m<Zv){const g=Math.round(m/J_);return n.formatDistance("xDays",g,l)}else if(m<Zv*2)return h=Math.round(m/Zv),n.formatDistance("aboutXMonths",h,l)}if(h=fX(d,c),h<12){const g=Math.round(m/Zv);return n.formatDistance("xMonths",g,l)}else{const g=h%12,p=Math.trunc(h/12);return g<3?n.formatDistance("aboutXYears",p,l):g<9?n.formatDistance("overXYears",p,l):n.formatDistance("almostXYears",p+1,l)}}function fZ(e,t){return dZ(e,rX(e),t)}function K7(e){return da(e).getDay()}const uZ={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},hZ=(e,t,r)=>{let a;const n=uZ[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+a:"há "+a:a},mZ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},pZ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},gZ={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xZ={date:Ch({formats:mZ,defaultWidth:"full"}),time:Ch({formats:pZ,defaultWidth:"full"}),dateTime:Ch({formats:gZ,defaultWidth:"full"})},vZ={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},yZ=(e,t,r,a)=>{const n=vZ[e];return typeof n=="function"?n(t):n},bZ={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},wZ={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},kZ={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},jZ={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},NZ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},SZ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},CZ=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"ª":r+"º"},AZ={ordinalNumber:CZ,era:tc({values:bZ,defaultWidth:"wide"}),quarter:tc({values:wZ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tc({values:kZ,defaultWidth:"wide"}),day:tc({values:jZ,defaultWidth:"wide"}),dayPeriod:tc({values:NZ,defaultWidth:"wide",formattingValues:SZ,defaultFormattingWidth:"wide"})},EZ=/^(\d+)[ºªo]?/i,_Z=/\d+/i,MZ={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},LZ={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},TZ={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},IZ={any:[/1/i,/2/i,/3/i,/4/i]},DZ={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},PZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},OZ={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},RZ={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},FZ={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},BZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},zZ={ordinalNumber:G7({matchPattern:EZ,parsePattern:_Z,valueCallback:e=>parseInt(e,10)}),era:rc({matchPatterns:MZ,defaultMatchWidth:"wide",parsePatterns:LZ,defaultParseWidth:"any"}),quarter:rc({matchPatterns:TZ,defaultMatchWidth:"wide",parsePatterns:IZ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rc({matchPatterns:DZ,defaultMatchWidth:"wide",parsePatterns:PZ,defaultParseWidth:"any"}),day:rc({matchPatterns:OZ,defaultMatchWidth:"wide",parsePatterns:RZ,defaultParseWidth:"any"}),dayPeriod:rc({matchPatterns:FZ,defaultMatchWidth:"any",parsePatterns:BZ,defaultParseWidth:"any"})},_s={code:"pt-BR",formatDistance:hZ,formatLong:xZ,formatRelative:yZ,localize:AZ,match:zZ,options:{weekStartsOn:0,firstWeekContainsDate:1}},$Z=e=>{const t="w-4 h-4";switch(e){case"call":return i.jsx(vs,{className:t});case"email":return i.jsx(ro,{className:t});case"meeting":return i.jsx(Yr,{className:t});case"task":return i.jsx(M7,{className:t});case"note":return i.jsx(s6,{className:t});case"whatsapp":return i.jsx(Lo,{className:t});case"lead_created":case"lead_assigned":case"stage_change":case"status_change":case"field_change":return i.jsx(aa,{className:t});default:return i.jsx(ka,{className:t})}},tM=e=>{switch(e){case"call":return"bg-blue-100 text-blue-600 border-blue-200";case"email":return"bg-purple-100 text-purple-600 border-purple-200";case"meeting":return"bg-green-100 text-green-600 border-green-200";case"task":return"bg-orange-100 text-orange-600 border-orange-200";case"note":return"bg-gray-100 text-gray-600 border-gray-200";case"whatsapp":return"bg-emerald-100 text-emerald-600 border-emerald-200";case"lead_created":case"lead_assigned":case"stage_change":case"status_change":case"field_change":return"bg-indigo-100 text-indigo-600 border-indigo-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},UZ=e=>({call:"Ligação",email:"E-mail",meeting:"Reunião",task:"Tarefa",note:"Nota",whatsapp:"WhatsApp",sms:"SMS",stage_change:"Mudança de Estágio",status_change:"Mudança de Status",lead_created:"Lead Criado",lead_assigned:"Lead Atribuído",field_change:"Alteração",other:"Outro"})[e]||e;function rM({leadId:e,showOnlyHistory:t=!1}){const[r,a]=k.useState([]),[n,s]=k.useState(!0);k.useEffect(()=>{o()},[e]);const o=async()=>{try{s(!0);const m=await Qn.getLeadActivities(e);a(m)}catch(m){console.error("Erro ao carregar atividades:",m),Le.error("Erro ao carregar atividades")}finally{s(!1)}},l=async m=>{try{await Qn.completeActivity(m),Le.success("Atividade concluída!"),await o()}catch(h){console.error("Erro ao concluir atividade:",h),Le.error("Erro ao concluir atividade")}},c=m=>{try{return Es(new Date(m),"dd 'de' MMMM 'às' HH:mm",{locale:_s})}catch{return m}},d=["stage_change","status_change","lead_created","lead_assigned","field_change"],f=["call","email","meeting","task","note","whatsapp","sms","other"],u=t?r.filter(m=>d.includes(m.type)):r.filter(m=>f.includes(m.type));return n?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[t?"Histórico":"Atividades"," (",u.length,")"]})}),u.length===0?i.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[i.jsx(ka,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600 text-sm",children:t?"Nenhuma alteração registrada ainda":'Nenhuma atividade criada ainda. Use o botão "Nova Atividade" para adicionar follow-ups, ligações, reuniões e mais.'})]}):i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-0.5 bg-gray-200"}),i.jsx("div",{className:"space-y-4",children:u.map(m=>i.jsxs("div",{className:"relative flex gap-4",children:[i.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full border-2 flex items-center justify-center ${tM(m.type)} z-10`,children:$Z(m.type)}),i.jsx("div",{className:"flex-1 pb-8",children:i.jsxs("div",{className:`bg-white rounded-lg border p-4 shadow-sm ${m.isCompleted?"opacity-70":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:m.title}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${tM(m.type)}`,children:UZ(m.type)})]}),m.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]}),!m.isCompleted&&(m.type==="task"||m.type==="call"||m.type==="meeting")&&i.jsx("button",{onClick:()=>l(m.id),className:"flex-shrink-0 p-1.5 text-green-600 hover:bg-green-50 rounded-full transition-colors",title:"Marcar como concluída",children:i.jsx(sd,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ka,{className:"w-3 h-3"}),c(m.createdAt)]}),m.user&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(aa,{className:"w-3 h-3"}),m.user.name]}),m.scheduledAt&&i.jsxs("span",{className:"flex items-center gap-1 text-orange-600",children:[i.jsx(Yr,{className:"w-3 h-3"}),"Agendado: ",c(m.scheduledAt)]}),m.isCompleted&&m.completedAt&&i.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[i.jsx(sd,{className:"w-3 h-3"}),"Concluída: ",c(m.completedAt)]})]})]})})]},m.id))})]})]})}function WZ({onSubmit:e,onCancel:t}){const[r,a]=k.useState(!1),[n,s]=k.useState({type:"note",title:"",description:""}),o=async c=>{if(c.preventDefault(),!n.title.trim()){Le.error("Título é obrigatório");return}a(!0);try{const d={type:n.type,title:n.title,description:n.description||void 0};await e(d),Le.success("Atividade criada com sucesso")}catch(d){Le.error(d.message||"Erro ao criar atividade")}finally{a(!1)}},l=(c,d)=>{s(f=>({...f,[c]:d}))};return i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:["Tipo de Atividade ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:n.type,onChange:c=>l("type",c.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,children:[i.jsx("option",{value:"note",children:"📝 Nota"}),i.jsx("option",{value:"call",children:"📞 Ligação"}),i.jsx("option",{value:"email",children:"📧 E-mail"}),i.jsx("option",{value:"meeting",children:"📅 Reunião"}),i.jsx("option",{value:"task",children:"✅ Tarefa"}),i.jsx("option",{value:"whatsapp",children:"💬 WhatsApp"}),i.jsx("option",{value:"sms",children:"📱 SMS"}),i.jsx("option",{value:"other",children:"🔹 Outro"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:["Título ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:n.title,onChange:c=>l("title",c.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Ex: Ligar para agendar consulta",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Descrição"}),i.jsx("textarea",{value:n.description,onChange:c=>l("description",c.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Detalhes da atividade...",rows:3})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",disabled:r,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r,children:r?"Criando...":"Criar Atividade"})]})]})}function HZ({lead:e,stages:t,onSubmit:r,onClose:a,onScheduleAppointment:n,refreshAppointmentsTrigger:s}){const{user:o}=kc(),[l,c]=k.useState("details"),[d,f]=k.useState(!1),[u,m]=k.useState(0),[h,g]=k.useState([]),p=(o==null?void 0:o.role)==="admin"||(o==null?void 0:o.role)==="gestor";k.useEffect(()=>{(async()=>{if(e!=null&&e.id)try{const y=await bn.getByLead(e.id);g(y)}catch(y){console.error("Erro ao carregar agendamentos:",y),g([])}})()},[e==null?void 0:e.id,s]);const x=async b=>{e&&(await Qn.createActivity(e.id,b),f(!1),m(y=>y+1))},v=async b=>{if(!p){Le.error("Você não tem permissão para excluir agendamentos");return}const y=(e==null?void 0:e.name)||"este agendamento";if(!window.confirm(`Tem certeza que deseja excluir o agendamento de "${y}"?

Esta ação não pode ser desfeita.`))return;const w=prompt("Motivo do cancelamento (opcional):");try{if(await bn.cancel(b.id,w||"Cancelado pelo sistema"),Le.success("Agendamento excluído com sucesso!"),e!=null&&e.id){const j=await bn.getByLead(e.id);g(j)}}catch(j){console.error("Erro ao excluir agendamento:",j),Le.error("Erro ao excluir agendamento")}};return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 mb-6",children:[i.jsxs("div",{className:"flex gap-6",children:[i.jsxs("button",{onClick:()=>c("details"),className:`flex items-center gap-2 px-1 py-3 border-b-2 font-medium text-sm transition-colors ${l==="details"?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[i.jsx(qa,{className:"w-4 h-4"}),"Detalhes"]}),e&&i.jsxs("button",{onClick:()=>c("activities"),className:`flex items-center gap-2 px-1 py-3 border-b-2 font-medium text-sm transition-colors ${l==="activities"?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[i.jsx(ka,{className:"w-4 h-4"}),"Histórico"]})]}),l==="details"&&e&&i.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/30 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-colors",children:[i.jsx(ja,{className:"w-4 h-4"}),"Nova Atividade"]})]}),i.jsxs("div",{children:[l==="details"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(QQ,{onSubmit:r,onCancel:a,initialData:e,stages:t}),e&&i.jsxs("div",{className:"border-t dark:border-gray-700 pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Agendamentos"}),i.jsxs("button",{onClick:()=>n==null?void 0:n(e),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[i.jsx(ja,{size:16}),"Novo Agendamento"]})]}),h.length===0?i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 text-center",children:[i.jsx(Yr,{size:32,className:"mx-auto mb-2 text-gray-400 dark:text-gray-500"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhum agendamento registrado"})]}):i.jsx("div",{className:"space-y-3",children:h.map(b=>i.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-gray-300 dark:hover:border-gray-600 transition-colors",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Yr,{size:18,className:"text-blue-600 dark:text-blue-400"}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[new Date(b.scheduledDate).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})," às ",new Date(b.scheduledDate).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),i.jsxs("div",{className:"ml-8 space-y-1",children:[b.procedure&&i.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Procedimento:"})," ",b.procedure.name]}),i.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Local:"})," ",b.location==="moema"?"Moema":"Av. Paulista"]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("span",{className:`inline-block px-2.5 py-1 text-xs font-medium rounded-full ${b.status==="confirmado"?"bg-green-100 text-green-800":b.status==="aguardando_confirmacao"?"bg-orange-100 text-orange-800":b.status==="finalizado"?"bg-gray-100 text-gray-800":b.status==="cancelado"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:b.status==="aguardando_pagamento"?"Aguardando Pagamento":b.status==="aguardando_confirmacao"?"Aguardando Confirmação":b.status==="confirmado"?"Confirmado":b.status==="finalizado"?"Finalizado":b.status==="cancelado"?"Cancelado":b.status}),b.paymentAmount&&i.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["R$ ",Number(b.paymentAmount).toFixed(2)]})]})]})]}),p&&i.jsx("button",{onClick:()=>v(b),className:"flex-shrink-0 p-2 rounded hover:bg-red-100 text-red-600 hover:text-red-700 transition-colors",title:"Excluir agendamento",children:i.jsx(An,{size:16})})]})},b.id))})]}),e&&i.jsxs("div",{className:"border-t dark:border-gray-700 pt-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Atividades e Follow-ups"}),i.jsx(rM,{leadId:e.id,showOnlyHistory:!1},`activities-${u}`)]})]}),l==="activities"&&e&&i.jsxs("div",{children:[i.jsx("div",{className:"mb-4",children:i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Histórico de alterações e atividades realizadas neste lead"})}),i.jsx(rM,{leadId:e.id,showOnlyHistory:!0},`history-${u}`)]})]}),d&&i.jsx(W7,{isOpen:d,onClose:()=>f(!1),title:"Nova Atividade",size:"md",children:i.jsx(WZ,{onSubmit:x,onCancel:()=>f(!1)})})]})}function VZ({isOpen:e,onClose:t,stages:r,filters:a,onApplyFilters:n,onClearFilters:s}){const[o,l]=k.useState(a),[c,d]=k.useState([]),[f,u]=k.useState([]);k.useEffect(()=>{m()},[]),k.useEffect(()=>{l(a)},[a]);const m=async()=>{try{const[v,b]=await Promise.all([Qn.getProcedures(),_w.getUsers()]);d(v),u(b)}catch(v){console.error("Erro ao carregar dados:",v)}},h=(v,b)=>{l(y=>({...y,[v]:b||void 0}))},g=()=>{n(o),t()},p=()=>{l({}),s()},x=Object.keys(a).filter(v=>a[v]!==void 0&&a[v]!=="").length;return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 z-50 flex items-start justify-end",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 h-full w-full max-w-md shadow-xl flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cw,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filtros"}),x>0&&i.jsx("span",{className:"px-2 py-0.5 bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 text-xs font-medium rounded-full",children:x})]}),i.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(br,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Buscar por nome"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",value:o.search||"",onChange:v=>h("search",v.target.value),placeholder:"Digite o nome do lead...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Estágio"}),i.jsxs("select",{value:o.stageId||"",onChange:v=>h("stageId",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Todos os estágios"}),r.map(v=>i.jsx("option",{value:v.id,children:v.name},v.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Procedimento"}),i.jsxs("select",{value:o.procedureId||"",onChange:v=>h("procedureId",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Todos os procedimentos"}),c.map(v=>i.jsx("option",{value:v.id,children:v.name},v.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Responsável"}),i.jsxs("select",{value:o.assignedToId||"",onChange:v=>h("assignedToId",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Todos os responsáveis"}),f.map(v=>i.jsx("option",{value:v.id,children:v.name},v.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Status do Cliente"}),i.jsxs("select",{value:o.clientStatus||"",onChange:v=>h("clientStatus",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Todos os status"}),i.jsx("option",{value:"novo",children:"Novo"}),i.jsx("option",{value:"recorrente",children:"Recorrente"}),i.jsx("option",{value:"vip",children:"VIP"}),i.jsx("option",{value:"retorno",children:"Retorno"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Canal de Comunicação"}),i.jsxs("select",{value:o.channel||"",onChange:v=>h("channel",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Todos os canais"}),i.jsx("option",{value:"whatsapp",children:"WhatsApp"}),i.jsx("option",{value:"phone",children:"Telefone"}),i.jsx("option",{value:"email",children:"E-mail"}),i.jsx("option",{value:"instagram",children:"Instagram"}),i.jsx("option",{value:"facebook",children:"Facebook"}),i.jsx("option",{value:"website",children:"Site"}),i.jsx("option",{value:"indication",children:"Indicação"}),i.jsx("option",{value:"other",children:"Outro"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Local de Atendimento"}),i.jsxs("select",{value:o.attendanceLocation||"",onChange:v=>h("attendanceLocation",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Todos os locais"}),i.jsx("option",{value:"clinic",children:"Clínica"}),i.jsx("option",{value:"home",children:"Domicílio"}),i.jsx("option",{value:"online",children:"Online"}),i.jsx("option",{value:"hospital",children:"Hospital"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Valor Estimado"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 dark:text-white mb-1",children:"Mínimo"}),i.jsx("input",{type:"number",value:o.minValue||"",onChange:v=>h("minValue",v.target.value?parseFloat(v.target.value):void 0),placeholder:"R$ 0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 dark:text-white mb-1",children:"Máximo"}),i.jsx("input",{type:"number",value:o.maxValue||"",onChange:v=>h("maxValue",v.target.value?parseFloat(v.target.value):void 0),placeholder:"R$ 10.000",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 dark:bg-gray-800/50 text-gray-900 dark:text-white dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]})]}),i.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex gap-3",children:[i.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 font-medium",children:"Limpar Filtros"}),i.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 font-medium",children:"Aplicar Filtros"})]})]})}):null}const Mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Hm(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function m6(e){return"nodeType"in e}function yi(e){var t,r;return e?Hm(e)?e:m6(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function p6(e){const{Document:t}=yi(e);return e instanceof t}function z1(e){return Hm(e)?!1:e instanceof yi(e).HTMLElement}function Q7(e){return e instanceof yi(e).SVGElement}function Vm(e){return e?Hm(e)?e.document:m6(e)?p6(e)?e:z1(e)||Q7(e)?e.ownerDocument:document:document:document}const id=Mw?k.useLayoutEffect:k.useEffect;function Lw(e){const t=k.useRef(e);return id(()=>{t.current=e}),k.useCallback(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t.current==null?void 0:t.current(...a)},[])}function GZ(){const e=k.useRef(null),t=k.useCallback((a,n)=>{e.current=setInterval(a,n)},[]),r=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function cx(e,t){t===void 0&&(t=[e]);const r=k.useRef(e);return id(()=>{r.current!==e&&(r.current=e)},t),r}function $1(e,t){const r=k.useRef();return k.useMemo(()=>{const a=e(r.current);return r.current=a,a},[...t])}function Ab(e){const t=Lw(e),r=k.useRef(null),a=k.useCallback(n=>{n!==r.current&&(t==null||t(n,r.current)),r.current=n},[]);return[r,a]}function Eb(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let aj={};function Tw(e,t){return k.useMemo(()=>{if(t)return t;const r=aj[e]==null?0:aj[e]+1;return aj[e]=r,e+"-"+r},[e,t])}function X7(e){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.reduce((s,o)=>{const l=Object.entries(o);for(const[c,d]of l){const f=s[c];f!=null&&(s[c]=f+e*d)}return s},{...t})}}const Ah=X7(1),_b=X7(-1);function qZ(e){return"clientX"in e&&"clientY"in e}function g6(e){if(!e)return!1;const{KeyboardEvent:t}=yi(e.target);return t&&e instanceof t}function YZ(e){if(!e)return!1;const{TouchEvent:t}=yi(e.target);return t&&e instanceof t}function Mb(e){if(YZ(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return qZ(e)?{x:e.clientX,y:e.clientY}:null}const Jh=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Jh.Translate.toString(e),Jh.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}}),aM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function JZ(e){return e.matches(aM)?e:e.querySelector(aM)}const KZ={display:"none"};function QZ(e){let{id:t,value:r}=e;return Z.createElement("div",{id:t,style:KZ},r)}function XZ(e){let{id:t,announcement:r,ariaLiveType:a="assertive"}=e;const n={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Z.createElement("div",{id:t,style:n,role:"status","aria-live":a,"aria-atomic":!0},r)}function ZZ(){const[e,t]=k.useState("");return{announce:k.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const Z7=k.createContext(null);function eee(e){const t=k.useContext(Z7);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function tee(){const[e]=k.useState(()=>new Set),t=k.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[k.useCallback(a=>{let{type:n,event:s}=a;e.forEach(o=>{var l;return(l=o[n])==null?void 0:l.call(o,s)})},[e]),t]}const ree={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},aee={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function nee(e){let{announcements:t=aee,container:r,hiddenTextDescribedById:a,screenReaderInstructions:n=ree}=e;const{announce:s,announcement:o}=ZZ(),l=Tw("DndLiveRegion"),[c,d]=k.useState(!1);if(k.useEffect(()=>{d(!0)},[]),eee(k.useMemo(()=>({onDragStart(u){let{active:m}=u;s(t.onDragStart({active:m}))},onDragMove(u){let{active:m,over:h}=u;t.onDragMove&&s(t.onDragMove({active:m,over:h}))},onDragOver(u){let{active:m,over:h}=u;s(t.onDragOver({active:m,over:h}))},onDragEnd(u){let{active:m,over:h}=u;s(t.onDragEnd({active:m,over:h}))},onDragCancel(u){let{active:m,over:h}=u;s(t.onDragCancel({active:m,over:h}))}}),[s,t])),!c)return null;const f=Z.createElement(Z.Fragment,null,Z.createElement(QZ,{id:a,value:n.draggable}),Z.createElement(XZ,{id:l,announcement:o}));return r?gl.createPortal(f,r):f}var Xn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Xn||(Xn={}));function Lb(){}function see(e,t){return k.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function iee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return k.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Sl=Object.freeze({x:0,y:0});function oee(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lee(e,t){const r=Mb(e);if(!r)return"0 0";const a={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function cee(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return r-a}function dee(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return a-r}function nM(e){let{left:t,top:r,height:a,width:n}=e;return[{x:t,y:r},{x:t+n,y:r},{x:t,y:r+a},{x:t+n,y:r+a}]}function fee(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}const uee=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=nM(t),s=[];for(const o of a){const{id:l}=o,c=r.get(l);if(c){const d=nM(c),f=n.reduce((m,h,g)=>m+oee(d[g],h),0),u=Number((f/4).toFixed(4));s.push({id:l,data:{droppableContainer:o,value:u}})}}return s.sort(cee)};function hee(e,t){const r=Math.max(t.top,e.top),a=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=n-a,l=s-r;if(a<n&&r<s){const c=t.width*t.height,d=e.width*e.height,f=o*l,u=f/(c+d-f);return Number(u.toFixed(4))}return 0}const mee=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=[];for(const s of a){const{id:o}=s,l=r.get(o);if(l){const c=hee(l,t);c>0&&n.push({id:o,data:{droppableContainer:s,value:c}})}}return n.sort(dee)};function pee(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function eR(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Sl}function gee(e){return function(r){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return n.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...r})}}const xee=gee(1);function tR(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function vee(e,t,r){const a=tR(t);if(!a)return e;const{scaleX:n,scaleY:s,x:o,y:l}=a,c=e.left-o-(1-n)*parseFloat(r),d=e.top-l-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),f=n?e.width/n:e.width,u=s?e.height/s:e.height;return{width:f,height:u,top:d,right:c+f,bottom:d+u,left:c}}const yee={ignoreTransform:!1};function U1(e,t){t===void 0&&(t=yee);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:f}=yi(e).getComputedStyle(e);d&&(r=vee(r,d,f))}const{top:a,left:n,width:s,height:o,bottom:l,right:c}=r;return{top:a,left:n,width:s,height:o,bottom:l,right:c}}function sM(e){return U1(e,{ignoreTransform:!0})}function bee(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function wee(e,t){return t===void 0&&(t=yi(e).getComputedStyle(e)),t.position==="fixed"}function kee(e,t){t===void 0&&(t=yi(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(n=>{const s=t[n];return typeof s=="string"?r.test(s):!1})}function x6(e,t){const r=[];function a(n){if(t!=null&&r.length>=t||!n)return r;if(p6(n)&&n.scrollingElement!=null&&!r.includes(n.scrollingElement))return r.push(n.scrollingElement),r;if(!z1(n)||Q7(n)||r.includes(n))return r;const s=yi(e).getComputedStyle(n);return n!==e&&kee(n,s)&&r.push(n),wee(n,s)?r:a(n.parentNode)}return e?a(e):r}function rR(e){const[t]=x6(e,1);return t??null}function nj(e){return!Mw||!e?null:Hm(e)?e:m6(e)?p6(e)||e===Vm(e).scrollingElement?window:z1(e)?e:null:null}function aR(e){return Hm(e)?e.scrollX:e.scrollLeft}function nR(e){return Hm(e)?e.scrollY:e.scrollTop}function i3(e){return{x:aR(e),y:nR(e)}}var us;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(us||(us={}));function sR(e){return!Mw||!e?!1:e===document.scrollingElement}function iR(e){const t={x:0,y:0},r=sR(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},n=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:n,isLeft:s,isBottom:o,isRight:l,maxScroll:a,minScroll:t}}const jee={x:.2,y:.2};function Nee(e,t,r,a,n){let{top:s,left:o,right:l,bottom:c}=r;a===void 0&&(a=10),n===void 0&&(n=jee);const{isTop:d,isBottom:f,isLeft:u,isRight:m}=iR(e),h={x:0,y:0},g={x:0,y:0},p={height:t.height*n.y,width:t.width*n.x};return!d&&s<=t.top+p.height?(h.y=us.Backward,g.y=a*Math.abs((t.top+p.height-s)/p.height)):!f&&c>=t.bottom-p.height&&(h.y=us.Forward,g.y=a*Math.abs((t.bottom-p.height-c)/p.height)),!m&&l>=t.right-p.width?(h.x=us.Forward,g.x=a*Math.abs((t.right-p.width-l)/p.width)):!u&&o<=t.left+p.width&&(h.x=us.Backward,g.x=a*Math.abs((t.left+p.width-o)/p.width)),{direction:h,speed:g}}function See(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:t,left:r,right:a,bottom:n}=e.getBoundingClientRect();return{top:t,left:r,right:a,bottom:n,width:e.clientWidth,height:e.clientHeight}}function oR(e){return e.reduce((t,r)=>Ah(t,i3(r)),Sl)}function Cee(e){return e.reduce((t,r)=>t+aR(r),0)}function Aee(e){return e.reduce((t,r)=>t+nR(r),0)}function lR(e,t){if(t===void 0&&(t=U1),!e)return;const{top:r,left:a,bottom:n,right:s}=t(e);rR(e)&&(n<=0||s<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Eee=[["x",["left","right"],Cee],["y",["top","bottom"],Aee]];class v6{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=x6(r),n=oR(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,o,l]of Eee)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(a),f=n[s]-d;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ig{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=t}add(t,r,a){var n;(n=this.target)==null||n.addEventListener(t,r,a),this.listeners.push([t,r,a])}}function _ee(e){const{EventTarget:t}=yi(e);return e instanceof t?e:Vm(e)}function sj(e,t){const r=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t?a>t.y:!1}var Eo;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Eo||(Eo={}));function iM(e){e.preventDefault()}function Mee(e){e.stopPropagation()}var xa;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(xa||(xa={}));const cR={start:[xa.Space,xa.Enter],cancel:[xa.Esc],end:[xa.Space,xa.Enter,xa.Tab]},Lee=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case xa.Right:return{...r,x:r.x+25};case xa.Left:return{...r,x:r.x-25};case xa.Down:return{...r,y:r.y+25};case xa.Up:return{...r,y:r.y-25}}};class dR{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Ig(Vm(r)),this.windowListeners=new Ig(yi(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Eo.Resize,this.handleCancel),this.windowListeners.add(Eo.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Eo.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,a=t.node.current;a&&lR(a),r(Sl)}handleKeyDown(t){if(g6(t)){const{active:r,context:a,options:n}=this.props,{keyboardCodes:s=cR,coordinateGetter:o=Lee,scrollBehavior:l="smooth"}=n,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=a.current,f=d?{x:d.left,y:d.top}:Sl;this.referenceCoordinates||(this.referenceCoordinates=f);const u=o(t,{active:r,context:a.current,currentCoordinates:f});if(u){const m=_b(u,f),h={x:0,y:0},{scrollableAncestors:g}=a.current;for(const p of g){const x=t.code,{isTop:v,isRight:b,isLeft:y,isBottom:w,maxScroll:j,minScroll:E}=iR(p),A=See(p),C={x:Math.min(x===xa.Right?A.right-A.width/2:A.right,Math.max(x===xa.Right?A.left:A.left+A.width/2,u.x)),y:Math.min(x===xa.Down?A.bottom-A.height/2:A.bottom,Math.max(x===xa.Down?A.top:A.top+A.height/2,u.y))},S=x===xa.Right&&!b||x===xa.Left&&!y,T=x===xa.Down&&!w||x===xa.Up&&!v;if(S&&C.x!==u.x){const _=p.scrollLeft+m.x,M=x===xa.Right&&_<=j.x||x===xa.Left&&_>=E.x;if(M&&!m.y){p.scrollTo({left:_,behavior:l});return}M?h.x=p.scrollLeft-_:h.x=x===xa.Right?p.scrollLeft-j.x:p.scrollLeft-E.x,h.x&&p.scrollBy({left:-h.x,behavior:l});break}else if(T&&C.y!==u.y){const _=p.scrollTop+m.y,M=x===xa.Down&&_<=j.y||x===xa.Up&&_>=E.y;if(M&&!m.x){p.scrollTo({top:_,behavior:l});return}M?h.y=p.scrollTop-_:h.y=x===xa.Down?p.scrollTop-j.y:p.scrollTop-E.y,h.y&&p.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(t,Ah(_b(u,this.referenceCoordinates),h))}}}handleMove(t,r){const{onMove:a}=this.props;t.preventDefault(),a(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}dR.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:a=cR,onActivation:n}=t,{active:s}=r;const{code:o}=e.nativeEvent;if(a.start.includes(o)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),n==null||n({event:e.nativeEvent}),!0)}return!1}}];function oM(e){return!!(e&&"distance"in e)}function lM(e){return!!(e&&"delay"in e)}class y6{constructor(t,r,a){var n;a===void 0&&(a=_ee(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:s}=t,{target:o}=s;this.props=t,this.events=r,this.document=Vm(o),this.documentListeners=new Ig(this.document),this.listeners=new Ig(a),this.windowListeners=new Ig(yi(o)),this.initialCoordinates=(n=Mb(s))!=null?n:Sl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Eo.Resize,this.handleCancel),this.windowListeners.add(Eo.DragStart,iM),this.windowListeners.add(Eo.VisibilityChange,this.handleCancel),this.windowListeners.add(Eo.ContextMenu,iM),this.documentListeners.add(Eo.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(lM(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(oM(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:a,onPending:n}=this.props;n(a,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Eo.Click,Mee,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Eo.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:a,initialCoordinates:n,props:s}=this,{onMove:o,options:{activationConstraint:l}}=s;if(!n)return;const c=(r=Mb(t))!=null?r:Sl,d=_b(n,c);if(!a&&l){if(oM(l)){if(l.tolerance!=null&&sj(d,l.tolerance))return this.handleCancel();if(sj(d,l.distance))return this.handleStart()}if(lM(l)&&sj(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===xa.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Tee={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class b6 extends y6{constructor(t){const{event:r}=t,a=Vm(r.target);super(t,Tee,a)}}b6.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return!r.isPrimary||r.button!==0?!1:(a==null||a({event:r}),!0)}}];const Iee={move:{name:"mousemove"},end:{name:"mouseup"}};var o3;(function(e){e[e.RightClick=2]="RightClick"})(o3||(o3={}));class Dee extends y6{constructor(t){super(t,Iee,Vm(t.event.target))}}Dee.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return r.button===o3.RightClick?!1:(a==null||a({event:r}),!0)}}];const ij={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Pee extends y6{constructor(t){super(t,ij)}static setup(){return window.addEventListener(ij.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ij.move.name,t)};function t(){}}}Pee.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;const{touches:n}=r;return n.length>1?!1:(a==null||a({event:r}),!0)}}];var Dg;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Dg||(Dg={}));var Tb;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Tb||(Tb={}));function Oee(e){let{acceleration:t,activator:r=Dg.Pointer,canScroll:a,draggingRect:n,enabled:s,interval:o=5,order:l=Tb.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:f,delta:u,threshold:m}=e;const h=Fee({delta:u,disabled:!s}),[g,p]=GZ(),x=k.useRef({x:0,y:0}),v=k.useRef({x:0,y:0}),b=k.useMemo(()=>{switch(r){case Dg.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Dg.DraggableRect:return n}},[r,n,c]),y=k.useRef(null),w=k.useCallback(()=>{const E=y.current;if(!E)return;const A=x.current.x*v.current.x,C=x.current.y*v.current.y;E.scrollBy(A,C)},[]),j=k.useMemo(()=>l===Tb.TreeOrder?[...d].reverse():d,[l,d]);k.useEffect(()=>{if(!s||!d.length||!b){p();return}for(const E of j){if((a==null?void 0:a(E))===!1)continue;const A=d.indexOf(E),C=f[A];if(!C)continue;const{direction:S,speed:T}=Nee(E,C,b,t,m);for(const _ of["x","y"])h[_][S[_]]||(T[_]=0,S[_]=0);if(T.x>0||T.y>0){p(),y.current=E,g(w,o),x.current=T,v.current=S;return}}x.current={x:0,y:0},v.current={x:0,y:0},p()},[t,w,a,p,s,o,JSON.stringify(b),JSON.stringify(h),g,d,j,f,JSON.stringify(m)])}const Ree={x:{[us.Backward]:!1,[us.Forward]:!1},y:{[us.Backward]:!1,[us.Forward]:!1}};function Fee(e){let{delta:t,disabled:r}=e;const a=Eb(t);return $1(n=>{if(r||!a||!n)return Ree;const s={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[us.Backward]:n.x[us.Backward]||s.x===-1,[us.Forward]:n.x[us.Forward]||s.x===1},y:{[us.Backward]:n.y[us.Backward]||s.y===-1,[us.Forward]:n.y[us.Forward]||s.y===1}}},[r,t,a])}function Bee(e,t){const r=t!=null?e.get(t):void 0,a=r?r.node.current:null;return $1(n=>{var s;return t==null?null:(s=a??n)!=null?s:null},[a,t])}function zee(e,t){return k.useMemo(()=>e.reduce((r,a)=>{const{sensor:n}=a,s=n.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,a)}));return[...r,...s]},[]),[e,t])}var dx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(dx||(dx={}));var l3;(function(e){e.Optimized="optimized"})(l3||(l3={}));const cM=new Map;function $ee(e,t){let{dragging:r,dependencies:a,config:n}=t;const[s,o]=k.useState(null),{frequency:l,measure:c,strategy:d}=n,f=k.useRef(e),u=x(),m=cx(u),h=k.useCallback(function(v){v===void 0&&(v=[]),!m.current&&o(b=>b===null?v:b.concat(v.filter(y=>!b.includes(y))))},[m]),g=k.useRef(null),p=$1(v=>{if(u&&!r)return cM;if(!v||v===cM||f.current!==e||s!=null){const b=new Map;for(let y of e){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){b.set(y.id,y.rect.current);continue}const w=y.node.current,j=w?new v6(c(w),w):null;y.rect.current=j,j&&b.set(y.id,j)}return b}return v},[e,s,r,u,c]);return k.useEffect(()=>{f.current=e},[e]),k.useEffect(()=>{u||h()},[r,u]),k.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),k.useEffect(()=>{u||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{h(),g.current=null},l))},[l,u,h,...a]),{droppableRects:p,measureDroppableContainers:h,measuringScheduled:s!=null};function x(){switch(d){case dx.Always:return!1;case dx.BeforeDragging:return r;default:return!r}}}function w6(e,t){return $1(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Uee(e,t){return w6(e,t)}function Wee(e){let{callback:t,disabled:r}=e;const a=Lw(t),n=k.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,r]);return k.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function Iw(e){let{callback:t,disabled:r}=e;const a=Lw(t),n=k.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[r]);return k.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function Hee(e){return new v6(U1(e),e)}function dM(e,t,r){t===void 0&&(t=Hee);const[a,n]=k.useState(null);function s(){n(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??r)!=null?d:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const o=Wee({callback(c){if(e)for(const d of c){const{type:f,target:u}=d;if(f==="childList"&&u instanceof HTMLElement&&u.contains(e)){s();break}}}}),l=Iw({callback:s});return id(()=>{s(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),a}function Vee(e){const t=w6(e);return eR(e,t)}const fM=[];function Gee(e){const t=k.useRef(e),r=$1(a=>e?a&&a!==fM&&e&&t.current&&e.parentNode===t.current.parentNode?a:x6(e):fM,[e]);return k.useEffect(()=>{t.current=e},[e]),r}function qee(e){const[t,r]=k.useState(null),a=k.useRef(e),n=k.useCallback(s=>{const o=nj(s.target);o&&r(l=>l?(l.set(o,i3(o)),new Map(l)):null)},[]);return k.useEffect(()=>{const s=a.current;if(e!==s){o(s);const l=e.map(c=>{const d=nj(c);return d?(d.addEventListener("scroll",n,{passive:!0}),[d,i3(d)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),a.current=e}return()=>{o(e),o(s)};function o(l){l.forEach(c=>{const d=nj(c);d==null||d.removeEventListener("scroll",n)})}},[n,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,o)=>Ah(s,o),Sl):oR(e):Sl,[e,t])}function uM(e,t){t===void 0&&(t=[]);const r=k.useRef(null);return k.useEffect(()=>{r.current=null},t),k.useEffect(()=>{const a=e!==Sl;a&&!r.current&&(r.current=e),!a&&r.current&&(r.current=null)},[e]),r.current?_b(e,r.current):Sl}function Yee(e){k.useEffect(()=>{if(!Mw)return;const t=e.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function Jee(e,t){return k.useMemo(()=>e.reduce((r,a)=>{let{eventName:n,handler:s}=a;return r[n]=o=>{s(o,t)},r},{}),[e,t])}function fR(e){return k.useMemo(()=>e?bee(e):null,[e])}const hM=[];function Kee(e,t){t===void 0&&(t=U1);const[r]=e,a=fR(r?yi(r):null),[n,s]=k.useState(hM);function o(){s(()=>e.length?e.map(c=>sR(c)?a:new v6(t(c),c)):hM)}const l=Iw({callback:o});return id(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),n}function uR(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return z1(t)?t:e}function Qee(e){let{measure:t}=e;const[r,a]=k.useState(null),n=k.useCallback(d=>{for(const{target:f}of d)if(z1(f)){a(u=>{const m=t(f);return u?{...u,width:m.width,height:m.height}:m});break}},[t]),s=Iw({callback:n}),o=k.useCallback(d=>{const f=uR(d);s==null||s.disconnect(),f&&(s==null||s.observe(f)),a(f?t(f):null)},[t,s]),[l,c]=Ab(o);return k.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const Xee=[{sensor:b6,options:{}},{sensor:dR,options:{}}],Zee={current:{}},rb={draggable:{measure:sM},droppable:{measure:sM,strategy:dx.WhileDragging,frequency:l3.Optimized},dragOverlay:{measure:U1}};class Pg extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,a;return(r=(a=this.get(t))==null?void 0:a.node.current)!=null?r:void 0}}const ete={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Pg,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Lb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rb,measureDroppableContainers:Lb,windowRect:null,measuringScheduled:!1},hR={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Lb,draggableNodes:new Map,over:null,measureDroppableContainers:Lb},W1=k.createContext(hR),mR=k.createContext(ete);function tte(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Pg}}}function rte(e,t){switch(t.type){case Xn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Xn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Xn.DragEnd:case Xn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xn.RegisterDroppable:{const{element:r}=t,{id:a}=r,n=new Pg(e.droppable.containers);return n.set(a,r),{...e,droppable:{...e.droppable,containers:n}}}case Xn.SetDroppableDisabled:{const{id:r,key:a,disabled:n}=t,s=e.droppable.containers.get(r);if(!s||a!==s.key)return e;const o=new Pg(e.droppable.containers);return o.set(r,{...s,disabled:n}),{...e,droppable:{...e.droppable,containers:o}}}case Xn.UnregisterDroppable:{const{id:r,key:a}=t,n=e.droppable.containers.get(r);if(!n||a!==n.key)return e;const s=new Pg(e.droppable.containers);return s.delete(r),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function ate(e){let{disabled:t}=e;const{active:r,activatorEvent:a,draggableNodes:n}=k.useContext(W1),s=Eb(a),o=Eb(r==null?void 0:r.id);return k.useEffect(()=>{if(!t&&!a&&s&&o!=null){if(!g6(s)||document.activeElement===s.target)return;const l=n.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[c.current,d.current]){if(!f)continue;const u=JZ(f);if(u){u.focus();break}}})}},[a,t,n,o,s]),null}function pR(e,t){let{transform:r,...a}=t;return e!=null&&e.length?e.reduce((n,s)=>s({transform:n,...a}),r):r}function nte(e){return k.useMemo(()=>({draggable:{...rb.draggable,...e==null?void 0:e.draggable},droppable:{...rb.droppable,...e==null?void 0:e.droppable},dragOverlay:{...rb.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function ste(e){let{activeNode:t,measure:r,initialRect:a,config:n=!0}=e;const s=k.useRef(!1),{x:o,y:l}=typeof n=="boolean"?{x:n,y:n}:n;id(()=>{if(!o&&!l||!t){s.current=!1;return}if(s.current||!a)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const f=r(d),u=eR(f,a);if(o||(u.x=0),l||(u.y=0),s.current=!0,Math.abs(u.x)>0||Math.abs(u.y)>0){const m=rR(d);m&&m.scrollBy({top:u.y,left:u.x})}},[t,o,l,a,r])}const Dw=k.createContext({...Sl,scaleX:1,scaleY:1});var Kd;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Kd||(Kd={}));const ite=k.memo(function(t){var r,a,n,s;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:f=Xee,collisionDetection:u=mee,measuring:m,modifiers:h,...g}=t;const p=k.useReducer(rte,void 0,tte),[x,v]=p,[b,y]=tee(),[w,j]=k.useState(Kd.Uninitialized),E=w===Kd.Initialized,{draggable:{active:A,nodes:C,translate:S},droppable:{containers:T}}=x,_=A!=null?C.get(A):null,M=k.useRef({initial:null,translated:null}),D=k.useMemo(()=>{var It;return A!=null?{id:A,data:(It=_==null?void 0:_.data)!=null?It:Zee,rect:M}:null},[A,_]),O=k.useRef(null),[B,U]=k.useState(null),[q,K]=k.useState(null),G=cx(g,Object.values(g)),ve=Tw("DndDescribedBy",o),fe=k.useMemo(()=>T.getEnabled(),[T]),I=nte(m),{droppableRects:z,measureDroppableContainers:H,measuringScheduled:J}=$ee(fe,{dragging:E,dependencies:[S.x,S.y],config:I.droppable}),te=Bee(C,A),W=k.useMemo(()=>q?Mb(q):null,[q]),Y=Ht(),Q=Uee(te,I.draggable.measure);ste({activeNode:A!=null?C.get(A):null,config:Y.layoutShiftCompensation,initialRect:Q,measure:I.draggable.measure});const ne=dM(te,I.draggable.measure,Q),pe=dM(te?te.parentElement:null),F=k.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Te=T.getNodeFor((r=F.current.over)==null?void 0:r.id),xe=Qee({measure:I.dragOverlay.measure}),se=(a=xe.nodeRef.current)!=null?a:te,We=E?(n=xe.rect)!=null?n:ne:null,Se=!!(xe.nodeRef.current&&xe.rect),Fe=Vee(Se?null:ne),he=fR(se?yi(se):null),ie=Gee(E?Te??te:null),de=Kee(ie),Ae=pR(h,{transform:{x:S.x-Fe.x,y:S.y-Fe.y,scaleX:1,scaleY:1},activatorEvent:q,active:D,activeNodeRect:ne,containerNodeRect:pe,draggingNodeRect:We,over:F.current.over,overlayNodeRect:xe.rect,scrollableAncestors:ie,scrollableAncestorRects:de,windowRect:he}),ze=W?Ah(W,S):null,Ce=qee(ie),_e=uM(Ce),Ve=uM(Ce,[ne]),Ie=Ah(Ae,_e),Re=We?xee(We,Ae):null,Ee=D&&Re?u({active:D,collisionRect:Re,droppableRects:z,droppableContainers:fe,pointerCoordinates:ze}):null,Be=fee(Ee,"id"),[Pe,it]=k.useState(null),ft=Se?Ae:Ah(Ae,Ve),st=pee(ft,(s=Pe==null?void 0:Pe.rect)!=null?s:null,ne),pt=k.useRef(null),At=k.useCallback((It,Nt)=>{let{sensor:Kt,options:ls}=Nt;if(O.current==null)return;const zr=C.get(O.current);if(!zr)return;const Ma=It.nativeEvent,Ka=new Kt({active:O.current,activeNode:zr,event:Ma,options:ls,context:F,onAbort(Kr){if(!C.get(Kr))return;const{onDragAbort:ua}=G.current,Ha={id:Kr};ua==null||ua(Ha),b({type:"onDragAbort",event:Ha})},onPending(Kr,_n,ua,Ha){if(!C.get(Kr))return;const{onDragPending:Na}=G.current,re={id:Kr,constraint:_n,initialCoordinates:ua,offset:Ha};Na==null||Na(re),b({type:"onDragPending",event:re})},onStart(Kr){const _n=O.current;if(_n==null)return;const ua=C.get(_n);if(!ua)return;const{onDragStart:Ha}=G.current,Vr={activatorEvent:Ma,active:{id:_n,data:ua.data,rect:M}};gl.unstable_batchedUpdates(()=>{Ha==null||Ha(Vr),j(Kd.Initializing),v({type:Xn.DragStart,initialCoordinates:Kr,active:_n}),b({type:"onDragStart",event:Vr}),U(pt.current),K(Ma)})},onMove(Kr){v({type:Xn.DragMove,coordinates:Kr})},onEnd:Rt(Xn.DragEnd),onCancel:Rt(Xn.DragCancel)});pt.current=Ka;function Rt(Kr){return async function(){const{active:ua,collisions:Ha,over:Vr,scrollAdjustedTranslate:Na}=F.current;let re=null;if(ua&&Na){const{cancelDrop:ye}=G.current;re={activatorEvent:Ma,active:ua,collisions:Ha,delta:Na,over:Vr},Kr===Xn.DragEnd&&typeof ye=="function"&&await Promise.resolve(ye(re))&&(Kr=Xn.DragCancel)}O.current=null,gl.unstable_batchedUpdates(()=>{v({type:Kr}),j(Kd.Uninitialized),it(null),U(null),K(null),pt.current=null;const ye=Kr===Xn.DragEnd?"onDragEnd":"onDragCancel";if(re){const ce=G.current[ye];ce==null||ce(re),b({type:ye,event:re})}})}}},[C]),St=k.useCallback((It,Nt)=>(Kt,ls)=>{const zr=Kt.nativeEvent,Ma=C.get(ls);if(O.current!==null||!Ma||zr.dndKit||zr.defaultPrevented)return;const Ka={active:Ma};It(Kt,Nt.options,Ka)===!0&&(zr.dndKit={capturedBy:Nt.sensor},O.current=ls,At(Kt,Nt))},[C,At]),Ut=zee(f,St);Yee(f),id(()=>{ne&&w===Kd.Initializing&&j(Kd.Initialized)},[ne,w]),k.useEffect(()=>{const{onDragMove:It}=G.current,{active:Nt,activatorEvent:Kt,collisions:ls,over:zr}=F.current;if(!Nt||!Kt)return;const Ma={active:Nt,activatorEvent:Kt,collisions:ls,delta:{x:Ie.x,y:Ie.y},over:zr};gl.unstable_batchedUpdates(()=>{It==null||It(Ma),b({type:"onDragMove",event:Ma})})},[Ie.x,Ie.y]),k.useEffect(()=>{const{active:It,activatorEvent:Nt,collisions:Kt,droppableContainers:ls,scrollAdjustedTranslate:zr}=F.current;if(!It||O.current==null||!Nt||!zr)return;const{onDragOver:Ma}=G.current,Ka=ls.get(Be),Rt=Ka&&Ka.rect.current?{id:Ka.id,rect:Ka.rect.current,data:Ka.data,disabled:Ka.disabled}:null,Kr={active:It,activatorEvent:Nt,collisions:Kt,delta:{x:zr.x,y:zr.y},over:Rt};gl.unstable_batchedUpdates(()=>{it(Rt),Ma==null||Ma(Kr),b({type:"onDragOver",event:Kr})})},[Be]),id(()=>{F.current={activatorEvent:q,active:D,activeNode:te,collisionRect:Re,collisions:Ee,droppableRects:z,draggableNodes:C,draggingNode:se,draggingNodeRect:We,droppableContainers:T,over:Pe,scrollableAncestors:ie,scrollAdjustedTranslate:Ie},M.current={initial:We,translated:Re}},[D,te,Ee,Re,C,se,We,z,T,Pe,ie,Ie]),Oee({...Y,delta:S,draggingRect:Re,pointerCoordinates:ze,scrollableAncestors:ie,scrollableAncestorRects:de});const Wt=k.useMemo(()=>({active:D,activeNode:te,activeNodeRect:ne,activatorEvent:q,collisions:Ee,containerNodeRect:pe,dragOverlay:xe,draggableNodes:C,droppableContainers:T,droppableRects:z,over:Pe,measureDroppableContainers:H,scrollableAncestors:ie,scrollableAncestorRects:de,measuringConfiguration:I,measuringScheduled:J,windowRect:he}),[D,te,ne,q,Ee,pe,xe,C,T,z,Pe,H,ie,de,I,J,he]),Jr=k.useMemo(()=>({activatorEvent:q,activators:Ut,active:D,activeNodeRect:ne,ariaDescribedById:{draggable:ve},dispatch:v,draggableNodes:C,over:Pe,measureDroppableContainers:H}),[q,Ut,D,ne,v,ve,C,Pe,H]);return Z.createElement(Z7.Provider,{value:y},Z.createElement(W1.Provider,{value:Jr},Z.createElement(mR.Provider,{value:Wt},Z.createElement(Dw.Provider,{value:st},d)),Z.createElement(ate,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Z.createElement(nee,{...l,hiddenTextDescribedById:ve}));function Ht(){const It=(B==null?void 0:B.autoScrollEnabled)===!1,Nt=typeof c=="object"?c.enabled===!1:c===!1,Kt=E&&!It&&!Nt;return typeof c=="object"?{...c,enabled:Kt}:{enabled:Kt}}}),ote=k.createContext(null),mM="button",lte="Draggable";function cte(e){let{id:t,data:r,disabled:a=!1,attributes:n}=e;const s=Tw(lte),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:u,over:m}=k.useContext(W1),{role:h=mM,roleDescription:g="draggable",tabIndex:p=0}=n??{},x=(c==null?void 0:c.id)===t,v=k.useContext(x?Dw:ote),[b,y]=Ab(),[w,j]=Ab(),E=Jee(o,t),A=cx(r);id(()=>(u.set(t,{id:t,key:s,node:b,activatorNode:w,data:A}),()=>{const S=u.get(t);S&&S.key===s&&u.delete(t)}),[u,t]);const C=k.useMemo(()=>({role:h,tabIndex:p,"aria-disabled":a,"aria-pressed":x&&h===mM?!0:void 0,"aria-roledescription":g,"aria-describedby":f.draggable}),[a,h,p,x,g,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:C,isDragging:x,listeners:a?void 0:E,node:b,over:m,setNodeRef:y,setActivatorNodeRef:j,transform:v}}function dte(){return k.useContext(mR)}const fte="Droppable",ute={timeout:25};function hte(e){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:n}=e;const s=Tw(fte),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=k.useContext(W1),f=k.useRef({disabled:r}),u=k.useRef(!1),m=k.useRef(null),h=k.useRef(null),{disabled:g,updateMeasurementsFor:p,timeout:x}={...ute,...n},v=cx(p??a),b=k.useCallback(()=>{if(!u.current){u.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{d(Array.isArray(v.current)?v.current:[v.current]),h.current=null},x)},[x]),y=Iw({callback:b,disabled:g||!o}),w=k.useCallback((C,S)=>{y&&(S&&(y.unobserve(S),u.current=!1),C&&y.observe(C))},[y]),[j,E]=Ab(w),A=cx(t);return k.useEffect(()=>{!y||!j.current||(y.disconnect(),u.current=!1,y.observe(j.current))},[j,y]),k.useEffect(()=>(l({type:Xn.RegisterDroppable,element:{id:a,key:s,disabled:r,node:j,rect:m,data:A}}),()=>l({type:Xn.UnregisterDroppable,key:s,id:a})),[a]),k.useEffect(()=>{r!==f.current.disabled&&(l({type:Xn.SetDroppableDisabled,id:a,key:s,disabled:r}),f.current.disabled=r)},[a,s,r,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===a,node:j,over:c,setNodeRef:E}}function mte(e){let{animation:t,children:r}=e;const[a,n]=k.useState(null),[s,o]=k.useState(null),l=Eb(r);return!r&&!a&&l&&n(l),id(()=>{if(!s)return;const c=a==null?void 0:a.key,d=a==null?void 0:a.props.id;if(c==null||d==null){n(null);return}Promise.resolve(t(d,s)).then(()=>{n(null)})},[t,a,s]),Z.createElement(Z.Fragment,null,r,a?k.cloneElement(a,{ref:o}):null)}const pte={x:0,y:0,scaleX:1,scaleY:1};function gte(e){let{children:t}=e;return Z.createElement(W1.Provider,{value:hR},Z.createElement(Dw.Provider,{value:pte},t))}const xte={position:"fixed",touchAction:"none"},vte=e=>g6(e)?"transform 250ms ease":void 0,yte=k.forwardRef((e,t)=>{let{as:r,activatorEvent:a,adjustScale:n,children:s,className:o,rect:l,style:c,transform:d,transition:f=vte}=e;if(!l)return null;const u=n?d:{...d,scaleX:1,scaleY:1},m={...xte,width:l.width,height:l.height,top:l.top,left:l.left,transform:Jh.Transform.toString(u),transformOrigin:n&&a?lee(a,l):void 0,transition:typeof f=="function"?f(a):f,...c};return Z.createElement(r,{className:o,style:m,ref:t},s)}),bte=e=>t=>{let{active:r,dragOverlay:a}=t;const n={},{styles:s,className:o}=e;if(s!=null&&s.active)for(const[l,c]of Object.entries(s.active))c!==void 0&&(n[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(s!=null&&s.dragOverlay)for(const[l,c]of Object.entries(s.dragOverlay))c!==void 0&&a.node.style.setProperty(l,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&a.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(n))r.node.style.setProperty(c,d);o!=null&&o.active&&r.node.classList.remove(o.active)}},wte=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Jh.Transform.toString(t)},{transform:Jh.Transform.toString(r)}]},kte={duration:250,easing:"ease",keyframes:wte,sideEffects:bte({styles:{active:{opacity:"0"}}})};function jte(e){let{config:t,draggableNodes:r,droppableContainers:a,measuringConfiguration:n}=e;return Lw((s,o)=>{if(t===null)return;const l=r.get(s);if(!l)return;const c=l.node.current;if(!c)return;const d=uR(o);if(!d)return;const{transform:f}=yi(o).getComputedStyle(o),u=tR(f);if(!u)return;const m=typeof t=="function"?t:Nte(t);return lR(c,n.draggable.measure),m({active:{id:s,data:l.data,node:c,rect:n.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:n.dragOverlay.measure(d)},droppableContainers:a,measuringConfiguration:n,transform:u})})}function Nte(e){const{duration:t,easing:r,sideEffects:a,keyframes:n}={...kte,...e};return s=>{let{active:o,dragOverlay:l,transform:c,...d}=s;if(!t)return;const f={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},u={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-f.x,y:c.y-f.y,...u},h=n({...d,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[g]=h,p=h[h.length-1];if(JSON.stringify(g)===JSON.stringify(p))return;const x=a==null?void 0:a({active:o,dragOverlay:l,...d}),v=l.node.animate(h,{duration:t,easing:r,fill:"forwards"});return new Promise(b=>{v.onfinish=()=>{x==null||x(),b()}})}}let pM=0;function Ste(e){return k.useMemo(()=>{if(e!=null)return pM++,pM},[e])}const Cte=Z.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:a,style:n,transition:s,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:f,active:u,activeNodeRect:m,containerNodeRect:h,draggableNodes:g,droppableContainers:p,dragOverlay:x,over:v,measuringConfiguration:b,scrollableAncestors:y,scrollableAncestorRects:w,windowRect:j}=dte(),E=k.useContext(Dw),A=Ste(u==null?void 0:u.id),C=pR(o,{activatorEvent:f,active:u,activeNodeRect:m,containerNodeRect:h,draggingNodeRect:x.rect,over:v,overlayNodeRect:x.rect,scrollableAncestors:y,scrollableAncestorRects:w,transform:E,windowRect:j}),S=w6(m),T=jte({config:a,draggableNodes:g,droppableContainers:p,measuringConfiguration:b}),_=S?x.setRef:void 0;return Z.createElement(gte,null,Z.createElement(mte,{animation:T},u&&A?Z.createElement(yte,{key:A,id:u.id,ref:_,as:l,activatorEvent:f,adjustScale:t,className:c,transition:s,rect:S,style:{zIndex:d,...n},transform:C},r):null))});function Ate({id:e,children:t}){const{setNodeRef:r,isOver:a}=hte({id:e});return i.jsx("div",{ref:r,className:`flex-1 overflow-y-auto p-3 space-y-3 transition-colors ${a?"bg-primary-50":""}`,children:t})}const Ete=e=>{switch(e){case"whatsapp":return i.jsx(Lo,{className:"w-3.5 h-3.5"});case"phone":return i.jsx(vs,{className:"w-3.5 h-3.5"});case"email":return i.jsx(ro,{className:"w-3.5 h-3.5"});default:return i.jsx(Lo,{className:"w-3.5 h-3.5"})}},_te=e=>({whatsapp:"WhatsApp",phone:"Telefone",email:"E-mail",instagram:"Instagram",facebook:"Facebook",website:"Site",in_person:"Presencial",other:"Outro"})[e||"whatsapp"]||"WhatsApp",Mte=e=>({conversa_iniciada:"Conversa Iniciada",agendamento_pendente:"Aguardando Agendamento",agendado:"Agendado",em_tratamento:"Em Tratamento",finalizado:"Finalizado",cancelado:"Cancelado"})[e||"conversa_iniciada"]||"Conversa Iniciada",Lte=e=>({moema:"Moema",perdizes:"Perdizes",online:"Online",a_domicilio:"Domicílio"})[e||"moema"]||"Moema",Tte=e=>{if(!e)return"?";const t=e.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():e.substring(0,2).toUpperCase()};function gM({lead:e,formatCurrency:t,onClick:r,onDelete:a,userRole:n}){const{attributes:s,listeners:o,setNodeRef:l,transform:c,isDragging:d}=cte({id:e.id}),f=n==="admin"||n==="gestor",u={transform:Jh.Translate.toString(c),opacity:d?.5:1},m=k.useRef(!1);k.useEffect(()=>{c&&(Math.abs(c.x)>5||Math.abs(c.y)>5)&&(m.current=!0)},[c]),k.useEffect(()=>{if(!d&&m.current){const p=setTimeout(()=>{m.current=!1},100);return()=>clearTimeout(p)}},[d]);const h=()=>{m.current||d||r()},g=p=>{p.stopPropagation(),a&&f&&a(e)};return i.jsxs("div",{ref:l,style:u,...o,...s,onClick:h,className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm hover:shadow-md transition-all cursor-grab active:cursor-grabbing border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm flex-1 pr-2 line-clamp-2",children:e.name}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[f&&a&&i.jsx("button",{onClick:g,className:"flex-shrink-0 w-6 h-6 rounded hover:bg-red-100 flex items-center justify-center text-red-600 hover:text-red-700 transition-colors",title:"Excluir lead",children:i.jsx(An,{className:"w-3.5 h-3.5"})}),e.assignedTo&&i.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center text-xs font-semibold",title:`Responsável: ${e.assignedTo.name}`,children:Tte(e.assignedTo.name)})]})]}),e.procedure&&i.jsx("div",{className:"mb-2",children:i.jsx("span",{className:"text-xs px-2 py-0.5 rounded font-medium inline-block",style:{backgroundColor:e.procedure.color+"20",color:e.procedure.color},children:e.procedure.name})}),e.estimatedValue&&i.jsx("p",{className:"text-sm font-bold text-primary-600 dark:text-primary-400 mb-2",children:t(e.estimatedValue)}),i.jsxs("div",{className:"space-y-1.5 mb-2",children:[e.channel&&i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[Ete(e.channel),i.jsx("span",{children:_te(e.channel)})]}),e.clientStatus&&i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[i.jsx(aa,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:Mte(e.clientStatus)})]}),e.attendanceLocation&&i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[i.jsx(Go,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:Lte(e.attendanceLocation)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 dark:text-gray-500",children:[e.email&&i.jsx("span",{title:e.email,children:i.jsx(ro,{className:"w-3.5 h-3.5"})}),e.phone&&i.jsx("span",{title:e.phone,children:i.jsx(vs,{className:"w-3.5 h-3.5"})}),e.whatsapp&&i.jsx("span",{title:e.whatsapp,children:i.jsx(Lo,{className:"w-3.5 h-3.5"})})]}),e.tags&&e.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,2).map((p,x)=>i.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:p},x)),e.tags.length>2&&i.jsxs("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:["+",e.tags.length-2]})]})]})}function Ite({leads:e,stages:t,formatCurrency:r,onLeadClick:a}){const n=o=>{const l=t.find(c=>c.id===o);return(l==null?void 0:l.name)||"-"},s=o=>{const l=t.find(c=>c.id===o);return(l==null?void 0:l.color)||"#gray"};return i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nome"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estágio"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Procedimento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contato"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Valor"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Data"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"Nenhum lead encontrado"})}):e.map(o=>i.jsxs("tr",{onClick:()=>a(o),className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),o.email&&i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.email})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:s(o.stageId)+"20",color:s(o.stageId)},children:[i.jsx("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:s(o.stageId)}}),n(o.stageId)]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.procedure?i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-md",style:{backgroundColor:o.procedure.color+"20",color:o.procedure.color},children:o.procedure.name}):i.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-300",children:o.phone||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.estimatedValue?i.jsx("div",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400",children:r(o.estimatedValue)}):i.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.expectedCloseDate?new Date(o.expectedCloseDate).toLocaleDateString("pt-BR"):"-"})})]},o.id))})]})})})}function Dte({leads:e,stages:t,formatCurrency:r,onLeadClick:a}){const n=o=>{const l=t.find(c=>c.id===o);return(l==null?void 0:l.name)||"-"},s=o=>{const l=t.find(c=>c.id===o);return(l==null?void 0:l.color)||"#6b7280"};return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.length===0?i.jsx("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-gray-400",children:"Nenhum lead encontrado"}):e.map(o=>i.jsxs("div",{onClick:()=>a(o),className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium",style:{backgroundColor:s(o.stageId)+"20",color:s(o.stageId)},children:[i.jsx("span",{className:"w-2 h-2 rounded-full mr-1",style:{backgroundColor:s(o.stageId)}}),n(o.stageId)]})}),i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-base mb-2",children:o.name}),o.procedure&&i.jsx("div",{className:"mb-2",children:i.jsx("span",{className:"text-xs px-2 py-1 rounded-md font-medium",style:{backgroundColor:o.procedure.color+"20",color:o.procedure.color},children:o.procedure.name})}),o.estimatedValue&&i.jsx("p",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400 mb-3",children:r(o.estimatedValue)}),i.jsxs("div",{className:"space-y-1 mb-3",children:[o.email&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),i.jsx("span",{className:"truncate",children:o.email})]}),o.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),i.jsx("span",{children:o.phone})]})]}),o.expectedCloseDate&&i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700 pt-2",children:[i.jsx("svg",{className:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(o.expectedCloseDate).toLocaleDateString("pt-BR")]}),o.tags&&o.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[o.tags.slice(0,3).map((l,c)=>i.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:l},c)),o.tags.length>3&&i.jsxs("span",{className:"text-xs px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:["+",o.tags.length-3]})]})]},o.id))})}function Pte({leads:e,stages:t,formatCurrency:r,onLeadClick:a}){const n=c=>{const d=t.find(f=>f.id===c);return(d==null?void 0:d.name)||"-"},s=c=>{const d=t.find(f=>f.id===c);return(d==null?void 0:d.color)||"#6b7280"},l=(()=>{const c={};return e.forEach(d=>{const f=d.expectedCloseDate?new Date(d.expectedCloseDate).toLocaleDateString("pt-BR"):"Sem data";c[f]||(c[f]=[]),c[f].push(d)}),Object.entries(c).sort(([d],[f])=>d==="Sem data"?1:f==="Sem data"?-1:new Date(d.split("/").reverse().join("-")).getTime()-new Date(f.split("/").reverse().join("-")).getTime())})();return i.jsx("div",{className:"space-y-6",children:l.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Nenhum lead encontrado"}):l.map(([c,d])=>i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 border-l-4 border-primary-500 dark:border-primary-400 pl-4 py-2 mb-4 flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-primary-600 dark:text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c})]}),i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.length," ",d.length===1?"lead":"leads"]})]}),i.jsx("div",{className:"pl-8 space-y-3",children:d.map(f=>i.jsxs("div",{onClick:()=>a(f),className:"relative bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"absolute -left-10 top-6 w-4 h-4 rounded-full border-4 border-white dark:border-gray-800",style:{backgroundColor:s(f.stageId)}}),i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:f.name}),f.email&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.email})]}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ml-2",style:{backgroundColor:s(f.stageId)+"20",color:s(f.stageId)},children:n(f.stageId)})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[f.procedure&&i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-md",style:{backgroundColor:f.procedure.color+"20",color:f.procedure.color},children:f.procedure.name}),f.estimatedValue&&i.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:r(f.estimatedValue)}),f.phone&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),f.phone]})]})]},f.id))})]},c))})}function Ote({leads:e,stages:t,formatCurrency:r,onLeadClick:a,onScheduleAppointment:n,refreshTrigger:s}){const[o,l]=k.useState(e[0]||null),[c,d]=k.useState([]),f=h=>{const g=t.find(p=>p.id===h);return(g==null?void 0:g.name)||"-"},u=h=>{const g=t.find(p=>p.id===h);return(g==null?void 0:g.color)||"#6b7280"},m=h=>{l(h)};return k.useEffect(()=>{(async()=>{if(o!=null&&o.id)try{const g=await bn.getByLead(o.id);d(g)}catch(g){console.error("Erro ao carregar agendamentos:",g),d([])}})()},[o,s]),i.jsxs("div",{className:"flex gap-4 h-[calc(100vh-18rem)]",children:[i.jsxs("div",{className:"w-96 flex-shrink-0 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Leads (",e.length,")"]})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?i.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"Nenhum lead encontrado"}):i.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(h=>i.jsxs("div",{onClick:()=>m(h),className:`p-4 cursor-pointer transition-colors ${(o==null?void 0:o.id)===h.id?"bg-primary-50 dark:bg-primary-900/30 border-l-4 border-primary-500 dark:border-primary-400":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:h.name}),i.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0 mt-1.5",style:{backgroundColor:u(h.stageId)}})]}),h.email&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:h.email}),h.estimatedValue&&i.jsx("p",{className:"text-xs font-semibold text-primary-600 dark:text-primary-400",children:r(h.estimatedValue)})]},h.id))})})]}),i.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:o?i.jsxs("div",{className:"h-full overflow-y-auto",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:o.name}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:u(o.stageId)+"20",color:u(o.stageId)},children:[i.jsx("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:u(o.stageId)}}),f(o.stageId)]})})]}),i.jsx("button",{onClick:()=>a(o),className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700",children:"Editar"})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[o.procedure&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Procedimento"}),i.jsx("span",{className:"inline-flex px-3 py-1.5 text-sm font-medium rounded-md",style:{backgroundColor:o.procedure.color+"20",color:o.procedure.color},children:o.procedure.name})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Informações de Contato"}),i.jsxs("div",{className:"space-y-2",children:[o.email&&i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:o.email})]}),o.phone&&i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:o.phone})]})]})]}),o.estimatedValue&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Valor Estimado"}),i.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:r(o.estimatedValue)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Agendamentos"}),i.jsxs("button",{onClick:()=>n==null?void 0:n(o),className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[i.jsx(ja,{size:16}),"Novo Agendamento"]})]}),c.length===0?i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 text-center",children:[i.jsx(Yr,{size:32,className:"mx-auto mb-2 text-gray-400 dark:text-gray-500"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhum agendamento"})]}):i.jsx("div",{className:"space-y-2",children:c.map(h=>{var g;return i.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Yr,{size:14,className:"text-gray-500 dark:text-gray-400"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[new Date(h.scheduledDate).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"})," às ",new Date(h.scheduledDate).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:(g=h.procedure)==null?void 0:g.name}),i.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 text-xs rounded-full ${h.status==="confirmado"?"bg-green-100 text-green-800":h.status==="aguardando_confirmacao"?"bg-orange-100 text-orange-800":h.status==="finalizado"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:h.status==="aguardando_pagamento"?"Aguardando Pagamento":h.status==="aguardando_confirmacao"?"Aguardando Confirmação":h.status==="confirmado"?"Confirmado":h.status==="finalizado"?"Finalizado":h.status})]})})},h.id)})})]}),o.notes&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Observações"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-pre-wrap bg-gray-50 dark:bg-gray-900 p-3 rounded-lg",children:o.notes})]}),o.tags&&o.tags.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map((h,g)=>i.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-sm",children:h},g))})]})]})]}):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:"Selecione um lead para ver os detalhes"})})]})}const Rte="modulepreload",Fte=function(e){return"/"+e},xM={},as=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=Fte(c),c in xM)return;xM[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":Rte,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((m,h)=>{u.addEventListener("load",m),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function yr(e){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(e)}var Cl=Uint8Array,Zi=Uint16Array,k6=Int32Array,j6=new Cl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),N6=new Cl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vM=new Cl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gR=function(e,t){for(var r=new Zi(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var n=new k6(r[30]),a=1;a<30;++a)for(var s=r[a];s<r[a+1];++s)n[s]=s-r[a]<<5|a;return{b:r,r:n}},xR=gR(j6,2),Bte=xR.b,c3=xR.r;Bte[28]=258,c3[258]=28;var zte=gR(N6,0),yM=zte.r,d3=new Zi(32768);for(var za=0;za<32768;++za){var Wd=(za&43690)>>1|(za&21845)<<1;Wd=(Wd&52428)>>2|(Wd&13107)<<2,Wd=(Wd&61680)>>4|(Wd&3855)<<4,d3[za]=((Wd&65280)>>8|(Wd&255)<<8)>>1}var Og=function(e,t,r){for(var a=e.length,n=0,s=new Zi(t);n<a;++n)e[n]&&++s[e[n]-1];var o=new Zi(t);for(n=1;n<t;++n)o[n]=o[n-1]+s[n-1]<<1;var l;if(r){l=new Zi(1<<t);var c=15-t;for(n=0;n<a;++n)if(e[n])for(var d=n<<4|e[n],f=t-e[n],u=o[e[n]-1]++<<f,m=u|(1<<f)-1;u<=m;++u)l[d3[u]>>c]=d}else for(l=new Zi(a),n=0;n<a;++n)e[n]&&(l[n]=d3[o[e[n]-1]++]>>15-e[n]);return l},Vu=new Cl(288);for(var za=0;za<144;++za)Vu[za]=8;for(var za=144;za<256;++za)Vu[za]=9;for(var za=256;za<280;++za)Vu[za]=7;for(var za=280;za<288;++za)Vu[za]=8;var Ib=new Cl(32);for(var za=0;za<32;++za)Ib[za]=5;var $te=Og(Vu,9,0),Ute=Og(Ib,5,0),vR=function(e){return(e+7)/8|0},Wte=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Cl(e.subarray(t,r))},Fc=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},tg=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},oj=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var n=r.length,s=r.slice();if(!n)return{t:bR,l:0};if(n==1){var o=new Cl(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(j,E){return j.f-E.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,f=1,u=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=n-1;)l=r[r[d].f<r[u].f?d++:u++],c=r[d!=f&&r[d].f<r[u].f?d++:u++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var m=s[0].s,a=1;a<n;++a)s[a].s>m&&(m=s[a].s);var h=new Zi(m+1),g=f3(r[f-1],h,0);if(g>t){var a=0,p=0,x=g-t,v=1<<x;for(s.sort(function(E,A){return h[A.s]-h[E.s]||E.f-A.f});a<n;++a){var b=s[a].s;if(h[b]>t)p+=v-(1<<g-h[b]),h[b]=t;else break}for(p>>=x;p>0;){var y=s[a].s;h[y]<t?p-=1<<t-h[y]++-1:++a}for(;a>=0&&p;--a){var w=s[a].s;h[w]==t&&(--h[w],++p)}g=t}return{t:new Cl(h),l:g}},f3=function(e,t,r){return e.s==-1?Math.max(f3(e.l,t,r+1),f3(e.r,t,r+1)):t[e.s]=r},bM=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Zi(++t),a=0,n=e[0],s=1,o=function(c){r[a++]=c},l=1;l<=t;++l)if(e[l]==n&&l!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(n),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(n);s=1,n=e[l]}return{c:r.subarray(0,a),n:t}},rg=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},yR=function(e,t,r){var a=r.length,n=vR(t+2);e[n]=a&255,e[n+1]=a>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var s=0;s<a;++s)e[n+s+4]=r[s];return(n+4+a)*8},wM=function(e,t,r,a,n,s,o,l,c,d,f){Fc(t,f++,r),++n[256];for(var u=oj(n,15),m=u.t,h=u.l,g=oj(s,15),p=g.t,x=g.l,v=bM(m),b=v.c,y=v.n,w=bM(p),j=w.c,E=w.n,A=new Zi(19),C=0;C<b.length;++C)++A[b[C]&31];for(var C=0;C<j.length;++C)++A[j[C]&31];for(var S=oj(A,7),T=S.t,_=S.l,M=19;M>4&&!T[vM[M-1]];--M);var D=d+5<<3,O=rg(n,Vu)+rg(s,Ib)+o,B=rg(n,m)+rg(s,p)+o+14+3*M+rg(A,T)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&D<=O&&D<=B)return yR(t,f,e.subarray(c,c+d));var U,q,K,G;if(Fc(t,f,1+(B<O)),f+=2,B<O){U=Og(m,h,0),q=m,K=Og(p,x,0),G=p;var ve=Og(T,_,0);Fc(t,f,y-257),Fc(t,f+5,E-1),Fc(t,f+10,M-4),f+=14;for(var C=0;C<M;++C)Fc(t,f+3*C,T[vM[C]]);f+=3*M;for(var fe=[b,j],I=0;I<2;++I)for(var z=fe[I],C=0;C<z.length;++C){var H=z[C]&31;Fc(t,f,ve[H]),f+=T[H],H>15&&(Fc(t,f,z[C]>>5&127),f+=z[C]>>12)}}else U=$te,q=Vu,K=Ute,G=Ib;for(var C=0;C<l;++C){var J=a[C];if(J>255){var H=J>>18&31;tg(t,f,U[H+257]),f+=q[H+257],H>7&&(Fc(t,f,J>>23&31),f+=j6[H]);var te=J&31;tg(t,f,K[te]),f+=G[te],te>3&&(tg(t,f,J>>5&8191),f+=N6[te])}else tg(t,f,U[J]),f+=q[J]}return tg(t,f,U[256]),f+q[256]},Hte=new k6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bR=new Cl(0),Vte=function(e,t,r,a,n,s){var o=s.z||e.length,l=new Cl(a+o+5*(1+Math.ceil(o/7e3))+n),c=l.subarray(a,l.length-n),d=s.l,f=(s.r||0)&7;if(t){f&&(c[0]=s.r>>3);for(var u=Hte[t-1],m=u>>13,h=u&8191,g=(1<<r)-1,p=s.p||new Zi(32768),x=s.h||new Zi(g+1),v=Math.ceil(r/3),b=2*v,y=function(xe){return(e[xe]^e[xe+1]<<v^e[xe+2]<<b)&g},w=new k6(25e3),j=new Zi(288),E=new Zi(32),A=0,C=0,S=s.i||0,T=0,_=s.w||0,M=0;S+2<o;++S){var D=y(S),O=S&32767,B=x[D];if(p[O]=B,x[D]=O,_<=S){var U=o-S;if((A>7e3||T>24576)&&(U>423||!d)){f=wM(e,c,0,w,j,E,C,T,M,S-M,f),T=A=C=0,M=S;for(var q=0;q<286;++q)j[q]=0;for(var q=0;q<30;++q)E[q]=0}var K=2,G=0,ve=h,fe=O-B&32767;if(U>2&&D==y(S-fe))for(var I=Math.min(m,U)-1,z=Math.min(32767,S),H=Math.min(258,U);fe<=z&&--ve&&O!=B;){if(e[S+K]==e[S+K-fe]){for(var J=0;J<H&&e[S+J]==e[S+J-fe];++J);if(J>K){if(K=J,G=fe,J>I)break;for(var te=Math.min(fe,J-2),W=0,q=0;q<te;++q){var Y=S-fe+q&32767,Q=p[Y],ne=Y-Q&32767;ne>W&&(W=ne,B=Y)}}}O=B,B=p[O],fe+=O-B&32767}if(G){w[T++]=268435456|c3[K]<<18|yM[G];var pe=c3[K]&31,F=yM[G]&31;C+=j6[pe]+N6[F],++j[257+pe],++E[F],_=S+K,++A}else w[T++]=e[S],++j[e[S]]}}for(S=Math.max(S,_);S<o;++S)w[T++]=e[S],++j[e[S]];f=wM(e,c,d,w,j,E,C,T,M,S-M,f),d||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=x,s.p=p,s.i=S,s.w=_)}else{for(var S=s.w||0;S<o+d;S+=65535){var Te=S+65535;Te>=o&&(c[f/8|0]=d,Te=o),f=yR(c,f+1,e.subarray(S,Te))}s.i=o}return Wte(l,0,a+vR(f)+n)},wR=function(){var e=1,t=0;return{p:function(r){for(var a=e,n=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)n+=a+=r[o];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}e=a,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Gte=function(e,t,r,a,n){if(!n&&(n={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Cl(s.length+e.length);o.set(s),o.set(e,s.length),e=o,n.w=s.length}return Vte(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,n)},kR=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},qte=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=wR();n.p(t.dictionary),kR(e,2,n.d())}};function u3(e,t){t||(t={});var r=wR();r.p(e);var a=Gte(e,t,t.dictionary?6:2,4);return qte(a,t),kR(a,a.length-4,r.d()),a}var Yte=typeof TextDecoder<"u"&&new TextDecoder,Jte=0;try{Yte.decode(bR,{stream:!0}),Jte=1}catch{}function jR(e){if(Array.isArray(e))return e}function Kte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function h3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function S6(e,t){if(e){if(typeof e=="string")return h3(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h3(e,t):void 0}}function NR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function od(e,t){return jR(e)||Kte(e,t)||S6(e,t)||NR()}function kM(e,t="utf8"){return new TextDecoder(t).decode(e)}const Qte=new TextEncoder;function Xte(e){return Qte.encode(e)}const Zte=1024*8,ere=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),lj={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class C6{constructor(t=Zte,r={}){Ur(this,"buffer");Ur(this,"byteLength");Ur(this,"byteOffset");Ur(this,"length");Ur(this,"offset");Ur(this,"lastWrittenByte");Ur(this,"littleEndian");Ur(this,"_data");Ur(this,"_mark");Ur(this,"_marks");let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const n=r.offset?r.offset>>>0:0,s=t.byteLength-n;let o=n;(ArrayBuffer.isView(t)||t instanceof C6)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+n),t=t.buffer),a?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,n=new Uint8Array(a);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=lj[r].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,s=this.buffer.slice(n,n+a);if(this.littleEndian===ere&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(n,n+a));l.reverse();const c=new lj[r](l.buffer);return this.offset+=a,c.reverse(),c}const o=new lj[r](s);return this.offset+=a,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return kM(this.readBytes(t))}decodeText(t=1,r="utf8"){return kM(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Xte(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Gm(e){let t=e.length;for(;--t>=0;)e[t]=0}const tre=3,rre=258,SR=29,are=256,nre=are+1+SR,CR=30,sre=512,ire=new Array((nre+2)*2);Gm(ire);const ore=new Array(CR*2);Gm(ore);const lre=new Array(sre);Gm(lre);const cre=new Array(rre-tre+1);Gm(cre);const dre=new Array(SR);Gm(dre);const fre=new Array(CR);Gm(fre);const ure=(e,t,r,a)=>{let n=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do n=n+t[a++]|0,s=s+n|0;while(--o);n%=65521,s%=65521}return n|s<<16|0};var m3=ure;const hre=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},mre=new Uint32Array(hre()),pre=(e,t,r,a)=>{const n=mre,s=a+r;e^=-1;for(let o=a;o<s;o++)e=e>>>8^n[(e^t[o])&255];return e^-1};var Hl=pre,p3={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},AR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const gre=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var xre=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)gre(r,a)&&(e[a]=r[a])}}return e},vre=e=>{let t=0;for(let a=0,n=e.length;a<n;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,n=0,s=e.length;a<s;a++){let o=e[a];r.set(o,n),n+=o.length}return r},ER={assign:xre,flattenChunks:vre};let _R=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_R=!1}const fx=new Uint8Array(256);for(let e=0;e<256;e++)fx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;fx[254]=fx[254]=1;var yre=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,n,s,o=e.length,l=0;for(n=0;n<o;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,n=0;s<l;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const bre=(e,t)=>{if(t<65534&&e.subarray&&_R)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var wre=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,n;const s=new Array(r*2);for(n=0,a=0;a<r;){let o=e[a++];if(o<128){s[n++]=o;continue}let l=fx[o];if(l>4){s[n++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<r;)o=o<<6|e[a++]&63,l--;if(l>1){s[n++]=65533;continue}o<65536?s[n++]=o:(o-=65536,s[n++]=55296|o>>10&1023,s[n++]=56320|o&1023)}return bre(s,n)},kre=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+fx[e[r]]>t?r:t},g3={string2buf:yre,buf2string:wre,utf8border:kre};function jre(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Nre=jre;const ey=16209,Sre=16191;var Cre=function(t,r){let a,n,s,o,l,c,d,f,u,m,h,g,p,x,v,b,y,w,j,E,A,C,S,T;const _=t.state;a=t.next_in,S=t.input,n=a+(t.avail_in-5),s=t.next_out,T=t.output,o=s-(r-t.avail_out),l=s+(t.avail_out-257),c=_.dmax,d=_.wsize,f=_.whave,u=_.wnext,m=_.window,h=_.hold,g=_.bits,p=_.lencode,x=_.distcode,v=(1<<_.lenbits)-1,b=(1<<_.distbits)-1;e:do{g<15&&(h+=S[a++]<<g,g+=8,h+=S[a++]<<g,g+=8),y=p[h&v];t:for(;;){if(w=y>>>24,h>>>=w,g-=w,w=y>>>16&255,w===0)T[s++]=y&65535;else if(w&16){j=y&65535,w&=15,w&&(g<w&&(h+=S[a++]<<g,g+=8),j+=h&(1<<w)-1,h>>>=w,g-=w),g<15&&(h+=S[a++]<<g,g+=8,h+=S[a++]<<g,g+=8),y=x[h&b];r:for(;;){if(w=y>>>24,h>>>=w,g-=w,w=y>>>16&255,w&16){if(E=y&65535,w&=15,g<w&&(h+=S[a++]<<g,g+=8,g<w&&(h+=S[a++]<<g,g+=8)),E+=h&(1<<w)-1,E>c){t.msg="invalid distance too far back",_.mode=ey;break e}if(h>>>=w,g-=w,w=s-o,E>w){if(w=E-w,w>f&&_.sane){t.msg="invalid distance too far back",_.mode=ey;break e}if(A=0,C=m,u===0){if(A+=d-w,w<j){j-=w;do T[s++]=m[A++];while(--w);A=s-E,C=T}}else if(u<w){if(A+=d+u-w,w-=u,w<j){j-=w;do T[s++]=m[A++];while(--w);if(A=0,u<j){w=u,j-=w;do T[s++]=m[A++];while(--w);A=s-E,C=T}}}else if(A+=u-w,w<j){j-=w;do T[s++]=m[A++];while(--w);A=s-E,C=T}for(;j>2;)T[s++]=C[A++],T[s++]=C[A++],T[s++]=C[A++],j-=3;j&&(T[s++]=C[A++],j>1&&(T[s++]=C[A++]))}else{A=s-E;do T[s++]=T[A++],T[s++]=T[A++],T[s++]=T[A++],j-=3;while(j>2);j&&(T[s++]=T[A++],j>1&&(T[s++]=T[A++]))}}else if(w&64){t.msg="invalid distance code",_.mode=ey;break e}else{y=x[(y&65535)+(h&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){_.mode=Sre;break e}else{t.msg="invalid literal/length code",_.mode=ey;break e}else{y=p[(y&65535)+(h&(1<<w)-1)];continue t}break}}while(a<n&&s<l);j=g>>3,a-=j,g-=j<<3,h&=(1<<g)-1,t.next_in=a,t.next_out=s,t.avail_in=a<n?5+(n-a):5-(a-n),t.avail_out=s<l?257+(l-s):257-(s-l),_.hold=h,_.bits=g};const K0=15,jM=852,NM=592,SM=0,cj=1,CM=2,Are=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ere=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_re=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Mre=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Lre=(e,t,r,a,n,s,o,l)=>{const c=l.bits;let d=0,f=0,u=0,m=0,h=0,g=0,p=0,x=0,v=0,b=0,y,w,j,E,A,C=null,S;const T=new Uint16Array(K0+1),_=new Uint16Array(K0+1);let M=null,D,O,B;for(d=0;d<=K0;d++)T[d]=0;for(f=0;f<a;f++)T[t[r+f]]++;for(h=c,m=K0;m>=1&&T[m]===0;m--);if(h>m&&(h=m),m===0)return n[s++]=1<<24|64<<16|0,n[s++]=1<<24|64<<16|0,l.bits=1,0;for(u=1;u<m&&T[u]===0;u++);for(h<u&&(h=u),x=1,d=1;d<=K0;d++)if(x<<=1,x-=T[d],x<0)return-1;if(x>0&&(e===SM||m!==1))return-1;for(_[1]=0,d=1;d<K0;d++)_[d+1]=_[d]+T[d];for(f=0;f<a;f++)t[r+f]!==0&&(o[_[t[r+f]]++]=f);if(e===SM?(C=M=o,S=20):e===cj?(C=Are,M=Ere,S=257):(C=_re,M=Mre,S=0),b=0,f=0,d=u,A=s,g=h,p=0,j=-1,v=1<<h,E=v-1,e===cj&&v>jM||e===CM&&v>NM)return 1;for(;;){D=d-p,o[f]+1<S?(O=0,B=o[f]):o[f]>=S?(O=M[o[f]-S],B=C[o[f]-S]):(O=96,B=0),y=1<<d-p,w=1<<g,u=w;do w-=y,n[A+(b>>p)+w]=D<<24|O<<16|B|0;while(w!==0);for(y=1<<d-1;b&y;)y>>=1;if(y!==0?(b&=y-1,b+=y):b=0,f++,--T[d]===0){if(d===m)break;d=t[r+o[f]]}if(d>h&&(b&E)!==j){for(p===0&&(p=h),A+=u,g=d-p,x=1<<g;g+p<m&&(x-=T[g+p],!(x<=0));)g++,x<<=1;if(v+=1<<g,e===cj&&v>jM||e===CM&&v>NM)return 1;j=b&E,n[j]=h<<24|g<<16|A-s|0}}return b!==0&&(n[A+b]=d-p<<24|64<<16|0),l.bits=h,0};var Rg=Lre;const Tre=0,MR=1,LR=2,{Z_FINISH:AM,Z_BLOCK:Ire,Z_TREES:ty,Z_OK:Gu,Z_STREAM_END:Dre,Z_NEED_DICT:Pre,Z_STREAM_ERROR:Bo,Z_DATA_ERROR:TR,Z_MEM_ERROR:IR,Z_BUF_ERROR:Ore,Z_DEFLATED:EM}=AR,Pw=16180,_M=16181,MM=16182,LM=16183,TM=16184,IM=16185,DM=16186,PM=16187,OM=16188,RM=16189,Db=16190,Bc=16191,dj=16192,FM=16193,fj=16194,BM=16195,zM=16196,$M=16197,UM=16198,ry=16199,ay=16200,WM=16201,HM=16202,VM=16203,GM=16204,qM=16205,uj=16206,YM=16207,JM=16208,Va=16209,DR=16210,PR=16211,Rre=852,Fre=592,Bre=15,zre=Bre,KM=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function $re(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const w0=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Pw||t.mode>PR?1:0},OR=e=>{if(w0(e))return Bo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Pw,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Rre),t.distcode=t.distdyn=new Int32Array(Fre),t.sane=1,t.back=-1,Gu},RR=e=>{if(w0(e))return Bo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,OR(e)},FR=(e,t)=>{let r;if(w0(e))return Bo;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Bo:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,RR(e))},BR=(e,t)=>{if(!e)return Bo;const r=new $re;e.state=r,r.strm=e,r.window=null,r.mode=Pw;const a=FR(e,t);return a!==Gu&&(e.state=null),a},Ure=e=>BR(e,zre);let QM=!0,hj,mj;const Wre=e=>{if(QM){hj=new Int32Array(512),mj=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Rg(MR,e.lens,0,288,hj,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Rg(LR,e.lens,0,32,mj,0,e.work,{bits:5}),QM=!1}e.lencode=hj,e.lenbits=9,e.distcode=mj,e.distbits=5},zR=(e,t,r,a)=>{let n;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),a>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>a&&(n=a),s.window.set(t.subarray(r-a,r-a+n),s.wnext),a-=n,a?(s.window.set(t.subarray(r-a,r),0),s.wnext=a,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0},Hre=(e,t)=>{let r,a,n,s,o,l,c,d,f,u,m,h,g,p,x=0,v,b,y,w,j,E,A,C;const S=new Uint8Array(4);let T,_;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(w0(e)||!e.output||!e.input&&e.avail_in!==0)return Bo;r=e.state,r.mode===Bc&&(r.mode=dj),o=e.next_out,n=e.output,c=e.avail_out,s=e.next_in,a=e.input,l=e.avail_in,d=r.hold,f=r.bits,u=l,m=c,C=Gu;e:for(;;)switch(r.mode){case Pw:if(r.wrap===0){r.mode=dj;break}for(;f<16;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,S[0]=d&255,S[1]=d>>>8&255,r.check=Hl(r.check,S,2,0),d=0,f=0,r.mode=_M;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=Va;break}if((d&15)!==EM){e.msg="unknown compression method",r.mode=Va;break}if(d>>>=4,f-=4,A=(d&15)+8,r.wbits===0&&(r.wbits=A),A>15||A>r.wbits){e.msg="invalid window size",r.mode=Va;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?RM:Bc,d=0,f=0;break;case _M:for(;f<16;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if(r.flags=d,(r.flags&255)!==EM){e.msg="unknown compression method",r.mode=Va;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Va;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(S[0]=d&255,S[1]=d>>>8&255,r.check=Hl(r.check,S,2,0)),d=0,f=0,r.mode=MM;case MM:for(;f<32;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(S[0]=d&255,S[1]=d>>>8&255,S[2]=d>>>16&255,S[3]=d>>>24&255,r.check=Hl(r.check,S,4,0)),d=0,f=0,r.mode=LM;case LM:for(;f<16;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(S[0]=d&255,S[1]=d>>>8&255,r.check=Hl(r.check,S,2,0)),d=0,f=0,r.mode=TM;case TM:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(S[0]=d&255,S[1]=d>>>8&255,r.check=Hl(r.check,S,2,0)),d=0,f=0}else r.head&&(r.head.extra=null);r.mode=IM;case IM:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(s,s+h),A)),r.flags&512&&r.wrap&4&&(r.check=Hl(r.check,a,h,s)),l-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=DM;case DM:if(r.flags&2048){if(l===0)break e;h=0;do A=a[s+h++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Hl(r.check,a,h,s)),l-=h,s+=h,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=PM;case PM:if(r.flags&4096){if(l===0)break e;h=0;do A=a[s+h++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Hl(r.check,a,h,s)),l-=h,s+=h,A)break e}else r.head&&(r.head.comment=null);r.mode=OM;case OM:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Va;break}d=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Bc;break;case RM:for(;f<32;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}e.adler=r.check=KM(d),d=0,f=0,r.mode=Db;case Db:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=d,r.bits=f,Pre;e.adler=r.check=1,r.mode=Bc;case Bc:if(t===Ire||t===ty)break e;case dj:if(r.last){d>>>=f&7,f-=f&7,r.mode=uj;break}for(;f<3;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}switch(r.last=d&1,d>>>=1,f-=1,d&3){case 0:r.mode=FM;break;case 1:if(Wre(r),r.mode=ry,t===ty){d>>>=2,f-=2;break e}break;case 2:r.mode=zM;break;case 3:e.msg="invalid block type",r.mode=Va}d>>>=2,f-=2;break;case FM:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Va;break}if(r.length=d&65535,d=0,f=0,r.mode=fj,t===ty)break e;case fj:r.mode=BM;case BM:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;n.set(a.subarray(s,s+h),o),l-=h,s+=h,c-=h,o+=h,r.length-=h;break}r.mode=Bc;break;case zM:for(;f<14;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if(r.nlen=(d&31)+257,d>>>=5,f-=5,r.ndist=(d&31)+1,d>>>=5,f-=5,r.ncode=(d&15)+4,d>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Va;break}r.have=0,r.mode=$M;case $M:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}r.lens[M[r.have++]]=d&7,d>>>=3,f-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,T={bits:r.lenbits},C=Rg(Tre,r.lens,0,19,r.lencode,0,r.work,T),r.lenbits=T.bits,C){e.msg="invalid code lengths set",r.mode=Va;break}r.have=0,r.mode=UM;case UM:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[d&(1<<r.lenbits)-1],v=x>>>24,b=x>>>16&255,y=x&65535,!(v<=f);){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if(y<16)d>>>=v,f-=v,r.lens[r.have++]=y;else{if(y===16){for(_=v+2;f<_;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if(d>>>=v,f-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=Va;break}A=r.lens[r.have-1],h=3+(d&3),d>>>=2,f-=2}else if(y===17){for(_=v+3;f<_;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}d>>>=v,f-=v,A=0,h=3+(d&7),d>>>=3,f-=3}else{for(_=v+7;f<_;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}d>>>=v,f-=v,A=0,h=11+(d&127),d>>>=7,f-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Va;break}for(;h--;)r.lens[r.have++]=A}}if(r.mode===Va)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Va;break}if(r.lenbits=9,T={bits:r.lenbits},C=Rg(MR,r.lens,0,r.nlen,r.lencode,0,r.work,T),r.lenbits=T.bits,C){e.msg="invalid literal/lengths set",r.mode=Va;break}if(r.distbits=6,r.distcode=r.distdyn,T={bits:r.distbits},C=Rg(LR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,T),r.distbits=T.bits,C){e.msg="invalid distances set",r.mode=Va;break}if(r.mode=ry,t===ty)break e;case ry:r.mode=ay;case ay:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=d,r.bits=f,Cre(e,m),o=e.next_out,n=e.output,c=e.avail_out,s=e.next_in,a=e.input,l=e.avail_in,d=r.hold,f=r.bits,r.mode===Bc&&(r.back=-1);break}for(r.back=0;x=r.lencode[d&(1<<r.lenbits)-1],v=x>>>24,b=x>>>16&255,y=x&65535,!(v<=f);){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if(b&&!(b&240)){for(w=v,j=b,E=y;x=r.lencode[E+((d&(1<<w+j)-1)>>w)],v=x>>>24,b=x>>>16&255,y=x&65535,!(w+v<=f);){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}d>>>=w,f-=w,r.back+=w}if(d>>>=v,f-=v,r.back+=v,r.length=y,b===0){r.mode=qM;break}if(b&32){r.back=-1,r.mode=Bc;break}if(b&64){e.msg="invalid literal/length code",r.mode=Va;break}r.extra=b&15,r.mode=WM;case WM:if(r.extra){for(_=r.extra;f<_;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=HM;case HM:for(;x=r.distcode[d&(1<<r.distbits)-1],v=x>>>24,b=x>>>16&255,y=x&65535,!(v<=f);){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if(!(b&240)){for(w=v,j=b,E=y;x=r.distcode[E+((d&(1<<w+j)-1)>>w)],v=x>>>24,b=x>>>16&255,y=x&65535,!(w+v<=f);){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}d>>>=w,f-=w,r.back+=w}if(d>>>=v,f-=v,r.back+=v,b&64){e.msg="invalid distance code",r.mode=Va;break}r.offset=y,r.extra=b&15,r.mode=VM;case VM:if(r.extra){for(_=r.extra;f<_;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Va;break}r.mode=GM;case GM:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Va;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),p=r.window}else p=n,g=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do n[o++]=p[g++];while(--h);r.length===0&&(r.mode=ay);break;case qM:if(c===0)break e;n[o++]=r.length,c--,r.mode=ay;break;case uj:if(r.wrap){for(;f<32;){if(l===0)break e;l--,d|=a[s++]<<f,f+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Hl(r.check,n,m,o-m):m3(r.check,n,m,o-m)),m=c,r.wrap&4&&(r.flags?d:KM(d))!==r.check){e.msg="incorrect data check",r.mode=Va;break}d=0,f=0}r.mode=YM;case YM:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,d+=a[s++]<<f,f+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Va;break}d=0,f=0}r.mode=JM;case JM:C=Dre;break e;case Va:C=TR;break e;case DR:return IR;case PR:default:return Bo}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=d,r.bits=f,(r.wsize||m!==e.avail_out&&r.mode<Va&&(r.mode<uj||t!==AM))&&zR(e,e.output,e.next_out,m-e.avail_out),u-=e.avail_in,m-=e.avail_out,e.total_in+=u,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Hl(r.check,n,m,e.next_out-m):m3(r.check,n,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Bc?128:0)+(r.mode===ry||r.mode===fj?256:0),(u===0&&m===0||t===AM)&&C===Gu&&(C=Ore),C},Vre=e=>{if(w0(e))return Bo;let t=e.state;return t.window&&(t.window=null),e.state=null,Gu},Gre=(e,t)=>{if(w0(e))return Bo;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Gu):Bo},qre=(e,t)=>{const r=t.length;let a,n,s;return w0(e)||(a=e.state,a.wrap!==0&&a.mode!==Db)?Bo:a.mode===Db&&(n=1,n=m3(n,t,r,0),n!==a.check)?TR:(s=zR(e,t,r,r),s?(a.mode=DR,IR):(a.havedict=1,Gu))};var Yre=RR,Jre=FR,Kre=OR,Qre=Ure,Xre=BR,Zre=Hre,eae=Vre,tae=Gre,rae=qre,aae="pako inflate (from Nodeca project)",Vc={inflateReset:Yre,inflateReset2:Jre,inflateResetKeep:Kre,inflateInit:Qre,inflateInit2:Xre,inflate:Zre,inflateEnd:eae,inflateGetHeader:tae,inflateSetDictionary:rae,inflateInfo:aae};function nae(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var sae=nae;const $R=Object.prototype.toString,{Z_NO_FLUSH:iae,Z_FINISH:oae,Z_OK:ux,Z_STREAM_END:pj,Z_NEED_DICT:gj,Z_STREAM_ERROR:lae,Z_DATA_ERROR:XM,Z_MEM_ERROR:cae}=AR;function H1(e){this.options=ER.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nre,this.strm.avail_out=0;let r=Vc.inflateInit2(this.strm,t.windowBits);if(r!==ux)throw new Error(p3[r]);if(this.header=new sae,Vc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=g3.string2buf(t.dictionary):$R.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Vc.inflateSetDictionary(this.strm,t.dictionary),r!==ux)))throw new Error(p3[r])}H1.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,n=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?oae:iae,$R.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),s=Vc.inflate(r,o),s===gj&&n&&(s=Vc.inflateSetDictionary(r,n),s===ux?s=Vc.inflate(r,o):s===XM&&(s=gj));r.avail_in>0&&s===pj&&r.state.wrap>0&&e[r.next_in]!==0;)Vc.inflateReset(r),s=Vc.inflate(r,o);switch(s){case lae:case XM:case gj:case cae:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===pj))if(this.options.to==="string"){let c=g3.utf8border(r.output,r.next_out),d=r.next_out-c,f=g3.buf2string(r.output,c);r.next_out=d,r.avail_out=a-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===ux&&l===0)){if(s===pj)return s=Vc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};H1.prototype.onData=function(e){this.chunks.push(e)};H1.prototype.onEnd=function(e){e===ux&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ER.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function dae(e,t){const r=new H1(t);if(r.push(e),r.err)throw r.msg||p3[r.err];return r.result}var fae=H1,uae=dae,hae={Inflate:fae,inflate:uae};const{Inflate:mae,inflate:pae}=hae;var ZM=mae,gae=pae;const UR=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;UR[e]=t}const eL=4294967295;function xae(e,t,r){let a=e;for(let n=0;n<r;n++)a=UR[(a^t[n])&255]^a>>>8;return a}function vae(e,t){return(xae(eL,e,t)^eL)>>>0}function tL(e,t,r){const a=e.readUint32(),n=vae(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${n}`)}function WR(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function HR(e,t,r,a){let n=0;for(;n<a;n++)t[n]=e[n];for(;n<r;n++)t[n]=e[n]+t[n-a]&255}function VR(e,t,r,a){let n=0;if(r.length===0)for(;n<a;n++)t[n]=e[n];else for(;n<a;n++)t[n]=e[n]+r[n]&255}function GR(e,t,r,a,n){let s=0;if(r.length===0){for(;s<n;s++)t[s]=e[s];for(;s<a;s++)t[s]=e[s]+(t[s-n]>>1)&255}else{for(;s<n;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<a;s++)t[s]=e[s]+(t[s-n]+r[s]>>1)&255}}function qR(e,t,r,a,n){let s=0;if(r.length===0){for(;s<n;s++)t[s]=e[s];for(;s<a;s++)t[s]=e[s]+t[s-n]&255}else{for(;s<n;s++)t[s]=e[s]+r[s]&255;for(;s<a;s++)t[s]=e[s]+yae(t[s-n],r[s],r[s-n])&255}}function yae(e,t,r){const a=e+t-r,n=Math.abs(a-e),s=Math.abs(a-t),o=Math.abs(a-r);return n<=s&&n<=o?e:s<=o?t:r}function bae(e,t,r,a,n,s){switch(e){case 0:WR(t,r,n);break;case 1:HR(t,r,n,s);break;case 2:VR(t,r,a,n);break;case 3:GR(t,r,a,n,s);break;case 4:qR(t,r,a,n,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const wae=new Uint16Array([255]),kae=new Uint8Array(wae.buffer),jae=kae[0]===255;function Nae(e){const{data:t,width:r,height:a,channels:n,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*n,c=new Uint8Array(a*r*l);let d=0;for(let f=0;f<7;f++){const u=o[f],m=Math.ceil((r-u.x)/u.xStep),h=Math.ceil((a-u.y)/u.yStep);if(m<=0||h<=0)continue;const g=m*l,p=new Uint8Array(g);for(let x=0;x<h;x++){const v=t[d++],b=t.subarray(d,d+g);d+=g;const y=new Uint8Array(g);bae(v,b,y,p,g,l),p.set(y);for(let w=0;w<m;w++){const j=u.x+w*u.xStep,E=u.y+x*u.yStep;if(!(j>=r||E>=a))for(let A=0;A<l;A++)c[(E*r+j)*l+A]=y[w*l+A]}}}if(s===16){const f=new Uint16Array(c.buffer);if(jae)for(let u=0;u<f.length;u++)f[u]=Sae(f[u]);return f}else return c}function Sae(e){return(e&255)<<8|e>>8&255}const Cae=new Uint16Array([255]),Aae=new Uint8Array(Cae.buffer),Eae=Aae[0]===255,_ae=new Uint8Array(0);function rL(e){const{data:t,width:r,height:a,channels:n,depth:s}=e,o=Math.ceil(s/8)*n,l=Math.ceil(s/8*n*r),c=new Uint8Array(a*l);let d=_ae,f=0,u,m;for(let h=0;h<a;h++){switch(u=t.subarray(f+1,f+1+l),m=c.subarray(h*l,(h+1)*l),t[f]){case 0:WR(u,m,l);break;case 1:HR(u,m,l,o);break;case 2:VR(u,m,d,l);break;case 3:GR(u,m,d,l,o);break;case 4:qR(u,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}d=m,f+=l+1}if(s===16){const h=new Uint16Array(c.buffer);if(Eae)for(let g=0;g<h.length;g++)h[g]=Mae(h[g]);return h}else return c}function Mae(e){return(e&255)<<8|e>>8&255}const ab=Uint8Array.of(137,80,78,71,13,10,26,10);function aL(e){if(!Lae(e.readBytes(ab.length)))throw new Error("wrong PNG signature")}function Lae(e){if(e.length<ab.length)return!1;for(let t=0;t<ab.length;t++)if(e[t]!==ab[t])return!1;return!0}const Tae="tEXt",Iae=0,YR=new TextDecoder("latin1");function Dae(e){if(Oae(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Pae=/^[\u0000-\u00FF]*$/;function Oae(e){if(!Pae.test(e))throw new Error("invalid latin1 text")}function Rae(e,t,r){const a=JR(t);e[a]=Fae(t,r-a.length-1)}function JR(e){for(e.mark();e.readByte()!==Iae;);const t=e.offset;e.reset();const r=YR.decode(e.readBytes(t-e.offset-1));return e.skip(1),Dae(r),r}function Fae(e,t){return YR.decode(e.readBytes(t))}const Ui={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xj={UNKNOWN:-1,DEFLATE:0},nL={UNKNOWN:-1,ADAPTIVE:0},vj={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ny={NONE:0,BACKGROUND:1,PREVIOUS:2},yj={SOURCE:0,OVER:1};class Bae extends C6{constructor(r,a={}){super(r);Ur(this,"_checkCrc");Ur(this,"_inflator");Ur(this,"_png");Ur(this,"_apng");Ur(this,"_end");Ur(this,"_hasPalette");Ur(this,"_palette");Ur(this,"_hasTransparency");Ur(this,"_transparency");Ur(this,"_compressionMethod");Ur(this,"_filterMethod");Ur(this,"_interlaceMethod");Ur(this,"_colorType");Ur(this,"_isAnimated");Ur(this,"_numberOfFrames");Ur(this,"_numberOfPlays");Ur(this,"_frames");Ur(this,"_writingDataChunks");const{checkCrc:n=!1}=a;this._checkCrc=n,this._inflator=new ZM,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xj.UNKNOWN,this._filterMethod=nL.UNKNOWN,this._interlaceMethod=vj.UNKNOWN,this._colorType=Ui.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(aL(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(aL(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const n=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Tae:Rae(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?tL(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const n=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=n+r;break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?tL(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=zae(this.readUint8());const a=this.readUint8();this._colorType=a;let n;switch(a){case Ui.GREYSCALE:n=1;break;case Ui.TRUECOLOUR:n=3;break;case Ui.INDEXED_COLOUR:n=1;break;case Ui.GREYSCALE_ALPHA:n=2;break;case Ui.TRUECOLOUR_ALPHA:n=4;break;case Ui.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==xj.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<a;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,n=this.offset+this.byteOffset;if(n+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ui.GREYSCALE:case Ui.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case Ui.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const n=this.readByte();this._palette[a].push(n)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Ui.UNKNOWN:case Ui.GREYSCALE_ALPHA:case Ui.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=JR(this),n=this.readUint8();if(n!==xj.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:gae(s)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),n=this.readByte();this._png.resolution={x:r,y:a,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(r);if(n){if(n.data=rL({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)a.data=n.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(n,s,a),this.addFrameDataToCanvas(a,n)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,n){switch(r.disposeOp){case ny.NONE:break;case ny.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)n.data[l+c]=0}break;case ny.PREVIOUS:n.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const n=1<<this._png.depth,s=(o,l)=>{const c=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,d=(o*a.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(a.blendOp){case yj.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:c,frameIndex:d}=s(o,l);for(let f=0;f<this._png.channels;f++)r.data[c+f]=a.data[d+f]}break;case yj.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:c,frameIndex:d}=s(o,l);for(let f=0;f<this._png.channels;f++){const u=a.data[d+this._png.channels-1]/n,m=f%(this._png.channels-1)===0?1:a.data[d+f],h=Math.floor(u*m+(1-u)*r.data[c+f]);r.data[c+f]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==nL.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===vj.NO_INTERLACE)this._png.data=rL({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===vj.ADAM7)this._png.data=Nae({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ny.NONE,blendOp:yj.SOURCE,data:r}),this._inflator=new ZM,this._writingDataChunks=!1}}function zae(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var sL;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(sL||(sL={}));function $ae(e,t){return new Bae(e,t).decode()}var Qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function bj(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var ga={log:bj,warn:function(e){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):bj.call(null,arguments))},error:function(e){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):bj(e))}};function wj(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){hu(a.response,t,r)},a.onerror=function(){ga.error("could not download file")},a.send()}function iL(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function sy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var hu=Qt.saveAs||((typeof window>"u"?"undefined":yr(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=Qt.URL||Qt.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?iL(n.href)?wj(e,t,r):sy(n,n.target="_blank"):sy(n)):(n.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){sy(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(iL(e))wj(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){sy(a)})}else navigator.msSaveOrOpenBlob(function(n,s){return s===void 0?s={autoBom:!1}:yr(s)!=="object"&&(ga.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return wj(e,t,r);var n=e.type==="application/octet-stream",s=/constructor/i.test(Qt.HTMLElement)||Qt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&s)&&(typeof FileReader>"u"?"undefined":yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=f:location=f,a=null},l.readAsDataURL(e)}else{var c=Qt.URL||Qt.webkitURL,d=c.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function KR(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var n=r[a].re,s=r[a].process,o=n.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var nb=Qt.atob.bind(Qt),oL=Qt.btoa.bind(Qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kj(e,t){var r=e[0],a=e[1],n=e[2],s=e[3];r=Os(r,a,n,s,t[0],7,-680876936),s=Os(s,r,a,n,t[1],12,-389564586),n=Os(n,s,r,a,t[2],17,606105819),a=Os(a,n,s,r,t[3],22,-1044525330),r=Os(r,a,n,s,t[4],7,-176418897),s=Os(s,r,a,n,t[5],12,1200080426),n=Os(n,s,r,a,t[6],17,-1473231341),a=Os(a,n,s,r,t[7],22,-45705983),r=Os(r,a,n,s,t[8],7,1770035416),s=Os(s,r,a,n,t[9],12,-1958414417),n=Os(n,s,r,a,t[10],17,-42063),a=Os(a,n,s,r,t[11],22,-1990404162),r=Os(r,a,n,s,t[12],7,1804603682),s=Os(s,r,a,n,t[13],12,-40341101),n=Os(n,s,r,a,t[14],17,-1502002290),r=Rs(r,a=Os(a,n,s,r,t[15],22,1236535329),n,s,t[1],5,-165796510),s=Rs(s,r,a,n,t[6],9,-1069501632),n=Rs(n,s,r,a,t[11],14,643717713),a=Rs(a,n,s,r,t[0],20,-373897302),r=Rs(r,a,n,s,t[5],5,-701558691),s=Rs(s,r,a,n,t[10],9,38016083),n=Rs(n,s,r,a,t[15],14,-660478335),a=Rs(a,n,s,r,t[4],20,-405537848),r=Rs(r,a,n,s,t[9],5,568446438),s=Rs(s,r,a,n,t[14],9,-1019803690),n=Rs(n,s,r,a,t[3],14,-187363961),a=Rs(a,n,s,r,t[8],20,1163531501),r=Rs(r,a,n,s,t[13],5,-1444681467),s=Rs(s,r,a,n,t[2],9,-51403784),n=Rs(n,s,r,a,t[7],14,1735328473),r=Fs(r,a=Rs(a,n,s,r,t[12],20,-1926607734),n,s,t[5],4,-378558),s=Fs(s,r,a,n,t[8],11,-2022574463),n=Fs(n,s,r,a,t[11],16,1839030562),a=Fs(a,n,s,r,t[14],23,-35309556),r=Fs(r,a,n,s,t[1],4,-1530992060),s=Fs(s,r,a,n,t[4],11,1272893353),n=Fs(n,s,r,a,t[7],16,-155497632),a=Fs(a,n,s,r,t[10],23,-1094730640),r=Fs(r,a,n,s,t[13],4,681279174),s=Fs(s,r,a,n,t[0],11,-358537222),n=Fs(n,s,r,a,t[3],16,-722521979),a=Fs(a,n,s,r,t[6],23,76029189),r=Fs(r,a,n,s,t[9],4,-640364487),s=Fs(s,r,a,n,t[12],11,-421815835),n=Fs(n,s,r,a,t[15],16,530742520),r=Bs(r,a=Fs(a,n,s,r,t[2],23,-995338651),n,s,t[0],6,-198630844),s=Bs(s,r,a,n,t[7],10,1126891415),n=Bs(n,s,r,a,t[14],15,-1416354905),a=Bs(a,n,s,r,t[5],21,-57434055),r=Bs(r,a,n,s,t[12],6,1700485571),s=Bs(s,r,a,n,t[3],10,-1894986606),n=Bs(n,s,r,a,t[10],15,-1051523),a=Bs(a,n,s,r,t[1],21,-2054922799),r=Bs(r,a,n,s,t[8],6,1873313359),s=Bs(s,r,a,n,t[15],10,-30611744),n=Bs(n,s,r,a,t[6],15,-1560198380),a=Bs(a,n,s,r,t[13],21,1309151649),r=Bs(r,a,n,s,t[4],6,-145523070),s=Bs(s,r,a,n,t[11],10,-1120210379),n=Bs(n,s,r,a,t[2],15,718787259),a=Bs(a,n,s,r,t[9],21,-343485551),e[0]=rf(r,e[0]),e[1]=rf(a,e[1]),e[2]=rf(n,e[2]),e[3]=rf(s,e[3])}function Ow(e,t,r,a,n,s){return t=rf(rf(t,e),rf(a,s)),rf(t<<n|t>>>32-n,r)}function Os(e,t,r,a,n,s,o){return Ow(t&r|~t&a,e,t,n,s,o)}function Rs(e,t,r,a,n,s,o){return Ow(t&a|r&~a,e,t,n,s,o)}function Fs(e,t,r,a,n,s,o){return Ow(t^r^a,e,t,n,s,o)}function Bs(e,t,r,a,n,s,o){return Ow(r^(t|~a),e,t,n,s,o)}function QR(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)kj(a,Uae(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(kj(a,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,kj(a,n),a}function Uae(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var lL="0123456789abcdef".split("");function Wae(e){for(var t="",r=0;r<4;r++)t+=lL[e>>8*r+4&15]+lL[e>>8*r&15];return t}function Hae(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function x3(e){return QR(e).map(Hae).join("")}var Vae=function(e){for(var t=0;t<e.length;t++)e[t]=Wae(e[t]);return e.join("")}(QR("hello"))!="5d41402abc4b2a76b9719d911017c592";function rf(e,t){if(Vae){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function v3(e,t){var r,a,n,s;if(e!==r){for(var o=(n=e,s=1+(256/e.length|0),new Array(s+1).join(n)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var f=l[c];d=(d+f+o.charCodeAt(c))%256,l[c]=l[d],l[d]=f}r=e,a=l}else l=a;var u=t.length,m=0,h=0,g="";for(c=0;c<u;c++)h=(h+(f=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=f,o=l[(l[m]+l[h])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var cL={print:4,modify:8,copy:16,"annot-forms":32};function fh(e,t,r,a){this.v=1,this.r=2;var n=192;e.forEach(function(l){if(cL.perm!==void 0)throw new Error("Invalid permission: "+l);n+=cL[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^n)),this.encryptionKey=x3(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=v3(this.encryptionKey,this.padding)}function uh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var n=e.charCodeAt(a);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[a]}return t}function dL(e){if(yr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,n){if(n=n||!1,typeof r!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[a,!!n],s},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,a)}catch(l){Qt.console&&ga.error("jsPDF PubSub Error",l.message,l)}o[1]&&n.push(s)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Pb(e){if(!(this instanceof Pb))return new Pb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function XR(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function yu(e,t,r,a,n){if(!(this instanceof yu))return new yu(e,t,r,a,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,XR.call(this,a,n)}function yh(e,t,r,a,n){if(!(this instanceof yh))return new yh(e,t,r,a,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,XR.call(this,a,n)}function zt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],s=arguments[3],o=[],l=1,c=16,d="S",f=null;yr(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,n=e.format||n,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=dL;var g="1.3",p=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(P){g=P};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var v=h.__private__.getPageFormat=function(P){return x[P]};n=n||"a4";var b="compat",y="advanced",w=b;function j(){this.saveGraphicsState(),se(new Rt(Be,0,0,-Be,0,Zf()*Be).toString()+" cm"),this.setFontSize(this.getFontSize()/Be),d="n",w=y}function E(){this.restoreGraphicsState(),d="S",w=b}var A=h.__private__.combineFontStyleAndFontWeight=function(P,X){if(P=="bold"&&X=="normal"||P=="bold"&&X==400||P=="normal"&&X=="italic"||P=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(P=X==400||X==="normal"?P==="italic"?"italic":"normal":X!=700&&X!=="bold"||P!=="normal"?(X==700?"bold":X)+""+P:"bold"),P};h.advancedAPI=function(P){var X=w===b;return X&&j.call(this),typeof P!="function"||(P(this),X&&E.call(this)),this},h.compatAPI=function(P){var X=w===y;return X&&E.call(this),typeof P!="function"||(P(this),X&&j.call(this)),this},h.isAdvancedAPI=function(){return w===y};var C,S=function(P){if(w!==y)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=h.roundToPrecision=h.__private__.roundToPrecision=function(P,X){var je=t||X;if(isNaN(P)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(je).replace(/0+$/,"")};C=h.hpf=h.__private__.hpf=typeof c=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return T(P,c)}:c==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return T(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return T(P,16)};var _=h.f2=h.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return T(P,2)},M=h.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return T(P,3)},D=h.scale=h.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return w===b?P*Be:w===y?P:void 0},O=function(P){return D(function(X){return w===b?Zf()-X:w===y?X:void 0}(P))};h.__private__.setPrecision=h.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var B,U="00000000000000000000000000000000",q=h.__private__.getFileId=function(){return U},K=h.__private__.setFileId=function(P){return U=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(mn=new fh(f.userPermissions,f.userPassword,f.ownerPassword,U)),U};h.setFileId=function(P){return K(P),this},h.getFileId=function(){return q()};var G=h.__private__.convertDateToPDFDate=function(P){var X=P.getTimezoneOffset(),je=X<0?"+":"-",Me=Math.floor(Math.abs(X/60)),$e=Math.abs(X%60),at=[je,H(Me),"'",H($e),"'"].join("");return["D:",P.getFullYear(),H(P.getMonth()+1),H(P.getDate()),H(P.getHours()),H(P.getMinutes()),H(P.getSeconds()),at].join("")},ve=h.__private__.convertPDFDateToDate=function(P){var X=parseInt(P.substr(2,4),10),je=parseInt(P.substr(6,2),10)-1,Me=parseInt(P.substr(8,2),10),$e=parseInt(P.substr(10,2),10),at=parseInt(P.substr(12,2),10),ct=parseInt(P.substr(14,2),10);return new Date(X,je,Me,$e,at,ct,0)},fe=h.__private__.setCreationDate=function(P){var X;if(P===void 0&&(P=new Date),P instanceof Date)X=G(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=P}return B=X},I=h.__private__.getCreationDate=function(P){var X=B;return P==="jsDate"&&(X=ve(B)),X};h.setCreationDate=function(P){return fe(P),this},h.getCreationDate=function(P){return I(P)};var z,H=h.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},J=h.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},te=0,W=[],Y=[],Q=0,ne=[],pe=[],F=!1,Te=Y;h.__private__.setCustomOutputDestination=function(P){F=!0,Te=P};var xe=function(P){F||(Te=P)};h.__private__.resetCustomOutputDestination=function(){F=!1,Te=Y};var se=h.__private__.out=function(P){return P=P.toString(),Q+=P.length+1,Te.push(P),Te},We=h.__private__.write=function(P){return se(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Se=h.__private__.getArrayBuffer=function(P){for(var X=P.length,je=new ArrayBuffer(X),Me=new Uint8Array(je);X--;)Me[X]=P.charCodeAt(X);return je},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Fe};var he=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(P){return he=w===y?P/Be:P,this};var ie,de=h.__private__.getFontSize=h.getFontSize=function(){return w===b?he:he*Be},Ae=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(P){return Ae=P,this},h.__private__.getR2L=h.getR2L=function(){return Ae};var ze,Ce=h.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ie=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ie=P}else ie=parseInt(P,10)};h.__private__.getZoomMode=function(){return ie};var _e,Ve=h.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');ze=P};h.__private__.getPageMode=function(){return ze};var Ie=h.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');_e=P};h.__private__.getLayoutMode=function(){return _e},h.__private__.setDisplayMode=h.setDisplayMode=function(P,X,je){return Ce(P),Ie(X),Ve(je),this};var Re={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(P){if(Object.keys(Re).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Re[P]},h.__private__.getDocumentProperties=function(){return Re},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(P){for(var X in Re)Re.hasOwnProperty(X)&&P[X]&&(Re[X]=P[X]);return this},h.__private__.setDocumentProperty=function(P,X){if(Object.keys(Re).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Re[P]=X};var Ee,Be,Pe,it,ft,st={},pt={},At=[],St={},Ut={},Wt={},Jr={},Ht=null,It=0,Nt=[],Kt=new dL(h),ls=e.hotfixes||[],zr={},Ma={},Ka=[],Rt=function P(X,je,Me,$e,at,ct){if(!(this instanceof P))return new P(X,je,Me,$e,at,ct);isNaN(X)&&(X=1),isNaN(je)&&(je=0),isNaN(Me)&&(Me=0),isNaN($e)&&($e=1),isNaN(at)&&(at=0),isNaN(ct)&&(ct=0),this._matrix=[X,je,Me,$e,at,ct]};Object.defineProperty(Rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(P)},Rt.prototype.multiply=function(P){var X=P.sx*this.sx+P.shy*this.shx,je=P.sx*this.shy+P.shy*this.sy,Me=P.shx*this.sx+P.sy*this.shx,$e=P.shx*this.shy+P.sy*this.sy,at=P.tx*this.sx+P.ty*this.shx+this.tx,ct=P.tx*this.shy+P.ty*this.sy+this.ty;return new Rt(X,je,Me,$e,at,ct)},Rt.prototype.decompose=function(){var P=this.sx,X=this.shy,je=this.shx,Me=this.sy,$e=this.tx,at=this.ty,ct=Math.sqrt(P*P+X*X),Lt=(P/=ct)*je+(X/=ct)*Me;je-=P*Lt,Me-=X*Lt;var Ft=Math.sqrt(je*je+Me*Me);return Lt/=Ft,P*(Me/=Ft)<X*(je/=Ft)&&(P=-P,X=-X,Lt=-Lt,ct=-ct),{scale:new Rt(ct,0,0,Ft,0,0),translate:new Rt(1,0,0,1,$e,at),rotate:new Rt(P,X,-X,P,0,0),skew:new Rt(1,0,Lt,1,0,0)}},Rt.prototype.toString=function(P){return this.join(" ")},Rt.prototype.inversed=function(){var P=this.sx,X=this.shy,je=this.shx,Me=this.sy,$e=this.tx,at=this.ty,ct=1/(P*Me-X*je),Lt=Me*ct,Ft=-X*ct,Zt=-je*ct,tr=P*ct;return new Rt(Lt,Ft,Zt,tr,-Lt*$e-Zt*at,-Ft*$e-tr*at)},Rt.prototype.applyToPoint=function(P){var X=P.x*this.sx+P.y*this.shx+this.tx,je=P.x*this.shy+P.y*this.sy+this.ty;return new Qf(X,je)},Rt.prototype.applyToRectangle=function(P){var X=this.applyToPoint(P),je=this.applyToPoint(new Qf(P.x+P.w,P.y+P.h));return new Rp(X.x,X.y,je.x-X.x,je.y-X.y)},Rt.prototype.clone=function(){var P=this.sx,X=this.shy,je=this.shx,Me=this.sy,$e=this.tx,at=this.ty;return new Rt(P,X,je,Me,$e,at)},h.Matrix=Rt;var Kr=h.matrixMult=function(P,X){return X.multiply(P)},_n=new Rt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=_n;var ua=function(P,X){if(!Ut[P]){var je=(X instanceof yu?"Sh":"P")+(Object.keys(St).length+1).toString(10);X.id=je,Ut[P]=je,St[je]=X,Kt.publish("addPattern",X)}};h.ShadingPattern=yu,h.TilingPattern=yh,h.addShadingPattern=function(P,X){return S("addShadingPattern()"),ua(P,X),this},h.beginTilingPattern=function(P){S("beginTilingPattern()"),Fp(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},h.endTilingPattern=function(P,X){S("endTilingPattern()"),X.stream=pe[z].join(`
`),ua(P,X),Kt.publish("endTilingPattern",X),Ka.pop().restore()};var Ha,Vr=h.__private__.newObject=function(){var P=Na();return re(P,!0),P},Na=h.__private__.newObjectDeferred=function(){return te++,W[te]=function(){return Q},te},re=function(P,X){return X=typeof X=="boolean"&&X,W[P]=Q,X&&se(P+" 0 obj"),P},ye=h.__private__.newAdditionalObject=function(){var P={objId:Na(),content:""};return ne.push(P),P},ce=Na(),ge=Na(),ke=h.__private__.decodeColorString=function(P){var X=P.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var je=parseFloat(X[0]);X=[je,je,je,"r"]}for(var Me="#",$e=0;$e<3;$e++)Me+=("0"+Math.floor(255*parseFloat(X[$e])).toString(16)).slice(-2);return Me},Ne=h.__private__.encodeColorString=function(P){var X;typeof P=="string"&&(P={ch1:P});var je=P.ch1,Me=P.ch2,$e=P.ch3,at=P.ch4,ct=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var Lt=new KR(je);if(Lt.ok)je=Lt.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var Ft=parseInt(je.substr(1),16);je=Ft>>16&255,Me=Ft>>8&255,$e=255&Ft}if(Me===void 0||at===void 0&&je===Me&&Me===$e)X=typeof je=="string"?je+" "+ct[0]:P.precision===2?_(je/255)+" "+ct[0]:M(je/255)+" "+ct[0];else if(at===void 0||yr(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return["1.","1.","1.",ct[1]].join(" ");X=typeof je=="string"?[je,Me,$e,ct[1]].join(" "):P.precision===2?[_(je/255),_(Me/255),_($e/255),ct[1]].join(" "):[M(je/255),M(Me/255),M($e/255),ct[1]].join(" ")}else X=typeof je=="string"?[je,Me,$e,at,ct[2]].join(" "):P.precision===2?[_(je),_(Me),_($e),_(at),ct[2]].join(" "):[M(je),M(Me),M($e),M(at),ct[2]].join(" ");return X},He=h.__private__.getFilters=function(){return o},Xe=h.__private__.putStream=function(P){var X=(P=P||{}).data||"",je=P.filters||He(),Me=P.alreadyAppliedFilters||[],$e=P.addLength1||!1,at=X.length,ct=P.objectId,Lt=function(Hn){return Hn};if(f!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Lt=mn.encryptor(ct,0));var Ft={};je===!0&&(je=["FlateEncode"]);var Zt=P.additionalKeyValues||[],tr=(Ft=zt.API.processDataByFilters!==void 0?zt.API.processDataByFilters(X,je):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(Ft.data.length!==0&&(Zt.push({key:"Length",value:Ft.data.length}),$e===!0&&Zt.push({key:"Length1",value:at})),tr.length!=0)if(tr.split("/").length-1==1)Zt.push({key:"Filter",value:tr});else{Zt.push({key:"Filter",value:"["+tr+"]"});for(var $r=0;$r<Zt.length;$r+=1)if(Zt[$r].key==="DecodeParms"){for(var Qa=[],Ln=0;Ln<Ft.reverseChain.split("/").length-1;Ln+=1)Qa.push("null");Qa.push(Zt[$r].value),Zt[$r].value="["+Qa.join(" ")+"]"}}se("<<");for(var Sa=0;Sa<Zt.length;Sa++)se("/"+Zt[Sa].key+" "+Zt[Sa].value);se(">>"),Ft.data.length!==0&&(se("stream"),se(Lt(Ft.data)),se("endstream"))},Ge=h.__private__.putPage=function(P){var X=P.number,je=P.data,Me=P.objId,$e=P.contentsObjId;re(Me,!0),se("<</Type /Page"),se("/Parent "+P.rootDictionaryObjId+" 0 R"),se("/Resources "+P.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(C(P.mediaBox.bottomLeftX))+" "+parseFloat(C(P.mediaBox.bottomLeftY))+" "+C(P.mediaBox.topRightX)+" "+C(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&se("/CropBox ["+C(P.cropBox.bottomLeftX)+" "+C(P.cropBox.bottomLeftY)+" "+C(P.cropBox.topRightX)+" "+C(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&se("/BleedBox ["+C(P.bleedBox.bottomLeftX)+" "+C(P.bleedBox.bottomLeftY)+" "+C(P.bleedBox.topRightX)+" "+C(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&se("/TrimBox ["+C(P.trimBox.bottomLeftX)+" "+C(P.trimBox.bottomLeftY)+" "+C(P.trimBox.topRightX)+" "+C(P.trimBox.topRightY)+"]"),P.artBox!==null&&se("/ArtBox ["+C(P.artBox.bottomLeftX)+" "+C(P.artBox.bottomLeftY)+" "+C(P.artBox.topRightX)+" "+C(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&se("/UserUnit "+P.userUnit),Kt.publish("putPage",{objId:Me,pageContext:Nt[X],pageNumber:X,page:je}),se("/Contents "+$e+" 0 R"),se(">>"),se("endobj");var at=je.join(`
`);return w===y&&(at+=`
Q`),re($e,!0),Xe({data:at,filters:He(),objectId:$e}),se("endobj"),Me},qe=h.__private__.putPages=function(){var P,X,je=[];for(P=1;P<=It;P++)Nt[P].objId=Na(),Nt[P].contentsObjId=Na();for(P=1;P<=It;P++)je.push(Ge({number:P,data:pe[P],objId:Nt[P].objId,contentsObjId:Nt[P].contentsObjId,mediaBox:Nt[P].mediaBox,cropBox:Nt[P].cropBox,bleedBox:Nt[P].bleedBox,trimBox:Nt[P].trimBox,artBox:Nt[P].artBox,userUnit:Nt[P].userUnit,rootDictionaryObjId:ce,resourceDictionaryObjId:ge}));re(ce,!0),se("<</Type /Pages");var Me="/Kids [";for(X=0;X<It;X++)Me+=je[X]+" 0 R ";se(Me+"]"),se("/Count "+It),se(">>"),se("endobj"),Kt.publish("postPutPages")},Ke=function(P){Kt.publish("putFont",{font:P,out:se,newObject:Vr,putStream:Xe}),P.isAlreadyPutted!==!0&&(P.objectNumber=Vr(),se("<<"),se("/Type /Font"),se("/BaseFont /"+uh(P.postScriptName)),se("/Subtype /Type1"),typeof P.encoding=="string"&&se("/Encoding /"+P.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},dt=function(P){P.objectNumber=Vr();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[C(P.x),C(P.y),C(P.x+P.width),C(P.y+P.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var je=P.pages[1].join(`
`);Xe({data:je,additionalKeyValues:X,objectId:P.objectNumber}),se("endobj")},gt=function(P,X){X||(X=21);var je=Vr(),Me=function(ct,Lt){var Ft,Zt=[],tr=1/(Lt-1);for(Ft=0;Ft<1;Ft+=tr)Zt.push(Ft);if(Zt.push(1),ct[0].offset!=0){var $r={offset:0,color:ct[0].color};ct.unshift($r)}if(ct[ct.length-1].offset!=1){var Qa={offset:1,color:ct[ct.length-1].color};ct.push(Qa)}for(var Ln="",Sa=0,Hn=0;Hn<Zt.length;Hn++){for(Ft=Zt[Hn];Ft>ct[Sa+1].offset;)Sa++;var Tn=ct[Sa].offset,bs=(Ft-Tn)/(ct[Sa+1].offset-Tn),fo=ct[Sa].color,bi=ct[Sa+1].color;Ln+=J(Math.round((1-bs)*fo[0]+bs*bi[0]).toString(16))+J(Math.round((1-bs)*fo[1]+bs*bi[1]).toString(16))+J(Math.round((1-bs)*fo[2]+bs*bi[2]).toString(16))}return Ln.trim()}(P.colors,X),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+X+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe({data:Me,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),se("endobj"),P.objectNumber=Vr(),se("<< /ShadingType "+P.type),se("/ColorSpace /DeviceRGB");var at="/Coords ["+C(parseFloat(P.coords[0]))+" "+C(parseFloat(P.coords[1]))+" ";P.type===2?at+=C(parseFloat(P.coords[2]))+" "+C(parseFloat(P.coords[3])):at+=C(parseFloat(P.coords[2]))+" "+C(parseFloat(P.coords[3]))+" "+C(parseFloat(P.coords[4]))+" "+C(parseFloat(P.coords[5])),se(at+="]"),P.matrix&&se("/Matrix ["+P.matrix.toString()+"]"),se("/Function "+je+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},kt=function(P,X){var je=Na(),Me=Vr();X.push({resourcesOid:je,objectOid:Me}),P.objectNumber=Me;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+P.boundingBox.map(C).join(" ")+"]"}),$e.push({key:"XStep",value:C(P.xStep)}),$e.push({key:"YStep",value:C(P.yStep)}),$e.push({key:"Resources",value:je+" 0 R"}),P.matrix&&$e.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Xe({data:P.stream,additionalKeyValues:$e,objectId:P.objectNumber}),se("endobj")},ht=function(P){for(var X in P.objectNumber=Vr(),se("<<"),P)switch(X){case"opacity":se("/ca "+_(P[X]));break;case"stroke-opacity":se("/CA "+_(P[X]))}se(">>"),se("endobj")},wt=function(P){re(P.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var X in se("/Font <<"),st)st.hasOwnProperty(X)&&(u===!1||u===!0&&m.hasOwnProperty(X))&&se("/"+X+" "+st[X].objectNumber+" 0 R");se(">>")}(),function(){if(Object.keys(St).length>0){for(var X in se("/Shading <<"),St)St.hasOwnProperty(X)&&St[X]instanceof yu&&St[X].objectNumber>=0&&se("/"+X+" "+St[X].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),se(">>")}}(),function(X){if(Object.keys(St).length>0){for(var je in se("/Pattern <<"),St)St.hasOwnProperty(je)&&St[je]instanceof h.TilingPattern&&St[je].objectNumber>=0&&St[je].objectNumber<X&&se("/"+je+" "+St[je].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),se(">>")}}(P.objectOid),function(){if(Object.keys(Wt).length>0){var X;for(X in se("/ExtGState <<"),Wt)Wt.hasOwnProperty(X)&&Wt[X].objectNumber>=0&&se("/"+X+" "+Wt[X].objectNumber+" 0 R");Kt.publish("putGStateDict"),se(">>")}}(),function(){for(var X in se("/XObject <<"),zr)zr.hasOwnProperty(X)&&zr[X].objectNumber>=0&&se("/"+X+" "+zr[X].objectNumber+" 0 R");Kt.publish("putXobjectDict"),se(">>")}(),se(">>"),se("endobj")},Yt=function(P){pt[P.fontName]=pt[P.fontName]||{},pt[P.fontName][P.fontStyle]=P.id},sa=function(P,X,je,Me,$e){var at={id:"F"+(Object.keys(st).length+1).toString(10),postScriptName:P,fontName:X,fontStyle:je,encoding:Me,isStandardFont:$e||!1,metadata:{}};return Kt.publish("addFont",{font:at,instance:this}),st[at.id]=at,Yt(at),at.id},vr=h.__private__.pdfEscape=h.pdfEscape=function(P,X){return function(je,Me){var $e,at,ct,Lt,Ft,Zt,tr,$r,Qa;if(ct=(Me=Me||{}).sourceEncoding||"Unicode",Ft=Me.outputEncoding,(Me.autoencode||Ft)&&st[Ee].metadata&&st[Ee].metadata[ct]&&st[Ee].metadata[ct].encoding&&(Lt=st[Ee].metadata[ct].encoding,!Ft&&st[Ee].encoding&&(Ft=st[Ee].encoding),!Ft&&Lt.codePages&&(Ft=Lt.codePages[0]),typeof Ft=="string"&&(Ft=Lt[Ft]),Ft)){for(tr=!1,Zt=[],$e=0,at=je.length;$e<at;$e++)($r=Ft[je.charCodeAt($e)])?Zt.push(String.fromCharCode($r)):Zt.push(je[$e]),Zt[$e].charCodeAt(0)>>8&&(tr=!0);je=Zt.join("")}for($e=je.length;tr===void 0&&$e!==0;)je.charCodeAt($e-1)>>8&&(tr=!0),$e--;if(!tr)return je;for(Zt=Me.noBOM?[]:[254,255],$e=0,at=je.length;$e<at;$e++){if((Qa=($r=je.charCodeAt($e))>>8)>>8)throw new Error("Character at position "+$e+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zt.push(Qa),Zt.push($r-(Qa<<8))}return String.fromCharCode.apply(void 0,Zt)}(P,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tn=h.__private__.beginPage=function(P){pe[++It]=[],Nt[It]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Bl(It),xe(pe[z])},Fl=function(P,X){var je,Me,$e;switch(r=X||r,typeof P=="string"&&(je=v(P.toLowerCase()),Array.isArray(je)&&(Me=je[0],$e=je[1])),Array.isArray(P)&&(Me=P[0]*Be,$e=P[1]*Be),isNaN(Me)&&(Me=n[0],$e=n[1]),(Me>14400||$e>14400)&&(ga.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),$e=Math.min(14400,$e)),n=[Me,$e],r.substr(0,1)){case"l":$e>Me&&(n=[$e,Me]);break;case"p":Me>$e&&(n=[$e,Me])}tn(n),Lk(Ip),se(z0),Pp!==0&&se(Pp+" J"),Op!==0&&se(Op+" j"),Kt.publish("addPage",{pageNumber:It})},Xo=function(P){P>0&&P<=It&&(pe.splice(P,1),Nt.splice(P,1),It--,z>It&&(z=It),this.setPage(z))},Bl=function(P){P>0&&P<=It&&(z=P)},co=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return pe.length-1},Sd=function(P,X,je){var Me,$e=void 0;return je=je||{},P=P!==void 0?P:st[Ee].fontName,X=X!==void 0?X:st[Ee].fontStyle,Me=P.toLowerCase(),pt[Me]!==void 0&&pt[Me][X]!==void 0?$e=pt[Me][X]:pt[P]!==void 0&&pt[P][X]!==void 0?$e=pt[P][X]:je.disableWarning===!1&&ga.warn("Unable to look up font label for font '"+P+"', '"+X+"'. Refer to getFontList() for available fonts."),$e||je.noFallback||($e=pt.times[X])==null&&($e=pt.times.normal),$e},Is=h.__private__.putInfo=function(){var P=Vr(),X=function(Me){return Me};for(var je in f!==null&&(X=mn.encryptor(P,0)),se("<<"),se("/Producer ("+vr(X("jsPDF "+zt.version))+")"),Re)Re.hasOwnProperty(je)&&Re[je]&&se("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+vr(X(Re[je]))+")");se("/CreationDate ("+vr(X(B))+")"),se(">>"),se("endobj")},jk=h.__private__.putCatalog=function(P){var X=(P=P||{}).rootDictionaryObjId||ce;switch(Vr(),se("<<"),se("/Type /Catalog"),se("/Pages "+X+" 0 R"),ie||(ie="fullwidth"),ie){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+ie;je.substr(je.length-1)==="%"&&(ie=parseInt(ie)/100),typeof ie=="number"&&se("/OpenAction [3 0 R /XYZ null null "+_(ie)+"]")}switch(_e||(_e="continuous"),_e){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}ze&&se("/PageMode /"+ze),Kt.publish("putCatalog"),se(">>"),se("endobj")},Mn=h.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(te+1)),se("/Root "+te+" 0 R"),se("/Info "+(te-1)+" 0 R"),f!==null&&se("/Encrypt "+mn.oid+" 0 R"),se("/ID [ <"+U+"> <"+U+"> ]"),se(">>")},Nv=h.__private__.putHeader=function(){se("%PDF-"+g),se("%ºß¬à")},Sv=h.__private__.putXRef=function(){var P="0000000000";se("xref"),se("0 "+(te+1)),se("0000000000 65535 f ");for(var X=1;X<=te;X++)typeof W[X]=="function"?se((P+W[X]()).slice(-10)+" 00000 n "):W[X]!==void 0?se((P+W[X]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Ac=h.__private__.buildDocument=function(){var P;te=0,Q=0,Y=[],W=[],ne=[],ce=Na(),ge=Na(),xe(Y),Kt.publish("buildDocument"),Nv(),qe(),function(){Kt.publish("putAdditionalObjects");for(var je=0;je<ne.length;je++){var Me=ne[je];re(Me.objId,!0),se(Me.content),se("endobj")}Kt.publish("postPutAdditionalObjects")}(),P=[],function(){for(var je in st)st.hasOwnProperty(je)&&(u===!1||u===!0&&m.hasOwnProperty(je))&&Ke(st[je])}(),function(){var je;for(je in Wt)Wt.hasOwnProperty(je)&&ht(Wt[je])}(),function(){for(var je in zr)zr.hasOwnProperty(je)&&dt(zr[je])}(),function(je){var Me;for(Me in St)St.hasOwnProperty(Me)&&(St[Me]instanceof yu?gt(St[Me]):St[Me]instanceof yh&&kt(St[Me],je))}(P),Kt.publish("putResources"),P.forEach(wt),wt({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),f!==null&&(mn.oid=Vr(),se("<<"),se("/Filter /Standard"),se("/V "+mn.v),se("/R "+mn.r),se("/U <"+mn.toHexString(mn.U)+">"),se("/O <"+mn.toHexString(mn.O)+">"),se("/P "+mn.P),se(">>"),se("endobj")),Is(),jk();var X=Q;return Sv(),Mn(),se("startxref"),se(""+X),se("%%EOF"),xe(pe[z]),Y.join(`
`)},Vf=h.__private__.getBlob=function(P){return new Blob([Se(P)],{type:"application/pdf"})},Zo=h.output=h.__private__.output=(Ha=function(P,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",P){case void 0:return Ac();case"save":h.save(X.filename);break;case"arraybuffer":return Se(Ac());case"blob":return Vf(Ac());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(Vf(Ac()))||void 0;ga.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Me=Ac();try{je=oL(Me)}catch{je=oL(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+X.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&($e=X.pdfObjectUrl,at="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",Lt=Qt.open();return Lt!==null&&Lt.document.write(ct),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',Zt=Qt.open();if(Zt!==null){Zt.document.write(Ft);var tr=this;Zt.document.documentElement.querySelector("#pdfViewer").onload=function(){Zt.document.title=X.filename,Zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tr.output("bloburl"))}}return Zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',Qa=Qt.open();if(Qa!==null&&(Qa.document.write($r),Qa.document.title=X.filename),Qa||typeof safari>"u")return Qa;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",X);default:return null}},Ha.foo=function(){try{return Ha.apply(this,arguments)}catch(je){var P=je.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var X="Error in function "+P.split(`
`)[0].split("<")[0]+": "+je.message;if(!Qt.console)throw new Error(X);Qt.console.error(X,je),Qt.alert&&alert(X)}},Ha.foo.bar=Ha,Ha.foo),Gf=function(P){return Array.isArray(ls)===!0&&ls.indexOf(P)>-1};switch(a){case"pt":Be=1;break;case"mm":Be=72/25.4;break;case"cm":Be=72/2.54;break;case"in":Be=72;break;case"px":Be=Gf("px_scaling")==1?.75:96/72;break;case"pc":case"em":Be=12;break;case"ex":Be=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Be=a}var mn=null;fe(),K();var Mp=h.__private__.getPageInfo=h.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[P].objId,pageNumber:P,pageContext:Nt[P]}},Nk=h.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Nt)if(Nt[X].objId===P)break;return Mp(X)},Sk=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Nt[z].objId,pageNumber:z,pageContext:Nt[z]}};h.addPage=function(){return Fl.apply(this,arguments),this},h.setPage=function(){return Bl.apply(this,arguments),xe.call(this,pe[z]),this},h.insertPage=function(P){return this.addPage(),this.movePage(z,P),this},h.movePage=function(P,X){var je,Me;if(P>X){je=pe[P],Me=Nt[P];for(var $e=P;$e>X;$e--)pe[$e]=pe[$e-1],Nt[$e]=Nt[$e-1];pe[X]=je,Nt[X]=Me,this.setPage(X)}else if(P<X){je=pe[P],Me=Nt[P];for(var at=P;at<X;at++)pe[at]=pe[at+1],Nt[at]=Nt[at+1];pe[X]=je,Nt[X]=Me,this.setPage(X)}return this},h.deletePage=function(){return Xo.apply(this,arguments),this},h.__private__.text=h.text=function(P,X,je,Me,$e){var at,ct,Lt,Ft,Zt,tr,$r,Qa,Ln,Sa=(Me=Me||{}).scope||this;if(typeof P=="number"&&typeof X=="number"&&(typeof je=="string"||Array.isArray(je))){var Hn=je;je=X,X=P,P=Hn}if(arguments[3]instanceof Rt==0?(Lt=arguments[4],Ft=arguments[5],yr($r=arguments[3])==="object"&&$r!==null||(typeof Lt=="string"&&(Ft=Lt,Lt=null),typeof $r=="string"&&(Ft=$r,$r=null),typeof $r=="number"&&(Lt=$r,$r=null),Me={flags:$r,angle:Lt,align:Ft})):(S("The transform parameter of text() with a Matrix value"),Ln=$e),isNaN(X)||isNaN(je)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return Sa;var Tn,bs="",fo=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:Yf,bi=Sa.internal.scaleFactor;function Iv(Gr){return Gr=Gr.split("	").join(Array(Me.TabLen||9).join(" ")),vr(Gr,$r)}function H0(Gr){for(var ha,gn=Gr.concat(),Vn=[],Dc=gn.length;Dc--;)typeof(ha=gn.shift())=="string"?Vn.push(ha):Array.isArray(Gr)&&(ha.length===1||ha[1]===void 0&&ha[2]===void 0)?Vn.push(ha[0]):Vn.push([ha[0],ha[1],ha[2]]);return Vn}function eu(Gr,ha){var gn;if(typeof Gr=="string")gn=ha(Gr)[0];else if(Array.isArray(Gr)){for(var Vn,Dc,Yp=Gr.concat(),q0=[],Ov=Yp.length;Ov--;)typeof(Vn=Yp.shift())=="string"?q0.push(ha(Vn)[0]):Array.isArray(Vn)&&typeof Vn[0]=="string"&&(Dc=ha(Vn[0],Vn[1],Vn[2]),q0.push([Dc[0],Dc[1],Dc[2]]));gn=q0}return gn}var Ed=!1,tu=!0;if(typeof P=="string")Ed=!0;else if(Array.isArray(P)){var ru=P.concat();ct=[];for(var au,Ds=ru.length;Ds--;)(typeof(au=ru.shift())!="string"||Array.isArray(au)&&typeof au[0]!="string")&&(tu=!1);Ed=tu}if(Ed===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var nu=he/Sa.internal.scaleFactor,su=nu*(fo-1);switch(Me.baseline){case"bottom":je-=su;break;case"top":je+=nu-su;break;case"hanging":je+=nu-2*su;break;case"middle":je+=nu/2-su}if((tr=Me.maxWidth||0)>0&&(typeof P=="string"?P=Sa.splitTextToSize(P,tr):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(Gr,ha){return Gr.concat(Sa.splitTextToSize(ha,tr))},[]))),at={text:P,x:X,y:je,options:Me,mutex:{pdfEscape:vr,activeFontKey:Ee,fonts:st,activeFontSize:he}},Kt.publish("preProcessText",at),P=at.text,Lt=(Me=at.options).angle,Ln instanceof Rt==0&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,Me.rotationDirection===0&&(Lt=-Lt),w===y&&(Lt=-Lt);var Bp=Math.cos(Lt),zp=Math.sin(Lt);Ln=new Rt(Bp,zp,-zp,Bp,0,0)}else Lt&&Lt instanceof Rt&&(Ln=Lt);w!==y||Ln||(Ln=_n),(Zt=Me.charSpace||U0)!==void 0&&(bs+=C(D(Zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qa=Me.horizontalScale)!==void 0&&(bs+=C(100*Qa)+` Tz
`),Me.lang;var rn=-1,Tc=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,V0=Sa.internal.getCurrentPageInfo().pageContext;switch(Tc){case 0:case!1:case"fill":rn=0;break;case 1:case!0:case"stroke":rn=1;break;case 2:case"fillThenStroke":rn=2;break;case 3:case"invisible":rn=3;break;case 4:case"fillAndAddForClipping":rn=4;break;case 5:case"strokeAndAddPathForClipping":rn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":rn=6;break;case 7:case"addToPathForClipping":rn=7}var Dv=V0.usedRenderingMode!==void 0?V0.usedRenderingMode:-1;rn!==-1?bs+=rn+` Tr
`:Dv!==-1&&(bs+=`0 Tr
`),rn!==-1&&(V0.usedRenderingMode=rn),Ft=Me.align||"left";var uo,iu=he*fo,$p=Sa.internal.pageSize.getWidth(),Up=st[Ee];Zt=Me.charSpace||U0,tr=Me.maxWidth||0,$r=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var _d=[],ou=function(Gr){return Sa.getStringUnitWidth(Gr,{font:Up,charSpace:Zt,fontSize:he,doKerning:!1})*he/bi};if(Object.prototype.toString.call(P)==="[object Array]"){var Di;ct=H0(P),Ft!=="left"&&(uo=ct.map(ou));var Pi,Md=0;if(Ft==="right"){X-=uo[0],P=[],Ds=ct.length;for(var Ic=0;Ic<Ds;Ic++)Ic===0?(Pi=Ec(X),Di=_c(je)):(Pi=D(Md-uo[Ic]),Di=-iu),P.push([ct[Ic],Pi,Di]),Md=uo[Ic]}else if(Ft==="center"){X-=uo[0]/2,P=[],Ds=ct.length;for(var Ld=0;Ld<Ds;Ld++)Ld===0?(Pi=Ec(X),Di=_c(je)):(Pi=D((Md-uo[Ld])/2),Di=-iu),P.push([ct[Ld],Pi,Di]),Md=uo[Ld]}else if(Ft==="left"){P=[],Ds=ct.length;for(var Wp=0;Wp<Ds;Wp++)P.push(ct[Wp])}else if(Ft==="justify"&&Up.encoding==="Identity-H"){P=[],Ds=ct.length,tr=tr!==0?tr:$p;for(var G0=0,pn=0;pn<Ds;pn++)if(Di=pn===0?_c(je):-iu,Pi=pn===0?Ec(X):G0,pn<Ds-1){var Pv=D((tr-uo[pn])/(ct[pn].split(" ").length-1)),$l=ct[pn].split(" ");P.push([$l[0]+" ",Pi,Di]),G0=0;for(var Ul=1;Ul<$l.length;Ul++){var Hp=(ou($l[Ul-1]+" "+$l[Ul])-ou($l[Ul]))*bi+Pv;Ul==$l.length-1?P.push([$l[Ul],Hp,0]):P.push([$l[Ul]+" ",Hp,0]),G0-=Hp}}else P.push([ct[pn],Pi,Di]);P.push(["",G0,0])}else{if(Ft!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Ds=ct.length,tr=tr!==0?tr:$p,pn=0;pn<Ds;pn++){Di=pn===0?_c(je):-iu,Pi=pn===0?Ec(X):0;var Vp=ct[pn].split(" ").length-1,Gp=Vp>0?(tr-uo[pn])/Vp:0;pn<Ds-1?_d.push(C(D(Gp))):_d.push(0),P.push([ct[pn],Pi,Di])}}}(typeof Me.R2L=="boolean"?Me.R2L:Ae)===!0&&(P=eu(P,function(Gr,ha,gn){return[Gr.split("").reverse().join(""),ha,gn]})),at={text:P,x:X,y:je,options:Me,mutex:{pdfEscape:vr,activeFontKey:Ee,fonts:st,activeFontSize:he}},Kt.publish("postProcessText",at),P=at.text,Tn=at.mutex.isHex||!1;var qp=st[Ee].encoding;qp!=="WinAnsiEncoding"&&qp!=="StandardEncoding"||(P=eu(P,function(Gr,ha,gn){return[Iv(Gr),ha,gn]})),ct=H0(P),P=[];for(var Td,Id,Dd,lu=Array.isArray(ct[0])?1:0,Pd="",cu=function(Gr,ha,gn){var Vn="";return gn instanceof Rt?(gn=typeof Me.angle=="number"?Kr(gn,new Rt(1,0,0,1,Gr,ha)):Kr(new Rt(1,0,0,1,Gr,ha),gn),w===y&&(gn=Kr(new Rt(1,0,0,-1,0,0),gn)),Vn=gn.join(" ")+` Tm
`):Vn=C(Gr)+" "+C(ha)+` Td
`,Vn},ho=0;ho<ct.length;ho++){switch(Pd="",lu){case 1:Dd=(Tn?"<":"(")+ct[ho][0]+(Tn?">":")"),Td=parseFloat(ct[ho][1]),Id=parseFloat(ct[ho][2]);break;case 0:Dd=(Tn?"<":"(")+ct[ho]+(Tn?">":")"),Td=Ec(X),Id=_c(je)}_d!==void 0&&_d[ho]!==void 0&&(Pd=_d[ho]+` Tw
`),ho===0?P.push(Pd+cu(Td,Id,Ln)+Dd):lu===0?P.push(Pd+Dd):lu===1&&P.push(Pd+cu(Td,Id,Ln)+Dd)}P=lu===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Wl=`BT
/`;return Wl+=Ee+" "+he+` Tf
`,Wl+=C(he*fo)+` TL
`,Wl+=Jf+`
`,Wl+=bs,Wl+=P,se(Wl+="ET"),m[Ee]=!0,Sa};var Ck=h.__private__.clip=h.clip=function(P){return se(P==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ck("evenodd")},h.__private__.discardPath=h.discardPath=function(){return se("n"),this};var zl=h.__private__.isValidStyle=function(P){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(X=!0),X};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(P){return zl(P)&&(d=P),this};var Cv=h.__private__.getStyle=h.getStyle=function(P){var X=d;switch(P){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=P}return X},Av=h.close=function(){return se("h"),this};h.stroke=function(){return se("S"),this},h.fill=function(P){return Cd("f",P),this},h.fillEvenOdd=function(P){return Cd("f*",P),this},h.fillStroke=function(P){return Cd("B",P),this},h.fillStrokeEvenOdd=function(P){return Cd("B*",P),this};var Cd=function(P,X){yr(X)==="object"?Ek(X,P):se(P)},Lp=function(P){P===null||w===y&&P===void 0||(P=Cv(P),se(P))};function Ak(P,X,je,Me,$e){var at=new yh(X||this.boundingBox,je||this.xStep,Me||this.yStep,this.gState,$e||this.matrix);at.stream=this.stream;var ct=P+"$$"+this.cloneIndex+++"$$";return ua(ct,at),at}var Ek=function(P,X){var je=Ut[P.key],Me=St[je];if(Me instanceof yu)se("q"),se(_k(X)),Me.gState&&h.setGState(Me.gState),se(P.matrix.toString()+" cm"),se("/"+je+" sh"),se("Q");else if(Me instanceof yh){var $e=new Rt(1,0,0,-1,0,Zf());P.matrix&&($e=$e.multiply(P.matrix||_n),je=Ak.call(Me,P.key,P.boundingBox,P.xStep,P.yStep,$e).id),se("q"),se("/Pattern cs"),se("/"+je+" scn"),Me.gState&&h.setGState(Me.gState),se(X),se("Q")}},_k=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tp=h.moveTo=function(P,X){return se(C(D(P))+" "+C(O(X))+" m"),this},qf=h.lineTo=function(P,X){return se(C(D(P))+" "+C(O(X))+" l"),this},Ad=h.curveTo=function(P,X,je,Me,$e,at){return se([C(D(P)),C(O(X)),C(D(je)),C(O(Me)),C(D($e)),C(O(at)),"c"].join(" ")),this};h.__private__.line=h.line=function(P,X,je,Me,$e){if(isNaN(P)||isNaN(X)||isNaN(je)||isNaN(Me)||!zl($e))throw new Error("Invalid arguments passed to jsPDF.line");return w===b?this.lines([[je-P,Me-X]],P,X,[1,1],$e||"S"):this.lines([[je-P,Me-X]],P,X,[1,1]).stroke()},h.__private__.lines=h.lines=function(P,X,je,Me,$e,at){var ct,Lt,Ft,Zt,tr,$r,Qa,Ln,Sa,Hn,Tn,bs;if(typeof P=="number"&&(bs=je,je=X,X=P,P=bs),Me=Me||[1,1],at=at||!1,isNaN(X)||isNaN(je)||!Array.isArray(P)||!Array.isArray(Me)||!zl($e)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Tp(X,je),ct=Me[0],Lt=Me[1],Zt=P.length,Hn=X,Tn=je,Ft=0;Ft<Zt;Ft++)(tr=P[Ft]).length===2?(Hn=tr[0]*ct+Hn,Tn=tr[1]*Lt+Tn,qf(Hn,Tn)):($r=tr[0]*ct+Hn,Qa=tr[1]*Lt+Tn,Ln=tr[2]*ct+Hn,Sa=tr[3]*Lt+Tn,Hn=tr[4]*ct+Hn,Tn=tr[5]*Lt+Tn,Ad($r,Qa,Ln,Sa,Hn,Tn));return at&&Av(),Lp($e),this},h.path=function(P){for(var X=0;X<P.length;X++){var je=P[X],Me=je.c;switch(je.op){case"m":Tp(Me[0],Me[1]);break;case"l":qf(Me[0],Me[1]);break;case"c":Ad.apply(this,Me);break;case"h":Av()}}return this},h.__private__.rect=h.rect=function(P,X,je,Me,$e){if(isNaN(P)||isNaN(X)||isNaN(je)||isNaN(Me)||!zl($e))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b&&(Me=-Me),se([C(D(P)),C(O(X)),C(D(je)),C(D(Me)),"re"].join(" ")),Lp($e),this},h.__private__.triangle=h.triangle=function(P,X,je,Me,$e,at,ct){if(isNaN(P)||isNaN(X)||isNaN(je)||isNaN(Me)||isNaN($e)||isNaN(at)||!zl(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-P,Me-X],[$e-je,at-Me],[P-$e,X-at]],P,X,[1,1],ct,!0),this},h.__private__.roundedRect=h.roundedRect=function(P,X,je,Me,$e,at,ct){if(isNaN(P)||isNaN(X)||isNaN(je)||isNaN(Me)||isNaN($e)||isNaN(at)||!zl(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*je),at=Math.min(at,.5*Me),this.lines([[je-2*$e,0],[$e*Lt,0,$e,at-at*Lt,$e,at],[0,Me-2*at],[0,at*Lt,-$e*Lt,at,-$e,at],[2*$e-je,0],[-$e*Lt,0,-$e,-at*Lt,-$e,-at],[0,2*at-Me],[0,-at*Lt,$e*Lt,-at,$e,-at]],P+$e,X,[1,1],ct,!0),this},h.__private__.ellipse=h.ellipse=function(P,X,je,Me,$e){if(isNaN(P)||isNaN(X)||isNaN(je)||isNaN(Me)||!zl($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*je,ct=4/3*(Math.SQRT2-1)*Me;return Tp(P+je,X),Ad(P+je,X-ct,P+at,X-Me,P,X-Me),Ad(P-at,X-Me,P-je,X-ct,P-je,X),Ad(P-je,X+ct,P-at,X+Me,P,X+Me),Ad(P+at,X+Me,P+je,X+ct,P+je,X),Lp($e),this},h.__private__.circle=h.circle=function(P,X,je,Me){if(isNaN(P)||isNaN(X)||isNaN(je)||!zl(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,X,je,je,Me)},h.setFont=function(P,X,je){return je&&(X=A(X,je)),Ee=Sd(P,X,{disableWarning:!1}),this};var Mk=h.__private__.getFont=h.getFont=function(){return st[Sd.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var P,X,je={};for(P in pt)if(pt.hasOwnProperty(P))for(X in je[P]=[],pt[P])pt[P].hasOwnProperty(X)&&je[P].push(X);return je},h.addFont=function(P,X,je,Me,$e){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(je=A(je,Me)),sa.call(this,P,X,je,$e=$e||"Identity-H")};var Yf,Ip=e.lineWidth||.200025,er=h.__private__.getLineWidth=h.getLineWidth=function(){return Ip},Lk=h.__private__.setLineWidth=h.setLineWidth=function(P){return Ip=P,se(C(D(P))+" w"),this};h.__private__.setLineDash=zt.API.setLineDash=zt.API.setLineDashPattern=function(P,X){if(P=P||[],X=X||0,isNaN(X)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(je){return C(D(je))}).join(" "),X=C(D(X)),se("["+P+"] "+X+" d"),this};var Tk=h.__private__.getLineHeight=h.getLineHeight=function(){return he*Yf};h.__private__.getLineHeight=h.getLineHeight=function(){return he*Yf};var Ik=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Yf=P),this},Dk=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Yf};Ik(e.lineHeight);var Ec=h.__private__.getHorizontalCoordinate=function(P){return D(P)},_c=h.__private__.getVerticalCoordinate=function(P){return w===y?P:Nt[z].mediaBox.topRightY-Nt[z].mediaBox.bottomLeftY-D(P)},Pk=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(P){return C(Ec(P))},Ok=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(P){return C(_c(P))},z0=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ke(z0)},h.__private__.setStrokeColor=h.setDrawColor=function(P,X,je,Me){return z0=Ne({ch1:P,ch2:X,ch3:je,ch4:Me,pdfColorType:"draw",precision:2}),se(z0),this};var Dp=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ke(Dp)},h.__private__.setFillColor=h.setFillColor=function(P,X,je,Me){return Dp=Ne({ch1:P,ch2:X,ch3:je,ch4:Me,pdfColorType:"fill",precision:2}),se(Dp),this};var Jf=e.textColor||"0 g",$0=h.__private__.getTextColor=h.getTextColor=function(){return ke(Jf)};h.__private__.setTextColor=h.setTextColor=function(P,X,je,Me){return Jf=Ne({ch1:P,ch2:X,ch3:je,ch4:Me,pdfColorType:"text",precision:3}),this};var U0=e.charSpace,Rk=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(U0||0)};h.__private__.setCharSpace=h.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return U0=P,this};var Pp=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(P){var X=h.CapJoinStyles[P];if(X===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pp=X,se(X+" J"),this};var Op=0;h.__private__.setLineJoin=h.setLineJoin=function(P){var X=h.CapJoinStyles[P];if(X===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Op=X,se(X+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(C(D(P))+" M"),this},h.GState=Pb,h.setGState=function(P){(P=typeof P=="string"?Wt[Jr[P]]:Kf(null,P)).equals(Ht)||(se("/"+P.id+" gs"),Ht=P)};var Kf=function(P,X){if(!P||!Jr[P]){var je=!1;for(var Me in Wt)if(Wt.hasOwnProperty(Me)&&Wt[Me].equals(X)){je=!0;break}if(je)X=Wt[Me];else{var $e="GS"+(Object.keys(Wt).length+1).toString(10);Wt[$e]=X,X.id=$e}return P&&(Jr[P]=X.id),Kt.publish("addGState",X),X}};h.addGState=function(P,X){return Kf(P,X),this},h.saveGraphicsState=function(){return se("q"),At.push({key:Ee,size:he,color:Jf}),this},h.restoreGraphicsState=function(){se("Q");var P=At.pop();return Ee=P.key,he=P.size,Jf=P.color,Ht=null,this},h.setCurrentTransformationMatrix=function(P){return se(P.toString()+" cm"),this},h.comment=function(P){return se("#"+P),this};var Qf=function(P,X){var je=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(at){isNaN(at)||(je=parseFloat(at))}});var Me=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(at){isNaN(at)||(Me=parseFloat(at))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(at){$e=at.toString()}}),this},Rp=function(P,X,je,Me){Qf.call(this,P,X),this.type="rect";var $e=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(ct){isNaN(ct)||($e=parseFloat(ct))}});var at=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(ct){isNaN(ct)||(at=parseFloat(ct))}}),this},W0=function(){this.page=It,this.currentPage=z,this.pages=pe.slice(0),this.pagesContext=Nt.slice(0),this.x=Pe,this.y=it,this.matrix=ft,this.width=Ev(z),this.height=Mc(z),this.outputDestination=Te,this.id="",this.objectNumber=-1};W0.prototype.restore=function(){It=this.page,z=this.currentPage,Nt=this.pagesContext,pe=this.pages,Pe=this.x,it=this.y,ft=this.matrix,_v(z,this.width),Lc(z,this.height),Te=this.outputDestination};var Fp=function(P,X,je,Me,$e){Ka.push(new W0),It=z=0,pe=[],Pe=P,it=X,ft=$e,tn([je,Me])};for(var Xf in h.beginFormObject=function(P,X,je,Me,$e){return Fp(P,X,je,Me,$e),this},h.endFormObject=function(P){return function(X){if(Ma[X])Ka.pop().restore();else{var je=new W0,Me="Xo"+(Object.keys(zr).length+1).toString(10);je.id=Me,Ma[X]=Me,zr[Me]=je,Kt.publish("addFormObject",je),Ka.pop().restore()}}(P),this},h.doFormObject=function(P,X){var je=zr[Ma[P]];return se("q"),se(X.toString()+" cm"),se("/"+je.id+" Do"),se("Q"),this},h.getFormObject=function(P){var X=zr[Ma[P]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},h.save=function(P,X){return P=P||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(hu(Vf(Ac()),P),typeof hu.unload=="function"&&Qt.setTimeout&&setTimeout(hu.unload,911),this):new Promise(function(je,Me){try{var $e=hu(Vf(Ac()),P);typeof hu.unload=="function"&&Qt.setTimeout&&setTimeout(hu.unload,911),je($e)}catch(at){Me(at.message)}})},zt.API)zt.API.hasOwnProperty(Xf)&&(Xf==="events"&&zt.API.events.length?function(P,X){var je,Me,$e;for($e=X.length-1;$e!==-1;$e--)je=X[$e][0],Me=X[$e][1],P.subscribe.apply(P,[je].concat(typeof Me=="function"?[Me]:Me))}(Kt,zt.API.events):h[Xf]=zt.API[Xf]);function Ev(P){return Nt[P].mediaBox.topRightX-Nt[P].mediaBox.bottomLeftX}function _v(P,X){Nt[P].mediaBox.topRightX=X+Nt[P].mediaBox.bottomLeftX}function Mc(P){return Nt[P].mediaBox.topRightY-Nt[P].mediaBox.bottomLeftY}function Lc(P,X){Nt[P].mediaBox.topRightY=X+Nt[P].mediaBox.bottomLeftY}var Mv=h.getPageWidth=function(P){return Ev(P=P||z)/Be},Lv=h.setPageWidth=function(P,X){_v(P,X*Be)},Zf=h.getPageHeight=function(P){return Mc(P=P||z)/Be},Tv=h.setPageHeight=function(P,X){Lc(P,X*Be)};return h.internal={pdfEscape:vr,getStyle:Cv,getFont:Mk,getFontSize:de,getCharSpace:Rk,getTextColor:$0,getLineHeight:Tk,getLineHeightFactor:Dk,getLineWidth:er,write:We,getHorizontalCoordinate:Ec,getVerticalCoordinate:_c,getCoordinateString:Pk,getVerticalCoordinateString:Ok,collections:{},newObject:Vr,newAdditionalObject:ye,newObjectDeferred:Na,newObjectDeferredBegin:re,getFilters:He,putStream:Xe,events:Kt,scaleFactor:Be,pageSize:{getWidth:function(){return Mv(z)},setWidth:function(P){Lv(z,P)},getHeight:function(){return Zf(z)},setHeight:function(P){Tv(z,P)}},encryptionOptions:f,encryption:mn,getEncryptor:function(P){return f!==null?mn.encryptor(P,0):function(X){return X}},output:Zo,getNumberOfPages:co,pages:pe,out:se,f2:_,f3:M,getPageInfo:Mp,getPageInfoByObjId:Nk,getCurrentPageInfo:Sk,getPDFVersion:p,Point:Qf,Rectangle:Rp,Matrix:Rt,hasHotfix:Gf},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Mv(z)},set:function(P){Lv(z,P)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Zf(z)},set:function(P){Tv(z,P)},enumerable:!0,configurable:!0}),(function(P){for(var X=0,je=Fe.length;X<je;X++){var Me=sa.call(this,P[X][0],P[X][1],P[X][2],Fe[X][3],!0);u===!1&&(m[Me]=!0);var $e=P[X][0].split("-");Yt({id:Me,fontName:$e[0],fontStyle:$e[1]||""})}Kt.publish("addFonts",{fonts:st,dictionary:pt})}).call(h,Fe),Ee="F1",Fl(n,r),Kt.publish("initialized"),h}fh.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},fh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},fh.prototype.processOwnerPassword=function(e,t){return v3(x3(t).substr(0,5),e)},fh.prototype.encryptor=function(e,t){var r=x3(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return v3(r,a)}},Pb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||yr(e)!==yr(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},zt.API={events:[]},zt.version="3.0.3";var sn=zt.API,A6=1,k0=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Q0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rr=function(e){return e.toFixed(2)},Hd=function(e){return e.toFixed(5)};sn.__acroform__={};var Ii=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},fL=function(e){return e*A6},ql=function(e){var t=new eF,r=Mt.internal.getHeight(e)||0,a=Mt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(rr(a)),Number(rr(r))],t},Gae=sn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},qae=sn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Yae=sn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},kn=sn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Yae(e,t-1)},jn=sn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Gae(e,t-1)},Nn=sn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qae(e,t-1)},Jae=sn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,n=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(n)||0,c.lowerLeft_Y=a(s+l)||0,c.upperRight_X=r(n+o)||0,c.upperRight_Y=a(s)||0,[Number(rr(c.lowerLeft_X)),Number(rr(c.lowerLeft_Y)),Number(rr(c.upperRight_X)),Number(rr(c.upperRight_Y))]},Kae=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=y3(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+rr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ql(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},y3=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(_){return _.split(`
`)}):n.map(function(_){return[_]});var s=r,o=Mt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Mt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(_,M,D){if(_+1<n.length){var O=M+" "+n[_+1][0];return iy(O,e,D).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var d,f,u=iy("3",e,s).height,m=e.multiline?o-s:(o-u)/2,h=m+=2,g=0,p=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+iy(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var v="",b=0,y=0;y<n.length;y++)if(n.hasOwnProperty(y)){var w=!1;if(n[y].length!==1&&x!==n[y].length-1){if((u+2)*(b+2)+2>o)continue e;v+=n[y][x],w=!0,p=y,y--}else{v=(v+=n[y][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var j=parseInt(y),E=c(j,v,s),A=y>=n.length-1;if(E&&!A){v+=" ",x=0;continue}if(E||A){if(A)p=j;else if(e.multiline&&(u+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(u+2)*(b+2)+2>o)continue e;p=j}}for(var C="",S=g;S<=p;S++){var T=n[S];if(e.multiline){if(S===p){C+=T[x]+" ",x=(x+1)%T.length;continue}if(S===g){C+=T[T.length-1]+" ";continue}}C+=T[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,f=iy(C,e,s).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}t+=rr(d)+" "+rr(h)+` Td
`,t+="("+k0(C)+`) Tj
`,t+=-rr(d)+` 0 Td
`,h=-(s+2),f=0,g=w?p:p+1,b++,v=""}break}return a.text=t,a.fontSize=s,a},iy=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},Qae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xae=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Zae=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ll.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Qae)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");A6=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tF,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var s=a[n];s.objId=void 0,s.hasAnnotation&&Xae(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,n){var s=!a;for(var o in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Jae(l.Rect,n)),n.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Mt.createDefaultAppearanceStream(l),yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=Kae(l);c.push({key:"AP",value:"<</N "+f+">>"}),n.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var u="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(u+="/"+m+" ",u+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var g=h[o];typeof g=="function"&&(g=g.call(n,l)),u+="/"+o+" "+g+" ",n.internal.acroformPlugin.xForms.indexOf(g)>=0||n.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(n,l)),u+="/"+o+" "+g,n.internal.acroformPlugin.xForms.indexOf(g)>=0||n.internal.acroformPlugin.xForms.push(g);u+=">>"}c.push({key:"AP",value:`<<
`+u+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:l.objId}),n.internal.out("endobj")}s&&function(p,x){for(var v in p)if(p.hasOwnProperty(v)){var b=v,y=p[v];x.internal.newObjectDeferredBegin(y.objId,!0),yr(y)==="object"&&typeof y.putStream=="function"&&y.putStream(),delete p[b]}}(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},ZR=sn.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(o){return o};if(Array.isArray(e)){for(var n="[",s=0;s<e.length;s++)switch(s!==0&&(n+=" "),yr(e[s])){case"boolean":case"number":case"object":n+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),n+="("+k0(a(e[s].toString()))+")"):n+=e[s].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jj=function(e,t,r){var a=function(n){return n};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+k0(a(e))+")"},sc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sc.prototype.toString=function(){return this.objId+" 0 R"},sc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},sc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],n=this[a];n&&(Array.isArray(n)?e.push({key:a,value:ZR(n,this.objId,this.scope)}):n instanceof sc?(n.scope=this.scope,e.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:a,value:n}))}return e};var eF=function(){sc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ii(eF,sc);var tF=function(){sc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+k0(r(e))+")"}},set:function(r){e=r}})};Ii(tF,sc);var Ll=function e(){sc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kn(t,3)},set:function(v){v?this.F=jn(t,3):this.F=Nn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(v){a=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(v){a[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(v){a[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(v){a[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(v){a[3]=v}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ob)return;s="FieldObject"+e.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+k0(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/A6:d},set:function(v){d=v}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(v){f=v}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Ob||this instanceof Mu))return jj(u,this.objId,this.scope)},set:function(v){v=v.toString(),u=v}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof hs==0?jj(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof hs==0?v.substr(0,1)==="("?Q0(v.substr(1,v.length-2)):Q0(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hs==1?Q0(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof hs==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof hs==0?jj(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof hs==0?v.substr(0,1)==="("?Q0(v.substr(1,v.length-2)):Q0(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hs==1?Q0(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof hs==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(v){v=!!v,p=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(v){g=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,1)},set:function(v){v?this.Ff=jn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,2)},set:function(v){v?this.Ff=jn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,3)},set:function(v){v?this.Ff=jn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Ii(Ll,sc);var Eh=function(){Ll.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ZR(t,this.objId,this.scope)},set:function(r){var a,n;n=[],typeof(a=r)=="string"&&(n=function(s,o,l){l||(l=1);for(var c,d=[];c=o.exec(s);)d.push(c[l]);return d}(a,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,18)},set:function(r){r?this.Ff=jn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=jn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,20)},set:function(r){r?(this.Ff=jn(this.Ff,20),t.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,22)},set:function(r){r?this.Ff=jn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(r){r?this.Ff=jn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,27)},set:function(r){r?this.Ff=jn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ii(Eh,Ll);var _h=function(){Eh.call(this),this.fontName="helvetica",this.combo=!1};Ii(_h,Eh);var Mh=function(){_h.call(this),this.combo=!0};Ii(Mh,_h);var sb=function(){Mh.call(this),this.edit=!0};Ii(sb,Mh);var hs=function(){Ll.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,15)},set:function(r){r?this.Ff=jn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,16)},set:function(r){r?this.Ff=jn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,17)},set:function(r){r?this.Ff=jn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(r){r?this.Ff=jn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,n=[];for(a in n.push("<<"),t)n.push("/"+a+" ("+k0(r(t[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){yr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ii(hs,Ll);var ib=function(){hs.call(this),this.pushButton=!0};Ii(ib,hs);var Lh=function(){hs.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ii(Lh,hs);var Ob=function(){var e,t;Ll.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),a)o.push("/"+s+" ("+k0(n(a[s]))+")");return o.push(">>"),o.join(`
`)},set:function(n){yr(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ii(Ob,Ll),Lh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Lh.prototype.createOption=function(e){var t=new Ob;return t.Parent=this,t.optionName=e,this.Kids.push(t),ene.call(this.scope,t),t};var ob=function(){hs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mt.CheckBox.createAppearanceStream()};Ii(ob,hs);var Mu=function(){Ll.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,13)},set:function(t){t?this.Ff=jn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,21)},set:function(t){t?this.Ff=jn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(t){t?this.Ff=jn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,24)},set:function(t){t?this.Ff=jn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,25)},set:function(t){t?this.Ff=jn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(t){t?this.Ff=jn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ii(Mu,Ll);var lb=function(){Mu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,14)},set:function(e){e?this.Ff=jn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};Ii(lb,Mu);var Mt={CheckBox:{createAppearanceStream:function(){return{N:{On:Mt.CheckBox.YesNormal},D:{On:Mt.CheckBox.YesPushDown,Off:Mt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=y3(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+rr(Mt.internal.getWidth(e))+" "+rr(Mt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+rr(s.fontSize)+" Tf "+n),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ql(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),n=[],s=Mt.internal.getHeight(e),o=Mt.internal.getWidth(e),l=y3(e,e.caption);return n.push("1 g"),n.push("0 0 "+rr(o)+" "+rr(s)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+rr(o-1)+" "+rr(s-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+rr(l.fontSize)+" Tf "+a),n.push(l.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rr(Mt.internal.getWidth(e))+" "+rr(Mt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Mt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Mt.RadioButton.Circle.YesNormal,t.D[e]=Mt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ql(e);t.scope=e.scope;var r=[],a=Mt.internal.getWidth(e)<=Mt.internal.getHeight(e)?Mt.internal.getWidth(e)/4:Mt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Mt.internal.Bezier_C,s=Number((a*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Hd(Mt.internal.getWidth(e)/2)+" "+Hd(Mt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[],a=Mt.internal.getWidth(e)<=Mt.internal.getHeight(e)?Mt.internal.getWidth(e)/4:Mt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),s=Number((n*Mt.internal.Bezier_C).toFixed(5)),o=Number((a*Mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hd(Mt.internal.getWidth(e)/2)+" "+Hd(Mt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Hd(Mt.internal.getWidth(e)/2)+" "+Hd(Mt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[],a=Mt.internal.getWidth(e)<=Mt.internal.getHeight(e)?Mt.internal.getWidth(e)/4:Mt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),s=Number((n*Mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hd(Mt.internal.getWidth(e)/2)+" "+Hd(Mt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Mt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Mt.RadioButton.Cross.YesNormal,t.D[e]=Mt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ql(e);t.scope=e.scope;var r=[],a=Mt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+rr(Mt.internal.getWidth(e)-2)+" "+rr(Mt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(rr(a.x1.x)+" "+rr(a.x1.y)+" m"),r.push(rr(a.x2.x)+" "+rr(a.x2.y)+" l"),r.push(rr(a.x4.x)+" "+rr(a.x4.y)+" m"),r.push(rr(a.x3.x)+" "+rr(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=Mt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+rr(Mt.internal.getWidth(e))+" "+rr(Mt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+rr(Mt.internal.getWidth(e)-2)+" "+rr(Mt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(rr(r.x1.x)+" "+rr(r.x1.y)+" m"),a.push(rr(r.x2.x)+" "+rr(r.x2.y)+" l"),a.push(rr(r.x4.x)+" "+rr(r.x4.y)+" m"),a.push(rr(r.x3.x)+" "+rr(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rr(Mt.internal.getWidth(e))+" "+rr(Mt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Mt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Mt.internal.getWidth(e),r=Mt.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},Mt.internal.getWidth=function(e){var t=0;return yr(e)==="object"&&(t=fL(e.Rect[2])),t},Mt.internal.getHeight=function(e){var t=0;return yr(e)==="object"&&(t=fL(e.Rect[3])),t};var ene=sn.addField=function(e){if(Zae(this,e),!(e instanceof Ll))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sn.AcroFormChoiceField=Eh,sn.AcroFormListBox=_h,sn.AcroFormComboBox=Mh,sn.AcroFormEditBox=sb,sn.AcroFormButton=hs,sn.AcroFormPushButton=ib,sn.AcroFormRadioButton=Lh,sn.AcroFormCheckBox=ob,sn.AcroFormTextField=Mu,sn.AcroFormPasswordField=lb,sn.AcroFormAppearance=Mt,sn.AcroForm={ChoiceField:Eh,ListBox:_h,ComboBox:Mh,EditBox:sb,Button:hs,PushButton:ib,RadioButton:Lh,CheckBox:ob,TextField:Mu,PasswordField:lb,Appearance:Mt},zt.AcroForm={ChoiceField:Eh,ListBox:_h,ComboBox:Mh,EditBox:sb,Button:hs,PushButton:ib,RadioButton:Lh,CheckBox:ob,TextField:Mu,PasswordField:lb,Appearance:Mt};zt.AcroForm;function rF(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(_,M){var D,O,B,U,q,K=r;if((M=M||r)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(E(_))for(q in a)for(B=a[q],D=0;D<B.length;D+=1){for(U=!0,O=0;O<B[D].length;O+=1)if(B[D][O]!==void 0&&B[D][O]!==_[O]){U=!1;break}if(U===!0){K=q;break}}else for(q in a)for(B=a[q],D=0;D<B.length;D+=1){for(U=!0,O=0;O<B[D].length;O+=1)if(B[D][O]!==void 0&&B[D][O]!==_.charCodeAt(O)){U=!1;break}if(U===!0){K=q;break}}return K===r&&M!==r&&(K=M),K},s=function _(M){for(var D=this.internal.write,O=this.internal.putStream,B=(0,this.internal.getFilters)();B.indexOf("FlateEncode")!==-1;)B.splice(B.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:M.width}),U.push({key:"Height",value:M.height}),M.colorSpace===v.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===v.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var q="",K=0,G=M.transparency.length;K<G;K++)q+=M.transparency[K]+" "+M.transparency[K]+" ";U.push({key:"Mask",value:"["+q+"]"})}M.sMask!==void 0&&U.push({key:"SMask",value:M.objectId+1+" 0 R"});var ve=M.filter!==void 0?["/"+M.filter]:void 0;if(O({data:M.data,additionalKeyValues:U,alreadyAppliedFilters:ve,objectId:M.objectId}),D("endobj"),"sMask"in M&&M.sMask!==void 0){var fe,I=(fe=M.sMaskBitsPerComponent)!==null&&fe!==void 0?fe:M.bitsPerComponent,z={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:M.sMask};"filter"in M&&(z.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(M.width),z.filter=M.filter),_.call(this,z)}if(M.colorSpace===v.INDEXED){var H=this.internal.newObject();O({data:C(new Uint8Array(M.palette)),objectId:H}),D("endobj")}},o=function(){var _=this.internal.collections[t+"images"];for(var M in _)s.call(this,_[M])},l=function(){var _,M=this.internal.collections[t+"images"],D=this.internal.write;for(var O in M)D("/I"+(_=M[O]).index,_.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var _=this.internal.collections[t+"images"];return c.call(this),_},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(_){return typeof e["process"+_.toUpperCase()]=="function"},m=function(_){return yr(_)==="object"&&_.nodeType===1},h=function(_,M){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var D=""+_.getAttribute("src");if(D.indexOf("data:image/")===0)return nb(unescape(D).split("base64,").pop());var O=e.loadFile(D,!0);if(O!==void 0)return O}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var B;switch(M){case"PNG":B="image/png";break;case"WEBP":B="image/webp";break;default:B="image/jpeg"}return nb(_.toDataURL(B,1).split("base64,").pop())}},g=function(_){var M=this.internal.collections[t+"images"];if(M){for(var D in M)if(_===M[D].alias)return M[D]}},p=function(_,M,D){return _||M||(_=-96,M=-96),_<0&&(_=-1*D.width*72/_/this.internal.scaleFactor),M<0&&(M=-1*D.height*72/M/this.internal.scaleFactor),_===0&&(_=M*D.width/D.height),M===0&&(M=_*D.height/D.width),[_,M]},x=function(_,M,D,O,B,U){var q=p.call(this,D,O,B),K=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,ve=d.call(this);if(D=q[0],O=q[1],ve[B.index]=B,U){U*=Math.PI/180;var fe=Math.cos(U),I=Math.sin(U),z=function(J){return J.toFixed(4)},H=[z(fe),z(I),z(-1*I),z(fe),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,K(_),G(M+O),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([K(D),"0","0",K(O),"0","0","cm"].join(" "))):this.internal.write([K(D),"0","0",K(O),K(_),G(M+O),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+B.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(_){var M,D,O=0;if(typeof _=="string")for(D=_.length,M=0;M<D;M++)O=(O<<5)-O+_.charCodeAt(M),O|=0;else if(E(_))for(D=_.byteLength/2,M=0;M<D;M++)O=(O<<5)-O+_[M],O|=0;return O},w=e.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var M=!0;return _.length===0&&(M=!1),_.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(M=!1),M},j=e.__addimage__.extractImageFromDataUrl=function(_){if(_==null||!(_=_.trim()).startsWith("data:"))return null;var M=_.indexOf(",");return M<0?null:_.substring(0,M).trim().endsWith("base64")?_.substring(M+1):null};e.__addimage__.isArrayBuffer=function(_){return _ instanceof ArrayBuffer};var E=e.__addimage__.isArrayBufferView=function(_){return _ instanceof Int8Array||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array},A=e.__addimage__.binaryStringToUint8Array=function(_){for(var M=_.length,D=new Uint8Array(M),O=0;O<M;O++)D[O]=_.charCodeAt(O);return D},C=e.__addimage__.arrayBufferToBinaryString=function(_){for(var M="",D=E(_)?_:new Uint8Array(_),O=0;O<D.length;O+=8192)M+=String.fromCharCode.apply(null,D.subarray(O,O+8192));return M};e.addImage=function(){var _,M,D,O,B,U,q,K,G;if(typeof arguments[1]=="number"?(M=r,D=arguments[1],O=arguments[2],B=arguments[3],U=arguments[4],q=arguments[5],K=arguments[6],G=arguments[7]):(M=arguments[1],D=arguments[2],O=arguments[3],B=arguments[4],U=arguments[5],q=arguments[6],K=arguments[7],G=arguments[8]),yr(_=arguments[0])==="object"&&!m(_)&&"imageData"in _){var ve=_;_=ve.imageData,M=ve.format||M||r,D=ve.x||D||0,O=ve.y||O||0,B=ve.w||ve.width||B,U=ve.h||ve.height||U,q=ve.alias||q,K=ve.compression||K,G=ve.rotation||ve.angle||G}var fe=this.internal.getFilters();if(K===void 0&&fe.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(D)||isNaN(O))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var I=S.call(this,_,M,q,K);return x.call(this,D,O,B,U,I,G),this};var S=function(_,M,D,O){var B,U,q;if(typeof _=="string"&&n(_)===r){_=unescape(_);var K=T(_,!1);(K!==""||(K=e.loadFile(_,!0))!==void 0)&&(_=K)}if(m(_)&&(_=h(_,M)),M=n(_,M),!u(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((q=D)==null||q.length===0)&&(D=function(G){return typeof G=="string"||E(G)?y(G):E(G.data)?y(G.data):null}(_)),(B=g.call(this,D))||(_ instanceof Uint8Array||M==="RGBA"||(U=_,_=A(_)),B=this["process"+M.toUpperCase()](_,f.call(this),D,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:b.NONE}(O),U)),!B)throw new Error("An unknown error occurred whilst processing the image.");return B},T=e.__addimage__.convertBase64ToBinaryString=function(_,M){M=typeof M!="boolean"||M;var D,O="";if(typeof _=="string"){var B;D=(B=j(_))!==null&&B!==void 0?B:_;try{O=nb(D)}catch(U){if(M)throw w(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return O};e.getImageProperties=function(_){var M,D,O="";if(m(_)&&(_=h(_)),typeof _=="string"&&n(_)===r&&((O=T(_,!1))===""&&(O=e.loadFile(_)||""),_=O),D=n(_),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(_ instanceof Uint8Array||(_=A(_)),!(M=this["process"+D.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=D,M}})(zt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,n,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,u=0;u<d.length&&!f;u++)switch((a=d[u]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){a=d[m];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(p.objId),b=a.title||"Note";s="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+h(v(a.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+h(v(b))+") >>",p.content=s;var y=p.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+y,a.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(p.objId,"0 R",x.objId,"0 R");break;case"freetext":n="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var w=a.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(g(a.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(a.options.name){var j=this.annotations._nameMap[a.options.name];a.options.pageNumber=j.page,a.options.top=j.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",s="",a.options.url)s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(a.options.url))+") >>";else if(a.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,s+=" /FitV "+a.options.left+"]";break;default:var E=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),s+=" /XYZ "+a.options.left+" "+E+" "+a.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,n,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(a),w:c(r+n),h:d(a+s)},options:o,type:"link"})},e.textWithLink=function(r,a,n,s){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(d*f)}else l=c,o=d;return this.text(r,a,n,s),n+=.2*d,s.align==="center"&&(a-=c/2),s.align==="right"&&(a-=c),this.link(a,n-d,l,o,s),c},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(zt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=e.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&n.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&s(p)&&t[p.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(p){var x=0,v=r,b="",y=0;for(x=0;x<p.length;x+=1)v[p.charCodeAt(x)]!==void 0?(y++,typeof(v=v[p.charCodeAt(x)])=="number"&&(b+=String.fromCharCode(v),v=r,y=0),x===p.length-1&&(v=r,b+=p.charAt(x-(y-1)),x-=y-1,y=0)):(v=r,b+=p.charAt(x-y),x-=y,y=0);return b};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&a[p.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(p,x,v){return o(p)?s(p)===!1?-1:!d(p)||!o(x)&&!o(v)||!o(v)&&l(x)||l(p)&&!o(x)||l(p)&&c(x)||l(p)&&l(x)?0:f(p)&&o(x)&&!l(x)&&o(v)&&d(v)?3:l(p)||!o(v)?1:2:-1},h=function(p){var x=0,v=0,b=0,y="",w="",j="",E=(p=p||"").split("\\s+"),A=[];for(x=0;x<E.length;x+=1){for(A.push(""),v=0;v<E[x].length;v+=1)y=E[x][v],w=E[x][v-1],j=E[x][v+1],o(y)?(b=m(y,w,j),A[x]+=b!==-1?String.fromCharCode(t[y.charCodeAt(0)][b]):y):A[x]+=y;A[x]=u(A[x])}return A.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var b=0;for(v=[],b=0;b<x.length;b+=1)Array.isArray(x[b])?v.push([h(x[b][0]),x[b][1],x[b][2]]):v.push([h(x[b])]);p=v}else p=h(x);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])}(zt.API),zt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var n;if((r=r||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(zt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){a.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),u=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,h=0,g=0,p=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=d.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,w){return y.concat(x.splitTextToSize(w,v))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)h<(p=this.getStringUnitWidth(c[b],{font:u})*f)&&(h=p);return h!==0&&(g=c.length),{w:h/=m,h:Math.max((g*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=u.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,f,u,m){if(a.call(this),!f)throw new Error("No data for PDF table.");var h,g,p,x,v=[],b=[],y=[],w={},j={},E=[],A=[],C=(m=m||{}).autoSize||!1,S=m.printHeaders!==!1,T=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,_=m.margins||Object.assign({width:this.getPageWidth()},t),M=typeof m.padding=="number"?m.padding:3,D=m.headerBackgroundColor||"#c8c8c8",O=m.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=O,this.setFontSize(T),u==null)b=v=Object.keys(f[0]),y=v.map(function(){return"left"});else if(Array.isArray(u)&&yr(u[0])==="object")for(v=u.map(function(ve){return ve.name}),b=u.map(function(ve){return ve.prompt||ve.name||""}),y=u.map(function(ve){return ve.align||"left"}),h=0;h<u.length;h+=1)j[u[h].name]=.7499990551181103*u[h].width;else Array.isArray(u)&&typeof u[0]=="string"&&(b=v=u,y=v.map(function(){return"left"}));if(C||Array.isArray(u)&&typeof u[0]=="string")for(h=0;h<v.length;h+=1){for(w[x=v[h]]=f.map(function(ve){return ve[x]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=w[x],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)E.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[x]=Math.max.apply(null,E)+M+M,E=[]}if(S){var B={};for(h=0;h<v.length;h+=1)B[v[h]]={},B[v[h]].text=b[h],B[v[h]].align=y[h];var U=l.call(this,B,j);A=v.map(function(ve){return new s(c,d,j[ve],U,B[ve].text,void 0,B[ve].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var q=u.reduce(function(ve,fe){return ve[fe.name]=fe.align,ve},{});for(h=0;h<f.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:f[h]},this);var K=l.call(this,f[h],j);for(p=0;p<v.length;p+=1){var G=f[h][v[p]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:p,data:G},this),o.call(this,new s(c,d,j[v[p]],K,G,h+2,q[v[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var f=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[h]-f-f)},this).map(function(h){return this.getLineHeightFactor()*h.length*u/m+f+f},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){f=this.internal.__cell__.tableHeaderRow[h].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(g)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(zt.API);var aF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],b3=rF(nF),sF=[100,200,300,400,500,600,700,800,900],tne=rF(sF);function Nj(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return aF[s=s||"normal"]?s:"normal"}(e.style),a=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),n=function(s){return typeof b3[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:a,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,a].join(" ")}}}function uL(e,t,r,a){var n;for(n=r;n>=0&&n<t.length;n+=a)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=a)if(e[t[n]])return e[t[n]]}var rne={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mL(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function pL(e){return e.trimLeft()}function ane(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function nne(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var oy,gL,xL,X0,ly,vL,yL,bL,Sj=["times"];function wL(e,t,r,a,n){var s=4,o=jL;switch(n){case zt.API.image_compression.FAST:s=1,o=kL;break;case zt.API.image_compression.MEDIUM:s=6,o=NL;break;case zt.API.image_compression.SLOW:s=9,o=SL}e=function(c,d,f,u){for(var m,h=c.length/d,g=new Uint8Array(c.length+h),p=[sne,kL,jL,NL,SL],x=0;x<h;x+=1){var v=x*d,b=c.subarray(v,v+d);if(u)g.set(u(b,f,m),v+x);else{for(var y=p.length,w=[],j=0;j<y;j+=1)w[j]=p[j](b,f,m);var E=one(w.concat());g.set(w[E],v+x)}m=b}return g}(e,t,Math.ceil(r*a/8),o);var l=u3(e,{level:s});return zt.API.__addimage__.arrayBufferToBinaryString(l)}function sne(e){var t=Array.apply([],e);return t.unshift(0),t}function kL(e,t){var r=e.length,a=[];a[0]=1;for(var n=0;n<r;n+=1){var s=e[n-t]||0;a[n+1]=e[n]-s+256&255}return a}function jL(e,t,r){var a=e.length,n=[];n[0]=2;for(var s=0;s<a;s+=1){var o=r&&r[s]||0;n[s+1]=e[s]-o+256&255}return n}function NL(e,t,r){var a=e.length,n=[];n[0]=3;for(var s=0;s<a;s+=1){var o=e[s-t]||0,l=r&&r[s]||0;n[s+1]=e[s]+256-(o+l>>>1)&255}return n}function SL(e,t,r){var a=e.length,n=[];n[0]=4;for(var s=0;s<a;s+=1){var o=ine(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);n[s+1]=e[s]-o+256&255}return n}function ine(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),n=Math.abs(e-r),s=Math.abs(e+t-r-r);return a<=n&&a<=s?e:n<=s?t:r}function one(e){var t=e.map(function(r){return r.reduce(function(a,n){return a+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function Cj(e,t,r){var a=t*r,n=Math.floor(a/8),s=16-(a-8*n+r),o=(1<<r)-1;return iF(e,n)>>s&o}function CL(e,t,r,a){var n=r*a,s=Math.floor(n/8),o=16-(n-8*s+a),l=(1<<a)-1,c=(t&l)<<o;(function(d,f,u){if(f+1<d.byteLength)d.setUint16(f,u,!1);else{var m=u>>8&255;d.setUint8(f,m)}})(e,s,iF(e,s)&~(l<<o)&65535|c)}function iF(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function lne(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,n=e[t++],s=n>>7,o=1<<1+(7&n);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var d=!0,f=[],u=0,m=null,h=0,g=null;for(this.width=r,this.height=a;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(_===0)break;t+=_}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];u=e[t++]|e[t++]<<8,m=e[t++],1&p||(m=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(_===0)break;t+=_}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++],j=w>>6&1,E=1<<1+(7&w),A=l,C=c,S=!1;w>>7&&(S=!0,A=t,C=E,t+=3*E);var T=t;for(t++;;){var _;if(!((_=e[t++])>=0))throw Error("Invalid block size");if(_===0)break;t+=_}f.push({x,y:v,width:b,height:y,has_local_palette:S,palette_offset:A,palette_size:C,data_offset:T,data_length:t-T,transparent_index:m,interlaced:!!j,delay:u,disposal:h});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return g},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,D){var O=this.frameInfo(M),B=O.width*O.height,U=new Uint8Array(B);AL(e,O.data_offset,U,B);var q=O.palette_offset,K=O.transparent_index;K===null&&(K=256);var G=O.width,ve=r-G,fe=G,I=4*(O.y*r+O.x),z=4*((O.y+O.height)*r+O.x),H=I,J=4*ve;O.interlaced===!0&&(J+=4*r*7);for(var te=8,W=0,Y=U.length;W<Y;++W){var Q=U[W];if(fe===0&&(fe=G,(H+=J)>=z&&(J=4*ve+4*r*(te-1),H=I+(G+ve)*(te<<1),te>>=1)),Q===K)H+=4;else{var ne=e[q+3*Q],pe=e[q+3*Q+1],F=e[q+3*Q+2];D[H++]=F,D[H++]=pe,D[H++]=ne,D[H++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(M,D){var O=this.frameInfo(M),B=O.width*O.height,U=new Uint8Array(B);AL(e,O.data_offset,U,B);var q=O.palette_offset,K=O.transparent_index;K===null&&(K=256);var G=O.width,ve=r-G,fe=G,I=4*(O.y*r+O.x),z=4*((O.y+O.height)*r+O.x),H=I,J=4*ve;O.interlaced===!0&&(J+=4*r*7);for(var te=8,W=0,Y=U.length;W<Y;++W){var Q=U[W];if(fe===0&&(fe=G,(H+=J)>=z&&(J=4*ve+4*r*(te-1),H=I+(G+ve)*(te<<1),te>>=1)),Q===K)H+=4;else{var ne=e[q+3*Q],pe=e[q+3*Q+1],F=e[q+3*Q+2];D[H++]=ne,D[H++]=pe,D[H++]=F,D[H++]=255}--fe}}}function AL(e,t,r,a){for(var n=e[t++],s=1<<n,o=s+1,l=o+1,c=n+1,d=(1<<c)-1,f=0,u=0,m=0,h=e[t++],g=new Int32Array(4096),p=null;;){for(;f<16&&h!==0;)u|=e[t++]<<f,f+=8,h===1?h=e[t++]:--h;if(f<c)break;var x=u&d;if(u>>=c,f-=c,x!==s){if(x===o)break;for(var v=x<l?x:p,b=0,y=v;y>s;)y=g[y]>>8,++b;var w=y;if(m+b+(v!==x?1:0)>a)return void ga.log("Warning, gif stream longer than expected.");r[m++]=w;var j=m+=b;for(v!==x&&(r[m++]=w),y=v;b--;)y=g[y],r[--j]=255&y,y>>=8;p!==null&&l<4096&&(g[l++]=p<<8|w,l>=d+1&&c<12&&(++c,d=d<<1|1)),p=x}else l=o+1,d=(1<<(c=n+1))-1,p=null}return m!==a&&ga.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Aj(e){var t,r,a,n,s,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),u=new Array(65535),m=new Array(65535),h=new Array(64),g=new Array(64),p=[],x=0,v=7,b=new Array(64),y=new Array(64),w=new Array(64),j=new Array(256),E=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],B=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(I,z){for(var H=0,J=0,te=new Array,W=1;W<=16;W++){for(var Y=1;Y<=I[W];Y++)te[z[J]]=[],te[z[J]][0]=H,te[z[J]][1]=W,J++,H++;H*=2}return te}function q(I){for(var z=I[0],H=I[1]-1;H>=0;)z&1<<H&&(x|=1<<v),H--,--v<0&&(x==255?(K(255),K(0)):K(x),v=7,x=0)}function K(I){p.push(I)}function G(I){K(I>>8&255),K(255&I)}function ve(I,z,H,J,te){for(var W,Y=te[0],Q=te[240],ne=function(he,ie){var de,Ae,ze,Ce,_e,Ve,Ie,Re,Ee,Be,Pe=0;for(Ee=0;Ee<8;++Ee){de=he[Pe],Ae=he[Pe+1],ze=he[Pe+2],Ce=he[Pe+3],_e=he[Pe+4],Ve=he[Pe+5],Ie=he[Pe+6];var it=de+(Re=he[Pe+7]),ft=de-Re,st=Ae+Ie,pt=Ae-Ie,At=ze+Ve,St=ze-Ve,Ut=Ce+_e,Wt=Ce-_e,Jr=it+Ut,Ht=it-Ut,It=st+At,Nt=st-At;he[Pe]=Jr+It,he[Pe+4]=Jr-It;var Kt=.707106781*(Nt+Ht);he[Pe+2]=Ht+Kt,he[Pe+6]=Ht-Kt;var ls=.382683433*((Jr=Wt+St)-(Nt=pt+ft)),zr=.5411961*Jr+ls,Ma=1.306562965*Nt+ls,Ka=.707106781*(It=St+pt),Rt=ft+Ka,Kr=ft-Ka;he[Pe+5]=Kr+zr,he[Pe+3]=Kr-zr,he[Pe+1]=Rt+Ma,he[Pe+7]=Rt-Ma,Pe+=8}for(Pe=0,Ee=0;Ee<8;++Ee){de=he[Pe],Ae=he[Pe+8],ze=he[Pe+16],Ce=he[Pe+24],_e=he[Pe+32],Ve=he[Pe+40],Ie=he[Pe+48];var _n=de+(Re=he[Pe+56]),ua=de-Re,Ha=Ae+Ie,Vr=Ae-Ie,Na=ze+Ve,re=ze-Ve,ye=Ce+_e,ce=Ce-_e,ge=_n+ye,ke=_n-ye,Ne=Ha+Na,He=Ha-Na;he[Pe]=ge+Ne,he[Pe+32]=ge-Ne;var Xe=.707106781*(He+ke);he[Pe+16]=ke+Xe,he[Pe+48]=ke-Xe;var Ge=.382683433*((ge=ce+re)-(He=Vr+ua)),qe=.5411961*ge+Ge,Ke=1.306562965*He+Ge,dt=.707106781*(Ne=re+Vr),gt=ua+dt,kt=ua-dt;he[Pe+40]=kt+qe,he[Pe+24]=kt-qe,he[Pe+8]=gt+Ke,he[Pe+56]=gt-Ke,Pe++}for(Ee=0;Ee<64;++Ee)Be=he[Ee]*ie[Ee],h[Ee]=Be>0?Be+.5|0:Be-.5|0;return h}(I,z),pe=0;pe<64;++pe)g[A[pe]]=ne[pe];var F=g[0]-H;H=g[0],F==0?q(J[0]):(q(J[m[W=32767+F]]),q(u[W]));for(var Te=63;Te>0&&g[Te]==0;)Te--;if(Te==0)return q(Y),H;for(var xe,se=1;se<=Te;){for(var We=se;g[se]==0&&se<=Te;)++se;var Se=se-We;if(Se>=16){xe=Se>>4;for(var Fe=1;Fe<=xe;++Fe)q(Q);Se&=15}W=32767+g[se],q(te[(Se<<4)+m[W]]),q(u[W]),se++}return Te!=63&&q(Y),H}function fe(I){I=Math.min(Math.max(I,1),100),s!=I&&(function(z){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var te=o((H[J]*z+50)/100);te=Math.min(Math.max(te,1),255),l[A[J]]=te}for(var W=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Y=0;Y<64;Y++){var Q=o((W[Y]*z+50)/100);Q=Math.min(Math.max(Q,1),255),c[A[Y]]=Q}for(var ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,F=0;F<8;F++)for(var Te=0;Te<8;Te++)d[pe]=1/(l[A[pe]]*ne[F]*ne[Te]*8),f[pe]=1/(c[A[pe]]*ne[F]*ne[Te]*8),pe++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,z){z&&fe(z),p=new Array,x=0,v=7,G(65496),G(65504),G(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),G(1),G(1),K(0),K(0),function(){G(65499),G(132),K(0);for(var Ae=0;Ae<64;Ae++)K(l[Ae]);K(1);for(var ze=0;ze<64;ze++)K(c[ze])}(),function(Ae,ze){G(65472),G(17),K(8),G(ze),G(Ae),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(I.width,I.height),function(){G(65476),G(418),K(0);for(var Ae=0;Ae<16;Ae++)K(C[Ae+1]);for(var ze=0;ze<=11;ze++)K(S[ze]);K(16);for(var Ce=0;Ce<16;Ce++)K(T[Ce+1]);for(var _e=0;_e<=161;_e++)K(_[_e]);K(1);for(var Ve=0;Ve<16;Ve++)K(M[Ve+1]);for(var Ie=0;Ie<=11;Ie++)K(D[Ie]);K(17);for(var Re=0;Re<16;Re++)K(O[Re+1]);for(var Ee=0;Ee<=161;Ee++)K(B[Ee])}(),G(65498),G(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var H=0,J=0,te=0;x=0,v=7,this.encode.displayName="_encode_";for(var W,Y,Q,ne,pe,F,Te,xe,se,We=I.data,Se=I.width,Fe=I.height,he=4*Se,ie=0;ie<Fe;){for(W=0;W<he;){for(pe=he*ie+W,Te=-1,xe=0,se=0;se<64;se++)F=pe+(xe=se>>3)*he+(Te=4*(7&se)),ie+xe>=Fe&&(F-=he*(ie+1+xe-Fe)),W+Te>=he&&(F-=W+Te-he+4),Y=We[F++],Q=We[F++],ne=We[F++],b[se]=(E[Y]+E[Q+256|0]+E[ne+512|0]>>16)-128,y[se]=(E[Y+768|0]+E[Q+1024|0]+E[ne+1280|0]>>16)-128,w[se]=(E[Y+1280|0]+E[Q+1536|0]+E[ne+1792|0]>>16)-128;H=ve(b,d,H,t,a),J=ve(y,f,J,r,n),te=ve(w,f,te,r,n),W+=32}ie+=8}if(v>=0){var de=[];de[1]=v+1,de[0]=(1<<v+1)-1,q(de)}return G(65497),new Uint8Array(p)},e=e||50,function(){for(var I=String.fromCharCode,z=0;z<256;z++)j[z]=I(z)}(),t=U(C,S),r=U(M,D),a=U(T,_),n=U(O,B),function(){for(var I=1,z=2,H=1;H<=15;H++){for(var J=I;J<z;J++)m[32767+J]=H,u[32767+J]=[],u[32767+J][1]=H,u[32767+J][0]=J;for(var te=-(z-1);te<=-I;te++)m[32767+te]=H,u[32767+te]=[],u[32767+te][1]=H,u[32767+te][0]=z-1+te;I<<=1,z<<=1}}(),function(){for(var I=0;I<256;I++)E[I]=19595*I,E[I+256|0]=38470*I,E[I+512|0]=7471*I+32768,E[I+768|0]=-11059*I,E[I+1024|0]=-21709*I,E[I+1280|0]=32768*I+8421375,E[I+1536|0]=-27439*I,E[I+1792|0]=-5329*I}(),fe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function al(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function EL(e){function t(S){if(!S)throw Error("assert :P")}function r(S,T,_){for(var M=0;4>M;M++)if(S[T+M]!=_.charCodeAt(M))return!0;return!1}function a(S,T,_,M,D){for(var O=0;O<D;O++)S[T+O]=_[M+O]}function n(S,T,_,M){for(var D=0;D<M;D++)S[T+D]=_}function s(S){return new Int32Array(S)}function o(S,T){for(var _=[],M=0;M<S;M++)_.push(new T);return _}function l(S,T){var _=[];return function M(D,O,B){for(var U=B[O],q=0;q<U&&(D.push(B.length>O+1?[]:new T),!(B.length<O+1));q++)M(D[q],O+1,B)}(_,0,S),_}var c=function(){var S=this;function T(N,L){for(var R=1<<L-1>>>0;N&R;)R>>>=1;return R?(N&R-1)+R:N}function _(N,L,R,V,ee){t(!(V%R));do N[L+(V-=R)]=ee;while(0<V)}function M(N,L,R,V,ee){if(t(2328>=ee),512>=ee)var ae=s(512);else if((ae=s(ee))==null)return 0;return function(oe,le,ue,be,De,Je){var we,Oe,Ue=le,et=1<<ue,Ye=s(16),rt=s(16);for(t(De!=0),t(be!=null),t(oe!=null),t(0<ue),Oe=0;Oe<De;++Oe){if(15<be[Oe])return 0;++Ye[be[Oe]]}if(Ye[0]==De)return 0;for(rt[1]=0,we=1;15>we;++we){if(Ye[we]>1<<we)return 0;rt[we+1]=rt[we]+Ye[we]}for(Oe=0;Oe<De;++Oe)we=be[Oe],0<be[Oe]&&(Je[rt[we]++]=Oe);if(rt[15]==1)return(be=new D).g=0,be.value=Je[0],_(oe,Ue,1,et,be),et;var nt,ut=-1,lt=et-1,Bt=0,Et=1,or=1,Dt=1<<ue;for(Oe=0,we=1,De=2;we<=ue;++we,De<<=1){if(Et+=or<<=1,0>(or-=Ye[we]))return 0;for(;0<Ye[we];--Ye[we])(be=new D).g=we,be.value=Je[Oe++],_(oe,Ue+Bt,De,Dt,be),Bt=T(Bt,we)}for(we=ue+1,De=2;15>=we;++we,De<<=1){if(Et+=or<<=1,0>(or-=Ye[we]))return 0;for(;0<Ye[we];--Ye[we]){if(be=new D,(Bt&lt)!=ut){for(Ue+=Dt,nt=1<<(ut=we)-ue;15>ut&&!(0>=(nt-=Ye[ut]));)++ut,nt<<=1;et+=Dt=1<<(nt=ut-ue),oe[le+(ut=Bt&lt)].g=nt+ue,oe[le+ut].value=Ue-le-ut}be.g=we-ue,be.value=Je[Oe++],_(oe,Ue+(Bt>>ue),De,Dt,be),Bt=T(Bt,we)}}return Et!=2*rt[15]-1?0:et}(N,L,R,V,ee,ae)}function D(){this.value=this.g=0}function O(){this.value=this.g=0}function B(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ou,O)}function U(N,L,R,V){t(N!=null),t(L!=null),t(2147483648>V),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=L,N.pa=R,N.Jd=L,N.Yc=R+V,N.Zc=4<=V?R+V-4+1:R,Y(N)}function q(N,L){for(var R=0;0<L--;)R|=ne(N,128)<<L;return R}function K(N,L){var R=q(N,L);return Q(N)?-R:R}function G(N,L,R,V){var ee,ae=0;for(t(N!=null),t(L!=null),t(4294967288>V),N.Sb=V,N.Ra=0,N.u=0,N.h=0,4<V&&(V=4),ee=0;ee<V;++ee)ae+=L[R+ee]<<8*ee;N.Ra=ae,N.bb=V,N.oa=L,N.pa=R}function ve(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Md-8>>>0,++N.bb,N.u-=8;J(N)&&(N.h=1,N.u=0)}function fe(N,L){if(t(0<=L),!N.h&&L<=Pi){var R=H(N)&Di[L];return N.u+=L,ve(N),R}return N.h=1,N.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(N){return N.Ra>>>(N.u&Md-1)>>>0}function J(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Md}function te(N,L){N.u=L,N.h=J(N)}function W(N){N.u>=Ic&&(t(N.u>=Ic),ve(N))}function Y(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Q(N){return q(N,1)}function ne(N,L){var R=N.Ca;0>N.b&&Y(N);var V=N.b,ee=R*L>>>8,ae=(N.I>>>V>ee)+0;for(ae?(R-=ee,N.I-=ee+1<<V>>>0):R=ee+1,V=R,ee=0;256<=V;)ee+=8,V>>=8;return V=7^ee+Ld[V],N.b-=V,N.Ca=(R<<V)-1,ae}function pe(N,L,R){N[L+0]=R>>24&255,N[L+1]=R>>16&255,N[L+2]=R>>8&255,N[L+3]=255&R}function F(N,L){return N[L+0]|N[L+1]<<8}function Te(N,L){return F(N,L)|N[L+2]<<16}function xe(N,L){return F(N,L)|F(N,L+2)<<16}function se(N,L){var R=1<<L;return t(N!=null),t(0<L),N.X=s(R),N.X==null?0:(N.Mb=32-L,N.Xa=L,1)}function We(N,L){t(N!=null),t(L!=null),t(N.Xa==L.Xa),a(L.X,0,N.X,0,1<<L.Xa)}function Se(){this.X=[],this.Xa=this.Mb=0}function Fe(N,L,R,V){t(R!=null),t(V!=null);var ee=R[0],ae=V[0];return ee==0&&(ee=(N*ae+L/2)/L),ae==0&&(ae=(L*ee+N/2)/N),0>=ee||0>=ae?0:(R[0]=ee,V[0]=ae,1)}function he(N,L){return N+(1<<L)-1>>>L}function ie(N,L){return((4278255360&N)+(4278255360&L)>>>0&4278255360)+((16711935&N)+(16711935&L)>>>0&16711935)>>>0}function de(N,L){S[L]=function(R,V,ee,ae,oe,le,ue){var be;for(be=0;be<oe;++be){var De=S[N](le[ue+be-1],ee,ae+be);le[ue+be]=ie(R[V+be],De)}}}function Ae(){this.ud=this.hd=this.jd=0}function ze(N,L){return((4278124286&(N^L))>>>1)+(N&L)>>>0}function Ce(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function _e(N,L){return Ce(N+(N-L+.5>>1))}function Ve(N,L,R){return Math.abs(L-R)-Math.abs(N-R)}function Ie(N,L,R,V,ee,ae,oe){for(V=ae[oe-1],R=0;R<ee;++R)ae[oe+R]=V=ie(N[L+R],V)}function Re(N,L,R,V,ee){var ae;for(ae=0;ae<R;++ae){var oe=N[L+ae],le=oe>>8&255,ue=16711935&(ue=(ue=16711935&oe)+((le<<16)+le));V[ee+ae]=(4278255360&oe)+ue>>>0}}function Ee(N,L){L.jd=255&N,L.hd=N>>8&255,L.ud=N>>16&255}function Be(N,L,R,V,ee,ae){var oe;for(oe=0;oe<V;++oe){var le=L[R+oe],ue=le>>>8,be=le,De=255&(De=(De=le>>>16)+((N.jd<<24>>24)*(ue<<24>>24)>>>5));be=255&(be=(be+=(N.hd<<24>>24)*(ue<<24>>24)>>>5)+((N.ud<<24>>24)*(De<<24>>24)>>>5)),ee[ae+oe]=(4278255360&le)+(De<<16)+be}}function Pe(N,L,R,V,ee){S[L]=function(ae,oe,le,ue,be,De,Je,we,Oe){for(ue=Je;ue<we;++ue)for(Je=0;Je<Oe;++Je)be[De++]=ee(le[V(ae[oe++])])},S[N]=function(ae,oe,le,ue,be,De,Je){var we=8>>ae.b,Oe=ae.Ea,Ue=ae.K[0],et=ae.w;if(8>we)for(ae=(1<<ae.b)-1,et=(1<<we)-1;oe<le;++oe){var Ye,rt=0;for(Ye=0;Ye<Oe;++Ye)Ye&ae||(rt=V(ue[be++])),De[Je++]=ee(Ue[rt&et]),rt>>=we}else S["VP8LMapColor"+R](ue,be,Ue,et,De,Je,oe,le,Oe)}}function it(N,L,R,V,ee){for(R=L+R;L<R;){var ae=N[L++];V[ee++]=ae>>16&255,V[ee++]=ae>>8&255,V[ee++]=255&ae}}function ft(N,L,R,V,ee){for(R=L+R;L<R;){var ae=N[L++];V[ee++]=ae>>16&255,V[ee++]=ae>>8&255,V[ee++]=255&ae,V[ee++]=ae>>24&255}}function st(N,L,R,V,ee){for(R=L+R;L<R;){var ae=(oe=N[L++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;V[ee++]=ae,V[ee++]=oe}}function pt(N,L,R,V,ee){for(R=L+R;L<R;){var ae=(oe=N[L++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;V[ee++]=ae,V[ee++]=oe}}function At(N,L,R,V,ee){for(R=L+R;L<R;){var ae=N[L++];V[ee++]=255&ae,V[ee++]=ae>>8&255,V[ee++]=ae>>16&255}}function St(N,L,R,V,ee,ae){if(ae==0)for(R=L+R;L<R;)pe(V,((ae=N[L++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),ee+=32;else a(V,ee,N,L,R)}function Ut(N,L){S[L][0]=S[N+"0"],S[L][1]=S[N+"1"],S[L][2]=S[N+"2"],S[L][3]=S[N+"3"],S[L][4]=S[N+"4"],S[L][5]=S[N+"5"],S[L][6]=S[N+"6"],S[L][7]=S[N+"7"],S[L][8]=S[N+"8"],S[L][9]=S[N+"9"],S[L][10]=S[N+"10"],S[L][11]=S[N+"11"],S[L][12]=S[N+"12"],S[L][13]=S[N+"13"],S[L][14]=S[N+"0"],S[L][15]=S[N+"0"]}function Wt(N){return N==zk||N==$k||N==Uv||N==Uk}function Jr(){this.eb=[],this.size=this.A=this.fb=0}function Ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function It(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jr,this.f.kb=new Ht,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ls(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function zr(N,L){var R=N.T,V=L.ba.f.RGBA,ee=V.eb,ae=V.fb+N.ka*V.A,oe=po[L.ba.S],le=N.y,ue=N.O,be=N.f,De=N.N,Je=N.ea,we=N.W,Oe=L.cc,Ue=L.dc,et=L.Mc,Ye=L.Nc,rt=N.ka,nt=N.ka+N.T,ut=N.U,lt=ut+1>>1;for(rt==0?oe(le,ue,null,null,be,De,Je,we,be,De,Je,we,ee,ae,null,null,ut):(oe(L.ec,L.fc,le,ue,Oe,Ue,et,Ye,be,De,Je,we,ee,ae-V.A,ee,ae,ut),++R);rt+2<nt;rt+=2)Oe=be,Ue=De,et=Je,Ye=we,De+=N.Rc,we+=N.Rc,ae+=2*V.A,oe(le,(ue+=2*N.fa)-N.fa,le,ue,Oe,Ue,et,Ye,be,De,Je,we,ee,ae-V.A,ee,ae,ut);return ue+=N.fa,N.j+nt<N.o?(a(L.ec,L.fc,le,ue,ut),a(L.cc,L.dc,be,De,lt),a(L.Mc,L.Nc,Je,we,lt),R--):1&nt||oe(le,ue,null,null,be,De,Je,we,be,De,Je,we,ee,ae+V.A,null,null,ut),R}function Ma(N,L,R){var V=N.F,ee=[N.J];if(V!=null){var ae=N.U,oe=L.ba.S,le=oe==$v||oe==Uv;L=L.ba.f.RGBA;var ue=[0],be=N.ka;ue[0]=N.T,N.Kb&&(be==0?--ue[0]:(--be,ee[0]-=N.width),N.j+N.ka+N.T==N.o&&(ue[0]=N.o-N.j-be));var De=L.eb;be=L.fb+be*L.A,N=d_(V,ee[0],N.width,ae,ue,De,be+(le?0:3),L.A),t(R==ue),N&&Wt(oe)&&Jp(De,be,le,ae,ue,L.A)}return 0}function Ka(N){var L=N.ma,R=L.ba.S,V=11>R,ee=R==Bv||R==zv||R==$v||R==Bk||R==12||Wt(R);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!$p(L.Oa,N,ee?11:12))return 0;if(ee&&Wt(R)&&Iv(),N.da)alert("todo:use_scaling");else{if(V){if(L.Ib=ls,N.Kb){if(R=N.U+1>>1,L.memory=s(N.U+2*R),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+N.U,L.Mc=L.cc,L.Nc=L.dc+R,L.Ib=zr,Iv()}}else alert("todo:EmitYUV");ee&&(L.Jb=Ma,V&&fo())}if(V&&!C_){for(N=0;256>N;++N)jK[N]=89858*(N-128)+Hv>>Wv,CK[N]=-22014*(N-128)+Hv,SK[N]=-45773*(N-128),NK[N]=113618*(N-128)+Hv>>Wv;for(N=Qp;N<Vk;++N)L=76283*(N-16)+Hv>>Wv,AK[N-Qp]=rn(L,255),EK[N-Qp]=rn(L+8>>4,15);C_=1}return 1}function Rt(N){var L=N.ma,R=N.U,V=N.T;return t(!(1&N.ka)),0>=R||0>=V?0:(R=L.Ib(N,L),L.Jb!=null&&L.Jb(N,L,R),L.Dc+=R,1)}function Kr(N){N.ma.memory=null}function _n(N,L,R,V){return fe(N,8)!=47?0:(L[0]=fe(N,14)+1,R[0]=fe(N,14)+1,V[0]=fe(N,1),fe(N,3)!=0?0:!N.h)}function ua(N,L){if(4>N)return N+1;var R=N-2>>1;return(2+(1&N)<<R)+fe(L,R)+1}function Ha(N,L){return 120<L?L-120:1<=(R=((R=cK[L-1])>>4)*N+(8-(15&R)))?R:1;var R}function Vr(N,L,R){var V=H(R),ee=N[L+=255&V].g-8;return 0<ee&&(te(R,R.u+8),V=H(R),L+=N[L].value,L+=V&(1<<ee)-1),te(R,R.u+N[L].g),N[L].value}function Na(N,L,R){return R.g+=N.g,R.value+=N.value<<L>>>0,t(8>=R.g),N.g}function re(N,L,R){var V=N.xc;return t((L=V==0?0:N.vc[N.md*(R>>V)+(L>>V)])<N.Wb),N.Ya[L]}function ye(N,L,R,V){var ee=N.ab,ae=N.c*L,oe=N.C;L=oe+L;var le=R,ue=V;for(V=N.Ta,R=N.Ua;0<ee--;){var be=N.gc[ee],De=oe,Je=L,we=le,Oe=ue,Ue=(ue=V,le=R,be.Ea);switch(t(De<Je),t(Je<=be.nc),be.hc){case 2:pn(we,Oe,(Je-De)*Ue,ue,le);break;case 0:var et=De,Ye=Je,rt=ue,nt=le,ut=(Dt=be).Ea;et==0&&(Wp(we,Oe,null,null,1,rt,nt),Ie(we,Oe+1,0,0,ut-1,rt,nt+1),Oe+=ut,nt+=ut,++et);for(var lt=1<<Dt.b,Bt=lt-1,Et=he(ut,Dt.b),or=Dt.K,Dt=Dt.w+(et>>Dt.b)*Et;et<Ye;){var kr=or,Gn=Dt,lr=1;for(G0(we,Oe,rt,nt-ut,1,rt,nt);lr<ut;){var Pt=(lr&~Bt)+lt;Pt>ut&&(Pt=ut),(0,Vp[kr[Gn++]>>8&15])(we,Oe+ +lr,rt,nt+lr-ut,Pt-lr,rt,nt+lr),lr=Pt}Oe+=ut,nt+=ut,++et&Bt||(Dt+=Et)}Je!=be.nc&&a(ue,le-Ue,ue,le+(Je-De-1)*Ue,Ue);break;case 1:for(Ue=we,Ye=Oe,ut=(we=be.Ea)-(nt=we&~(rt=(Oe=1<<be.b)-1)),et=he(we,be.b),lt=be.K,be=be.w+(De>>be.b)*et;De<Je;){for(Bt=lt,Et=be,or=new Ae,Dt=Ye+nt,kr=Ye+we;Ye<Dt;)Ee(Bt[Et++],or),Gp(or,Ue,Ye,Oe,ue,le),Ye+=Oe,le+=Oe;Ye<kr&&(Ee(Bt[Et++],or),Gp(or,Ue,Ye,ut,ue,le),Ye+=ut,le+=ut),++De&rt||(be+=et)}break;case 3:if(we==ue&&Oe==le&&0<be.b){for(Ye=ue,we=Ue=le+(Je-De)*Ue-(nt=(Je-De)*he(be.Ea,be.b)),Oe=ue,rt=le,et=[],nt=(ut=nt)-1;0<=nt;--nt)et[nt]=Oe[rt+nt];for(nt=ut-1;0<=nt;--nt)Ye[we+nt]=et[nt];Pv(be,De,Je,ue,Ue,ue,le)}else Pv(be,De,Je,we,Oe,ue,le)}le=V,ue=R}ue!=R&&a(V,R,le,ue,ae)}function ce(N,L){var R=N.V,V=N.Ba+N.c*N.C,ee=L-N.C;if(t(L<=N.l.o),t(16>=ee),0<ee){var ae=N.l,oe=N.Ta,le=N.Ua,ue=ae.width;if(ye(N,ee,R,V),ee=le=[le],t((R=N.C)<(V=L)),t(ae.v<ae.va),V>ae.o&&(V=ae.o),R<ae.j){var be=ae.j-R;R=ae.j,ee[0]+=be*ue}if(R>=V?R=0:(ee[0]+=4*ae.v,ae.ka=R-ae.j,ae.U=ae.va-ae.v,ae.T=V-R,R=1),R){if(le=le[0],11>(R=N.ca).S){var De=R.f.RGBA,Je=(V=R.S,ee=ae.U,ae=ae.T,be=De.eb,De.A),we=ae;for(De=De.fb+N.Ma*De.A;0<we--;){var Oe=oe,Ue=le,et=ee,Ye=be,rt=De;switch(V){case Fv:qp(Oe,Ue,et,Ye,rt);break;case Bv:Td(Oe,Ue,et,Ye,rt);break;case zk:Td(Oe,Ue,et,Ye,rt),Jp(Ye,rt,0,et,1,0);break;case x_:lu(Oe,Ue,et,Ye,rt);break;case zv:St(Oe,Ue,et,Ye,rt,1);break;case $k:St(Oe,Ue,et,Ye,rt,1),Jp(Ye,rt,0,et,1,0);break;case $v:St(Oe,Ue,et,Ye,rt,0);break;case Uv:St(Oe,Ue,et,Ye,rt,0),Jp(Ye,rt,1,et,1,0);break;case Bk:Id(Oe,Ue,et,Ye,rt);break;case Uk:Id(Oe,Ue,et,Ye,rt),c_(Ye,rt,et,1,0);break;case v_:Dd(Oe,Ue,et,Ye,rt);break;default:t(0)}le+=ue,De+=Je}N.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=R.height)}}N.C=L,t(N.C<=N.i)}function ge(N){var L;if(0<N.ua)return 0;for(L=0;L<N.Wb;++L){var R=N.Ya[L].G,V=N.Ya[L].H;if(0<R[1][V[1]+0].g||0<R[2][V[2]+0].g||0<R[3][V[3]+0].g)return 0}return 1}function ke(N,L,R,V,ee,ae){if(N.Z!=0){var oe=N.qd,le=N.rd;for(t(Rd[N.Z]!=null);L<R;++L)Rd[N.Z](oe,le,V,ee,V,ee,ae),oe=V,le=ee,ee+=ae;N.qd=oe,N.rd=le}}function Ne(N,L){var R=N.l.ma,V=R.Z==0||R.Z==1?N.l.j:N.C;if(V=N.C<V?V:N.C,t(L<=N.l.o),L>V){var ee=N.l.width,ae=R.ca,oe=R.tb+ee*V,le=N.V,ue=N.Ba+N.c*V,be=N.gc;t(N.ab==1),t(be[0].hc==3),Ul(be[0],V,L,le,ue,ae,oe),ke(R,V,L,ae,oe,ee)}N.C=N.Ma=L}function He(N,L,R,V,ee,ae,oe){var le=N.$/V,ue=N.$%V,be=N.m,De=N.s,Je=R+N.$,we=Je;ee=R+V*ee;var Oe=R+V*ae,Ue=280+De.ua,et=N.Pb?le:16777216,Ye=0<De.ua?De.Wa:null,rt=De.wc,nt=Je<Oe?re(De,ue,le):null;t(N.C<ae),t(Oe<=ee);var ut=!1;e:for(;;){for(;ut||Je<Oe;){var lt=0;if(le>=et){var Bt=Je-R;t((et=N).Pb),et.wd=et.m,et.xd=Bt,0<et.s.ua&&We(et.s.Wa,et.s.vb),et=le+fK}if(ue&rt||(nt=re(De,ue,le)),t(nt!=null),nt.Qb&&(L[Je]=nt.qb,ut=!0),!ut)if(W(be),nt.jc){lt=be,Bt=L;var Et=Je,or=nt.pd[H(lt)&ou-1];t(nt.jc),256>or.g?(te(lt,lt.u+or.g),Bt[Et]=or.value,lt=0):(te(lt,lt.u+or.g-256),t(256<=or.value),lt=or.value),lt==0&&(ut=!0)}else lt=Vr(nt.G[0],nt.H[0],be);if(be.h)break;if(ut||256>lt){if(!ut)if(nt.nd)L[Je]=(nt.qb|lt<<8)>>>0;else{if(W(be),ut=Vr(nt.G[1],nt.H[1],be),W(be),Bt=Vr(nt.G[2],nt.H[2],be),Et=Vr(nt.G[3],nt.H[3],be),be.h)break;L[Je]=(Et<<24|ut<<16|lt<<8|Bt)>>>0}if(ut=!1,++Je,++ue>=V&&(ue=0,++le,oe!=null&&le<=ae&&!(le%16)&&oe(N,le),Ye!=null))for(;we<Je;)lt=L[we++],Ye.X[(506832829*lt&4294967295)>>>Ye.Mb]=lt}else if(280>lt){if(lt=ua(lt-256,be),Bt=Vr(nt.G[4],nt.H[4],be),W(be),Bt=Ha(V,Bt=ua(Bt,be)),be.h)break;if(Je-R<Bt||ee-Je<lt)break e;for(Et=0;Et<lt;++Et)L[Je+Et]=L[Je+Et-Bt];for(Je+=lt,ue+=lt;ue>=V;)ue-=V,++le,oe!=null&&le<=ae&&!(le%16)&&oe(N,le);if(t(Je<=ee),ue&rt&&(nt=re(De,ue,le)),Ye!=null)for(;we<Je;)lt=L[we++],Ye.X[(506832829*lt&4294967295)>>>Ye.Mb]=lt}else{if(!(lt<Ue))break e;for(ut=lt-280,t(Ye!=null);we<Je;)lt=L[we++],Ye.X[(506832829*lt&4294967295)>>>Ye.Mb]=lt;lt=Je,t(!(ut>>>(Bt=Ye).Xa)),L[lt]=Bt.X[ut],ut=!0}ut||t(be.h==J(be))}if(N.Pb&&be.h&&Je<ee)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&We(N.s.vb,N.s.Wa);else{if(be.h)break e;oe!=null&&oe(N,le>ae?ae:le),N.a=0,N.$=Je-R}return 1}return N.a=3,0}function Xe(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var L=N.Wa;L!=null&&(L.X=null),N.vb=null,t(N!=null)}function Ge(){var N=new Ft;return N==null?null:(N.a=0,N.xb=w_,Ut("Predictor","VP8LPredictors"),Ut("Predictor","VP8LPredictors_C"),Ut("PredictorAdd","VP8LPredictorsAdd"),Ut("PredictorAdd","VP8LPredictorsAdd_C"),pn=Re,Gp=Be,qp=it,Td=ft,Id=st,Dd=pt,lu=At,S.VP8LMapColor32b=$l,S.VP8LMapColor8b=Hp,N)}function qe(N,L,R,V,ee){var ae=1,oe=[N],le=[L],ue=V.m,be=V.s,De=null,Je=0;e:for(;;){if(R)for(;ae&&fe(ue,1);){var we=oe,Oe=le,Ue=V,et=1,Ye=Ue.m,rt=Ue.gc[Ue.ab],nt=fe(Ye,2);if(Ue.Oc&1<<nt)ae=0;else{switch(Ue.Oc|=1<<nt,rt.hc=nt,rt.Ea=we[0],rt.nc=Oe[0],rt.K=[null],++Ue.ab,t(4>=Ue.ab),nt){case 0:case 1:rt.b=fe(Ye,3)+2,et=qe(he(rt.Ea,rt.b),he(rt.nc,rt.b),0,Ue,rt.K),rt.K=rt.K[0];break;case 3:var ut,lt=fe(Ye,8)+1,Bt=16<lt?0:4<lt?1:2<lt?2:3;if(we[0]=he(rt.Ea,Bt),rt.b=Bt,ut=et=qe(lt,1,0,Ue,rt.K)){var Et,or=lt,Dt=rt,kr=1<<(8>>Dt.b),Gn=s(kr);if(Gn==null)ut=0;else{var lr=Dt.K[0],Pt=Dt.w;for(Gn[0]=Dt.K[0][0],Et=1;Et<1*or;++Et)Gn[Et]=ie(lr[Pt+Et],Gn[Et-1]);for(;Et<4*kr;++Et)Gn[Et]=0;Dt.K[0]=null,Dt.K[0]=Gn,ut=1}}et=ut;break;case 2:break;default:t(0)}ae=et}}if(oe=oe[0],le=le[0],ae&&fe(ue,1)&&!(ae=1<=(Je=fe(ue,4))&&11>=Je)){V.a=3;break e}var bt;if(bt=ae)t:{var xn,sr,Er,La=V,ws=oe,ii=le,an=Je,Ps=R,oi=La.m,qn=La.s,Tr=[null],Qr=1,nn=0,Xr=dK[an];r:for(;;){if(Ps&&fe(oi,1)){var ks=fe(oi,3)+2,tl=he(ws,ks),vn=he(ii,ks),wi=tl*vn;if(!qe(tl,vn,0,La,Tr))break r;for(Tr=Tr[0],qn.xc=ks,xn=0;xn<wi;++xn){var ma=Tr[xn]>>8&65535;Tr[xn]=ma,ma>=Qr&&(Qr=ma+1)}}if(oi.h)break r;for(sr=0;5>sr;++sr){var Yn=y_[sr];!sr&&0<an&&(Yn+=1<<an),nn<Yn&&(nn=Yn)}var Ri=o(Qr*Xr,D),li=Qr,Fi=o(li,B);if(Fi==null)var Bi=null;else t(65536>=li),Bi=Fi;var ki=s(nn);if(Bi==null||ki==null||Ri==null){La.a=1;break r}var zi=Ri;for(xn=Er=0;xn<Qr;++xn){var Ca=Bi[xn],$i=Ca.G,rl=Ca.H,du=0,Oc=1,js=0;for(sr=0;5>sr;++sr){Yn=y_[sr],$i[sr]=zi,rl[sr]=Er,!sr&&0<an&&(Yn+=1<<an);n:{var Gv,Gk=Yn,qv=La,Xp=ki,LK=zi,TK=Er,qk=0,Fd=qv.m,IK=fe(Fd,1);if(n(Xp,0,0,Gk),IK){var DK=fe(Fd,1)+1,PK=fe(Fd,1),__=fe(Fd,PK==0?1:8);Xp[__]=1,DK==2&&(Xp[__=fe(Fd,8)]=1);var Yv=1}else{var M_=s(19),L_=fe(Fd,4)+4;if(19<L_){qv.a=3;var Jv=0;break n}for(Gv=0;Gv<L_;++Gv)M_[lK[Gv]]=fe(Fd,3);var Yk=void 0,Zp=void 0,T_=qv,OK=M_,Kv=Gk,I_=Xp,Jk=0,Bd=T_.m,D_=8,P_=o(128,D);a:for(;M(P_,0,7,OK,19);){if(fe(Bd,1)){var RK=2+2*fe(Bd,3);if((Yk=2+fe(Bd,RK))>Kv)break a}else Yk=Kv;for(Zp=0;Zp<Kv&&Yk--;){W(Bd);var O_=P_[0+(127&H(Bd))];te(Bd,Bd.u+O_.g);var Y0=O_.value;if(16>Y0)I_[Zp++]=Y0,Y0!=0&&(D_=Y0);else{var FK=Y0==16,R_=Y0-16,BK=iK[R_],F_=fe(Bd,sK[R_])+BK;if(Zp+F_>Kv)break a;for(var zK=FK?D_:0;0<F_--;)I_[Zp++]=zK}}Jk=1;break a}Jk||(T_.a=3),Yv=Jk}(Yv=Yv&&!Fd.h)&&(qk=M(LK,TK,8,Xp,Gk)),Yv&&qk!=0?Jv=qk:(qv.a=3,Jv=0)}if(Jv==0)break r;if(Oc&&oK[sr]==1&&(Oc=zi[Er].g==0),du+=zi[Er].g,Er+=Jv,3>=sr){var eg,Kk=ki[0];for(eg=1;eg<Yn;++eg)ki[eg]>Kk&&(Kk=ki[eg]);js+=Kk}}if(Ca.nd=Oc,Ca.Qb=0,Oc&&(Ca.qb=($i[3][rl[3]+0].value<<24|$i[1][rl[1]+0].value<<16|$i[2][rl[2]+0].value)>>>0,du==0&&256>$i[0][rl[0]+0].value&&(Ca.Qb=1,Ca.qb+=$i[0][rl[0]+0].value<<8)),Ca.jc=!Ca.Qb&&6>js,Ca.jc){var Qv,Rc=Ca;for(Qv=0;Qv<ou;++Qv){var zd=Qv,$d=Rc.pd[zd],Xv=Rc.G[0][Rc.H[0]+zd];256<=Xv.value?($d.g=Xv.g+256,$d.value=Xv.value):($d.g=0,$d.value=0,zd>>=Na(Xv,8,$d),zd>>=Na(Rc.G[1][Rc.H[1]+zd],16,$d),zd>>=Na(Rc.G[2][Rc.H[2]+zd],0,$d),Na(Rc.G[3][Rc.H[3]+zd],24,$d))}}}qn.vc=Tr,qn.Wb=Qr,qn.Ya=Bi,qn.yc=Ri,bt=1;break t}bt=0}if(!(ae=bt)){V.a=3;break e}if(0<Je){if(be.ua=1<<Je,!se(be.Wa,Je)){V.a=1,ae=0;break e}}else be.ua=0;var Qk=V,B_=oe,$K=le,Xk=Qk.s,Zk=Xk.xc;if(Qk.c=B_,Qk.i=$K,Xk.md=he(B_,Zk),Xk.wc=Zk==0?-1:(1<<Zk)-1,R){V.xb=vK;break e}if((De=s(oe*le))==null){V.a=1,ae=0;break e}ae=(ae=He(V,De,0,oe,le,le,null))&&!ue.h;break e}return ae?(ee!=null?ee[0]=De:(t(De==null),t(R)),V.$=0,R||Xe(be)):Xe(be),ae}function Ke(N,L){var R=N.c*N.i,V=R+L+16*L;return t(N.c<=L),N.V=s(V),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+R+L,1)}function dt(N,L){var R=N.C,V=L-R,ee=N.V,ae=N.Ba+N.c*R;for(t(L<=N.l.o);0<V;){var oe=16<V?16:V,le=N.l.ma,ue=N.l.width,be=ue*oe,De=le.ca,Je=le.tb+ue*R,we=N.Ta,Oe=N.Ua;ye(N,oe,ee,ae),f_(we,Oe,De,Je,be),ke(le,R,R+oe,De,Je,ue),V-=oe,ee+=oe*N.c,R+=oe}t(R==L),N.C=N.Ma=L}function gt(){this.ub=this.yd=this.td=this.Rb=0}function kt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ht(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function wt(){this.Yb=function(){var N=[];return function L(R,V,ee){for(var ae=ee[V],oe=0;oe<ae&&(R.push(ee.length>V+1?[]:0),!(ee.length<V+1));oe++)L(R[oe],V+1,ee)}(N,0,[3,11]),N}()}function Yt(){this.jb=s(3),this.Wc=l([4,8],wt),this.Xc=l([4,17],wt)}function sa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function tn(){this.Na=this.la=0}function Fl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bl(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new Xo),this.aa=0,this.l=new Is}function co(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Sd(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new gt,this.Kc=new kt,this.ed=new sa,this.Qa=new ht,this.Ic=this.$c=this.Aa=0,this.D=new Bl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,I),this.ia=0,this.pb=o(4,Fl),this.Pa=new Yt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new co),this.Hd=0,this.rb=Array(new tn),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xo),this.L=this.aa=0,this.gd=l([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Is(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jk(){var N=new Sd;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Kp||(Kp=Ac)),N}function Mn(N,L,R){return N.a==0&&(N.a=L,N.sc=R,N.cb=0),0}function Nv(N,L,R){return 3<=R&&N[L+0]==157&&N[L+1]==1&&N[L+2]==42}function Sv(N,L){if(N==null)return 0;if(N.a=0,N.sc="OK",L==null)return Mn(N,2,"null VP8Io passed to VP8GetHeaders()");var R=L.data,V=L.w,ee=L.ha;if(4>ee)return Mn(N,7,"Truncated header.");var ae=R[V+0]|R[V+1]<<8|R[V+2]<<16,oe=N.Od;if(oe.Rb=!(1&ae),oe.td=ae>>1&7,oe.yd=ae>>4&1,oe.ub=ae>>5,3<oe.td)return Mn(N,3,"Incorrect keyframe parameters.");if(!oe.yd)return Mn(N,4,"Frame not displayable.");V+=3,ee-=3;var le=N.Kc;if(oe.Rb){if(7>ee)return Mn(N,7,"cannot parse picture header");if(!Nv(R,V,ee))return Mn(N,3,"Bad code word");le.c=16383&(R[V+4]<<8|R[V+3]),le.Td=R[V+4]>>6,le.i=16383&(R[V+6]<<8|R[V+5]),le.Ud=R[V+6]>>6,V+=7,ee-=7,N.za=le.c+15>>4,N.Ub=le.i+15>>4,L.width=le.c,L.height=le.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,n((ae=N.Pa).jb,0,255,ae.jb.length),t((ae=N.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,n(ae.Zb,0,0,ae.Zb.length),n(ae.Lb,0,0,ae.Lb)}if(oe.ub>ee)return Mn(N,7,"bad partition length");U(ae=N.m,R,V,oe.ub),V+=oe.ub,ee-=oe.ub,oe.Rb&&(le.Ld=Q(ae),le.Kd=Q(ae)),le=N.Qa;var ue,be=N.Pa;if(t(ae!=null),t(le!=null),le.Cb=Q(ae),le.Cb){if(le.Bb=Q(ae),Q(ae)){for(le.Fb=Q(ae),ue=0;4>ue;++ue)le.Zb[ue]=Q(ae)?K(ae,7):0;for(ue=0;4>ue;++ue)le.Lb[ue]=Q(ae)?K(ae,6):0}if(le.Bb)for(ue=0;3>ue;++ue)be.jb[ue]=Q(ae)?q(ae,8):255}else le.Bb=0;if(ae.Ka)return Mn(N,3,"cannot parse segment header");if((le=N.ed).zd=Q(ae),le.Tb=q(ae,6),le.wb=q(ae,3),le.Pc=Q(ae),le.Pc&&Q(ae)){for(be=0;4>be;++be)Q(ae)&&(le.vd[be]=K(ae,6));for(be=0;4>be;++be)Q(ae)&&(le.od[be]=K(ae,6))}if(N.L=le.Tb==0?0:le.zd?1:2,ae.Ka)return Mn(N,3,"cannot parse filter header");var De=ee;if(ee=ue=V,V=ue+De,le=De,N.Xb=(1<<q(N.m,2))-1,De<3*(be=N.Xb))R=7;else{for(ue+=3*be,le-=3*be,De=0;De<be;++De){var Je=R[ee+0]|R[ee+1]<<8|R[ee+2]<<16;Je>le&&(Je=le),U(N.Jc[+De],R,ue,Je),ue+=Je,le-=Je,ee+=3}U(N.Jc[+be],R,ue,le),R=ue<V?0:5}if(R!=0)return Mn(N,R,"cannot parse partitions");for(R=q(ue=N.m,7),ee=Q(ue)?K(ue,4):0,V=Q(ue)?K(ue,4):0,le=Q(ue)?K(ue,4):0,be=Q(ue)?K(ue,4):0,ue=Q(ue)?K(ue,4):0,De=N.Qa,Je=0;4>Je;++Je){if(De.Cb){var we=De.Zb[Je];De.Fb||(we+=R)}else{if(0<Je){N.pb[Je]=N.pb[0];continue}we=R}var Oe=N.pb[Je];Oe.Sc[0]=Wk[rn(we+ee,127)],Oe.Sc[1]=Hk[rn(we+0,127)],Oe.Eb[0]=2*Wk[rn(we+V,127)],Oe.Eb[1]=101581*Hk[rn(we+le,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=Wk[rn(we+be,117)],Oe.Qc[1]=Hk[rn(we+ue,127)],Oe.lc=we+ue}if(!oe.Rb)return Mn(N,4,"Not a key frame.");for(Q(ae),oe=N.Pa,R=0;4>R;++R){for(ee=0;8>ee;++ee)for(V=0;3>V;++V)for(le=0;11>le;++le)be=ne(ae,gK[R][ee][V][le])?q(ae,8):mK[R][ee][V][le],oe.Wc[R][ee].Yb[V][le]=be;for(ee=0;17>ee;++ee)oe.Xc[R][ee]=oe.Wc[R][xK[ee]]}return N.kc=Q(ae),N.kc&&(N.Bd=q(ae,8)),N.cb=1}function Ac(N,L,R,V,ee,ae,oe){var le=L[ee].Yb[R];for(R=0;16>ee;++ee){if(!ne(N,le[R+0]))return ee;for(;!ne(N,le[R+1]);)if(le=L[++ee].Yb[0],R=0,ee==16)return 16;var ue=L[ee+1].Yb;if(ne(N,le[R+2])){var be=N,De=0;if(ne(be,(we=le)[(Je=R)+3]))if(ne(be,we[Je+6])){for(le=0,Je=2*(De=ne(be,we[Je+8]))+(we=ne(be,we[Je+9+De])),De=0,we=uK[Je];we[le];++le)De+=De+ne(be,we[le]);De+=3+(8<<Je)}else ne(be,we[Je+7])?(De=7+2*ne(be,165),De+=ne(be,145)):De=5+ne(be,159);else De=ne(be,we[Je+4])?3+ne(be,we[Je+5]):2;le=ue[2]}else De=1,le=ue[1];ue=oe+hK[ee],0>(be=N).b&&Y(be);var Je,we=be.b,Oe=(Je=be.Ca>>1)-(be.I>>we)>>31;--be.b,be.Ca+=Oe,be.Ca|=1,be.I-=(Je+1&Oe)<<we,ae[ue]=((De^Oe)-Oe)*V[(0<ee)+0]}return 16}function Vf(N){var L=N.rb[N.sb-1];L.la=0,L.Na=0,n(N.zc,0,0,N.zc.length),N.ja=0}function Zo(N,L,R,V,ee){ee=N[L+R+32*V]+(ee>>3),N[L+R+32*V]=-256&ee?0>ee?0:255:ee}function Gf(N,L,R,V,ee,ae){Zo(N,L,0,R,V+ee),Zo(N,L,1,R,V+ae),Zo(N,L,2,R,V-ae),Zo(N,L,3,R,V-ee)}function mn(N){return(20091*N>>16)+N}function Mp(N,L,R,V){var ee,ae=0,oe=s(16);for(ee=0;4>ee;++ee){var le=N[L+0]+N[L+8],ue=N[L+0]-N[L+8],be=(35468*N[L+4]>>16)-mn(N[L+12]),De=mn(N[L+4])+(35468*N[L+12]>>16);oe[ae+0]=le+De,oe[ae+1]=ue+be,oe[ae+2]=ue-be,oe[ae+3]=le-De,ae+=4,L++}for(ee=ae=0;4>ee;++ee)le=(N=oe[ae+0]+4)+oe[ae+8],ue=N-oe[ae+8],be=(35468*oe[ae+4]>>16)-mn(oe[ae+12]),Zo(R,V,0,0,le+(De=mn(oe[ae+4])+(35468*oe[ae+12]>>16))),Zo(R,V,1,0,ue+be),Zo(R,V,2,0,ue-be),Zo(R,V,3,0,le-De),ae++,V+=32}function Nk(N,L,R,V){var ee=N[L+0]+4,ae=35468*N[L+4]>>16,oe=mn(N[L+4]),le=35468*N[L+1]>>16;Gf(R,V,0,ee+oe,N=mn(N[L+1]),le),Gf(R,V,1,ee+ae,N,le),Gf(R,V,2,ee-ae,N,le),Gf(R,V,3,ee-oe,N,le)}function Sk(N,L,R,V,ee){Mp(N,L,R,V),ee&&Mp(N,L+16,R,V+4)}function Ck(N,L,R,V){cu(N,L+0,R,V,1),cu(N,L+32,R,V+128,1)}function zl(N,L,R,V){var ee;for(N=N[L+0]+4,ee=0;4>ee;++ee)for(L=0;4>L;++L)Zo(R,V,L,ee,N)}function Cv(N,L,R,V){N[L+0]&&Gr(N,L+0,R,V),N[L+16]&&Gr(N,L+16,R,V+4),N[L+32]&&Gr(N,L+32,R,V+128),N[L+48]&&Gr(N,L+48,R,V+128+4)}function Av(N,L,R,V){var ee,ae=s(16);for(ee=0;4>ee;++ee){var oe=N[L+0+ee]+N[L+12+ee],le=N[L+4+ee]+N[L+8+ee],ue=N[L+4+ee]-N[L+8+ee],be=N[L+0+ee]-N[L+12+ee];ae[0+ee]=oe+le,ae[8+ee]=oe-le,ae[4+ee]=be+ue,ae[12+ee]=be-ue}for(ee=0;4>ee;++ee)oe=(N=ae[0+4*ee]+3)+ae[3+4*ee],le=ae[1+4*ee]+ae[2+4*ee],ue=ae[1+4*ee]-ae[2+4*ee],be=N-ae[3+4*ee],R[V+0]=oe+le>>3,R[V+16]=be+ue>>3,R[V+32]=oe-le>>3,R[V+48]=be-ue>>3,V+=64}function Cd(N,L,R){var V,ee=L-32,ae=Oi,oe=255-N[ee-1];for(V=0;V<R;++V){var le,ue=ae,be=oe+N[L-1];for(le=0;le<R;++le)N[L+le]=ue[be+N[ee+le]];L+=32}}function Lp(N,L){Cd(N,L,4)}function Ak(N,L){Cd(N,L,8)}function Ek(N,L){Cd(N,L,16)}function _k(N,L){var R;for(R=0;16>R;++R)a(N,L+32*R,N,L-32,16)}function Tp(N,L){var R;for(R=16;0<R;--R)n(N,L,N[L-1],16),L+=32}function qf(N,L,R){var V;for(V=0;16>V;++V)n(L,R+32*V,N,16)}function Ad(N,L){var R,V=16;for(R=0;16>R;++R)V+=N[L-1+32*R]+N[L+R-32];qf(V>>5,N,L)}function Mk(N,L){var R,V=8;for(R=0;16>R;++R)V+=N[L-1+32*R];qf(V>>4,N,L)}function Yf(N,L){var R,V=8;for(R=0;16>R;++R)V+=N[L+R-32];qf(V>>4,N,L)}function Ip(N,L){qf(128,N,L)}function er(N,L,R){return N+2*L+R+2>>2}function Lk(N,L){var R,V=L-32;for(V=new Uint8Array([er(N[V-1],N[V+0],N[V+1]),er(N[V+0],N[V+1],N[V+2]),er(N[V+1],N[V+2],N[V+3]),er(N[V+2],N[V+3],N[V+4])]),R=0;4>R;++R)a(N,L+32*R,V,0,V.length)}function Tk(N,L){var R=N[L-1],V=N[L-1+32],ee=N[L-1+64],ae=N[L-1+96];pe(N,L+0,16843009*er(N[L-1-32],R,V)),pe(N,L+32,16843009*er(R,V,ee)),pe(N,L+64,16843009*er(V,ee,ae)),pe(N,L+96,16843009*er(ee,ae,ae))}function Ik(N,L){var R,V=4;for(R=0;4>R;++R)V+=N[L+R-32]+N[L-1+32*R];for(V>>=3,R=0;4>R;++R)n(N,L+32*R,V,4)}function Dk(N,L){var R=N[L-1+0],V=N[L-1+32],ee=N[L-1+64],ae=N[L-1-32],oe=N[L+0-32],le=N[L+1-32],ue=N[L+2-32],be=N[L+3-32];N[L+0+96]=er(V,ee,N[L-1+96]),N[L+1+96]=N[L+0+64]=er(R,V,ee),N[L+2+96]=N[L+1+64]=N[L+0+32]=er(ae,R,V),N[L+3+96]=N[L+2+64]=N[L+1+32]=N[L+0+0]=er(oe,ae,R),N[L+3+64]=N[L+2+32]=N[L+1+0]=er(le,oe,ae),N[L+3+32]=N[L+2+0]=er(ue,le,oe),N[L+3+0]=er(be,ue,le)}function Ec(N,L){var R=N[L+1-32],V=N[L+2-32],ee=N[L+3-32],ae=N[L+4-32],oe=N[L+5-32],le=N[L+6-32],ue=N[L+7-32];N[L+0+0]=er(N[L+0-32],R,V),N[L+1+0]=N[L+0+32]=er(R,V,ee),N[L+2+0]=N[L+1+32]=N[L+0+64]=er(V,ee,ae),N[L+3+0]=N[L+2+32]=N[L+1+64]=N[L+0+96]=er(ee,ae,oe),N[L+3+32]=N[L+2+64]=N[L+1+96]=er(ae,oe,le),N[L+3+64]=N[L+2+96]=er(oe,le,ue),N[L+3+96]=er(le,ue,ue)}function _c(N,L){var R=N[L-1+0],V=N[L-1+32],ee=N[L-1+64],ae=N[L-1-32],oe=N[L+0-32],le=N[L+1-32],ue=N[L+2-32],be=N[L+3-32];N[L+0+0]=N[L+1+64]=ae+oe+1>>1,N[L+1+0]=N[L+2+64]=oe+le+1>>1,N[L+2+0]=N[L+3+64]=le+ue+1>>1,N[L+3+0]=ue+be+1>>1,N[L+0+96]=er(ee,V,R),N[L+0+64]=er(V,R,ae),N[L+0+32]=N[L+1+96]=er(R,ae,oe),N[L+1+32]=N[L+2+96]=er(ae,oe,le),N[L+2+32]=N[L+3+96]=er(oe,le,ue),N[L+3+32]=er(le,ue,be)}function Pk(N,L){var R=N[L+0-32],V=N[L+1-32],ee=N[L+2-32],ae=N[L+3-32],oe=N[L+4-32],le=N[L+5-32],ue=N[L+6-32],be=N[L+7-32];N[L+0+0]=R+V+1>>1,N[L+1+0]=N[L+0+64]=V+ee+1>>1,N[L+2+0]=N[L+1+64]=ee+ae+1>>1,N[L+3+0]=N[L+2+64]=ae+oe+1>>1,N[L+0+32]=er(R,V,ee),N[L+1+32]=N[L+0+96]=er(V,ee,ae),N[L+2+32]=N[L+1+96]=er(ee,ae,oe),N[L+3+32]=N[L+2+96]=er(ae,oe,le),N[L+3+64]=er(oe,le,ue),N[L+3+96]=er(le,ue,be)}function Ok(N,L){var R=N[L-1+0],V=N[L-1+32],ee=N[L-1+64],ae=N[L-1+96];N[L+0+0]=R+V+1>>1,N[L+2+0]=N[L+0+32]=V+ee+1>>1,N[L+2+32]=N[L+0+64]=ee+ae+1>>1,N[L+1+0]=er(R,V,ee),N[L+3+0]=N[L+1+32]=er(V,ee,ae),N[L+3+32]=N[L+1+64]=er(ee,ae,ae),N[L+3+64]=N[L+2+64]=N[L+0+96]=N[L+1+96]=N[L+2+96]=N[L+3+96]=ae}function z0(N,L){var R=N[L-1+0],V=N[L-1+32],ee=N[L-1+64],ae=N[L-1+96],oe=N[L-1-32],le=N[L+0-32],ue=N[L+1-32],be=N[L+2-32];N[L+0+0]=N[L+2+32]=R+oe+1>>1,N[L+0+32]=N[L+2+64]=V+R+1>>1,N[L+0+64]=N[L+2+96]=ee+V+1>>1,N[L+0+96]=ae+ee+1>>1,N[L+3+0]=er(le,ue,be),N[L+2+0]=er(oe,le,ue),N[L+1+0]=N[L+3+32]=er(R,oe,le),N[L+1+32]=N[L+3+64]=er(V,R,oe),N[L+1+64]=N[L+3+96]=er(ee,V,R),N[L+1+96]=er(ae,ee,V)}function Dp(N,L){var R;for(R=0;8>R;++R)a(N,L+32*R,N,L-32,8)}function Jf(N,L){var R;for(R=0;8>R;++R)n(N,L,N[L-1],8),L+=32}function $0(N,L,R){var V;for(V=0;8>V;++V)n(L,R+32*V,N,8)}function U0(N,L){var R,V=8;for(R=0;8>R;++R)V+=N[L+R-32]+N[L-1+32*R];$0(V>>4,N,L)}function Rk(N,L){var R,V=4;for(R=0;8>R;++R)V+=N[L+R-32];$0(V>>3,N,L)}function Pp(N,L){var R,V=4;for(R=0;8>R;++R)V+=N[L-1+32*R];$0(V>>3,N,L)}function Op(N,L){$0(128,N,L)}function Kf(N,L,R){var V=N[L-R],ee=N[L+0],ae=3*(ee-V)+Fk[1020+N[L-2*R]-N[L+R]],oe=Rv[112+(ae+4>>3)];N[L-R]=Oi[255+V+Rv[112+(ae+3>>3)]],N[L+0]=Oi[255+ee-oe]}function Qf(N,L,R,V){var ee=N[L+0],ae=N[L+R];return mo[255+N[L-2*R]-N[L-R]]>V||mo[255+ae-ee]>V}function Rp(N,L,R,V){return 4*mo[255+N[L-R]-N[L+0]]+mo[255+N[L-2*R]-N[L+R]]<=V}function W0(N,L,R,V,ee){var ae=N[L-3*R],oe=N[L-2*R],le=N[L-R],ue=N[L+0],be=N[L+R],De=N[L+2*R],Je=N[L+3*R];return 4*mo[255+le-ue]+mo[255+oe-be]>V?0:mo[255+N[L-4*R]-ae]<=ee&&mo[255+ae-oe]<=ee&&mo[255+oe-le]<=ee&&mo[255+Je-De]<=ee&&mo[255+De-be]<=ee&&mo[255+be-ue]<=ee}function Fp(N,L,R,V){var ee=2*V+1;for(V=0;16>V;++V)Rp(N,L+V,R,ee)&&Kf(N,L+V,R)}function Xf(N,L,R,V){var ee=2*V+1;for(V=0;16>V;++V)Rp(N,L+V*R,1,ee)&&Kf(N,L+V*R,1)}function Ev(N,L,R,V){var ee;for(ee=3;0<ee;--ee)Fp(N,L+=4*R,R,V)}function _v(N,L,R,V){var ee;for(ee=3;0<ee;--ee)Xf(N,L+=4,R,V)}function Mc(N,L,R,V,ee,ae,oe,le){for(ae=2*ae+1;0<ee--;){if(W0(N,L,R,ae,oe))if(Qf(N,L,R,le))Kf(N,L,R);else{var ue=N,be=L,De=R,Je=ue[be-2*De],we=ue[be-De],Oe=ue[be+0],Ue=ue[be+De],et=ue[be+2*De],Ye=27*(nt=Fk[1020+3*(Oe-we)+Fk[1020+Je-Ue]])+63>>7,rt=18*nt+63>>7,nt=9*nt+63>>7;ue[be-3*De]=Oi[255+ue[be-3*De]+nt],ue[be-2*De]=Oi[255+Je+rt],ue[be-De]=Oi[255+we+Ye],ue[be+0]=Oi[255+Oe-Ye],ue[be+De]=Oi[255+Ue-rt],ue[be+2*De]=Oi[255+et-nt]}L+=V}}function Lc(N,L,R,V,ee,ae,oe,le){for(ae=2*ae+1;0<ee--;){if(W0(N,L,R,ae,oe))if(Qf(N,L,R,le))Kf(N,L,R);else{var ue=N,be=L,De=R,Je=ue[be-De],we=ue[be+0],Oe=ue[be+De],Ue=Rv[112+(4+(et=3*(we-Je))>>3)],et=Rv[112+(et+3>>3)],Ye=Ue+1>>1;ue[be-2*De]=Oi[255+ue[be-2*De]+Ye],ue[be-De]=Oi[255+Je+et],ue[be+0]=Oi[255+we-Ue],ue[be+De]=Oi[255+Oe-Ye]}L+=V}}function Mv(N,L,R,V,ee,ae){Mc(N,L,R,1,16,V,ee,ae)}function Lv(N,L,R,V,ee,ae){Mc(N,L,1,R,16,V,ee,ae)}function Zf(N,L,R,V,ee,ae){var oe;for(oe=3;0<oe;--oe)Lc(N,L+=4*R,R,1,16,V,ee,ae)}function Tv(N,L,R,V,ee,ae){var oe;for(oe=3;0<oe;--oe)Lc(N,L+=4,1,R,16,V,ee,ae)}function P(N,L,R,V,ee,ae,oe,le){Mc(N,L,ee,1,8,ae,oe,le),Mc(R,V,ee,1,8,ae,oe,le)}function X(N,L,R,V,ee,ae,oe,le){Mc(N,L,1,ee,8,ae,oe,le),Mc(R,V,1,ee,8,ae,oe,le)}function je(N,L,R,V,ee,ae,oe,le){Lc(N,L+4*ee,ee,1,8,ae,oe,le),Lc(R,V+4*ee,ee,1,8,ae,oe,le)}function Me(N,L,R,V,ee,ae,oe,le){Lc(N,L+4,1,ee,8,ae,oe,le),Lc(R,V+4,1,ee,8,ae,oe,le)}function $e(){this.ba=new It,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function at(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lt(){this.ua=0,this.Wa=new Se,this.vb=new Se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new D}function Ft(){this.xb=this.a=0,this.l=new Is,this.ca=new It,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lt,this.ab=0,this.gc=o(4,ct),this.Oc=0}function Zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Is,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tr(N,L,R,V,ee,ae,oe){for(N=N==null?0:N[L+0],L=0;L<oe;++L)ee[ae+L]=N+R[V+L]&255,N=ee[ae+L]}function $r(N,L,R,V,ee,ae,oe){var le;if(N==null)tr(null,null,R,V,ee,ae,oe);else for(le=0;le<oe;++le)ee[ae+le]=N[L+le]+R[V+le]&255}function Qa(N,L,R,V,ee,ae,oe){if(N==null)tr(null,null,R,V,ee,ae,oe);else{var le,ue=N[L+0],be=ue,De=ue;for(le=0;le<oe;++le)be=De+(ue=N[L+le])-be,De=R[V+le]+(-256&be?0>be?0:255:be)&255,be=ue,ee[ae+le]=De}}function Ln(N,L,R,V){var ee=L.width,ae=L.o;if(t(N!=null&&L!=null),0>R||0>=V||R+V>ae)return null;if(!N.Cc){if(N.ga==null){var oe;if(N.ga=new Zt,(oe=N.ga==null)||(oe=L.width*L.o,t(N.Gb.length==0),N.Gb=s(oe),N.Uc=0,N.Gb==null?oe=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,oe=1),oe=!oe),!oe){oe=N.ga;var le=N.Fa,ue=N.P,be=N.qc,De=N.mb,Je=N.nb,we=ue+1,Oe=be-1,Ue=oe.l;if(t(le!=null&&De!=null&&L!=null),Rd[0]=null,Rd[1]=tr,Rd[2]=$r,Rd[3]=Qa,oe.ca=De,oe.tb=Je,oe.c=L.width,oe.i=L.height,t(0<oe.c&&0<oe.i),1>=be)L=0;else if(oe.$a=3&le[ue+0],oe.Z=le[ue+0]>>2&3,oe.Lc=le[ue+0]>>4&3,ue=le[ue+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||ue)L=0;else if(Ue.put=Rt,Ue.ac=Ka,Ue.bc=Kr,Ue.ma=oe,Ue.width=L.width,Ue.height=L.height,Ue.Da=L.Da,Ue.v=L.v,Ue.va=L.va,Ue.j=L.j,Ue.o=L.o,oe.$a)e:{t(oe.$a==1),L=Ge();t:for(;;){if(L==null){L=0;break e}if(t(oe!=null),oe.mc=L,L.c=oe.c,L.i=oe.i,L.l=oe.l,L.l.ma=oe,L.l.width=oe.c,L.l.height=oe.i,L.a=0,G(L.m,le,we,Oe),!qe(oe.c,oe.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&ge(L.s)?(oe.ic=1,le=L.c*L.i,L.Ta=null,L.Ua=0,L.V=s(le),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(oe.ic=0,L=Ke(L,oe.c)),!L))break t;L=1;break e}oe.mc=null,L=0}else L=Oe>=oe.c*oe.i;oe=!L}if(oe)return null;N.ga.Lc!=1?N.Ga=0:V=ae-R}t(N.ga!=null),t(R+V<=ae);e:{if(L=(le=N.ga).c,ae=le.l.o,le.$a==0){if(we=N.rc,Oe=N.Vc,Ue=N.Fa,ue=N.P+1+R*L,be=N.mb,De=N.nb+R*L,t(ue<=N.P+N.qc),le.Z!=0)for(t(Rd[le.Z]!=null),oe=0;oe<V;++oe)Rd[le.Z](we,Oe,Ue,ue,be,De,L),we=be,Oe=De,De+=L,ue+=L;else for(oe=0;oe<V;++oe)a(be,De,Ue,ue,L),we=be,Oe=De,De+=L,ue+=L;N.rc=we,N.Vc=Oe}else{if(t(le.mc!=null),L=R+V,t((oe=le.mc)!=null),t(L<=oe.i),oe.C>=L)L=1;else if(le.ic||fo(),le.ic){le=oe.V,we=oe.Ba,Oe=oe.c;var et=oe.i,Ye=(Ue=1,ue=oe.$/Oe,be=oe.$%Oe,De=oe.m,Je=oe.s,oe.$),rt=Oe*et,nt=Oe*L,ut=Je.wc,lt=Ye<nt?re(Je,be,ue):null;t(Ye<=rt),t(L<=et),t(ge(Je));t:for(;;){for(;!De.h&&Ye<nt;){if(be&ut||(lt=re(Je,be,ue)),t(lt!=null),W(De),256>(et=Vr(lt.G[0],lt.H[0],De)))le[we+Ye]=et,++Ye,++be>=Oe&&(be=0,++ue<=L&&!(ue%16)&&Ne(oe,ue));else{if(!(280>et)){Ue=0;break t}et=ua(et-256,De);var Bt,Et=Vr(lt.G[4],lt.H[4],De);if(W(De),!(Ye>=(Et=Ha(Oe,Et=ua(Et,De)))&&rt-Ye>=et)){Ue=0;break t}for(Bt=0;Bt<et;++Bt)le[we+Ye+Bt]=le[we+Ye+Bt-Et];for(Ye+=et,be+=et;be>=Oe;)be-=Oe,++ue<=L&&!(ue%16)&&Ne(oe,ue);Ye<nt&&be&ut&&(lt=re(Je,be,ue))}t(De.h==J(De))}Ne(oe,ue>L?L:ue);break t}!Ue||De.h&&Ye<rt?(Ue=0,oe.a=De.h?5:3):oe.$=Ye,L=Ue}else L=He(oe,oe.V,oe.Ba,oe.c,oe.i,L,dt);if(!L){V=0;break e}}R+V>=ae&&(N.Cc=1),V=1}if(!V)return null;if(N.Cc&&((V=N.ga)!=null&&(V.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+R*ee}function Sa(N,L,R,V,ee,ae){for(;0<ee--;){var oe,le=N,ue=L+(R?1:0),be=N,De=L+(R?0:3);for(oe=0;oe<V;++oe){var Je=be[De+4*oe];Je!=255&&(Je*=32897,le[ue+4*oe+0]=le[ue+4*oe+0]*Je>>23,le[ue+4*oe+1]=le[ue+4*oe+1]*Je>>23,le[ue+4*oe+2]=le[ue+4*oe+2]*Je>>23)}L+=ae}}function Hn(N,L,R,V,ee){for(;0<V--;){var ae;for(ae=0;ae<R;++ae){var oe=N[L+2*ae+0],le=15&(be=N[L+2*ae+1]),ue=4369*le,be=(240&be|be>>4)*ue>>16;N[L+2*ae+0]=(240&oe|oe>>4)*ue>>16&240|(15&oe|oe<<4)*ue>>16>>4&15,N[L+2*ae+1]=240&be|le}L+=ee}}function Tn(N,L,R,V,ee,ae,oe,le){var ue,be,De=255;for(be=0;be<ee;++be){for(ue=0;ue<V;++ue){var Je=N[L+ue];ae[oe+4*ue]=Je,De&=Je}L+=R,oe+=le}return De!=255}function bs(N,L,R,V,ee){var ae;for(ae=0;ae<ee;++ae)R[V+ae]=N[L+ae]>>8}function fo(){Jp=Sa,c_=Hn,d_=Tn,f_=bs}function bi(N,L,R){S[N]=function(V,ee,ae,oe,le,ue,be,De,Je,we,Oe,Ue,et,Ye,rt,nt,ut){var lt,Bt=ut-1>>1,Et=le[ue+0]|be[De+0]<<16,or=Je[we+0]|Oe[Ue+0]<<16;t(V!=null);var Dt=3*Et+or+131074>>2;for(L(V[ee+0],255&Dt,Dt>>16,et,Ye),ae!=null&&(Dt=3*or+Et+131074>>2,L(ae[oe+0],255&Dt,Dt>>16,rt,nt)),lt=1;lt<=Bt;++lt){var kr=le[ue+lt]|be[De+lt]<<16,Gn=Je[we+lt]|Oe[Ue+lt]<<16,lr=Et+kr+or+Gn+524296,Pt=lr+2*(kr+or)>>3;Dt=Pt+Et>>1,Et=(lr=lr+2*(Et+Gn)>>3)+kr>>1,L(V[ee+2*lt-1],255&Dt,Dt>>16,et,Ye+(2*lt-1)*R),L(V[ee+2*lt-0],255&Et,Et>>16,et,Ye+(2*lt-0)*R),ae!=null&&(Dt=lr+or>>1,Et=Pt+Gn>>1,L(ae[oe+2*lt-1],255&Dt,Dt>>16,rt,nt+(2*lt-1)*R),L(ae[oe+2*lt+0],255&Et,Et>>16,rt,nt+(2*lt+0)*R)),Et=kr,or=Gn}1&ut||(Dt=3*Et+or+131074>>2,L(V[ee+ut-1],255&Dt,Dt>>16,et,Ye+(ut-1)*R),ae!=null&&(Dt=3*or+Et+131074>>2,L(ae[oe+ut-1],255&Dt,Dt>>16,rt,nt+(ut-1)*R)))}}function Iv(){po[Fv]=yK,po[Bv]=k_,po[x_]=bK,po[zv]=j_,po[$v]=N_,po[Bk]=S_,po[v_]=wK,po[zk]=k_,po[$k]=j_,po[Uv]=N_,po[Uk]=S_}function H0(N){return N&-16384?0>N?0:255:N>>kK}function eu(N,L){return H0((19077*N>>8)+(26149*L>>8)-14234)}function Ed(N,L,R){return H0((19077*N>>8)-(6419*L>>8)-(13320*R>>8)+8708)}function tu(N,L){return H0((19077*N>>8)+(33050*L>>8)-17685)}function ru(N,L,R,V,ee){V[ee+0]=eu(N,R),V[ee+1]=Ed(N,L,R),V[ee+2]=tu(N,L)}function au(N,L,R,V,ee){V[ee+0]=tu(N,L),V[ee+1]=Ed(N,L,R),V[ee+2]=eu(N,R)}function Ds(N,L,R,V,ee){var ae=Ed(N,L,R);L=ae<<3&224|tu(N,L)>>3,V[ee+0]=248&eu(N,R)|ae>>5,V[ee+1]=L}function nu(N,L,R,V,ee){var ae=240&tu(N,L)|15;V[ee+0]=240&eu(N,R)|Ed(N,L,R)>>4,V[ee+1]=ae}function su(N,L,R,V,ee){V[ee+0]=255,ru(N,L,R,V,ee+1)}function Bp(N,L,R,V,ee){au(N,L,R,V,ee),V[ee+3]=255}function zp(N,L,R,V,ee){ru(N,L,R,V,ee),V[ee+3]=255}function rn(N,L){return 0>N?0:N>L?L:N}function Tc(N,L,R){S[N]=function(V,ee,ae,oe,le,ue,be,De,Je){for(var we=De+(-2&Je)*R;De!=we;)L(V[ee+0],ae[oe+0],le[ue+0],be,De),L(V[ee+1],ae[oe+0],le[ue+0],be,De+R),ee+=2,++oe,++ue,De+=2*R;1&Je&&L(V[ee+0],ae[oe+0],le[ue+0],be,De)}}function V0(N,L,R){return R==0?N==0?L==0?6:5:L==0?4:0:R}function Dv(N,L,R,V,ee){switch(N>>>30){case 3:cu(L,R,V,ee,0);break;case 2:ho(L,R,V,ee);break;case 1:Gr(L,R,V,ee)}}function uo(N,L){var R,V,ee=L.M,ae=L.Nb,oe=N.oc,le=N.pc+40,ue=N.oc,be=N.pc+584,De=N.oc,Je=N.pc+600;for(R=0;16>R;++R)oe[le+32*R-1]=129;for(R=0;8>R;++R)ue[be+32*R-1]=129,De[Je+32*R-1]=129;for(0<ee?oe[le-1-32]=ue[be-1-32]=De[Je-1-32]=129:(n(oe,le-32-1,127,21),n(ue,be-32-1,127,9),n(De,Je-32-1,127,9)),V=0;V<N.za;++V){var we=L.ya[L.aa+V];if(0<V){for(R=-1;16>R;++R)a(oe,le+32*R-4,oe,le+32*R+12,4);for(R=-1;8>R;++R)a(ue,be+32*R-4,ue,be+32*R+4,4),a(De,Je+32*R-4,De,Je+32*R+4,4)}var Oe=N.Gd,Ue=N.Hd+V,et=we.ad,Ye=we.Hc;if(0<ee&&(a(oe,le-32,Oe[Ue].y,0,16),a(ue,be-32,Oe[Ue].f,0,8),a(De,Je-32,Oe[Ue].ea,0,8)),we.Za){var rt=oe,nt=le-32+16;for(0<ee&&(V>=N.za-1?n(rt,nt,Oe[Ue].y[15],4):a(rt,nt,Oe[Ue+1].y,0,4)),R=0;4>R;R++)rt[nt+128+R]=rt[nt+256+R]=rt[nt+384+R]=rt[nt+0+R];for(R=0;16>R;++R,Ye<<=2)rt=oe,nt=le+A_[R],el[we.Ob[R]](rt,nt),Dv(Ye,et,16*+R,rt,nt)}else if(rt=V0(V,ee,we.Ob[0]),Od[rt](oe,le),Ye!=0)for(R=0;16>R;++R,Ye<<=2)Dv(Ye,et,16*+R,oe,le+A_[R]);for(R=we.Gc,rt=V0(V,ee,we.Dd),Pc[rt](ue,be),Pc[rt](De,Je),Ye=et,rt=ue,nt=be,255&(we=0|R)&&(170&we?Wl(Ye,256,rt,nt):ha(Ye,256,rt,nt)),we=De,Ye=Je,255&(R>>=8)&&(170&R?Wl(et,320,we,Ye):ha(et,320,we,Ye)),ee<N.Ub-1&&(a(Oe[Ue].y,0,oe,le+480,16),a(Oe[Ue].f,0,ue,be+224,8),a(Oe[Ue].ea,0,De,Je+224,8)),R=8*ae*N.B,Oe=N.sa,Ue=N.ta+16*V+16*ae*N.R,et=N.qa,we=N.ra+8*V+R,Ye=N.Ha,rt=N.Ia+8*V+R,R=0;16>R;++R)a(Oe,Ue+R*N.R,oe,le+32*R,16);for(R=0;8>R;++R)a(et,we+R*N.B,ue,be+32*R,8),a(Ye,rt+R*N.B,De,Je+32*R,8)}}function iu(N,L,R,V,ee,ae,oe,le,ue){var be=[0],De=[0],Je=0,we=ue!=null?ue.kd:0,Oe=ue??new at;if(N==null||12>R)return 7;Oe.data=N,Oe.w=L,Oe.ha=R,L=[L],R=[R],Oe.gb=[Oe.gb];e:{var Ue=L,et=R,Ye=Oe.gb;if(t(N!=null),t(et!=null),t(Ye!=null),Ye[0]=0,12<=et[0]&&!r(N,Ue[0],"RIFF")){if(r(N,Ue[0]+8,"WEBP")){Ye=3;break e}var rt=xe(N,Ue[0]+4);if(12>rt||4294967286<rt){Ye=3;break e}if(we&&rt>et[0]-8){Ye=7;break e}Ye[0]=rt,Ue[0]+=12,et[0]-=12}Ye=0}if(Ye!=0)return Ye;for(rt=0<Oe.gb[0],R=R[0];;){e:{var nt=N;et=L,Ye=R;var ut=be,lt=De,Bt=Ue=[0];if((Dt=Je=[Je])[0]=0,8>Ye[0])Ye=7;else{if(!r(nt,et[0],"VP8X")){if(xe(nt,et[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var Et=xe(nt,et[0]+8),or=1+Te(nt,et[0]+12);if(2147483648<=or*(nt=1+Te(nt,et[0]+15))){Ye=3;break e}Bt!=null&&(Bt[0]=Et),ut!=null&&(ut[0]=or),lt!=null&&(lt[0]=nt),et[0]+=18,Ye[0]-=18,Dt[0]=1}Ye=0}}if(Je=Je[0],Ue=Ue[0],Ye!=0)return Ye;if(et=!!(2&Ue),!rt&&Je)return 3;if(ae!=null&&(ae[0]=!!(16&Ue)),oe!=null&&(oe[0]=et),le!=null&&(le[0]=0),oe=be[0],Ue=De[0],Je&&et&&ue==null){Ye=0;break}if(4>R){Ye=7;break}if(rt&&Je||!rt&&!Je&&!r(N,L[0],"ALPH")){R=[R],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Et=N,Ye=L,rt=R;var Dt=Oe.gb;ut=Oe.na,lt=Oe.P,Bt=Oe.Sa,or=22,t(Et!=null),t(rt!=null),nt=Ye[0];var kr=rt[0];for(t(ut!=null),t(Bt!=null),ut[0]=null,lt[0]=null,Bt[0]=0;;){if(Ye[0]=nt,rt[0]=kr,8>kr){Ye=7;break e}var Gn=xe(Et,nt+4);if(4294967286<Gn){Ye=3;break e}var lr=8+Gn+1&-2;if(or+=lr,0<Dt&&or>Dt){Ye=3;break e}if(!r(Et,nt,"VP8 ")||!r(Et,nt,"VP8L")){Ye=0;break e}if(kr[0]<lr){Ye=7;break e}r(Et,nt,"ALPH")||(ut[0]=Et,lt[0]=nt+8,Bt[0]=Gn),nt+=lr,kr-=lr}}if(R=R[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Ye!=0)break}R=[R],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Dt=N,Ye=L,rt=R,ut=Oe.gb[0],lt=Oe.Ja,Bt=Oe.xa,Et=Ye[0],nt=!r(Dt,Et,"VP8 "),or=!r(Dt,Et,"VP8L"),t(Dt!=null),t(rt!=null),t(lt!=null),t(Bt!=null),8>rt[0])Ye=7;else{if(nt||or){if(Dt=xe(Dt,Et+4),12<=ut&&Dt>ut-12){Ye=3;break e}if(we&&Dt>rt[0]-8){Ye=7;break e}lt[0]=Dt,Ye[0]+=8,rt[0]-=8,Bt[0]=or}else Bt[0]=5<=rt[0]&&Dt[Et+0]==47&&!(Dt[Et+4]>>5),lt[0]=rt[0];Ye=0}if(R=R[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],L=L[0],Ye!=0)break;if(4294967286<Oe.Ja)return 3;if(le==null||et||(le[0]=Oe.xa?2:1),oe=[oe],Ue=[Ue],Oe.xa){if(5>R){Ye=7;break}le=oe,we=Ue,et=ae,N==null||5>R?N=0:5<=R&&N[L+0]==47&&!(N[L+4]>>5)?(rt=[0],Dt=[0],ut=[0],G(lt=new z,N,L,R),_n(lt,rt,Dt,ut)?(le!=null&&(le[0]=rt[0]),we!=null&&(we[0]=Dt[0]),et!=null&&(et[0]=ut[0]),N=1):N=0):N=0}else{if(10>R){Ye=7;break}le=Ue,N==null||10>R||!Nv(N,L+3,R-3)?N=0:(we=N[L+0]|N[L+1]<<8|N[L+2]<<16,et=16383&(N[L+7]<<8|N[L+6]),N=16383&(N[L+9]<<8|N[L+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Oe.Ja||!et||!N?N=0:(oe&&(oe[0]=et),le&&(le[0]=N),N=1))}if(!N||(oe=oe[0],Ue=Ue[0],Je&&(be[0]!=oe||De[0]!=Ue)))return 3;ue!=null&&(ue[0]=Oe,ue.offset=L-ue.w,t(4294967286>L-ue.w),t(ue.offset==ue.ha-R));break}return Ye==0||Ye==7&&Je&&ue==null?(ae!=null&&(ae[0]|=Oe.na!=null&&0<Oe.na.length),V!=null&&(V[0]=oe),ee!=null&&(ee[0]=Ue),0):Ye}function $p(N,L,R){var V=L.width,ee=L.height,ae=0,oe=0,le=V,ue=ee;if(L.Da=N!=null&&0<N.Da,L.Da&&(le=N.cd,ue=N.bd,ae=N.v,oe=N.j,11>R||(ae&=-2,oe&=-2),0>ae||0>oe||0>=le||0>=ue||ae+le>V||oe+ue>ee))return 0;if(L.v=ae,L.j=oe,L.va=ae+le,L.o=oe+ue,L.U=le,L.T=ue,L.da=N!=null&&0<N.da,L.da){if(!Fe(le,ue,R=[N.ib],ae=[N.hb]))return 0;L.ib=R[0],L.hb=ae[0]}return L.ob=N!=null&&N.ob,L.Kb=N==null||!N.Sd,L.da&&(L.ob=L.ib<3*V/4&&L.hb<3*ee/4,L.Kb=0),1}function Up(N){if(N==null)return 2;if(11>N.S){var L=N.f.RGBA;L.fb+=(N.height-1)*L.A,L.A=-L.A}else L=N.f.kb,N=N.height,L.O+=(N-1)*L.fa,L.fa=-L.fa,L.N+=(N-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(N-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(N-1)*L.lb,L.lb=-L.lb);return 0}function _d(N,L,R,V){if(V==null||0>=N||0>=L)return 2;if(R!=null){if(R.Da){var ee=R.cd,ae=R.bd,oe=-2&R.v,le=-2&R.j;if(0>oe||0>le||0>=ee||0>=ae||oe+ee>N||le+ae>L)return 2;N=ee,L=ae}if(R.da){if(!Fe(N,L,ee=[R.ib],ae=[R.hb]))return 2;N=ee[0],L=ae[0]}}V.width=N,V.height=L;e:{var ue=V.width,be=V.height;if(N=V.S,0>=ue||0>=be||!(N>=Fv&&13>N))N=2;else{if(0>=V.Rd&&V.sd==null){oe=ae=ee=L=0;var De=(le=ue*E_[N])*be;if(11>N||(ae=(be+1)/2*(L=(ue+1)/2),N==12&&(oe=(ee=ue)*be)),(be=s(De+2*ae+oe))==null){N=1;break e}V.sd=be,11>N?((ue=V.f.RGBA).eb=be,ue.fb=0,ue.A=le,ue.size=De):((ue=V.f.kb).y=be,ue.O=0,ue.fa=le,ue.Fd=De,ue.f=be,ue.N=0+De,ue.Ab=L,ue.Cd=ae,ue.ea=be,ue.W=0+De+ae,ue.Db=L,ue.Ed=ae,N==12&&(ue.F=be,ue.J=0+De+2*ae),ue.Tc=oe,ue.lb=ee)}if(L=1,ee=V.S,ae=V.width,oe=V.height,ee>=Fv&&13>ee)if(11>ee)N=V.f.RGBA,L&=(le=Math.abs(N.A))*(oe-1)+ae<=N.size,L&=le>=ae*E_[ee],L&=N.eb!=null;else{N=V.f.kb,le=(ae+1)/2,De=(oe+1)/2,ue=Math.abs(N.fa),be=Math.abs(N.Ab);var Je=Math.abs(N.Db),we=Math.abs(N.lb),Oe=we*(oe-1)+ae;L&=ue*(oe-1)+ae<=N.Fd,L&=be*(De-1)+le<=N.Cd,L=(L&=Je*(De-1)+le<=N.Ed)&ue>=ae&be>=le&Je>=le,L&=N.y!=null,L&=N.f!=null,L&=N.ea!=null,ee==12&&(L&=we>=ae,L&=Oe<=N.Tc,L&=N.F!=null)}else L=0;N=L?0:2}}return N!=0||R!=null&&R.fd&&(N=Up(V)),N}var ou=64,Di=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pi=24,Md=32,Ic=8,Ld=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];de("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(N){return N},S.Predictor2=function(N,L,R){return L[R+0]},S.Predictor3=function(N,L,R){return L[R+1]},S.Predictor4=function(N,L,R){return L[R-1]},S.Predictor5=function(N,L,R){return ze(ze(N,L[R+1]),L[R+0])},S.Predictor6=function(N,L,R){return ze(N,L[R-1])},S.Predictor7=function(N,L,R){return ze(N,L[R+0])},S.Predictor8=function(N,L,R){return ze(L[R-1],L[R+0])},S.Predictor9=function(N,L,R){return ze(L[R+0],L[R+1])},S.Predictor10=function(N,L,R){return ze(ze(N,L[R-1]),ze(L[R+0],L[R+1]))},S.Predictor11=function(N,L,R){var V=L[R+0];return 0>=Ve(V>>24&255,N>>24&255,(L=L[R-1])>>24&255)+Ve(V>>16&255,N>>16&255,L>>16&255)+Ve(V>>8&255,N>>8&255,L>>8&255)+Ve(255&V,255&N,255&L)?V:N},S.Predictor12=function(N,L,R){var V=L[R+0];return(Ce((N>>24&255)+(V>>24&255)-((L=L[R-1])>>24&255))<<24|Ce((N>>16&255)+(V>>16&255)-(L>>16&255))<<16|Ce((N>>8&255)+(V>>8&255)-(L>>8&255))<<8|Ce((255&N)+(255&V)-(255&L)))>>>0},S.Predictor13=function(N,L,R){var V=L[R-1];return(_e((N=ze(N,L[R+0]))>>24&255,V>>24&255)<<24|_e(N>>16&255,V>>16&255)<<16|_e(N>>8&255,V>>8&255)<<8|_e(255&N,255&V))>>>0};var Wp=S.PredictorAdd0;S.PredictorAdd1=Ie,de("Predictor2","PredictorAdd2"),de("Predictor3","PredictorAdd3"),de("Predictor4","PredictorAdd4"),de("Predictor5","PredictorAdd5"),de("Predictor6","PredictorAdd6"),de("Predictor7","PredictorAdd7"),de("Predictor8","PredictorAdd8"),de("Predictor9","PredictorAdd9"),de("Predictor10","PredictorAdd10"),de("Predictor11","PredictorAdd11"),de("Predictor12","PredictorAdd12"),de("Predictor13","PredictorAdd13");var G0=S.PredictorAdd2;Pe("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Pe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var pn,Pv=S.ColorIndexInverseTransform,$l=S.MapARGB,Ul=S.VP8LColorIndexInverseTransformAlpha,Hp=S.MapAlpha,Vp=S.VP8LPredictorsAdd=[];Vp.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Gp,qp,Td,Id,Dd,lu,Pd,cu,ho,Wl,Gr,ha,gn,Vn,Dc,Yp,q0,Ov,a_,n_,s_,i_,o_,l_,Jp,c_,d_,f_,u_=s(511),h_=s(2041),m_=s(225),p_=s(767),g_=0,Fk=h_,Rv=m_,Oi=p_,mo=u_,Fv=0,Bv=1,x_=2,zv=3,$v=4,Bk=5,v_=6,zk=7,$k=8,Uv=9,Uk=10,sK=[2,3,7],iK=[3,3,11],y_=[280,256,256,256,40],oK=[0,1,1,1,0],lK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fK=8,Wk=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hk=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kp=null,uK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],b_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],mK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Od=[],el=[],Pc=[],vK=1,w_=2,Rd=[],po=[];bi("UpsampleRgbLinePair",ru,3),bi("UpsampleBgrLinePair",au,3),bi("UpsampleRgbaLinePair",zp,4),bi("UpsampleBgraLinePair",Bp,4),bi("UpsampleArgbLinePair",su,4),bi("UpsampleRgba4444LinePair",nu,2),bi("UpsampleRgb565LinePair",Ds,2);var yK=S.UpsampleRgbLinePair,bK=S.UpsampleBgrLinePair,k_=S.UpsampleRgbaLinePair,j_=S.UpsampleBgraLinePair,N_=S.UpsampleArgbLinePair,S_=S.UpsampleRgba4444LinePair,wK=S.UpsampleRgb565LinePair,Wv=16,Hv=1<<Wv-1,Qp=-227,Vk=482,kK=6,C_=0,jK=s(256),NK=s(256),SK=s(256),CK=s(256),AK=s(Vk-Qp),EK=s(Vk-Qp);Tc("YuvToRgbRow",ru,3),Tc("YuvToBgrRow",au,3),Tc("YuvToRgbaRow",zp,4),Tc("YuvToBgraRow",Bp,4),Tc("YuvToArgbRow",su,4),Tc("YuvToRgba4444Row",nu,2),Tc("YuvToRgb565Row",Ds,2);var A_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vv=[0,2,8],_K=[8,7,6,4,4,2,2,2,1,1,1,1],MK=1;this.WebPDecodeRGBA=function(N,L,R,V,ee){var ae=Bv,oe=new $e,le=new It;oe.ba=le,le.S=ae,le.width=[le.width],le.height=[le.height];var ue=le.width,be=le.height,De=new Nt;if(De==null||N==null)var Je=2;else t(De!=null),Je=iu(N,L,R,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Je!=0?ue=0:(ue!=null&&(ue[0]=De.width[0]),be!=null&&(be[0]=De.height[0]),ue=1),ue){le.width=le.width[0],le.height=le.height[0],V!=null&&(V[0]=le.width),ee!=null&&(ee[0]=le.height);e:{if(V=new Is,(ee=new at).data=N,ee.w=L,ee.ha=R,ee.kd=1,L=[0],t(ee!=null),((N=iu(ee.data,ee.w,ee.ha,null,null,null,L,null,ee))==0||N==7)&&L[0]&&(N=4),(L=N)==0){if(t(oe!=null),V.data=ee.data,V.w=ee.w+ee.offset,V.ha=ee.ha-ee.offset,V.put=Rt,V.ac=Ka,V.bc=Kr,V.ma=oe,ee.xa){if((N=Ge())==null){oe=1;break e}if(function(we,Oe){var Ue=[0],et=[0],Ye=[0];t:for(;;){if(we==null)return 0;if(Oe==null)return we.a=2,0;if(we.l=Oe,we.a=0,G(we.m,Oe.data,Oe.w,Oe.ha),!_n(we.m,Ue,et,Ye)){we.a=3;break t}if(we.xb=w_,Oe.width=Ue[0],Oe.height=et[0],!qe(Ue[0],et[0],1,we,null))break t;return 1}return t(we.a!=0),0}(N,V)){if(V=(L=_d(V.width,V.height,oe.Oa,oe.ba))==0){t:{V=N;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((R=V.l)!=null),t((ee=R.ma)!=null),V.xb!=0){if(V.ca=ee.ba,V.tb=ee.tb,t(V.ca!=null),!$p(ee.Oa,R,zv)){V.a=2;break r}if(!Ke(V,R.width)||R.da)break r;if((R.da||Wt(V.ca.S))&&fo(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&fo()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!se(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!He(V,V.V,V.Ba,V.c,V.i,R.o,ce))break r;ee.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(L=N.a)}else L=N.a}else{if((N=new jk)==null){oe=1;break e}if(N.Fa=ee.na,N.P=ee.P,N.qc=ee.Sa,Sv(N,V)){if((L=_d(V.width,V.height,oe.Oa,oe.ba))==0){if(N.Aa=0,R=oe.Oa,t((ee=N)!=null),R!=null){if(0<(ue=0>(ue=R.Md)?0:100<ue?255:255*ue/100)){for(be=De=0;4>be;++be)12>(Je=ee.pb[be]).lc&&(Je.ia=ue*_K[0>Je.lc?0:Je.lc]>>3),De|=Je.ia;De&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=R.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(we,Oe){if(we==null)return 0;if(Oe==null)return Mn(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!Sv(we,Oe))return 0;if(t(we.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(we.L=0);var Ue=Vv[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Oe.v-Ue>>4,we.zb=Oe.j-Ue>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Oe.o+15+Ue>>4,we.Hb=Oe.va+15+Ue>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var et=we.ed;for(Ue=0;4>Ue;++Ue){var Ye;if(we.Qa.Cb){var rt=we.Qa.Lb[Ue];we.Qa.Fb||(rt+=et.Tb)}else rt=et.Tb;for(Ye=0;1>=Ye;++Ye){var nt=we.gd[Ue][Ye],ut=rt;if(et.Pc&&(ut+=et.vd[0],Ye&&(ut+=et.od[0])),0<(ut=0>ut?0:63<ut?63:ut)){var lt=ut;0<et.wb&&(lt=4<et.wb?lt>>2:lt>>1)>9-et.wb&&(lt=9-et.wb),1>lt&&(lt=1),nt.dd=lt,nt.tc=2*ut+lt,nt.ld=40<=ut?2:15<=ut?1:0}else nt.tc=0;nt.La=Ye}}}Ue=0}else Mn(we,6,"Frame setup failed"),Ue=we.a;if(Ue=Ue==0){if(Ue){we.$c=0,0<we.Aa||(we.Ic=MK);t:{Ue=we.Ic,et=4*(lt=we.za);var Bt=32*lt,Et=lt+1,or=0<we.L?lt*(0<we.Aa?2:1):0,Dt=(we.Aa==2?2:1)*lt;if((nt=et+832+(Ye=3*(16*Ue+Vv[we.L])/2*Bt)+(rt=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=nt)Ue=0;else{if(nt>we.Vb){if(we.Vb=0,we.Ec=s(nt),we.Fc=0,we.Ec==null){Ue=Mn(we,1,"no memory during frame initialization.");break t}we.Vb=nt}nt=we.Ec,ut=we.Fc,we.Ac=nt,we.Bc=ut,ut+=et,we.Gd=o(Bt,co),we.Hd=0,we.rb=o(Et+1,tn),we.sb=1,we.wa=or?o(or,vr):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=lt),t(!0),we.oc=nt,we.pc=ut,ut+=832,we.ya=o(Dt,Xo),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=lt),we.R=16*lt,we.B=8*lt,lt=(Bt=Vv[we.L])*we.R,Bt=Bt/2*we.B,we.sa=nt,we.ta=ut+lt,we.qa=we.sa,we.ra=we.ta+16*Ue*we.R+Bt,we.Ha=we.qa,we.Ia=we.ra+8*Ue*we.B+Bt,we.$c=0,ut+=Ye,we.mb=rt?nt:null,we.nb=rt?ut:null,t(ut+rt<=we.Fc+we.Vb),Vf(we),n(we.Ac,we.Bc,0,et),Ue=1}}if(Ue){if(Oe.ka=0,Oe.y=we.sa,Oe.O=we.ta,Oe.f=we.qa,Oe.N=we.ra,Oe.ea=we.Ha,Oe.Vd=we.Ia,Oe.fa=we.R,Oe.Rc=we.B,Oe.F=null,Oe.J=0,!g_){for(Ue=-255;255>=Ue;++Ue)u_[255+Ue]=0>Ue?-Ue:Ue;for(Ue=-1020;1020>=Ue;++Ue)h_[1020+Ue]=-128>Ue?-128:127<Ue?127:Ue;for(Ue=-112;112>=Ue;++Ue)m_[112+Ue]=-16>Ue?-16:15<Ue?15:Ue;for(Ue=-255;510>=Ue;++Ue)p_[255+Ue]=0>Ue?0:255<Ue?255:Ue;g_=1}Pd=Av,cu=Sk,Wl=Ck,Gr=zl,ha=Cv,ho=Nk,gn=Mv,Vn=Lv,Dc=P,Yp=X,q0=Zf,Ov=Tv,a_=je,n_=Me,s_=Fp,i_=Xf,o_=Ev,l_=_v,el[0]=Ik,el[1]=Lp,el[2]=Lk,el[3]=Tk,el[4]=Dk,el[5]=_c,el[6]=Ec,el[7]=Pk,el[8]=z0,el[9]=Ok,Od[0]=Ad,Od[1]=Ek,Od[2]=_k,Od[3]=Tp,Od[4]=Mk,Od[5]=Yf,Od[6]=Ip,Pc[0]=U0,Pc[1]=Ak,Pc[2]=Dp,Pc[3]=Jf,Pc[4]=Pp,Pc[5]=Rk,Pc[6]=Op,Ue=1}else Ue=0}Ue&&(Ue=function(kr,Gn){for(kr.M=0;kr.M<kr.Va;++kr.M){var lr,Pt=kr.Jc[kr.M&kr.Xb],bt=kr.m,xn=kr;for(lr=0;lr<xn.za;++lr){var sr=bt,Er=xn,La=Er.Ac,ws=Er.Bc+4*lr,ii=Er.zc,an=Er.ya[Er.aa+lr];if(Er.Qa.Bb?an.$b=ne(sr,Er.Pa.jb[0])?2+ne(sr,Er.Pa.jb[2]):ne(sr,Er.Pa.jb[1]):an.$b=0,Er.kc&&(an.Ad=ne(sr,Er.Bd)),an.Za=!ne(sr,145)+0,an.Za){var Ps=an.Ob,oi=0;for(Er=0;4>Er;++Er){var qn,Tr=ii[0+Er];for(qn=0;4>qn;++qn){Tr=pK[La[ws+qn]][Tr];for(var Qr=b_[ne(sr,Tr[0])];0<Qr;)Qr=b_[2*Qr+ne(sr,Tr[Qr])];Tr=-Qr,La[ws+qn]=Tr}a(Ps,oi,La,ws,4),oi+=4,ii[0+Er]=Tr}}else Tr=ne(sr,156)?ne(sr,128)?1:3:ne(sr,163)?2:0,an.Ob[0]=Tr,n(La,ws,Tr,4),n(ii,0,Tr,4);an.Dd=ne(sr,142)?ne(sr,114)?ne(sr,183)?1:3:2:0}if(xn.m.Ka)return Mn(kr,7,"Premature end-of-partition0 encountered.");for(;kr.ja<kr.za;++kr.ja){if(xn=Pt,sr=(bt=kr).rb[bt.sb-1],La=bt.rb[bt.sb+bt.ja],lr=bt.ya[bt.aa+bt.ja],ws=bt.kc?lr.Ad:0)sr.la=La.la=0,lr.Za||(sr.Na=La.Na=0),lr.Hc=0,lr.Gc=0,lr.ia=0;else{var nn,Xr;if(sr=La,La=xn,ws=bt.Pa.Xc,ii=bt.ya[bt.aa+bt.ja],an=bt.pb[ii.$b],Er=ii.ad,Ps=0,oi=bt.rb[bt.sb-1],Tr=qn=0,n(Er,Ps,0,384),ii.Za)var ks=0,tl=ws[3];else{Qr=s(16);var vn=sr.Na+oi.Na;if(vn=Kp(La,ws[1],vn,an.Eb,0,Qr,0),sr.Na=oi.Na=(0<vn)+0,1<vn)Pd(Qr,0,Er,Ps);else{var wi=Qr[0]+3>>3;for(Qr=0;256>Qr;Qr+=16)Er[Ps+Qr]=wi}ks=1,tl=ws[0]}var ma=15&sr.la,Yn=15&oi.la;for(Qr=0;4>Qr;++Qr){var Ri=1&Yn;for(wi=Xr=0;4>wi;++wi)ma=ma>>1|(Ri=(vn=Kp(La,tl,vn=Ri+(1&ma),an.Sc,ks,Er,Ps))>ks)<<7,Xr=Xr<<2|(3<vn?3:1<vn?2:Er[Ps+0]!=0),Ps+=16;ma>>=4,Yn=Yn>>1|Ri<<7,qn=(qn<<8|Xr)>>>0}for(tl=ma,ks=Yn>>4,nn=0;4>nn;nn+=2){for(Xr=0,ma=sr.la>>4+nn,Yn=oi.la>>4+nn,Qr=0;2>Qr;++Qr){for(Ri=1&Yn,wi=0;2>wi;++wi)vn=Ri+(1&ma),ma=ma>>1|(Ri=0<(vn=Kp(La,ws[2],vn,an.Qc,0,Er,Ps)))<<3,Xr=Xr<<2|(3<vn?3:1<vn?2:Er[Ps+0]!=0),Ps+=16;ma>>=2,Yn=Yn>>1|Ri<<5}Tr|=Xr<<4*nn,tl|=ma<<4<<nn,ks|=(240&Yn)<<nn}sr.la=tl,oi.la=ks,ii.Hc=qn,ii.Gc=Tr,ii.ia=43690&Tr?0:an.ia,ws=!(qn|Tr)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[lr.$b][lr.Za],bt.wa[bt.Y+bt.ja].La|=!ws),xn.Ka)return Mn(kr,7,"Premature end-of-file encountered.")}if(Vf(kr),bt=Gn,xn=1,lr=(Pt=kr).D,sr=0<Pt.L&&Pt.M>=Pt.zb&&Pt.M<=Pt.Va,Pt.Aa==0)t:{if(lr.M=Pt.M,lr.uc=sr,uo(Pt,lr),xn=1,lr=(Xr=Pt.D).Nb,sr=(Tr=Vv[Pt.L])*Pt.R,La=Tr/2*Pt.B,Qr=16*lr*Pt.R,wi=8*lr*Pt.B,ws=Pt.sa,ii=Pt.ta-sr+Qr,an=Pt.qa,Er=Pt.ra-La+wi,Ps=Pt.Ha,oi=Pt.Ia-La+wi,Yn=(ma=Xr.M)==0,qn=ma>=Pt.Va-1,Pt.Aa==2&&uo(Pt,Xr),Xr.uc)for(Ri=(vn=Pt).D.M,t(vn.D.uc),Xr=vn.yb;Xr<vn.Hb;++Xr){ks=Xr,tl=Ri;var li=(Fi=(js=vn).D).Nb;nn=js.R;var Fi=Fi.wa[Fi.Y+ks],Bi=js.sa,ki=js.ta+16*li*nn+16*ks,zi=Fi.dd,Ca=Fi.tc;if(Ca!=0)if(t(3<=Ca),js.L==1)0<ks&&i_(Bi,ki,nn,Ca+4),Fi.La&&l_(Bi,ki,nn,Ca),0<tl&&s_(Bi,ki,nn,Ca+4),Fi.La&&o_(Bi,ki,nn,Ca);else{var $i=js.B,rl=js.qa,du=js.ra+8*li*$i+8*ks,Oc=js.Ha,js=js.Ia+8*li*$i+8*ks;li=Fi.ld,0<ks&&(Vn(Bi,ki,nn,Ca+4,zi,li),Yp(rl,du,Oc,js,$i,Ca+4,zi,li)),Fi.La&&(Ov(Bi,ki,nn,Ca,zi,li),n_(rl,du,Oc,js,$i,Ca,zi,li)),0<tl&&(gn(Bi,ki,nn,Ca+4,zi,li),Dc(rl,du,Oc,js,$i,Ca+4,zi,li)),Fi.La&&(q0(Bi,ki,nn,Ca,zi,li),a_(rl,du,Oc,js,$i,Ca,zi,li))}}if(Pt.ia&&alert("todo:DitherRow"),bt.put!=null){if(Xr=16*ma,ma=16*(ma+1),Yn?(bt.y=Pt.sa,bt.O=Pt.ta+Qr,bt.f=Pt.qa,bt.N=Pt.ra+wi,bt.ea=Pt.Ha,bt.W=Pt.Ia+wi):(Xr-=Tr,bt.y=ws,bt.O=ii,bt.f=an,bt.N=Er,bt.ea=Ps,bt.W=oi),qn||(ma-=Tr),ma>bt.o&&(ma=bt.o),bt.F=null,bt.J=null,Pt.Fa!=null&&0<Pt.Fa.length&&Xr<ma&&(bt.J=Ln(Pt,bt,Xr,ma-Xr),bt.F=Pt.mb,bt.F==null&&bt.F.length==0)){xn=Mn(Pt,3,"Could not decode alpha data.");break t}Xr<bt.j&&(Tr=bt.j-Xr,Xr=bt.j,t(!(1&Tr)),bt.O+=Pt.R*Tr,bt.N+=Pt.B*(Tr>>1),bt.W+=Pt.B*(Tr>>1),bt.F!=null&&(bt.J+=bt.width*Tr)),Xr<ma&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=Xr-bt.j,bt.U=bt.va-bt.v,bt.T=ma-Xr,xn=bt.put(bt))}lr+1!=Pt.Ic||qn||(a(Pt.sa,Pt.ta-sr,ws,ii+16*Pt.R,sr),a(Pt.qa,Pt.ra-La,an,Er+8*Pt.B,La),a(Pt.Ha,Pt.Ia-La,Ps,oi+8*Pt.B,La))}if(!xn)return Mn(kr,6,"Output aborted.")}return 1}(we,Oe)),Oe.bc!=null&&Oe.bc(Oe),Ue&=1}return Ue?(we.cb=0,Ue):0})(N,V)||(L=N.a)}}else L=N.a}L==0&&oe.Oa!=null&&oe.Oa.fd&&(L=Up(oe.ba))}oe=L}ae=oe!=0?null:11>ae?le.f.RGBA.eb:le.f.kb.y}else ae=null;return ae};var E_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(S,T){for(var _="",M=0;M<4;M++)_+=String.fromCharCode(S[T++]);return _}function f(S,T){return S[T+0]|S[T+1]<<8}function u(S,T){return(S[T+0]|S[T+1]<<8|S[T+2]<<16)>>>0}function m(S,T){return(S[T+0]|S[T+1]<<8|S[T+2]<<16|S[T+3]<<24)>>>0}new c;var h=[0],g=[0],p=[],x=new c,v=e,b=function(S,T){var _={},M=0,D=!1,O=0,B=0;if(_.frames=[],!function(I,z){for(var H=0;H<4;H++)if(I[z+H]!="RIFF".charCodeAt(H))return!0;return!1}(S,T)){for(m(S,T+=4),T+=8;T<S.length;){var U=d(S,T),q=m(S,T+=4);T+=4;var K=q+(1&q);switch(U){case"VP8 ":case"VP8L":_.frames[M]===void 0&&(_.frames[M]={}),(fe=_.frames[M]).src_off=D?B:T-8,fe.src_size=O+q+8,M++,D&&(D=!1,O=0,B=0);break;case"VP8X":(fe=_.header={}).feature_flags=S[T];var G=T+4;fe.canvas_width=1+u(S,G),G+=3,fe.canvas_height=1+u(S,G),G+=3;break;case"ALPH":D=!0,O=K+8,B=T-8;break;case"ANIM":(fe=_.header).bgcolor=m(S,T),G=T+4,fe.loop_count=f(S,G),G+=2;break;case"ANMF":var ve,fe;(fe=_.frames[M]={}).offset_x=2*u(S,T),T+=3,fe.offset_y=2*u(S,T),T+=3,fe.width=1+u(S,T),T+=3,fe.height=1+u(S,T),T+=3,fe.duration=u(S,T),T+=3,ve=S[T++],fe.dispose=1&ve,fe.blend=ve>>1&1}U!="ANMF"&&(T+=K)}return _}}(v,0);b.response=v,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,w=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],g=[y.canvas_width];for(var j=0;j<w.length&&w[j].blend!=0;j++);}var E=w[0],A=x.WebPDecodeRGBA(v,E.src_off,E.src_size,g,h);E.rgba=A,E.imgwidth=g[0],E.imgheight=h[0];for(var C=0;C<g[0]*h[0]*4;C++)p[C]=A[C];return this.width=g,this.height=h,this.data=p,this}(function(e){var t,r,a,n,s,o,l,c,d,f=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new o,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new o,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new f}]);var u=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=I;Object.defineProperty(this,"pdf",{get:function(){return z}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(xe){H=!!xe}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(xe){J=!!xe}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(xe){isNaN(xe)||(te=xe)}});var W=0;Object.defineProperty(this,"posY",{get:function(){return W},set:function(xe){isNaN(xe)||(W=xe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(xe){var se;typeof xe=="number"?se=[xe,xe,xe,xe]:((se=new Array(4))[0]=xe[0],se[1]=xe.length>=2?xe[1]:se[0],se[2]=xe.length>=3?xe[2]:se[0],se[3]=xe.length>=4?xe[3]:se[1]),d.margin=se}});var Y=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Y},set:function(xe){Y=xe}});var Q=0;Object.defineProperty(this,"lastBreak",{get:function(){return Q},set:function(xe){Q=xe}});var ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ne},set:function(xe){ne=xe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(xe){xe instanceof f&&(d=xe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(xe){d.path=xe}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(xe){pe=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var se;se=m(xe),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var se=m(xe);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var F=null,Te=null;Object.defineProperty(this,"fontFaces",{get:function(){return Te},set:function(xe){F=null,Te=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var se;if(this.ctx.font=xe,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var We=se[1];se[2];var Se=se[3],Fe=se[4];se[5];var he=se[6],ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(ie==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var de=function(Be){var Pe,it,ft=[],st=Be.trim();if(st==="")return Sj;if(st in hL)return[hL[st]];for(;st!=="";){switch(it=null,Pe=(st=pL(st)).charAt(0)){case'"':case"'":it=ane(st.substring(1),Pe);break;default:it=nne(st)}if(it===null||(ft.push(it[0]),(st=pL(it[1]))!==""&&st.charAt(0)!==","))return Sj;st=st.replace(/^,/,"")}return ft}(he);if(this.fontFaces){var Ae=function(Be,Pe){if(F===null){var it=function(ft){var st=[];return Object.keys(ft).forEach(function(pt){ft[pt].forEach(function(At){var St=null;switch(At){case"bold":St={family:pt,weight:"bold"};break;case"italic":St={family:pt,style:"italic"};break;case"bolditalic":St={family:pt,weight:"bold",style:"italic"};break;case"":case"normal":St={family:pt}}St!==null&&(St.ref={name:pt,style:At},st.push(St))})}),st}(Be.getFontList());F=function(ft){for(var st={},pt=0;pt<ft.length;++pt){var At=Nj(ft[pt]),St=At.family,Ut=At.stretch,Wt=At.style,Jr=At.weight;st[St]=st[St]||{},st[St][Ut]=st[St][Ut]||{},st[St][Ut][Wt]=st[St][Ut][Wt]||{},st[St][Ut][Wt][Jr]=At}return st}(it.concat(Pe))}return F}(this.pdf,this.fontFaces),ze=de.map(function(Be){return{family:Be,stretch:"normal",weight:Se,style:We}}),Ce=function(Be,Pe,it){for(var ft=(it=it||{}).defaultFontFamily||"times",st=Object.assign({},rne,it.genericFontFamilies||{}),pt=null,At=null,St=0;St<Pe.length;++St)if(st[(pt=Nj(Pe[St])).family]&&(pt.family=st[pt.family]),Be.hasOwnProperty(pt.family)){At=Be[pt.family];break}if(!(At=At||Be[ft]))throw new Error("Could not find a font-family for the rule '"+mL(pt)+"' and default family '"+ft+"'.");if(At=function(Ut,Wt){if(Wt[Ut])return Wt[Ut];var Jr=b3[Ut],Ht=Jr<=b3.normal?-1:1,It=uL(Wt,nF,Jr,Ht);if(!It)throw new Error("Could not find a matching font-stretch value for "+Ut);return It}(pt.stretch,At),At=function(Ut,Wt){if(Wt[Ut])return Wt[Ut];for(var Jr=aF[Ut],Ht=0;Ht<Jr.length;++Ht)if(Wt[Jr[Ht]])return Wt[Jr[Ht]];throw new Error("Could not find a matching font-style for "+Ut)}(pt.style,At),!(At=function(Ut,Wt){if(Wt[Ut])return Wt[Ut];if(Ut===400&&Wt[500])return Wt[500];if(Ut===500&&Wt[400])return Wt[400];var Jr=tne[Ut],Ht=uL(Wt,sF,Jr,Ut<400?-1:1);if(!Ht)throw new Error("Could not find a matching font-weight for value "+Ut);return Ht}(pt.weight,At)))throw new Error("Failed to resolve a font for the rule '"+mL(pt)+"'.");return At}(Ae,ze);this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var _e="";(Se==="bold"||parseInt(Se,10)>=700||We==="bold")&&(_e="bold"),We==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var Ve="",Ie={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Re=0;Re<de.length;Re++){if(this.pdf.internal.getFont(de[Re],_e,{noFallback:!0,disableWarning:!0})!==void 0){Ve=de[Re];break}if(_e==="bolditalic"&&this.pdf.internal.getFont(de[Re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=de[Re],_e="bold";else if(this.pdf.internal.getFont(de[Re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=de[Re],_e="normal";break}}if(Ve===""){for(var Ee=0;Ee<de.length;Ee++)if(Ie[de[Ee]]){Ve=Ie[de[Ee]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};u.prototype.setLineDash=function(I){this.lineDash=I},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(I,z){if(isNaN(I)||isNaN(z))throw ga.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new o(I,z));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(I,z)},u.prototype.closePath=function(){var I=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&yr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){I=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(I.x,I.y)},u.prototype.lineTo=function(I,z){if(isNaN(I)||isNaN(z))throw ga.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new o(I,z));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(I,z,H,J){if(isNaN(H)||isNaN(J)||isNaN(I)||isNaN(z))throw ga.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new o(H,J)),W=this.ctx.transform.applyToPoint(new o(I,z));this.path.push({type:"qct",x1:W.x,y1:W.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},u.prototype.bezierCurveTo=function(I,z,H,J,te,W){if(isNaN(te)||isNaN(W)||isNaN(I)||isNaN(z)||isNaN(H)||isNaN(J))throw ga.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Y=this.ctx.transform.applyToPoint(new o(te,W)),Q=this.ctx.transform.applyToPoint(new o(I,z)),ne=this.ctx.transform.applyToPoint(new o(H,J));this.path.push({type:"bct",x1:Q.x,y1:Q.y,x2:ne.x,y2:ne.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},u.prototype.arc=function(I,z,H,J,te,W){if(isNaN(I)||isNaN(z)||isNaN(H)||isNaN(J)||isNaN(te))throw ga.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(W=!!W,!this.ctx.transform.isIdentity){var Y=this.ctx.transform.applyToPoint(new o(I,z));I=Y.x,z=Y.y;var Q=this.ctx.transform.applyToPoint(new o(0,H)),ne=this.ctx.transform.applyToPoint(new o(0,0));H=Math.sqrt(Math.pow(Q.x-ne.x,2)+Math.pow(Q.y-ne.y,2))}Math.abs(te-J)>=2*Math.PI&&(J=0,te=2*Math.PI),this.path.push({type:"arc",x:I,y:z,radius:H,startAngle:J,endAngle:te,counterclockwise:W})},u.prototype.arcTo=function(I,z,H,J,te){throw new Error("arcTo not implemented.")},u.prototype.rect=function(I,z,H,J){if(isNaN(I)||isNaN(z)||isNaN(H)||isNaN(J))throw ga.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,z),this.lineTo(I+H,z),this.lineTo(I+H,z+J),this.lineTo(I,z+J),this.lineTo(I,z),this.lineTo(I+H,z),this.lineTo(I,z)},u.prototype.fillRect=function(I,z,H,J){if(isNaN(I)||isNaN(z)||isNaN(H)||isNaN(J))throw ga.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,z,H,J),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},u.prototype.strokeRect=function(I,z,H,J){if(isNaN(I)||isNaN(z)||isNaN(H)||isNaN(J))throw ga.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(I,z,H,J),this.stroke())},u.prototype.clearRect=function(I,z,H,J){if(isNaN(I)||isNaN(z)||isNaN(H)||isNaN(J))throw ga.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,z,H,J))},u.prototype.save=function(I){I=typeof I!="boolean"||I;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},u.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(z),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var z,H,J,te;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))z=0,H=0,J=0,te=0;else{var W=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(W!==null)z=parseInt(W[1]),H=parseInt(W[2]),J=parseInt(W[3]),te=1;else if((W=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)z=parseInt(W[1]),H=parseInt(W[2]),J=parseInt(W[3]),te=parseFloat(W[4]);else{if(te=1,typeof I=="string"&&I.charAt(0)!=="#"){var Y=new KR(I);I=Y.ok?Y.toHex():"#000000"}I.length===4?(z=I.substring(1,2),z+=z,H=I.substring(2,3),H+=H,J=I.substring(3,4),J+=J):(z=I.substring(1,3),H=I.substring(3,5),J=I.substring(5,7)),z=parseInt(z,16),H=parseInt(H,16),J=parseInt(J,16)}}return{r:z,g:H,b:J,a:te,style:I}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(I,z,H,J){if(isNaN(z)||isNaN(H)||typeof I!="string")throw ga.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!h.call(this)){var te=K(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;M.call(this,{text:I,x:z,y:H,scale:W,angle:te,align:this.textAlign,maxWidth:J})}},u.prototype.strokeText=function(I,z,H,J){if(isNaN(z)||isNaN(H)||typeof I!="string")throw ga.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){J=isNaN(J)?void 0:J;var te=K(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;M.call(this,{text:I,x:z,y:H,scale:W,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:J})}},u.prototype.measureText=function(I){if(typeof I!="string")throw ga.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,H=this.pdf.internal.scaleFactor,J=z.internal.getFontSize(),te=z.getStringUnitWidth(I)*J/z.internal.scaleFactor;return new function(W){var Y=(W=W||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Y}}),this}({width:te*=Math.round(96*H/72*1e4)/1e4})},u.prototype.scale=function(I,z){if(isNaN(I)||isNaN(z))throw ga.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(I,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},u.prototype.rotate=function(I){if(isNaN(I))throw ga.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},u.prototype.translate=function(I,z){if(isNaN(I)||isNaN(z))throw ga.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,I,z);this.ctx.transform=this.ctx.transform.multiply(H)},u.prototype.transform=function(I,z,H,J,te,W){if(isNaN(I)||isNaN(z)||isNaN(H)||isNaN(J)||isNaN(te)||isNaN(W))throw ga.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Y=new c(I,z,H,J,te,W);this.ctx.transform=this.ctx.transform.multiply(Y)},u.prototype.setTransform=function(I,z,H,J,te,W){I=isNaN(I)?1:I,z=isNaN(z)?0:z,H=isNaN(H)?0:H,J=isNaN(J)?1:J,te=isNaN(te)?0:te,W=isNaN(W)?0:W,this.ctx.transform=new c(I,z,H,J,te,W)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(I,z,H,J,te,W,Y,Q,ne){var pe=this.pdf.getImageProperties(I),F=1,Te=1,xe=1,se=1;J!==void 0&&Q!==void 0&&(xe=Q/J,se=ne/te,F=pe.width/J*Q/J,Te=pe.height/te*ne/te),W===void 0&&(W=z,Y=H,z=0,H=0),J!==void 0&&Q===void 0&&(Q=J,ne=te),J===void 0&&Q===void 0&&(Q=pe.width,ne=pe.height);for(var We,Se=this.ctx.transform.decompose(),Fe=K(Se.rotate.shx),he=new c,ie=(he=(he=(he=he.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale)).applyToRectangle(new l(W-z*xe,Y-H*se,J*F,te*Te)),de=x.call(this,ie),Ae=[],ze=0;ze<de.length;ze+=1)Ae.indexOf(de[ze])===-1&&Ae.push(de[ze]);if(y(Ae),this.autoPaging)for(var Ce=Ae[0],_e=Ae[Ae.length-1],Ve=Ce;Ve<_e+1;Ve++){this.pdf.setPage(Ve);var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=Ve===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pe=Ve===1?0:Ee+(Ve-2)*Be;if(this.ctx.clip_path.length!==0){var it=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(We,this.posX+this.margin[3],-Pe+Re+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=it}var ft=JSON.parse(JSON.stringify(ie));ft=b([ft],this.posX+this.margin[3],-Pe+Re+this.ctx.prevPageLastElemOffset)[0];var st=(Ve>Ce||Ve<_e)&&p.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Be,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,Fe),st&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",ie.x,ie.y,ie.w,ie.h,null,null,Fe)};var x=function(I,z,H){var J=[];z=z||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":J.push(Math.floor((I.y+te)/H)+1);break;case"arc":J.push(Math.floor((I.y+te-I.radius)/H)+1),J.push(Math.floor((I.y+te+I.radius)/H)+1);break;case"qct":var W=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);J.push(Math.floor((W.y+te)/H)+1),J.push(Math.floor((W.y+W.h+te)/H)+1);break;case"bct":var Y=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);J.push(Math.floor((Y.y+te)/H)+1),J.push(Math.floor((Y.y+Y.h+te)/H)+1);break;case"rect":J.push(Math.floor((I.y+te)/H)+1),J.push(Math.floor((I.y+I.h+te)/H)+1)}for(var Q=0;Q<J.length;Q+=1)for(;this.pdf.internal.getNumberOfPages()<J[Q];)v.call(this);return J},v=function(){var I=this.fillStyle,z=this.strokeStyle,H=this.font,J=this.lineCap,te=this.lineWidth,W=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=z,this.font=H,this.lineCap=J,this.lineWidth=te,this.lineJoin=W},b=function(I,z,H){for(var J=0;J<I.length;J++)switch(I[J].type){case"bct":I[J].x2+=z,I[J].y2+=H;case"qct":I[J].x1+=z,I[J].y1+=H;default:I[J].x+=z,I[J].y+=H}return I},y=function(I){return I.sort(function(z,H){return z-H})},w=function(I,z){for(var H,J,te=this.fillStyle,W=this.strokeStyle,Y=this.lineCap,Q=this.lineWidth,ne=Math.abs(Q*this.ctx.transform.scaleX),pe=this.lineJoin,F=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),xe=[],se=0;se<Te.length;se++)if(Te[se].x!==void 0)for(var We=x.call(this,Te[se]),Se=0;Se<We.length;Se+=1)xe.indexOf(We[Se])===-1&&xe.push(We[Se]);for(var Fe=0;Fe<xe.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<xe[Fe];)v.call(this);if(y(xe),this.autoPaging)for(var he=xe[0],ie=xe[xe.length-1],de=he;de<ie+1;de++){this.pdf.setPage(de),this.fillStyle=te,this.strokeStyle=W,this.lineCap=Y,this.lineWidth=ne,this.lineJoin=pe;var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=de===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=de===1?0:Ce+(de-2)*_e;if(this.ctx.clip_path.length!==0){var Ie=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(H,this.posX+this.margin[3],-Ve+ze+this.ctx.prevPageLastElemOffset),j.call(this,I,!0),this.path=Ie}if(J=JSON.parse(JSON.stringify(F)),this.path=b(J,this.posX+this.margin[3],-Ve+ze+this.ctx.prevPageLastElemOffset),z===!1||de===0){var Re=(de>he||de<ie)&&p.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,_e,null).clip().discardPath()),j.call(this,I,z),Re&&this.pdf.restoreGraphicsState()}this.lineWidth=Q}else this.lineWidth=ne,j.call(this,I,z),this.lineWidth=Q;this.path=F},j=function(I,z){if((I!=="stroke"||z||!g.call(this))&&(I==="stroke"||z||!h.call(this))){for(var H,J,te=[],W=this.path,Y=0;Y<W.length;Y++){var Q=W[Y];switch(Q.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:Q,deltas:[],abs:[]});break;case"lt":var ne=te.length;if(W[Y-1]&&!isNaN(W[Y-1].x)&&(H=[Q.x-W[Y-1].x,Q.y-W[Y-1].y],ne>0)){for(;ne>=0;ne--)if(te[ne-1].close!==!0&&te[ne-1].begin!==!0){te[ne-1].deltas.push(H),te[ne-1].abs.push(Q);break}}break;case"bct":H=[Q.x1-W[Y-1].x,Q.y1-W[Y-1].y,Q.x2-W[Y-1].x,Q.y2-W[Y-1].y,Q.x-W[Y-1].x,Q.y-W[Y-1].y],te[te.length-1].deltas.push(H);break;case"qct":var pe=W[Y-1].x+2/3*(Q.x1-W[Y-1].x),F=W[Y-1].y+2/3*(Q.y1-W[Y-1].y),Te=Q.x+2/3*(Q.x1-Q.x),xe=Q.y+2/3*(Q.y1-Q.y),se=Q.x,We=Q.y;H=[pe-W[Y-1].x,F-W[Y-1].y,Te-W[Y-1].x,xe-W[Y-1].y,se-W[Y-1].x,We-W[Y-1].y],te[te.length-1].deltas.push(H);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(Q)}}J=z?null:I==="stroke"?"stroke":"fill";for(var Se=!1,Fe=0;Fe<te.length;Fe++)if(te[Fe].arc)for(var he=te[Fe].abs,ie=0;ie<he.length;ie++){var de=he[ie];de.type==="arc"?C.call(this,de.x,de.y,de.radius,de.startAngle,de.endAngle,de.counterclockwise,void 0,z,!Se):D.call(this,de.x,de.y),Se=!0}else if(te[Fe].close===!0)this.pdf.internal.out("h"),Se=!1;else if(te[Fe].begin!==!0){var Ae=te[Fe].start.x,ze=te[Fe].start.y;O.call(this,te[Fe].deltas,Ae,ze),Se=!0}J&&S.call(this,J),z&&T.call(this)}},E=function(I){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-H;case"top":return I+z-H;case"hanging":return I+z-2*H;case"middle":return I+z/2-H;default:return I}},A=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(z,H){this.colorStops.push([z,H])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(I,z,H,J,te,W,Y,Q,ne){for(var pe=U.call(this,H,J,te,W),F=0;F<pe.length;F++){var Te=pe[F];F===0&&(ne?_.call(this,Te.x1+I,Te.y1+z):D.call(this,Te.x1+I,Te.y1+z)),B.call(this,I,z,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}Q?T.call(this):S.call(this,Y)},S=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(I,z){this.pdf.internal.out(r(I)+" "+a(z)+" m")},M=function(I){var z;switch(I.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var H=this.pdf.getTextDimensions(I.text),J=E.call(this,I.y),te=A.call(this,J)-H.h,W=this.ctx.transform.applyToPoint(new o(I.x,J)),Y=this.ctx.transform.decompose(),Q=new c;Q=(Q=(Q=Q.multiply(Y.translate)).multiply(Y.skew)).multiply(Y.scale);for(var ne,pe,F,Te=this.ctx.transform.applyToRectangle(new l(I.x,J,H.w,H.h)),xe=Q.applyToRectangle(new l(I.x,te,H.w,H.h)),se=x.call(this,xe),We=[],Se=0;Se<se.length;Se+=1)We.indexOf(se[Se])===-1&&We.push(se[Se]);if(y(We),this.autoPaging)for(var Fe=We[0],he=We[We.length-1],ie=Fe;ie<he+1;ie++){this.pdf.setPage(ie);var de=ie===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],Ce=ze-this.margin[0],_e=this.pdf.internal.pageSize.width-this.margin[1],Ve=_e-this.margin[3],Ie=ie===1?0:Ae+(ie-2)*Ce;if(this.ctx.clip_path.length!==0){var Re=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ne,this.posX+this.margin[3],-1*Ie+de),j.call(this,"fill",!0),this.path=Re}var Ee=b([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Ie+de+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*I.scale),F=this.lineWidth,this.lineWidth=F*I.scale);var Be=this.autoPaging!=="text";if(Be||Ee.y+Ee.h<=ze){if(Be||Ee.y>=de&&Ee.x<=_e){var Pe=Be?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||_e-Ee.x)[0],it=b([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Ie+de+this.ctx.prevPageLastElemOffset)[0],ft=Be&&(ie>Fe||ie<he)&&p.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Ce,null).clip().discardPath()),this.pdf.text(Pe,it.x,it.y,{angle:I.angle,align:z,renderingMode:I.renderingMode}),ft&&this.pdf.restoreGraphicsState()}}else Ee.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-Ee.y);I.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=F)}else I.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*I.scale),F=this.lineWidth,this.lineWidth=F*I.scale),this.pdf.text(I.text,W.x+this.posX,W.y+this.posY,{angle:I.angle,align:z,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=F)},D=function(I,z,H,J){H=H||0,J=J||0,this.pdf.internal.out(r(I+H)+" "+a(z+J)+" l")},O=function(I,z,H){return this.pdf.lines(I,z,H,null,null)},B=function(I,z,H,J,te,W,Y,Q){this.pdf.internal.out([t(n(H+I)),t(s(J+z)),t(n(te+I)),t(s(W+z)),t(n(Y+I)),t(s(Q+z)),"c"].join(" "))},U=function(I,z,H,J){for(var te=2*Math.PI,W=Math.PI/2;z>H;)z-=te;var Y=Math.abs(H-z);Y<te&&J&&(Y=te-Y);for(var Q=[],ne=J?-1:1,pe=z;Y>1e-5;){var F=pe+ne*Math.min(Y,W);Q.push(q.call(this,I,pe,F)),Y-=Math.abs(F-pe),pe=F}return Q},q=function(I,z,H){var J=(H-z)/2,te=I*Math.cos(J),W=I*Math.sin(J),Y=te,Q=-W,ne=Y*Y+Q*Q,pe=ne+Y*te+Q*W,F=4/3*(Math.sqrt(2*ne*pe)-pe)/(Y*W-Q*te),Te=Y-F*Q,xe=Q+F*Y,se=Te,We=-xe,Se=J+z,Fe=Math.cos(Se),he=Math.sin(Se);return{x1:I*Math.cos(z),y1:I*Math.sin(z),x2:Te*Fe-xe*he,y2:Te*he+xe*Fe,x3:se*Fe-We*he,y3:se*he+We*Fe,x4:I*Math.cos(H),y4:I*Math.sin(H)}},K=function(I){return 180*I/Math.PI},G=function(I,z,H,J,te,W){var Y=I+.5*(H-I),Q=z+.5*(J-z),ne=te+.5*(H-te),pe=W+.5*(J-W),F=Math.min(I,te,Y,ne),Te=Math.max(I,te,Y,ne),xe=Math.min(z,W,Q,pe),se=Math.max(z,W,Q,pe);return new l(F,xe,Te-F,se-xe)},ve=function(I,z,H,J,te,W,Y,Q){var ne,pe,F,Te,xe,se,We,Se,Fe,he,ie,de,Ae,ze,Ce=H-I,_e=J-z,Ve=te-H,Ie=W-J,Re=Y-te,Ee=Q-W;for(pe=0;pe<41;pe++)Fe=(We=(F=I+(ne=pe/40)*Ce)+ne*((xe=H+ne*Ve)-F))+ne*(xe+ne*(te+ne*Re-xe)-We),he=(Se=(Te=z+ne*_e)+ne*((se=J+ne*Ie)-Te))+ne*(se+ne*(W+ne*Ee-se)-Se),pe==0?(ie=Fe,de=he,Ae=Fe,ze=he):(ie=Math.min(ie,Fe),de=Math.min(de,he),Ae=Math.max(Ae,Fe),ze=Math.max(ze,he));return new l(Math.round(ie),Math.round(de),Math.round(Ae-ie),Math.round(ze-de))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,z,H=(I=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:z}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(zt.API),function(e){var t=function(o){var l,c,d,f,u,m,h,g,p,x;for(c=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(u=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(u=((u=((u=((u=(u-(x=u%85))/85)-(p=u%85))/85)-(g=u%85))/85)-(h=u%85))/85)%85,c.push(m+33,h+33,g+33,p+33,x+33)):c.push(122);return function(v,b){for(var y=b;y>0;y--)v.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,f,u,m=String,h="length",g=255,p="charCodeAt",x="slice",v="replace";for(o[x](-2),o=o[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),d=[],f=0,u=(o+=l="uuuuu"[x](o[h]%5||5))[h];u>f;f+=5)c=52200625*(o[p](f)-33)+614125*(o[p](f+1)-33)+7225*(o[p](f+2)-33)+85*(o[p](f+3)-33)+(o[p](f+4)-33),d.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(b,y){for(var w=y;w>0;w--)b.pop()}(d,l[h]),m.fromCharCode.apply(m,d)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=u3(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}}(zt.API),function(e){e.loadFile=function(t,r,a){return function(n,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,f){var u=new XMLHttpRequest,m=0,h=function(g){var p=g.length,x=[],v=String.fromCharCode;for(m=0;m<p;m+=1)x.push(v(255&g.charCodeAt(m)));return x.join("")};if(u.open("GET",c,!d),u.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(u.onload=function(){u.status===200?f(h(this.responseText)):f(void 0)}),u.send(null),d&&u.status===200)return h(u.responseText)}(n,s,o)}catch{}return l}(t,r,a)},e.loadImageFile=e.loadFile}(zt.API),function(e){function t(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):as(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):as(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var c=yr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(l,c){var d=document.createElement(l);for(var f in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[f]=c.style[f];return d},s=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),u=c.firstChild;u;u=u.nextSibling)d!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||f.appendChild(l(u,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:n("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,f=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var h=0;h<f.length;++h){var g=f[h],p=g.src.find(function(x){return x.format==="truetype"});p&&d.addFont(p.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,f){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(f,u){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,f),m}).then(f,u).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),m=d.call(u,l,c);return o.convert(m,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,zt.getPageSize=function(l,c,d){if(yr(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,d=f.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var u,m=(""+d).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+c}var g,p=0,x=0;if(h.hasOwnProperty(m))p=h[m][1]/u,x=h[m][0]/u;else try{p=d[1],x=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",x>p&&(g=x,x=p,p=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>x&&(g=x,x=p,p=g)}return{width:x,height:p,unit:c,k:u,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Nj):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(zt.API),zt.API.addJS=function(e){return xL=e,this.internal.events.subscribe("postPutResources",function(){oy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(oy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){oy!==void 0&&gL!==void 0&&this.internal.out("/Names <</JavaScript "+oy+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),s=0;s<n.length;s++){var o=n[s],l=a.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var u=r.internal.newObject();f.push(u);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,n,s){var o={title:n,options:s,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<a.children.length;s++){var o=a.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),s>0&&this.line("/Prev "+this.makeRef(a.children[s-1])),s<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,n){for(var s=0;s<n.children.length;s++)a.count++,this.count_r(a,n.children[s]);return a.count}}])}(zt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,n,s,o,l){var c,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(u){for(var m,h=256*u.charCodeAt(4)+u.charCodeAt(5),g=u.length,p={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=h,t.indexOf(u.charCodeAt(x+1))!==-1){m=256*u.charCodeAt(x+5)+u.charCodeAt(x+6),p={width:256*u.charCodeAt(x+7)+u.charCodeAt(x+8),height:m,numcomponents:u.charCodeAt(x+9)};break}h=256*u.charCodeAt(x+2)+u.charCodeAt(x+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:a,alias:n}}return f}}(zt.API),zt.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,s=$ae(e,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,d=s.palette,f=s.depth;n=d&&c===1?function(C){for(var S=C.width,T=C.height,_=C.data,M=C.palette,D=C.depth,O=!1,B=[],U=[],q=void 0,K=!1,G=0,ve=0;ve<M.length;ve++){var fe=od(M[ve],4),I=fe[0],z=fe[1],H=fe[2],J=fe[3];B.push(I,z,H),J!=null&&(J===0?(G++,U.length<1&&U.push(ve)):J<255&&(K=!0))}if(K||G>1){O=!0,U=void 0;var te=S*T;q=new Uint8Array(te);for(var W=new DataView(_.buffer),Y=0;Y<te;Y++){var Q=Cj(W,Y,D),ne=od(M[Q],4)[3];q[Y]=ne}}else G===0&&(U=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:O?8:void 0,colorBytes:_,alphaBytes:q,needSMask:O,palette:B,mask:U}}(s):c===2||c===4?function(C){for(var S=C.data,T=C.width,_=C.height,M=C.channels,D=C.depth,O=M===2?"DeviceGray":"DeviceRGB",B=M-1,U=T*_,q=B,K=U*q,G=1*U,ve=Math.ceil(K*D/8),fe=Math.ceil(G*D/8),I=new Uint8Array(ve),z=new Uint8Array(fe),H=new DataView(S.buffer),J=new DataView(I.buffer),te=new DataView(z.buffer),W=!1,Y=0;Y<U;Y++){for(var Q=Y*M,ne=0;ne<q;ne++)CL(J,Cj(H,Q+ne,D),Y*q+ne,D);var pe=Cj(H,Q+q,D);pe<(1<<D)-1&&(W=!0),CL(te,pe,1*Y,D)}return{colorSpace:O,colorsPerPixel:B,sMaskBitsPerComponent:W?D:void 0,colorBytes:I,alphaBytes:z,needSMask:W}}(s):function(C){var S=C.data,T=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:S instanceof Uint16Array?function(_){for(var M=_.length,D=new Uint8Array(2*M),O=new DataView(D.buffer,D.byteOffset,D.byteLength),B=0;B<M;B++)O.setUint16(2*B,_[B],!1);return D}(S):S,needSMask:!1}}(s);var u,m,h,g=n,p=g.colorSpace,x=g.colorsPerPixel,v=g.sMaskBitsPerComponent,b=g.colorBytes,y=g.alphaBytes,w=g.needSMask,j=g.palette,E=g.mask,A=null;return a!==zt.API.image_compression.NONE&&typeof u3=="function"?(A=function(C){var S;switch(C){case zt.API.image_compression.FAST:S=11;break;case zt.API.image_compression.MEDIUM:S=13;break;case zt.API.image_compression.SLOW:S=14;break;default:S=12}return S}(a),u=this.decode.FLATE_DECODE,m="/Predictor ".concat(A," /Colors ").concat(x," /BitsPerComponent ").concat(f," /Columns ").concat(o),e=wL(b,Math.ceil(o*x*f/8),x,f,a),w&&(h=wL(y,Math.ceil(o*v/8),1,v,a))):(u=void 0,m=void 0,e=b,w&&(h=y)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:u,decodeParameters:m,transparency:E,palette:j,sMask:h,predictor:A,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:v,colorSpace:p}}},function(e){e.processGIF89A=function(t,r,a,n){var s=new lne(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},f=new Aj(100).encode(d,100);return e.processJPEG.call(this,f,r,a,n)},e.processGIF87A=e.processGIF89A}(zt.API),al.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:a,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},al.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ga.log("bit decode error:"+r)}},al.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var s=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*n*4,l=0;l<8&&8*n+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},al.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var s=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*n*4,l=s>>4,c=15&s,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*n+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},al.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*a;if(n<this.palette.length){var o=this.palette[n];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},al.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,d=s>>15?255:0,f=a*this.width*4+4*n;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},al.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,f=n*this.width*4+4*s;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},al.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},al.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=n,this.data[l+2]=a,this.data[l+3]=o}},al.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,a,n){var s=new al(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},d=new Aj(100).encode(c,100);return e.processJPEG.call(this,d,r,a,n)}}(zt.API),EL.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,a,n){var s=new EL(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},d=new Aj(100).encode(c,100);return e.processJPEG.call(this,d,r,a,n)}}(zt.API),zt.API.processRGBA=function(e,t,r){for(var a=e.data,n=a.length,s=new Uint8Array(n/4*3),o=new Uint8Array(n/4),l=0,c=0,d=0;d<n;d+=4){var f=a[d],u=a[d+1],m=a[d+2],h=a[d+3];s[l++]=f,s[l++]=u,s[l++]=m,o[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},zt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},X0=zt.API,ly=X0.getCharWidthsArray=function(e,t){var r,a,n=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:n.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,f=d.fof?d.fof:1,u=t.doKerning!==!1,m=0,h=e.length,g=0,p=l[0]||c,x=[];for(r=0;r<h;r++)a=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?x.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+o*(1e3/s)||0)/1e3):(m=u&&yr(d[a])==="object"&&!isNaN(parseInt(d[a][g],10))?d[a][g]/f:0,x.push((l[a]||p)/c+m)),g=a;return x},vL=X0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return X0.processArabic&&(e=X0.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,n)/r:ly.apply(this,arguments).reduce(function(s,o){return s+o},0)},yL=function(e,t,r,a){for(var n=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;n.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>a&&(n.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&n.push(e.slice(c,s)),n},bL=function(e,t,r){r||(r={});var a,n,s,o,l,c,d,f=[],u=[f],m=r.textIndent||0,h=0,g=0,p=e.split(" "),x=ly.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),b=[];p.map(function(w){(w=w.split(/\s*\n/)).length>1?b=b.concat(w.map(function(j,E){return(E&&j.length?`
`:"")+j})):b.push(w[0])}),p=b,c=vL.apply(this,[v,r])}for(s=0,o=p.length;s<o;s++){var y=0;if(a=p[s],c&&a[0]==`
`&&(a=a.substr(1),y=1),m+h+(g=(n=ly.apply(this,[a,r])).reduce(function(w,j){return w+j},0))>t||y){if(g>t){for(l=yL.apply(this,[a,n,t-(m+h),t]),f.push(l.shift()),f=[l.pop()];l.length;)u.push([l.shift()]);g=n.slice(a.length-(f[0]?f[0].length:0)).reduce(function(w,j){return w+j},0)}else f=[a];u.push(f),m=g+c,h=x}else f.push(a),m+=h+g,h=x}return d=c?function(w,j){return(j?v:"")+w.join(" ")}:function(w){return w.join(" ")},u.map(d)},X0.splitTextToSize=function(e,t,r){var a,n=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var u=this.internal.getFont(f.fontName,f.fontStyle),m="Unicode";return u.metadata[m]?{widths:u.metadata[m].widths||{0:1},kerning:u.metadata[m].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/n;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,s.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=a.length;l<c;l++)d=d.concat(bL.apply(this,[a[l],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},n={},s=0;s<16;s++)a[r[s]]=t[s],n[t[s]]=r[s];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var h,g,p,x,v=["{"];for(var b in m){if(h=m[b],isNaN(parseInt(b,10))?g="'"+b+"'":(b=parseInt(b,10),g=(g=o(b).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof h=="number")h<0?(p=o(h).slice(3),x="-"):(p=o(h).slice(2),x=""),p=x+p.slice(0,-1)+n[p.slice(-1)];else{if(yr(h)!=="object")throw new Error("Don't know what to do with value type "+yr(h)+".");p=l(h)}v.push(g+p)}return v.push("}"),v.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,p,x,v={},b=1,y=v,w=[],j="",E="",A=m.length-1,C=1;C<A;C+=1)(x=m[C])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(w.push([y,p]),y={},p=void 0):x=="}"?((g=w.pop())[0][g[1]]=y,p=void 0,y=g[0]):x=="-"?b=-1:p===void 0?a.hasOwnProperty(x)?(j+=a[x],p=parseInt(j,16)*b,b=1,j=""):j+=x:a.hasOwnProperty(x)?(E+=a[x],y[p]=parseInt(E,16)*b,b=1,p=void 0,E=""):E+=x;return v},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},u={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var p=f.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])}(zt.API),function(e){var t=function(r){for(var a=r.length,n=new Uint8Array(a),s=0;s<a;s++)n[s]=r.charCodeAt(s);return n};e.API.events.push(["addFont",function(r){var a=void 0,n=r.font,s=r.instance;if(!n.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=s.existsFileInVFS(n.postScriptName)===!1?s.loadFile(n.postScriptName):s.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(nb(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(n,a)}}])}(zt),zt.API.addSvgAsImage=function(e,t,r,a,n,s,o,l){if(isNaN(t)||isNaN(r))throw ga.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(n))throw ga.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(Qt.canvg?Promise.resolve(Qt.canvg):as(()=>import("./index.es-A4GL3Rj1.js"),__vite__mapDeps([0,1,2,3]))).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){u.addImage(c.toDataURL("image/jpeg",1),t,r,a,n,o,l)})},zt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(t,r);return this},zt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,n,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,f=0,u=0;function m(g,p){var x,v=!1;for(x=0;x<g.length;x+=1)g[x]===p&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(u=0;u<h;u+=1)r[l[u]].value=r[l[u]].defaultValue,r[l[u]].explicitSet=!1}if(yr(e)==="object"){for(n in e)if(s=e[n],m(l,n)&&s!==void 0){if(r[n].type==="boolean"&&typeof s=="boolean")r[n].value=s;else if(r[n].type==="name"&&m(r[n].valueSet,s))r[n].value=s;else if(r[n].type==="integer"&&Number.isInteger(s))r[n].value=s;else if(r[n].type==="array"){for(d=0;d<s.length;d+=1)if(a=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(a=!1);a===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}r[n].value="["+c.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?p.push("/"+g+" /"+r[g].value):p.push("/"+g+" "+r[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+l.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(n+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(zt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],u=0,m=s.length;u<m;++u){if(l=o.metadata.characterToGlyph(s.charCodeAt(u)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(u),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},a=function(s){var o,l,c,d,f,u,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],u=0,m=(l=Object.keys(s).sort(function(h,g){return h-g})).length;u<m;u++)o=l[u],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var u=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",g=0;g<m.length;g++)h+=String.fromCharCode(m[g]);var p=d();f({data:h,addLength1:!0,objectId:p}),c("endobj");var x=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+uh(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+uh(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(u)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+uh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var u=l.metadata.rawData,m="",h=0;h<u.length;h++)m+=String.fromCharCode(u[h]);var g=d();f({data:m,addLength1:!0,objectId:g}),c("endobj");var p=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var x=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+uh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+uh(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var n=function(s){var o,l=s.text||"",c=s.x,d=s.y,f=s.options||{},u=s.mutex||{},m=u.pdfEscape,h=u.activeFontKey,g=u.fonts,p=h,x="",v=0,b="",y=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:l,x:c,y:d,options:f,mutex:u};for(b=l,p=h,Array.isArray(l)&&(b=l[0]),v=0;v<b.length;v+=1)g[p].metadata.hasOwnProperty("cmap")&&(o=g[p].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),o||b[v].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?x+=b[v]:x+="";var w="";return parseInt(p.slice(1))<14||y==="WinAnsiEncoding"?w=m(x,p).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(w=r(x,g[p])),u.isHex=!0,{text:w,x:c,y:d,options:f,mutex:u}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([n(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(n(Object.assign({},c,{text:o[d]})).text);s.text=l}else s.text=n(Object.assign({},c,{text:o})).text}])}(zt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(zt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var n,s,o,l,c,d,f,u=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,y=0;this.__bidiEngine__={};var w=function(_){var M=_.charCodeAt(),D=M>>8,O=p[D];return O!==void 0?u[256*O+(255&M)]:D===252||D===253?"AL":v.test(D)?"L":D===8?"R":"N"},j=function(_){for(var M,D=0;D<_.length;D++){if((M=w(_.charAt(D)))==="L")return!1;if(M==="R")return!0}return!1},E=function(_,M,D,O){var B,U,q,K,G=M[O];switch(G){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(G="AN");break;case"AL":b=!0,G="R";break;case"WS":case"BN":G="N";break;case"CS":O<1||O+1>=M.length||(B=D[O-1])!=="EN"&&B!=="AN"||(U=M[O+1])!=="EN"&&U!=="AN"?G="N":b&&(U="AN"),G=U===B?U:"N";break;case"ES":G=(B=O>0?D[O-1]:"B")==="EN"&&O+1<M.length&&M[O+1]==="EN"?"EN":"N";break;case"ET":if(O>0&&D[O-1]==="EN"){G="EN";break}if(b){G="N";break}for(q=O+1,K=M.length;q<K&&M[q]==="ET";)q++;G=q<K&&M[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(K=M.length,q=O+1;q<K&&M[q]==="NSM";)q++;if(q<K){var ve=_[O],fe=ve>=1425&&ve<=2303||ve===64286;if(B=M[q],fe&&(B==="R"||B==="AL")){G="R";break}}}G=O<1||(B=M[O-1])==="B"?"N":D[O-1];break;case"B":b=!1,n=!0,G=y;break;case"S":s=!0,G="N"}return G},A=function(_,M,D){var O=_.split("");return D&&C(O,D,{hiLevel:y}),O.reverse(),M&&M.reverse(),O.join("")},C=function(_,M,D){var O,B,U,q,K,G=-1,ve=_.length,fe=0,I=[],z=y?h:m,H=[];for(b=!1,n=!1,s=!1,B=0;B<ve;B++)H[B]=w(_[B]);for(U=0;U<ve;U++){if(K=fe,I[U]=E(_,H,I,U),O=240&(fe=z[K][g[I[U]]]),fe&=15,M[U]=q=z[fe][5],O>0)if(O===16){for(B=G;B<U;B++)M[B]=1;G=-1}else G=-1;if(z[fe][6])G===-1&&(G=U);else if(G>-1){for(B=G;B<U;B++)M[B]=q;G=-1}H[U]==="B"&&(M[U]=0),D.hiLevel|=q}s&&function(J,te,W){for(var Y=0;Y<W;Y++)if(J[Y]==="S"){te[Y]=y;for(var Q=Y-1;Q>=0&&J[Q]==="WS";Q--)te[Q]=y}}(H,M,ve)},S=function(_,M,D,O,B){if(!(B.hiLevel<_)){if(_===1&&y===1&&!n)return M.reverse(),void(D&&D.reverse());for(var U,q,K,G,ve=M.length,fe=0;fe<ve;){if(O[fe]>=_){for(K=fe+1;K<ve&&O[K]>=_;)K++;for(G=fe,q=K-1;G<q;G++,q--)U=M[G],M[G]=M[q],M[q]=U,D&&(U=D[G],D[G]=D[q],D[q]=U);fe=K}fe++}}},T=function(_,M,D){var O=_.split(""),B={hiLevel:y};return D||(D=[]),C(O,D,B),function(U,q,K){if(K.hiLevel!==0&&f)for(var G,ve=0;ve<U.length;ve++)q[ve]===1&&(G=x.indexOf(U[ve]))>=0&&(U[ve]=x[G+1])}(O,D,B),S(2,O,M,D,B),S(1,O,M,D,B),O.join("")};return this.__bidiEngine__.doBidiReorder=function(_,M,D){if(function(B,U){if(U)for(var q=0;q<B.length;q++)U[q]=q;l===void 0&&(l=j(B)),d===void 0&&(d=j(B))}(_,M),o||!c||d)if(o&&c&&l^d)y=l?1:0,_=A(_,M,D);else if(!o&&c&&d)y=l?1:0,_=T(_,M,D),_=A(_,M);else if(!o||l||c||d){if(o&&!c&&l^d)_=A(_,M),l?(y=0,_=T(_,M,D)):(y=1,_=T(_,M,D),_=A(_,M));else if(o&&l&&!c&&d)y=1,_=T(_,M,D),_=A(_,M);else if(!o&&!c&&l^d){var O=f;l?(y=1,_=T(_,M,D),y=0,f=!1,_=T(_,M,D),f=O):(y=0,_=T(_,M,D),_=A(_,M),y=1,f=!1,_=T(_,M,D),f=O,_=A(_,M))}}else y=0,_=T(_,M,D);else y=l?1:0,_=T(_,M,D);return _},this.__bidiEngine__.setOptions=function(_){_&&(o=_.isInputVisual,c=_.isOutputVisual,l=_.isInputRtl,d=_.isOutputRtl,f=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var n=a.text;a.x,a.y;var s=a.options||{};a.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(n)==="[object Array]"){var l=0;for(o=[],l=0;l<n.length;l+=1)Object.prototype.toString.call(n[l])==="[object Array]"?o.push([r.doBidiReorder(n[l][0]),n[l][1],n[l][2]]):o.push([r.doBidiReorder(n[l])]);a.text=o}else a.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])}(zt),zt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new yf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new jne(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new cne(this.contents),this.head=new fne(this),this.name=new gne(this),this.cmap=new oF(this),this.toUnicode={},this.hhea=new une(this),this.maxp=new xne(this),this.hmtx=new vne(this),this.post=new mne(this),this.os2=new hne(this),this.loca=new kne(this),this.glyf=new yne(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,n,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var n,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)n=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e}();var Tl,yf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,n;for(n=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,n,s,o,l,c;return t=this.readByte(),r=this.readByte(),a=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*n+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,n,s;for(s=[],a=0,n=t.length;a<n;a++)r=t[a],s.push(this.writeByte(r));return s},e}(),cne=function(){var e;function t(r){var a,n,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,s=this.tableCount;0<=s?n<s:n>s;n=0<=s?++n:--n)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,n,s,o,l,c,d,f,u,m,h,g,p;for(p in h=Object.keys(r).length,c=Math.log(2),u=16*Math.floor(Math.log(h)/c),o=Math.floor(u/c),f=16*h-u,(n=new yf).writeInt(this.scalarType),n.writeShort(h),n.writeShort(u),n.writeShort(o),n.writeShort(f),s=16*h,d=n.pos+s,l=null,g=[],r)for(m=r[p],n.writeString(p),n.writeInt(e(m)),n.writeInt(d),n.writeInt(m.length),g=g.concat(m),p==="head"&&(l=d),d+=m.length;d%4;)g.push(0),d++;return n.write(g),a=2981146554-e(n.data),n.pos=l+8,n.writeUInt32(a),n.data},e=function(r){var a,n,s,o;for(r=lF.call(r);r.length%4;)r.push(0);for(s=new yf(r),n=0,a=0,o=r.length;a<o;a=a+=4)n+=s.readUInt32();return 4294967295&n},t}(),dne={}.hasOwnProperty,jc=function(e,t){for(var r in t)dne.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Tl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var fne=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new yf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),_L=function(){function e(t,r){var a,n,s,o,l,c,d,f,u,m,h,g,p,x,v,b,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,s=function(){var w,j;for(j=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)j.push(t.readUInt16());return j}(),t.pos+=2,p=function(){var w,j;for(j=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)j.push(t.readUInt16());return j}(),d=function(){var w,j;for(j=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)j.push(t.readUInt16());return j}(),f=function(){var w,j;for(j=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)j.push(t.readUInt16());return j}(),n=(this.length-t.pos+this.offset)/2,l=function(){var w,j;for(j=[],c=w=0;0<=n?w<n:w>n;c=0<=n?++w:--w)j.push(t.readUInt16());return j}(),c=v=0,y=s.length;v<y;c=++v)for(x=s[c],a=b=g=p[c];g<=x?b<=x:b>=x;a=g<=x?++b:--b)f[c]===0?o=a+d[c]:(o=l[f[c]/2+(a-g)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[a]=65535&o}t.pos=u}return e.encode=function(t,r){var a,n,s,o,l,c,d,f,u,m,h,g,p,x,v,b,y,w,j,E,A,C,S,T,_,M,D,O,B,U,q,K,G,ve,fe,I,z,H,J,te,W,Y,Q,ne,pe,F;switch(O=new yf,o=Object.keys(t).sort(function(Te,xe){return Te-xe}),r){case"macroman":for(p=0,x=function(){var Te=[];for(g=0;g<256;++g)Te.push(0);return Te}(),b={0:0},s={},B=0,G=o.length;B<G;B++)b[Q=t[n=o[B]]]==null&&(b[Q]=++p),s[n]={old:t[n],new:b[t[n]]},x[n]=b[t[n]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(x),{charMap:s,subtable:O.data,maxGlyphID:p+1};case"unicode":for(M=[],u=[],y=0,b={},a={},v=d=null,U=0,ve=o.length;U<ve;U++)b[j=t[n=o[U]]]==null&&(b[j]=++y),a[n]={old:j,new:b[j]},l=b[j]-n,v!=null&&l===d||(v&&u.push(v),M.push(n),d=l),v=n;for(v&&u.push(v),u.push(65535),M.push(65535),T=2*(S=M.length),C=2*Math.pow(Math.log(S)/Math.LN2,2),m=Math.log(C/2)/Math.LN2,A=2*S-C,c=[],E=[],h=[],g=q=0,fe=M.length;q<fe;g=++q){if(_=M[g],f=u[g],_===65535){c.push(0),E.push(0);break}if(_-(D=a[_].new)>=32768)for(c.push(0),E.push(2*(h.length+S-g)),n=K=_;_<=f?K<=f:K>=f;n=_<=f?++K:--K)h.push(a[n].new);else c.push(D-_),E.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*S+2*h.length),O.writeUInt16(0),O.writeUInt16(T),O.writeUInt16(C),O.writeUInt16(m),O.writeUInt16(A),W=0,I=u.length;W<I;W++)n=u[W],O.writeUInt16(n);for(O.writeUInt16(0),Y=0,z=M.length;Y<z;Y++)n=M[Y],O.writeUInt16(n);for(ne=0,H=c.length;ne<H;ne++)l=c[ne],O.writeUInt16(l);for(pe=0,J=E.length;pe<J;pe++)w=E[pe],O.writeUInt16(w);for(F=0,te=h.length;F<te;F++)p=h[F],O.writeUInt16(p);return{charMap:a,subtable:O.data,maxGlyphID:y+1}}},e}(),oF=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r=new _L(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,n;return r==null&&(r="macroman"),a=_L.encode(t,r),(n=new yf).writeUInt16(0),n.writeUInt16(1),a.table=n.data.concat(a.subtable),a},e}(),une=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),hne=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),mne=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(a=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)r=t.readByte(),n.push(this.names.push(t.readString(r)));return n;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),pne=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},gne=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,n,s,o,l,c,d,f,u,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),a=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=f=0,u=a.length;f<u;s=++f)n=a[s],t.pos=n.offset,d=t.readString(n.length),o=new pne(d,n),c[m=n.nameID]==null&&(c[m]=[]),c[n.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),xne=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),vne=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,n,s,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],r=d=0;0<=n?d<n:d>n;r=0<=n?++d:--d)f.push(t.readInt16());return f}(),this.widths=(function(){var d,f,u,m;for(m=[],d=0,f=(u=this.metrics).length;d<f;d++)s=u[d],m.push(s.advance);return m}).call(this),a=this.widths[this.widths.length-1],c=[],r=o=0;0<=n?o<n:o>n;r=0<=n?++o:--o)c.push(this.widths.push(a));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),lF=[].slice,yne=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,n,s,o,l,c,d,f,u;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,a=s.indexOf(t),(n=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,o=(l=new yf(r.read(n))).readShort(),d=l.readShort(),u=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=o===-1?new wne(l,d,u,c,f):new bne(l,o,d,u,c,f),this.cache[t]))},e.prototype.encode=function(t,r,a){var n,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)n=t[r[l]],s.push(o.length),n&&(o=o.concat(n.encode(a)));return s.push(o.length),{table:o,offsets:s}},e}(),bne=function(){function e(t,r,a,n,s,o){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),wne=function(){function e(t,r,a,n,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=n,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new yf(lF.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),kne=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return jc(e,Tl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var n,s;for(s=[],a=0,n=this.length;a<n;a+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var n,s;for(s=[],a=0,n=this.length;a<n;a+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),n=0,s=0,o=0;o<a.length;++o)if(a[o]=n,s<r.length&&r[s]==o){++s,a[o]=n;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(n+=c)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e}(),jne=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,n,s;for(r in n=this.font.cmap.tables[0].codeMap,t={},s=this.subset)a=s[r],t[r]=n[a];return t},e.prototype.glyphsFor=function(t){var r,a,n,s,o,l,c;for(n={},o=0,l=t.length;o<l;o++)n[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],n)(a=n[s])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))a=c[s],n[s]=a;return n},e.prototype.encode=function(t,r){var a,n,s,o,l,c,d,f,u,m,h,g,p,x,v;for(n in a=oF.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},v=a.charMap)h[(c=v[n]).old]=c.new;for(g in m=a.maxGlyphID,o)g in h||(h[g]=m++);return f=function(b){var y,w;for(y in w={},b)w[b[y]]=y;return w}(h),u=Object.keys(f).sort(function(b,y){return b-y}),p=function(){var b,y,w;for(w=[],b=0,y=u.length;b<y;b++)l=u[b],w.push(f[l]);return w}(),s=this.font.glyf.encode(o,p,h),d=this.font.loca.encode(s.offsets,p),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();zt.API.PDFObject=function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,n,s,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)a=r[l],d.push(t.convert(a));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in s=["<<"],r)o=r[n],s.push("/"+n+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();function cF(e,t,r,a,n){a=a||{};var s=1.15,o=n.internal.scaleFactor,l=n.internal.getFontSize()/o,c=n.getLineHeightFactor?n.getLineHeightFactor():s,d=l*c,f=/\r\n|\r|\n/g,u="",m=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(u=typeof e=="string"?e.split(f):e,m=u.length||1),r+=l*(2-s),a.valign==="middle"?r-=m/2*d:a.valign==="bottom"&&(r-=m*d),a.halign==="center"||a.halign==="right"){var h=l;if(a.halign==="center"&&(h*=.5),u&&m>=1){for(var g=0;g<u.length;g++)n.text(u[g],t-n.getStringUnitWidth(u[g])*h,r),r+=d;return n}t-=n.getStringUnitWidth(e)*h}return a.halign==="justify"?n.text(e,t,r,{maxWidth:a.maxWidth||100,align:"justify"}):n.text(e,t,r),n}var ML={},Th=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:ML=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var a,n,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var f=e.unifyColor(t.fillColor);f&&(a=this.jsPDFDocument).setFillColor.apply(a,f),f=e.unifyColor(t.textColor),f&&(n=this.jsPDFDocument).setTextColor.apply(n,f),f=e.unifyColor(t.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,a){return this.jsPDFDocument.splitTextToSize(t,r,a)},e.prototype.rect=function(t,r,a,n,s){return this.jsPDFDocument.rect(t,r,a,n,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return ML||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),w3=function(e,t){return w3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},w3(e,t)};function dF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");w3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var fF=function(e){dF(t,e);function t(r){var a=e.call(this)||this;return a._element=r,a}return t}(Array);function Nne(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Sne(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Rb(e,t,r){r.applyStyles(t,!0);var a=Array.isArray(e)?e:[e],n=a.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return n}function uF(e,t,r,a){var n=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:s});var o=hF(n,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),a.y-r.y,o)}function hF(e,t){var r=e>0,a=t||t===0;return r&&a?"DF":r?"S":a?"F":null}function Rw(e,t){var r,a,n,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(a=e.top)!==null&&a!==void 0?a:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function mF(e,t){var r=Rw(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Cne(e,t,r,a,n){var s={},o=1.3333333333333333,l=Ej(t,function(y){return n.getComputedStyle(y).backgroundColor});l!=null&&(s.fillColor=l);var c=Ej(t,function(y){return n.getComputedStyle(y).color});c!=null&&(s.textColor=c);var d=Ene(a,r);d&&(s.cellPadding=d);var f="borderTopColor",u=o*r,m=a.borderTopWidth;if(a.borderBottomWidth===m&&a.borderRightWidth===m&&a.borderLeftWidth===m){var h=(parseFloat(m)||0)/u;h&&(s.lineWidth=h)}else s.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/u,right:(parseFloat(a.borderRightWidth)||0)/u,bottom:(parseFloat(a.borderBottomWidth)||0)/u,left:(parseFloat(a.borderLeftWidth)||0)/u},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var g=Ej(t,function(y){return n.getComputedStyle(y)[f]});g!=null&&(s.lineColor=g);var p=["left","right","center","justify"];p.indexOf(a.textAlign)!==-1&&(s.halign=a.textAlign),p=["middle","bottom","top"],p.indexOf(a.verticalAlign)!==-1&&(s.valign=a.verticalAlign);var x=parseInt(a.fontSize||"");isNaN(x)||(s.fontSize=x/o);var v=Ane(a);v&&(s.fontStyle=v);var b=(a.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(s.font=b),s}function Ane(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Ej(e,t){var r=pF(e,t);if(!r)return null;var a=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var n=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],s=parseInt(a[4]);return s===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function pF(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:pF(e.parentElement,t):r}function Ene(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(l){return parseInt(l||"0")/a}),o=Rw(s,0);return n>o.top&&(o.top=n),n>o.bottom&&(o.bottom=n),o}function gF(e,t,r,a,n){var s,o;a===void 0&&(a=!1),n===void 0&&(n=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),f=[],u=[],m=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:f,body:u,foot:m};for(var h=0;h<l.rows.length;h++){var g=l.rows[h],p=(o=(s=g==null?void 0:g.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),x=_ne(c,d,r,g,a,n);x&&(p==="thead"?f.push(x):p==="tfoot"?m.push(x):u.push(x))}return{head:f,body:u,foot:m}}function _ne(e,t,r,a,n,s){for(var o=new fF(a),l=0;l<a.cells.length;l++){var c=a.cells[l],d=r.getComputedStyle(c);if(n||d.display!=="none"){var f=void 0;s&&(f=Cne(e,c,t,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:Mne(c)})}}var u=r.getComputedStyle(a);if(o.length>0&&(n||u.display!=="none"))return o}function Mne(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Lne(e,t,r){for(var a=0,n=[e,t,r];a<n.length;a++){var s=n[a];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Gc(e,t,r,a,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function xF(e,t){var r=new Th(e),a=r.getDocumentOptions(),n=r.getGlobalOptions();Lne(n,a,t);var s=Gc({},n,a,t),o;typeof window<"u"&&(o=window);var l=Tne(n,a,t),c=Ine(n,a,t),d=Dne(r,s),f=One(r,s,o);return{id:t.tableId,content:f,hooks:c,styles:l,settings:d}}function Tne(e,t,r){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(c){if(c==="columnStyles"){var d=e[c],f=t[c],u=r[c];a.columnStyles=Gc({},d,f,u)}else{var m=[e,t,r],h=m.map(function(g){return g[c]||{}});a[c]=Gc({},h[0],h[1],h[2])}},s=0,o=Object.keys(a);s<o.length;s++){var l=o[s];n(l)}return a}function Ine(e,t,r){for(var a=[e,t,r],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=a;s<o.length;s++){var l=o[s];l.didParseCell&&n.didParseCell.push(l.didParseCell),l.willDrawCell&&n.willDrawCell.push(l.willDrawCell),l.didDrawCell&&n.didDrawCell.push(l.didDrawCell),l.willDrawPage&&n.willDrawPage.push(l.willDrawPage),l.didDrawPage&&n.didDrawPage.push(l.didDrawPage)}return n}function Dne(e,t){var r,a,n,s,o,l,c,d,f,u,m,h,g=Rw(t.margin,40/e.scaleFactor()),p=(r=Pne(e,t.startY))!==null&&r!==void 0?r:g.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(a=t.showFoot)!==null&&a!==void 0?a:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var b=(s=t.useCss)!==null&&s!==void 0?s:!1,y=t.theme||(b?"plain":"striped"),w=!!t.horizontalPageBreak,j=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:b,theme:y,startY:p,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=t.tableWidth)!==null&&f!==void 0?f:"auto",showHead:v,showFoot:x,tableLineWidth:(u=t.tableLineWidth)!==null&&u!==void 0?u:0,tableLineColor:(m=t.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:w,horizontalPageBreakRepeat:j,horizontalPageBreakBehaviour:(h=t.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function Pne(e,t){var r=e.getLastAutoTable(),a=e.scaleFactor(),n=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===n}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/a:null}function One(e,t,r){var a=t.head||[],n=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=gF(e,t.html,r,o,t.useCss)||{};a=l.head||a,n=l.body||a,s=l.foot||a}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Rne(a,n,s);return{columns:c,head:a,body:n,foot:s}}function Rne(e,t,r){var a=e[0]||t[0]||r[0]||[],n=[];return Object.keys(a).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(a)?l=a[parseInt(s)]:l=a[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(a)?d=n.length:d=s+(c>0?"_".concat(c):"");var f={dataKey:d};n.push(f)}}),n}var k3=function(){function e(t,r,a){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=a,this.doc=t.getDocument()}return e}(),Fne=function(e){dF(t,e);function t(r,a,n,s,o,l){var c=e.call(this,r,a,l)||this;return c.cell=n,c.row=s,c.column=o,c.section=s.section,c}return t}(k3),Bne=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,a,n,s,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],f=new Fne(t,this,a,n,s,o),u=d(f)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],u)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var a=0,n=this.hooks.didDrawPage;a<n.length;a++){var s=n[a];s(new k3(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var a=0,n=this.hooks.willDrawPage;a<n.length;a++){var s=n[a];s(new k3(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(n,s){return n+s.wrappedWidth},0);return r}else{var a=this.settings.margin;return t-a.left-a.right}},e}(),vF=function(){function e(t,r,a,n,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof fF&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=a,this.cells=n,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(a,n){var s;return Math.max(a,((s=r.cells[n.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(a){var n=r.cells[a.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var a=this;return t.reduce(function(n,s){var o=a.cells[s.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>n?d:n},0)},e}(),yF=function(){function e(t,r,a){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=a,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");a=this.x+n/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var a=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*r,s=a*n+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Rw(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),zne=function(){function e(t,r,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=a}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,a=0,n=t.allRows();a<n.length;a++){var s=n[a],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function $ne(e,t){Une(e,t);var r=[],a=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),a+=s.width});var n=t.getWidth(e.pageSize().width)-a;n&&(n=j3(r,n,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),n&&(n=j3(r,n,function(s){return s.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),Hne(t),Vne(t,e),Wne(t)}function Une(e,t){var r=e.scaleFactor(),a=t.settings.horizontalPageBreak,n=mF(e,t);t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d){var f=t.hooks.didParseCell;t.callCellHooks(e,f,d,s,c,null);var u=d.padding("horizontal");d.contentWidth=Rb(d.text,d.styles,e)+u;var m=Rb(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=m+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||a===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var h=10/r;d.minWidth=d.styles.minCellWidth||h,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var f=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},u=f.cellWidth||f.minCellWidth;u&&typeof u=="number"&&(c.minWidth=u,c.wrappedWidth=u)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function j3(e,t,r){for(var a=t,n=e.reduce(function(h,g){return h+g.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],l=o.wrappedWidth/n,c=a*l,d=o.width+c,f=r(o),u=d<f?f:d;t-=u-o.width,o.width=u}if(t=Math.round(t*1e10)/1e10,t){var m=e.filter(function(h){return t<0?h.width>r(h):!0});m.length&&(t=j3(m,t,r))}return t}function Wne(e){for(var t={},r=1,a=e.allRows(),n=0;n<a.length;n++)for(var s=a[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(d)d.cell.height+=s.height,r=d.cell.colSpan,delete s.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var u=a.length-n,m=f.rowSpan>u?u:f.rowSpan;t[c.index]={cell:f,left:m,row:s}}}}}function Hne(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var a=t[r],n=null,s=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])s+=c.width,delete a.cells[c.index];else if(n){var d=n;delete a.cells[c.index],n=null,d.width=c.width+s}else{var d=a.cells[c.index];if(!d)continue;if(o=d.colSpan,s=0,d.colSpan>1){n=d,s+=c.width;continue}d.width=c.width+s}}}function Vne(e,t){for(var r={count:0,height:0},a=0,n=e.allRows();a<n.length;a++){for(var s=n[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d){t.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,f+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=LL(d.text,f,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=LL(d.text,f,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var u=d.styles.overflow(d.text,f);typeof u=="string"?d.text=[u]:d.text=u}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<m*d.rowSpan?r={height:m,count:d.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>s.height&&(s.height=m)}}r.count--}}function LL(e,t,r,a,n){return e.map(function(s){return Gne(s,t,r,a,n)})}function Gne(e,t,r,a,n){var s=1e4*a.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Rb(e,r,a))return e;for(;t<Rb(e+n,r,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function bF(e,t){var r=new Th(e),a=qne(t,r.scaleFactor()),n=new Bne(t,a);return $ne(r,n),r.applyStyles(r.userStyles),n}function qne(e,t){var r=e.content,a=Jne(r.columns);if(r.head.length===0){var n=TL(a,"head");n&&r.head.push(n)}if(r.foot.length===0){var n=TL(a,"foot");n&&r.foot.push(n)}var s=e.settings.theme,o=e.styles;return{columns:a,head:_j("head",r.head,a,o,s,t),body:_j("body",r.body,a,o,s,t),foot:_j("foot",r.foot,a,o,s,t)}}function _j(e,t,r,a,n,s){var o={},l=t.map(function(c,d){for(var f=0,u={},m=0,h=0,g=0,p=r;g<p.length;g++){var x=p[g];if(o[x.index]==null||o[x.index].left===0)if(h===0){var v=void 0;Array.isArray(c)?v=c[x.index-m-f]:v=c[x.dataKey];var b={};typeof v=="object"&&!Array.isArray(v)&&(b=(v==null?void 0:v.styles)||{});var y=Kne(e,x,d,n,a,s,b),w=new yF(v,y,e);u[x.dataKey]=w,u[x.index]=w,h=w.colSpan-1,o[x.index]={left:w.rowSpan-1,times:h}}else h--,m++;else o[x.index].left--,h=o[x.index].times,f++}return new vF(c,d,e,u)});return l}function TL(e,t){var r={};return e.forEach(function(a){if(a.raw!=null){var n=Yne(t,a.raw);n!=null&&(r[a.dataKey]=n)}}),Object.keys(r).length>0?r:null}function Yne(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Jne(e){return e.map(function(t,r){var a,n;return typeof t=="object"?n=(a=t.dataKey)!==null&&a!==void 0?a:r:n=r,new zne(n,t,r)})}function Kne(e,t,r,a,n,s,o){var l=Sne(a),c;e==="head"?c=n.headStyles:e==="body"?c=n.bodyStyles:e==="foot"&&(c=n.footStyles);var d=Gc({},l.table,l[e],n.styles,c),f=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},u=e==="body"?f:{},m=e==="body"&&r%2===0?Gc({},l.alternateRow,n.alternateRowStyles):{},h=Nne(s),g=Gc({},h,d,m,u);return Gc(g,o)}function Qne(e,t,r){var a;r===void 0&&(r={});var n=mF(e,t),s=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var h=t.columns.find(function(g){return g.dataKey===m||g.index===m});h&&!s.has(h.index)&&(s.set(h.index,!0),o.push(h.index),l.push(t.columns[h.index]),n-=h.wrappedWidth)});for(var d=!0,f=(a=r==null?void 0:r.start)!==null&&a!==void 0?a:0;f<t.columns.length;){if(s.has(f)){f++;continue}var u=t.columns[f].wrappedWidth;if(d||n>=u)d=!1,o.push(f),l.push(t.columns[f]),n-=u;else break;f++}return{colIndexes:o,columns:l,lastIndex:f-1}}function Xne(e,t){for(var r=[],a=0;a<t.columns.length;a++){var n=Qne(e,t,{start:a});n.columns.length&&(r.push(n),a=n.lastIndex)}return r}function wF(e,t){var r=t.settings,a=r.startY,n=r.margin,s={x:n.left,y:a},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=a+n.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(m,h){return m+h.height},0);l+=d}var f=new Th(e);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(jF(f),s.y=n.top),t.callWillDrawPageHooks(f,s);var u=Gc({},s);t.startPageNumber=f.pageNumber(),r.horizontalPageBreak?Zne(f,t,u,s):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(m){return ld(f,t,m,s,t.columns)}),f.applyStyles(f.userStyles),t.body.forEach(function(m,h){var g=h===t.body.length-1;Fb(f,t,m,g,u,s,t.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(m){return ld(f,t,m,s,t.columns)})),uF(f,t,u,s),t.callEndPageHooks(f,s),t.finalY=s.y,e.lastAutoTable=t,f.applyStyles(f.userStyles)}function Zne(e,t,r,a){var n=Xne(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,f){e.applyStyles(e.userStyles),f>0?Fg(e,t,r,a,d.columns,!0):IL(e,t,a,d.columns),ese(e,t,r,a,d.columns),Mj(e,t,a,d.columns)});else for(var o=-1,l=n[0],c=function(){var d=o;if(l){e.applyStyles(e.userStyles);var f=l.columns;o>=0?Fg(e,t,r,a,f,!0):IL(e,t,a,f),d=DL(e,t,o+1,a,f),Mj(e,t,a,f)}var u=d-o;n.slice(1).forEach(function(m){e.applyStyles(e.userStyles),Fg(e,t,r,a,m.columns,!0),DL(e,t,o+1,a,m.columns,u),Mj(e,t,a,m.columns)}),o=d};o<t.body.length-1;)c()}function IL(e,t,r,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(s){return ld(e,t,s,r,a)})}function ese(e,t,r,a,n){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var l=o===t.body.length-1;Fb(e,t,s,l,r,a,n)})}function DL(e,t,r,a,n,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(r+s,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,d){var f=r+d===t.body.length-1,u=kF(e,t,f,a);c.canEntireRowFit(u,n)&&(ld(e,t,c,a,n),l=r+d)}),l}function Mj(e,t,r,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(s){return ld(e,t,s,r,a)})}function tse(e,t,r){var a=r.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),s=Math.floor((t-n)/a);return Math.max(0,s)}function rse(e,t,r,a){var n={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new yF(d.raw,d.styles,d.section);f=Gc(f,d),f.text=[];var u=tse(d,t,a);d.text.length>u&&(f.text=d.text.splice(u,d.text.length));var m=a.scaleFactor(),h=a.getLineHeightFactor();d.contentHeight=d.getContentHeight(m,h),d.contentHeight>=t&&(d.contentHeight=t,f.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),f.contentHeight=f.getContentHeight(m,h),f.contentHeight>s&&(s=f.contentHeight),n[c.index]=f}}var g=new vF(e.raw,-1,e.section,n,!0);g.height=s;for(var p=0,x=r.columns;p<x.length;p++){var c=x[p],f=g.cells[c.index];f&&(f.height=g.height);var d=e.cells[c.index];d&&(d.height=e.height)}return g}function ase(e,t,r,a){var n=e.pageSize().height,s=a.settings.margin,o=s.top+s.bottom,l=n-o;t.section==="body"&&(l-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var c=t.getMinimumRowHeight(a.columns,e),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=t.hasRowSpan(a.columns),u=t.getMaxCellHeight(a.columns)>l;return u?(f&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||a.settings.rowPageBreak==="avoid")}function Fb(e,t,r,a,n,s,o){var l=kF(e,t,a,s);if(r.canEntireRowFit(l,o))ld(e,t,r,s,o);else if(ase(e,r,l,t)){var c=rse(r,l,t,e);ld(e,t,r,s,o),Fg(e,t,n,s,o),Fb(e,t,c,a,n,s,o)}else Fg(e,t,n,s,o),Fb(e,t,r,a,n,s,o)}function ld(e,t,r,a,n){a.x=t.settings.margin.left;for(var s=0,o=n;s<o.length;s++){var l=o[s],c=r.cells[l.index];if(!c){a.x+=l.width;continue}e.applyStyles(c.styles),c.x=a.x,c.y=a.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,a);if(d===!1){a.x+=l.width;continue}nse(e,c,a);var f=c.getTextPos();cF(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,a),a.x+=l.width}a.y+=r.height}function nse(e,t,r){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof a.lineWidth=="number"){var n=hF(a.lineWidth,a.fillColor);n&&e.rect(t.x,r.y,t.width,t.height,n)}else typeof a.lineWidth=="object"&&(a.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),sse(e,t,r,a.lineWidth))}function sse(e,t,r,a){var n,s,o,l;a.top&&(n=r.x,s=r.y,o=r.x+t.width,l=r.y,a.right&&(o+=.5*a.right),a.left&&(n-=.5*a.left),c(a.top,n,s,o,l)),a.bottom&&(n=r.x,s=r.y+t.height,o=r.x+t.width,l=r.y+t.height,a.right&&(o+=.5*a.right),a.left&&(n-=.5*a.left),c(a.bottom,n,s,o,l)),a.left&&(n=r.x,s=r.y,o=r.x,l=r.y+t.height,a.top&&(s-=.5*a.top),a.bottom&&(l+=.5*a.bottom),c(a.left,n,s,o,l)),a.right&&(n=r.x+t.width,s=r.y,o=r.x+t.width,l=r.y+t.height,a.top&&(s-=.5*a.top),a.bottom&&(l+=.5*a.bottom),c(a.right,n,s,o,l));function c(d,f,u,m,h){e.getDocument().setLineWidth(d),e.getDocument().line(f,u,m,h,"S")}}function kF(e,t,r,a){var n=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-a.y-n}function Fg(e,t,r,a,n,s){n===void 0&&(n=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return ld(e,t,l,a,n)}),t.callEndPageHooks(e,a);var o=t.settings.margin;uF(e,t,r,a),jF(e),t.pageNumber++,a.x=o.left,a.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,a),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return ld(e,t,l,a,n)}),e.applyStyles(e.userStyles))}function jF(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function ise(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=t[0],n=xF(this,a),s=bF(this,n);return wF(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,a,n){cF(t,r,a,n,this)},e.API.autoTableSetDefaults=function(t){return Th.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Th.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var a;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new Th(this),s=gF(n,t,window,r,!1),o=s.head,l=s.body,c=((a=o[0])===null||a===void 0?void 0:a.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var Lj;function ose(e,t){var r=xF(e,t),a=bF(e,r);wF(e,a)}try{if(typeof window<"u"&&window){var PL=window,OL=PL.jsPDF||((Lj=PL.jspdf)===null||Lj===void 0?void 0:Lj.jsPDF);OL&&ise(OL)}}catch(e){console.error("Could not apply autoTable plugin",e)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Bb={};Bb.version="0.18.5";var NF=1252,lse=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],E6={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},_6=function(e){lse.indexOf(e)!=-1&&(NF=E6[0]=e)};function cse(){_6(1252)}var xl=function(e){_6(e)};function M6(){xl(1200),cse()}function RL(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function dse(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function SF(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var jg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?dse(e.slice(2)):t==254&&r==255?SF(e.slice(2)):t==65279?e.slice(1):e},cy=function(t){return String.fromCharCode(t)},FL=function(t){return String.fromCharCode(t)},hx,af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mx(e){for(var t="",r=0,a=0,n=0,s=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),s=r>>2,a=e.charCodeAt(d++),o=(r&3)<<4|a>>4,n=e.charCodeAt(d++),l=(a&15)<<2|n>>6,c=n&63,isNaN(a)?l=c=64:isNaN(n)&&(c=64),t+=af.charAt(s)+af.charAt(o)+af.charAt(l)+af.charAt(c);return t}function ao(e){var t="",r=0,a=0,n=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)s=af.indexOf(e.charAt(d++)),o=af.indexOf(e.charAt(d++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=af.indexOf(e.charAt(d++)),a=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(a)),c=af.indexOf(e.charAt(d++)),n=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var hr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),vd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function bf(e){return hr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function BL(e){return hr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ji=function(t){return hr?vd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Fw(e){if(typeof ArrayBuffer>"u")return Ji(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function If(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function fse(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function L6(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return L6(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ps=hr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:vd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function use(e){for(var t=[],r=0,a=e.length+250,n=bf(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)n[r++]=o;else if(o<2048)n[r++]=192|o>>6&31,n[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;n[r++]=240|o>>8&7,n[r++]=128|o>>2&63,n[r++]=128|l>>6&15|(o&3)<<4,n[r++]=128|l&63}else n[r++]=224|o>>12&15,n[r++]=128|o>>6&63,n[r++]=128|o&63;r>a&&(t.push(n.slice(0,r)),r=0,n=bf(65535),a=65530)}return t.push(n.slice(0,r)),ps(t)}var xi=/\u0000/g,Ng=/[\u0001-\u0006]/g;function Ih(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function vl(e,t){var r=""+e;return r.length>=t?r:on("0",t-r.length)+r}function T6(e,t){var r=""+e;return r.length>=t?r:on(" ",t-r.length)+r}function zb(e,t){var r=""+e;return r.length>=t?r:r+on(" ",t-r.length)}function hse(e,t){var r=""+Math.round(e);return r.length>=t?r:on("0",t-r.length)+r}function mse(e,t){var r=""+e;return r.length>=t?r:on("0",t-r.length)+r}var zL=Math.pow(2,32);function Z0(e,t){if(e>zL||e<-zL)return hse(e,t);var r=Math.round(e);return mse(r,t)}function $b(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var $L=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Tj=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pse(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Gt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},UL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},gse={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ub(e,t,r){for(var a=e<0?-1:1,n=e*a,s=0,o=1,l=0,c=1,d=0,f=0,u=Math.floor(n);d<t&&(u=Math.floor(n),l=u*o+s,f=u*d+c,!(n-u<5e-8));)n=1/(n-u),s=o,o=l,c=d,d=f;if(f>t&&(d>t?(f=c,l=s):(f=d,l=o)),!r)return[0,a*l,f];var m=Math.floor(a*l/f);return[m,a*l-m*f,f]}function ju(e,t,r){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),s=0,o=[],l={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++n==86400&&(l.T=n=0,++a,++l.D)),a===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),a<60&&(s=(s+6)%7),r&&(s=kse(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=n%60,n=Math.floor(n/60),l.M=n%60,n=Math.floor(n/60),l.H=n,l.q=s,l}var CF=new Date(1899,11,31,0,0,0),xse=CF.getTime(),vse=new Date(1900,2,1,0,0,0);function AF(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=vse&&(r+=24*60*60*1e3),(r-(xse+(e.getTimezoneOffset()-CF.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function I6(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function yse(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function bse(e){var t=e<0?12:11,r=I6(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function wse(e){var t=I6(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function px(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=bse(e):t===10?r=e.toFixed(10).substr(0,12):r=wse(e),I6(yse(r.toUpperCase()))}function qu(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):px(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return zo(14,AF(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function kse(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function jse(e,t,r,a){var n="",s=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return Tj[r.m-1][1];case 5:return Tj[r.m-1][0];default:return Tj[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return $L[r.q][0];default:return $L[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?vl(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(n=vl(s,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var f=d>0?vl(c,d):"";return f}function nf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var EF=/%/g;function Nse(e,t,r){var a=t.replace(EF,""),n=t.length-a.length;return Xc(e,a,r*Math.pow(10,2*n))+on("%",n)}function Sse(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Xc(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function _F(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_F(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%n;if(s<0&&(s+=n),r=(t/Math.pow(10,s)).toPrecision(a+1+(n+s)%n),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,f){return c+d+f.substr(0,(n+s)%n)+"."+f.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var MF=/# (\?+)( ?)\/( ?)(\d+)/;function Cse(e,t,r){var a=parseInt(e[4],10),n=Math.round(t*a),s=Math.floor(n/a),o=n-s*a,l=a;return r+(s===0?"":""+s)+" "+(o===0?on(" ",e[1].length+1+e[4].length):T6(o,e[1].length)+e[2]+"/"+e[3]+vl(l,e[4].length))}function Ase(e,t,r){return r+(t===0?"":""+t)+on(" ",e[1].length+2+e[4].length)}var LF=/^#*0*\.([0#]+)/,TF=/\).*[0#]/,IF=/\(###\) ###\\?-####/;function ci(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function WL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function HL(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function Ese(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function _se(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ko(e,t,r){if(e.charCodeAt(0)===40&&!t.match(TF)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ko("n",a,r):"("+ko("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Sse(e,t,r);if(t.indexOf("%")!==-1)return Nse(e,t,r);if(t.indexOf("E")!==-1)return _F(t,r);if(t.charCodeAt(0)===36)return"$"+ko(e,t.substr(t.charAt(1)==" "?2:1),r);var n,s,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Z0(c,t.length);if(t.match(/^[#?]+$/))return n=Z0(r,0),n==="0"&&(n=""),n.length>t.length?n:ci(t.substr(0,t.length-n.length))+n;if(s=t.match(MF))return Cse(s,c,d);if(t.match(/^#+0+$/))return d+Z0(c,t.length-t.indexOf("0"));if(s=t.match(LF))return n=WL(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ci(s[1])).replace(/\.$/,"."+ci(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+on("0",ci(s[1]).length-p.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+WL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+nf(Z0(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ko(e,t,-r):nf(""+(Math.floor(r)+Ese(r,s[1].length)))+"."+vl(HL(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return ko(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ih(ko(e,t.replace(/[\\-]/g,""),r)),o=0,Ih(Ih(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<n.length?n.charAt(o++):g==="0"?"0":""}));if(t.match(IF))return n=ko(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var f="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Ub(c,Math.pow(10,o)-1,!1),n=""+d,f=Xc("n",s[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),n+=f+s[2]+"/"+s[3],f=zb(l[2],o),f.length<s[4].length&&(f=ci(s[4].substr(s[4].length-f.length))+f),n+=f,n;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Ub(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?T6(l[1],o)+s[2]+"/"+s[3]+zb(l[2],o):on(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return n=Z0(r,0),t.length<=n.length?n:ci(t.substr(0,t.length-n.length))+n;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var u=t.indexOf(".")-o,m=t.length-n.length-u;return ci(t.substr(0,u)+n+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=HL(r,s[1].length),r<0?"-"+ko(e,t,-r):nf(_se(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?vl(0,3-g.length):"")+g})+"."+vl(o,s[1].length);switch(t){case"###,##0.00":return ko(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=nf(Z0(c,0));return h!=="0"?d+h:"";case"###,###.00":return ko(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ko(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Mse(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Xc(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function Lse(e,t,r){var a=t.replace(EF,""),n=t.length-a.length;return Xc(e,a,r*Math.pow(10,2*n))+on("%",n)}function DF(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+DF(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%n;if(s<0&&(s+=n),r=(t/Math.pow(10,s)).toPrecision(a+1+(n+s)%n),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,f){return c+d+f.substr(0,(n+s)%n)+"."+f.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Yl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(TF)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yl("n",a,r):"("+Yl("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Mse(e,t,r);if(t.indexOf("%")!==-1)return Lse(e,t,r);if(t.indexOf("E")!==-1)return DF(t,r);if(t.charCodeAt(0)===36)return"$"+Yl(e,t.substr(t.charAt(1)==" "?2:1),r);var n,s,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+vl(c,t.length);if(t.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>t.length?n:ci(t.substr(0,t.length-n.length))+n;if(s=t.match(MF))return Ase(s,c,d);if(t.match(/^#+0+$/))return d+vl(c,t.length-t.indexOf("0"));if(s=t.match(LF))return n=(""+r).replace(/^([^\.]+)$/,"$1."+ci(s[1])).replace(/\.$/,"."+ci(s[1])),n=n.replace(/\.(\d*)$/,function(g,p){return"."+p+on("0",ci(s[1]).length-p.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+nf(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yl(e,t,-r):nf(""+r)+"."+on("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Yl(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ih(Yl(e,t.replace(/[\\-]/g,""),r)),o=0,Ih(Ih(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<n.length?n.charAt(o++):g==="0"?"0":""}));if(t.match(IF))return n=Yl(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var f="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Ub(c,Math.pow(10,o)-1,!1),n=""+d,f=Xc("n",s[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),n+=f+s[2]+"/"+s[3],f=zb(l[2],o),f.length<s[4].length&&(f=ci(s[4].substr(s[4].length-f.length))+f),n+=f,n;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Ub(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?T6(l[1],o)+s[2]+"/"+s[3]+zb(l[2],o):on(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return n=""+r,t.length<=n.length?n:ci(t.substr(0,t.length-n.length))+n;if(s=t.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var u=t.indexOf(".")-o,m=t.length-n.length-u;return ci(t.substr(0,u)+n+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Yl(e,t,-r):nf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?vl(0,3-g.length):"")+g})+"."+vl(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=nf(""+c);return h!=="0"?d+h:"";default:if(t.match(/\.[0#?]*$/))return Yl(e,t.slice(0,t.lastIndexOf(".")),r)+ci(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Xc(e,t,r){return(r|0)===r?Yl(e,t,r):ko(e,t,r)}function Tse(e){for(var t=[],r=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var PF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function qm(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":$b(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(PF))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Ise(e,t,r,a){for(var n=[],s="",o=0,l="",c="t",d,f,u,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!$b(e,o))throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(u=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(u);n[n.length]={t:"t",v:s},++o;break;case"\\":var h=e.charAt(++o),g=h==="("||h===")"?h:"t";n[n.length]={t:g,v:h},++o;break;case"_":n[n.length]={t:"t",v:" "},o+=2;break;case"@":n[n.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=ju(t,r,e.charAt(o+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=ju(t,r),d==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),n[n.length]={t:l,v:s},c=l;break;case"A":case"a":case"上":var p={t:l,v:l};if(d==null&&(d=ju(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(d!=null&&(p.v=d.H>=12?"下午":"上午"),p.t="T",o+=5,m="h"):(p.t="t",++o),d==null&&p.t==="T")return"";n[n.length]=p,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(PF)){if(d==null&&(d=ju(t,r),d==null))return"";n[n.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",qm(e)||(n[n.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;n[n.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;n[n.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;n[n.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":n[n.length]={t:a===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);n[n.length]={t:"D",v:s};break;case" ":n[n.length]={t:l,v:l},++o;break;case"$":n[n.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"t",v:l},++o;break}var x=0,v=0,b;for(o=n.length-1,c="t";o>=0;--o)switch(n[o].t){case"h":case"H":n[o].t=m,c="h",x<1&&(x=1);break;case"s":(b=n[o].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=n[o].t;break;case"m":c==="s"&&(n[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&n[o].v.match(/[Hh]/)&&(x=1),x<2&&n[o].v.match(/[Mm]/)&&(x=2),x<3&&n[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var y="",w;for(o=0;o<n.length;++o)switch(n[o].t){case"t":case"T":case" ":case"D":break;case"X":n[o].v="",n[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[o].v=jse(n[o].t.charCodeAt(0),n[o].v,d,v),n[o].t="t";break;case"n":case"?":for(w=o+1;n[w]!=null&&((l=n[w].t)==="?"||l==="D"||(l===" "||l==="t")&&n[w+1]!=null&&(n[w+1].t==="?"||n[w+1].t==="t"&&n[w+1].v==="/")||n[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(n[w].v==="/"||n[w].v===" "&&n[w+1]!=null&&n[w+1].t=="?"));)n[o].v+=n[w].v,n[w]={v:"",t:";"},++w;y+=n[o].v,o=w-1;break;case"G":n[o].t="t",n[o].v=qu(t,r);break}var j="",E,A;if(y.length>0){y.charCodeAt(0)==40?(E=t<0&&y.charCodeAt(0)===45?-t:t,A=Xc("n",y,E)):(E=t<0&&a>1?-t:t,A=Xc("n",y,E),E<0&&n[0]&&n[0].t=="t"&&(A=A.substr(1),n[0].v="-"+n[0].v)),w=A.length-1;var C=n.length;for(o=0;o<n.length;++o)if(n[o]!=null&&n[o].t!="t"&&n[o].v.indexOf(".")>-1){C=o;break}var S=n.length;if(C===n.length&&A.indexOf("E")===-1){for(o=n.length-1;o>=0;--o)n[o]==null||"n?".indexOf(n[o].t)===-1||(w>=n[o].v.length-1?(w-=n[o].v.length,n[o].v=A.substr(w+1,n[o].v.length)):w<0?n[o].v="":(n[o].v=A.substr(0,w+1),w=-1),n[o].t="t",S=o);w>=0&&S<n.length&&(n[S].v=A.substr(0,w+1)+n[S].v)}else if(C!==n.length&&A.indexOf("E")===-1){for(w=A.indexOf(".")-1,o=C;o>=0;--o)if(!(n[o]==null||"n?".indexOf(n[o].t)===-1)){for(f=n[o].v.indexOf(".")>-1&&o===C?n[o].v.indexOf(".")-1:n[o].v.length-1,j=n[o].v.substr(f+1);f>=0;--f)w>=0&&(n[o].v.charAt(f)==="0"||n[o].v.charAt(f)==="#")&&(j=A.charAt(w--)+j);n[o].v=j,n[o].t="t",S=o}for(w>=0&&S<n.length&&(n[S].v=A.substr(0,w+1)+n[S].v),w=A.indexOf(".")+1,o=C;o<n.length;++o)if(!(n[o]==null||"n?(".indexOf(n[o].t)===-1&&o!==C)){for(f=n[o].v.indexOf(".")>-1&&o===C?n[o].v.indexOf(".")+1:0,j=n[o].v.substr(0,f);f<n[o].v.length;++f)w<A.length&&(j+=A.charAt(w++));n[o].v=j,n[o].t="t",S=o}}}for(o=0;o<n.length;++o)n[o]!=null&&"n?".indexOf(n[o].t)>-1&&(E=a>1&&t<0&&o>0&&n[o-1].v==="-"?-t:t,n[o].v=Xc(n[o].t,n[o].v,E),n[o].t="t");var T="";for(o=0;o!==n.length;++o)n[o]!=null&&(T+=n[o].v);return T}var VL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function GL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Dse(e,t){var r=Tse(e),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(VL),l=r[1].match(VL);return GL(t,o)?[a,r[0]]:GL(t,l)?[a,r[1]]:[a,r[o!=null&&l!=null?2:1]]}return[a,s]}function zo(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Gt)[e],a==null&&(a=r.table&&r.table[UL[e]]||Gt[UL[e]]),a==null&&(a=gse[e]||"General");break}if($b(a,0))return qu(t,r);t instanceof Date&&(t=AF(t,r.date1904));var n=Dse(a,t);if($b(n[1]))return qu(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Ise(n[1],t,r,n[0])}function Zc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Gt[r]==null){t<0&&(t=r);continue}if(Gt[r]==e){t=r;break}}t<0&&(t=391)}return Gt[t]=e,t}function Bw(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Zc(e[t],t)}function Ym(){Gt=pse()}var Pse={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},OF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ose(e){var t=typeof e=="number"?Gt[e]:e;return t=t.replace(OF,"(\\d+)"),new RegExp("^"+t+"$")}function Rse(e,t,r){var a=-1,n=-1,s=-1,o=-1,l=-1,c=-1;(t.match(OF)||[]).forEach(function(u,m){var h=parseInt(r[m+1],10);switch(u.toLowerCase().charAt(0)){case"y":a=h;break;case"d":s=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:n=h;break}}),c>=0&&l==-1&&n>=0&&(l=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:a==-1&&n==-1&&s==-1?f:d+"T"+f}var Fse=function(){var e={};e.version="1.2.0";function t(){for(var A=0,C=new Array(256),S=0;S!=256;++S)A=S,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,C[S]=A;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function a(A){var C=0,S=0,T=0,_=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)_[T]=A[T];for(T=0;T!=256;++T)for(S=A[T],C=256+T;C<4096;C+=256)S=_[C]=S>>>8^A[S&255];var M=[];for(T=1;T!=16;++T)M[T-1]=typeof Int32Array<"u"?_.subarray(T*256,T*256+256):_.slice(T*256,T*256+256);return M}var n=a(r),s=n[0],o=n[1],l=n[2],c=n[3],d=n[4],f=n[5],u=n[6],m=n[7],h=n[8],g=n[9],p=n[10],x=n[11],v=n[12],b=n[13],y=n[14];function w(A,C){for(var S=C^-1,T=0,_=A.length;T<_;)S=S>>>8^r[(S^A.charCodeAt(T++))&255];return~S}function j(A,C){for(var S=C^-1,T=A.length-15,_=0;_<T;)S=y[A[_++]^S&255]^b[A[_++]^S>>8&255]^v[A[_++]^S>>16&255]^x[A[_++]^S>>>24]^p[A[_++]]^g[A[_++]]^h[A[_++]]^m[A[_++]]^u[A[_++]]^f[A[_++]]^d[A[_++]]^c[A[_++]]^l[A[_++]]^o[A[_++]]^s[A[_++]]^r[A[_++]];for(T+=15;_<T;)S=S>>>8^r[(S^A[_++])&255];return~S}function E(A,C){for(var S=C^-1,T=0,_=A.length,M=0,D=0;T<_;)M=A.charCodeAt(T++),M<128?S=S>>>8^r[(S^M)&255]:M<2048?(S=S>>>8^r[(S^(192|M>>6&31))&255],S=S>>>8^r[(S^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,D=A.charCodeAt(T++)&1023,S=S>>>8^r[(S^(240|M>>8&7))&255],S=S>>>8^r[(S^(128|M>>2&63))&255],S=S>>>8^r[(S^(128|D>>6&15|(M&3)<<4))&255],S=S>>>8^r[(S^(128|D&63))&255]):(S=S>>>8^r[(S^(224|M>>12&15))&255],S=S>>>8^r[(S^(128|M>>6&63))&255],S=S>>>8^r[(S^(128|M&63))&255]);return~S}return e.table=r,e.bstr=w,e.buf=j,e.str=E,e}(),$t=function(){var t={};t.version="1.2.1";function r(re,ye){for(var ce=re.split("/"),ge=ye.split("/"),ke=0,Ne=0,He=Math.min(ce.length,ge.length);ke<He;++ke){if(Ne=ce[ke].length-ge[ke].length)return Ne;if(ce[ke]!=ge[ke])return ce[ke]<ge[ke]?-1:1}return ce.length-ge.length}function a(re){if(re.charAt(re.length-1)=="/")return re.slice(0,-1).indexOf("/")===-1?re:a(re.slice(0,-1));var ye=re.lastIndexOf("/");return ye===-1?re:re.slice(0,ye+1)}function n(re){if(re.charAt(re.length-1)=="/")return n(re.slice(0,-1));var ye=re.lastIndexOf("/");return ye===-1?re:re.slice(ye+1)}function s(re,ye){typeof ye=="string"&&(ye=new Date(ye));var ce=ye.getHours();ce=ce<<6|ye.getMinutes(),ce=ce<<5|ye.getSeconds()>>>1,re.write_shift(2,ce);var ge=ye.getFullYear()-1980;ge=ge<<4|ye.getMonth()+1,ge=ge<<5|ye.getDate(),re.write_shift(2,ge)}function o(re){var ye=re.read_shift(2)&65535,ce=re.read_shift(2)&65535,ge=new Date,ke=ce&31;ce>>>=5;var Ne=ce&15;ce>>>=4,ge.setMilliseconds(0),ge.setFullYear(ce+1980),ge.setMonth(Ne-1),ge.setDate(ke);var He=ye&31;ye>>>=5;var Xe=ye&63;return ye>>>=6,ge.setHours(ye),ge.setMinutes(Xe),ge.setSeconds(He<<1),ge}function l(re){Cs(re,0);for(var ye={},ce=0;re.l<=re.length-4;){var ge=re.read_shift(2),ke=re.read_shift(2),Ne=re.l+ke,He={};switch(ge){case 21589:ce=re.read_shift(1),ce&1&&(He.mtime=re.read_shift(4)),ke>5&&(ce&2&&(He.atime=re.read_shift(4)),ce&4&&(He.ctime=re.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3));break}re.l=Ne,ye[ge]=He}return ye}var c;function d(){return c||(c={})}function f(re,ye){if(re[0]==80&&re[1]==75)return Jr(re,ye);if((re[0]|32)==109&&(re[1]|32)==105)return Rt(re,ye);if(re.length<512)throw new Error("CFB file size "+re.length+" < 512");var ce=3,ge=512,ke=0,Ne=0,He=0,Xe=0,Ge=0,qe=[],Ke=re.slice(0,512);Cs(Ke,0);var dt=u(Ke);switch(ce=dt[0],ce){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(dt[1]==0)return Jr(re,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+ce)}ge!==512&&(Ke=re.slice(0,ge),Cs(Ke,28));var gt=re.slice(0,ge);m(Ke,ce);var kt=Ke.read_shift(4,"i");if(ce===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);Ke.l+=4,He=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),Xe=Ke.read_shift(4,"i"),ke=Ke.read_shift(4,"i"),Ge=Ke.read_shift(4,"i"),Ne=Ke.read_shift(4,"i");for(var ht=-1,wt=0;wt<109&&(ht=Ke.read_shift(4,"i"),!(ht<0));++wt)qe[wt]=ht;var Yt=h(re,ge);x(Ge,Ne,Yt,ge,qe);var sa=b(Yt,He,qe,ge);sa[He].name="!Directory",ke>0&&Xe!==D&&(sa[Xe].name="!MiniFAT"),sa[qe[0]].name="!FAT",sa.fat_addrs=qe,sa.ssz=ge;var vr={},tn=[],Fl=[],Xo=[];y(He,sa,Yt,tn,ke,vr,Fl,Xe),g(Fl,Xo,tn),tn.shift();var Bl={FileIndex:Fl,FullPaths:Xo};return ye&&ye.raw&&(Bl.raw={header:gt,sectors:Yt}),Bl}function u(re){if(re[re.l]==80&&re[re.l+1]==75)return[0,0];re.chk(O,"Header Signature: "),re.l+=16;var ye=re.read_shift(2,"u");return[re.read_shift(2,"u"),ye]}function m(re,ye){var ce=9;switch(re.l+=2,ce=re.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+ce);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ce)}re.chk("0600","Mini Sector Shift: "),re.chk("000000000000","Reserved: ")}function h(re,ye){for(var ce=Math.ceil(re.length/ye)-1,ge=[],ke=1;ke<ce;++ke)ge[ke-1]=re.slice(ke*ye,(ke+1)*ye);return ge[ce-1]=re.slice(ce*ye),ge}function g(re,ye,ce){for(var ge=0,ke=0,Ne=0,He=0,Xe=0,Ge=ce.length,qe=[],Ke=[];ge<Ge;++ge)qe[ge]=Ke[ge]=ge,ye[ge]=ce[ge];for(;Xe<Ke.length;++Xe)ge=Ke[Xe],ke=re[ge].L,Ne=re[ge].R,He=re[ge].C,qe[ge]===ge&&(ke!==-1&&qe[ke]!==ke&&(qe[ge]=qe[ke]),Ne!==-1&&qe[Ne]!==Ne&&(qe[ge]=qe[Ne])),He!==-1&&(qe[He]=ge),ke!==-1&&ge!=qe[ge]&&(qe[ke]=qe[ge],Ke.lastIndexOf(ke)<Xe&&Ke.push(ke)),Ne!==-1&&ge!=qe[ge]&&(qe[Ne]=qe[ge],Ke.lastIndexOf(Ne)<Xe&&Ke.push(Ne));for(ge=1;ge<Ge;++ge)qe[ge]===ge&&(Ne!==-1&&qe[Ne]!==Ne?qe[ge]=qe[Ne]:ke!==-1&&qe[ke]!==ke&&(qe[ge]=qe[ke]));for(ge=1;ge<Ge;++ge)if(re[ge].type!==0){if(Xe=ge,Xe!=qe[Xe])do Xe=qe[Xe],ye[ge]=ye[Xe]+"/"+ye[ge];while(Xe!==0&&qe[Xe]!==-1&&Xe!=qe[Xe]);qe[ge]=-1}for(ye[0]+="/",ge=1;ge<Ge;++ge)re[ge].type!==2&&(ye[ge]+="/")}function p(re,ye,ce){for(var ge=re.start,ke=re.size,Ne=[],He=ge;ce&&ke>0&&He>=0;)Ne.push(ye.slice(He*M,He*M+M)),ke-=M,He=bu(ce,He*4);return Ne.length===0?Ze(0):ps(Ne).slice(0,re.size)}function x(re,ye,ce,ge,ke){var Ne=D;if(re===D){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(re!==-1){var He=ce[re],Xe=(ge>>>2)-1;if(!He)return;for(var Ge=0;Ge<Xe&&(Ne=bu(He,Ge*4))!==D;++Ge)ke.push(Ne);x(bu(He,ge-4),ye-1,ce,ge,ke)}}function v(re,ye,ce,ge,ke){var Ne=[],He=[];ke||(ke=[]);var Xe=ge-1,Ge=0,qe=0;for(Ge=ye;Ge>=0;){ke[Ge]=!0,Ne[Ne.length]=Ge,He.push(re[Ge]);var Ke=ce[Math.floor(Ge*4/ge)];if(qe=Ge*4&Xe,ge<4+qe)throw new Error("FAT boundary crossed: "+Ge+" 4 "+ge);if(!re[Ke])break;Ge=bu(re[Ke],qe)}return{nodes:Ne,data:nT([He])}}function b(re,ye,ce,ge){var ke=re.length,Ne=[],He=[],Xe=[],Ge=[],qe=ge-1,Ke=0,dt=0,gt=0,kt=0;for(Ke=0;Ke<ke;++Ke)if(Xe=[],gt=Ke+ye,gt>=ke&&(gt-=ke),!He[gt]){Ge=[];var ht=[];for(dt=gt;dt>=0;){ht[dt]=!0,He[dt]=!0,Xe[Xe.length]=dt,Ge.push(re[dt]);var wt=ce[Math.floor(dt*4/ge)];if(kt=dt*4&qe,ge<4+kt)throw new Error("FAT boundary crossed: "+dt+" 4 "+ge);if(!re[wt]||(dt=bu(re[wt],kt),ht[dt]))break}Ne[gt]={nodes:Xe,data:nT([Ge])}}return Ne}function y(re,ye,ce,ge,ke,Ne,He,Xe){for(var Ge=0,qe=ge.length?2:0,Ke=ye[re].data,dt=0,gt=0,kt;dt<Ke.length;dt+=128){var ht=Ke.slice(dt,dt+128);Cs(ht,64),gt=ht.read_shift(2),kt=z6(ht,0,gt-qe),ge.push(kt);var wt={name:kt,type:ht.read_shift(1),color:ht.read_shift(1),L:ht.read_shift(4,"i"),R:ht.read_shift(4,"i"),C:ht.read_shift(4,"i"),clsid:ht.read_shift(16),state:ht.read_shift(4,"i"),start:0,size:0},Yt=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);Yt!==0&&(wt.ct=w(ht,ht.l-8));var sa=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);sa!==0&&(wt.mt=w(ht,ht.l-8)),wt.start=ht.read_shift(4,"i"),wt.size=ht.read_shift(4,"i"),wt.size<0&&wt.start<0&&(wt.size=wt.type=0,wt.start=D,wt.name=""),wt.type===5?(Ge=wt.start,ke>0&&Ge!==D&&(ye[Ge].name="!StreamData")):wt.size>=4096?(wt.storage="fat",ye[wt.start]===void 0&&(ye[wt.start]=v(ce,wt.start,ye.fat_addrs,ye.ssz)),ye[wt.start].name=wt.name,wt.content=ye[wt.start].data.slice(0,wt.size)):(wt.storage="minifat",wt.size<0?wt.size=0:Ge!==D&&wt.start!==D&&ye[Ge]&&(wt.content=p(wt,ye[Ge].data,(ye[Xe]||{}).data))),wt.content&&Cs(wt.content,0),Ne[kt]=wt,He.push(wt)}}function w(re,ye){return new Date((qi(re,ye+4)/1e7*Math.pow(2,32)+qi(re,ye)/1e7-11644473600)*1e3)}function j(re,ye){return d(),f(c.readFileSync(re),ye)}function E(re,ye){var ce=ye&&ye.type;switch(ce||hr&&Buffer.isBuffer(re)&&(ce="buffer"),ce||"base64"){case"file":return j(re,ye);case"base64":return f(Ji(ao(re)),ye);case"binary":return f(Ji(re),ye)}return f(re,ye)}function A(re,ye){var ce=ye||{},ge=ce.root||"Root Entry";if(re.FullPaths||(re.FullPaths=[]),re.FileIndex||(re.FileIndex=[]),re.FullPaths.length!==re.FileIndex.length)throw new Error("inconsistent CFB structure");re.FullPaths.length===0&&(re.FullPaths[0]=ge+"/",re.FileIndex[0]={name:ge,type:5}),ce.CLSID&&(re.FileIndex[0].clsid=ce.CLSID),C(re)}function C(re){var ye="Sh33tJ5";if(!$t.find(re,"/"+ye)){var ce=Ze(4);ce[0]=55,ce[1]=ce[3]=50,ce[2]=54,re.FileIndex.push({name:ye,type:2,content:ce,size:4,L:69,R:69,C:69}),re.FullPaths.push(re.FullPaths[0]+ye),S(re)}}function S(re,ye){A(re);for(var ce=!1,ge=!1,ke=re.FullPaths.length-1;ke>=0;--ke){var Ne=re.FileIndex[ke];switch(Ne.type){case 0:ge?ce=!0:(re.FileIndex.pop(),re.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(ce=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(ce=!0);break;default:ce=!0;break}}if(!(!ce&&!ye)){var He=new Date(1987,1,19),Xe=0,Ge=Object.create?Object.create(null):{},qe=[];for(ke=0;ke<re.FullPaths.length;++ke)Ge[re.FullPaths[ke]]=!0,re.FileIndex[ke].type!==0&&qe.push([re.FullPaths[ke],re.FileIndex[ke]]);for(ke=0;ke<qe.length;++ke){var Ke=a(qe[ke][0]);ge=Ge[Ke],ge||(qe.push([Ke,{name:n(Ke).replace("/",""),type:1,clsid:U,ct:He,mt:He,content:null}]),Ge[Ke]=!0)}for(qe.sort(function(kt,ht){return r(kt[0],ht[0])}),re.FullPaths=[],re.FileIndex=[],ke=0;ke<qe.length;++ke)re.FullPaths[ke]=qe[ke][0],re.FileIndex[ke]=qe[ke][1];for(ke=0;ke<qe.length;++ke){var dt=re.FileIndex[ke],gt=re.FullPaths[ke];if(dt.name=n(gt).replace("/",""),dt.L=dt.R=dt.C=-(dt.color=1),dt.size=dt.content?dt.content.length:0,dt.start=0,dt.clsid=dt.clsid||U,ke===0)dt.C=qe.length>1?1:-1,dt.size=0,dt.type=5;else if(gt.slice(-1)=="/"){for(Xe=ke+1;Xe<qe.length&&a(re.FullPaths[Xe])!=gt;++Xe);for(dt.C=Xe>=qe.length?-1:Xe,Xe=ke+1;Xe<qe.length&&a(re.FullPaths[Xe])!=a(gt);++Xe);dt.R=Xe>=qe.length?-1:Xe,dt.type=1}else a(re.FullPaths[ke+1]||"")==a(gt)&&(dt.R=ke+1),dt.type=2}}}function T(re,ye){var ce=ye||{};if(ce.fileType=="mad")return Kr(re,ce);switch(S(re),ce.fileType){case"zip":return It(re,ce)}var ge=function(kt){for(var ht=0,wt=0,Yt=0;Yt<kt.FileIndex.length;++Yt){var sa=kt.FileIndex[Yt];if(sa.content){var vr=sa.content.length;vr>0&&(vr<4096?ht+=vr+63>>6:wt+=vr+511>>9)}}for(var tn=kt.FullPaths.length+3>>2,Fl=ht+7>>3,Xo=ht+127>>7,Bl=Fl+wt+tn+Xo,co=Bl+127>>7,Sd=co<=109?0:Math.ceil((co-109)/127);Bl+co+Sd+127>>7>co;)Sd=++co<=109?0:Math.ceil((co-109)/127);var Is=[1,Sd,co,Xo,tn,wt,ht,0];return kt.FileIndex[0].size=ht<<6,Is[7]=(kt.FileIndex[0].start=Is[0]+Is[1]+Is[2]+Is[3]+Is[4]+Is[5])+(Is[6]+7>>3),Is}(re),ke=Ze(ge[7]<<9),Ne=0,He=0;{for(Ne=0;Ne<8;++Ne)ke.write_shift(1,B[Ne]);for(Ne=0;Ne<8;++Ne)ke.write_shift(2,0);for(ke.write_shift(2,62),ke.write_shift(2,3),ke.write_shift(2,65534),ke.write_shift(2,9),ke.write_shift(2,6),Ne=0;Ne<3;++Ne)ke.write_shift(2,0);for(ke.write_shift(4,0),ke.write_shift(4,ge[2]),ke.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),ke.write_shift(4,0),ke.write_shift(4,4096),ke.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:D),ke.write_shift(4,ge[3]),ke.write_shift(-4,ge[1]?ge[0]-1:D),ke.write_shift(4,ge[1]),Ne=0;Ne<109;++Ne)ke.write_shift(-4,Ne<ge[2]?ge[1]+Ne:-1)}if(ge[1])for(He=0;He<ge[1];++He){for(;Ne<236+He*127;++Ne)ke.write_shift(-4,Ne<ge[2]?ge[1]+Ne:-1);ke.write_shift(-4,He===ge[1]-1?D:He+1)}var Xe=function(kt){for(He+=kt;Ne<He-1;++Ne)ke.write_shift(-4,Ne+1);kt&&(++Ne,ke.write_shift(-4,D))};for(He=Ne=0,He+=ge[1];Ne<He;++Ne)ke.write_shift(-4,q.DIFSECT);for(He+=ge[2];Ne<He;++Ne)ke.write_shift(-4,q.FATSECT);Xe(ge[3]),Xe(ge[4]);for(var Ge=0,qe=0,Ke=re.FileIndex[0];Ge<re.FileIndex.length;++Ge)Ke=re.FileIndex[Ge],Ke.content&&(qe=Ke.content.length,!(qe<4096)&&(Ke.start=He,Xe(qe+511>>9)));for(Xe(ge[6]+7>>3);ke.l&511;)ke.write_shift(-4,q.ENDOFCHAIN);for(He=Ne=0,Ge=0;Ge<re.FileIndex.length;++Ge)Ke=re.FileIndex[Ge],Ke.content&&(qe=Ke.content.length,!(!qe||qe>=4096)&&(Ke.start=He,Xe(qe+63>>6)));for(;ke.l&511;)ke.write_shift(-4,q.ENDOFCHAIN);for(Ne=0;Ne<ge[4]<<2;++Ne){var dt=re.FullPaths[Ne];if(!dt||dt.length===0){for(Ge=0;Ge<17;++Ge)ke.write_shift(4,0);for(Ge=0;Ge<3;++Ge)ke.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)ke.write_shift(4,0);continue}Ke=re.FileIndex[Ne],Ne===0&&(Ke.start=Ke.size?Ke.start-1:D);var gt=Ne===0&&ce.root||Ke.name;if(qe=2*(gt.length+1),ke.write_shift(64,gt,"utf16le"),ke.write_shift(2,qe),ke.write_shift(1,Ke.type),ke.write_shift(1,Ke.color),ke.write_shift(-4,Ke.L),ke.write_shift(-4,Ke.R),ke.write_shift(-4,Ke.C),Ke.clsid)ke.write_shift(16,Ke.clsid,"hex");else for(Ge=0;Ge<4;++Ge)ke.write_shift(4,0);ke.write_shift(4,Ke.state||0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,Ke.start),ke.write_shift(4,Ke.size),ke.write_shift(4,0)}for(Ne=1;Ne<re.FileIndex.length;++Ne)if(Ke=re.FileIndex[Ne],Ke.size>=4096)if(ke.l=Ke.start+1<<9,hr&&Buffer.isBuffer(Ke.content))Ke.content.copy(ke,ke.l,0,Ke.size),ke.l+=Ke.size+511&-512;else{for(Ge=0;Ge<Ke.size;++Ge)ke.write_shift(1,Ke.content[Ge]);for(;Ge&511;++Ge)ke.write_shift(1,0)}for(Ne=1;Ne<re.FileIndex.length;++Ne)if(Ke=re.FileIndex[Ne],Ke.size>0&&Ke.size<4096)if(hr&&Buffer.isBuffer(Ke.content))Ke.content.copy(ke,ke.l,0,Ke.size),ke.l+=Ke.size+63&-64;else{for(Ge=0;Ge<Ke.size;++Ge)ke.write_shift(1,Ke.content[Ge]);for(;Ge&63;++Ge)ke.write_shift(1,0)}if(hr)ke.l=ke.length;else for(;ke.l<ke.length;)ke.write_shift(1,0);return ke}function _(re,ye){var ce=re.FullPaths.map(function(Ge){return Ge.toUpperCase()}),ge=ce.map(function(Ge){var qe=Ge.split("/");return qe[qe.length-(Ge.slice(-1)=="/"?2:1)]}),ke=!1;ye.charCodeAt(0)===47?(ke=!0,ye=ce[0].slice(0,-1)+ye):ke=ye.indexOf("/")!==-1;var Ne=ye.toUpperCase(),He=ke===!0?ce.indexOf(Ne):ge.indexOf(Ne);if(He!==-1)return re.FileIndex[He];var Xe=!Ne.match(Ng);for(Ne=Ne.replace(xi,""),Xe&&(Ne=Ne.replace(Ng,"!")),He=0;He<ce.length;++He)if((Xe?ce[He].replace(Ng,"!"):ce[He]).replace(xi,"")==Ne||(Xe?ge[He].replace(Ng,"!"):ge[He]).replace(xi,"")==Ne)return re.FileIndex[He];return null}var M=64,D=-2,O="d0cf11e0a1b11ae1",B=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:O,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(re,ye,ce){d();var ge=T(re,ce);c.writeFileSync(ye,ge)}function G(re){for(var ye=new Array(re.length),ce=0;ce<re.length;++ce)ye[ce]=String.fromCharCode(re[ce]);return ye.join("")}function ve(re,ye){var ce=T(re,ye);switch(ye&&ye.type||"buffer"){case"file":return d(),c.writeFileSync(ye.filename,ce),ce;case"binary":return typeof ce=="string"?ce:G(ce);case"base64":return mx(typeof ce=="string"?ce:G(ce));case"buffer":if(hr)return Buffer.isBuffer(ce)?ce:vd(ce);case"array":return typeof ce=="string"?Ji(ce):ce}return ce}var fe;function I(re){try{var ye=re.InflateRaw,ce=new ye;if(ce._processChunk(new Uint8Array([3,0]),ce._finishFlushFlag),ce.bytesRead)fe=re;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function z(re,ye){if(!fe)return Ut(re,ye);var ce=fe.InflateRaw,ge=new ce,ke=ge._processChunk(re.slice(re.l),ge._finishFlushFlag);return re.l+=ge.bytesRead,ke}function H(re){return fe?fe.deflateRawSync(re):Be(re)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],W=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Y(re){var ye=(re<<1|re<<11)&139536|(re<<5|re<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var Q=typeof Uint8Array<"u",ne=Q?new Uint8Array(256):[],pe=0;pe<256;++pe)ne[pe]=Y(pe);function F(re,ye){var ce=ne[re&255];return ye<=8?ce>>>8-ye:(ce=ce<<8|ne[re>>8&255],ye<=16?ce>>>16-ye:(ce=ce<<8|ne[re>>16&255],ce>>>24-ye))}function Te(re,ye){var ce=ye&7,ge=ye>>>3;return(re[ge]|(ce<=6?0:re[ge+1]<<8))>>>ce&3}function xe(re,ye){var ce=ye&7,ge=ye>>>3;return(re[ge]|(ce<=5?0:re[ge+1]<<8))>>>ce&7}function se(re,ye){var ce=ye&7,ge=ye>>>3;return(re[ge]|(ce<=4?0:re[ge+1]<<8))>>>ce&15}function We(re,ye){var ce=ye&7,ge=ye>>>3;return(re[ge]|(ce<=3?0:re[ge+1]<<8))>>>ce&31}function Se(re,ye){var ce=ye&7,ge=ye>>>3;return(re[ge]|(ce<=1?0:re[ge+1]<<8))>>>ce&127}function Fe(re,ye,ce){var ge=ye&7,ke=ye>>>3,Ne=(1<<ce)-1,He=re[ke]>>>ge;return ce<8-ge||(He|=re[ke+1]<<8-ge,ce<16-ge)||(He|=re[ke+2]<<16-ge,ce<24-ge)||(He|=re[ke+3]<<24-ge),He&Ne}function he(re,ye,ce){var ge=ye&7,ke=ye>>>3;return ge<=5?re[ke]|=(ce&7)<<ge:(re[ke]|=ce<<ge&255,re[ke+1]=(ce&7)>>8-ge),ye+3}function ie(re,ye,ce){var ge=ye&7,ke=ye>>>3;return ce=(ce&1)<<ge,re[ke]|=ce,ye+1}function de(re,ye,ce){var ge=ye&7,ke=ye>>>3;return ce<<=ge,re[ke]|=ce&255,ce>>>=8,re[ke+1]=ce,ye+8}function Ae(re,ye,ce){var ge=ye&7,ke=ye>>>3;return ce<<=ge,re[ke]|=ce&255,ce>>>=8,re[ke+1]=ce&255,re[ke+2]=ce>>>8,ye+16}function ze(re,ye){var ce=re.length,ge=2*ce>ye?2*ce:ye+5,ke=0;if(ce>=ye)return re;if(hr){var Ne=BL(ge);if(re.copy)re.copy(Ne);else for(;ke<re.length;++ke)Ne[ke]=re[ke];return Ne}else if(Q){var He=new Uint8Array(ge);if(He.set)He.set(re);else for(;ke<ce;++ke)He[ke]=re[ke];return He}return re.length=ge,re}function Ce(re){for(var ye=new Array(re),ce=0;ce<re;++ce)ye[ce]=0;return ye}function _e(re,ye,ce){var ge=1,ke=0,Ne=0,He=0,Xe=0,Ge=re.length,qe=Q?new Uint16Array(32):Ce(32);for(Ne=0;Ne<32;++Ne)qe[Ne]=0;for(Ne=Ge;Ne<ce;++Ne)re[Ne]=0;Ge=re.length;var Ke=Q?new Uint16Array(Ge):Ce(Ge);for(Ne=0;Ne<Ge;++Ne)qe[ke=re[Ne]]++,ge<ke&&(ge=ke),Ke[Ne]=0;for(qe[0]=0,Ne=1;Ne<=ge;++Ne)qe[Ne+16]=Xe=Xe+qe[Ne-1]<<1;for(Ne=0;Ne<Ge;++Ne)Xe=re[Ne],Xe!=0&&(Ke[Ne]=qe[Xe+16]++);var dt=0;for(Ne=0;Ne<Ge;++Ne)if(dt=re[Ne],dt!=0)for(Xe=F(Ke[Ne],ge)>>ge-dt,He=(1<<ge+4-dt)-1;He>=0;--He)ye[Xe|He<<dt]=dt&15|Ne<<4;return ge}var Ve=Q?new Uint16Array(512):Ce(512),Ie=Q?new Uint16Array(32):Ce(32);if(!Q){for(var Re=0;Re<512;++Re)Ve[Re]=0;for(Re=0;Re<32;++Re)Ie[Re]=0}(function(){for(var re=[],ye=0;ye<32;ye++)re.push(5);_e(re,Ie,32);var ce=[];for(ye=0;ye<=143;ye++)ce.push(8);for(;ye<=255;ye++)ce.push(9);for(;ye<=279;ye++)ce.push(7);for(;ye<=287;ye++)ce.push(8);_e(ce,Ve,288)})();var Ee=function(){for(var ye=Q?new Uint8Array(32768):[],ce=0,ge=0;ce<W.length-1;++ce)for(;ge<W[ce+1];++ge)ye[ge]=ce;for(;ge<32768;++ge)ye[ge]=29;var ke=Q?new Uint8Array(259):[];for(ce=0,ge=0;ce<te.length-1;++ce)for(;ge<te[ce+1];++ge)ke[ge]=ce;function Ne(Xe,Ge){for(var qe=0;qe<Xe.length;){var Ke=Math.min(65535,Xe.length-qe),dt=qe+Ke==Xe.length;for(Ge.write_shift(1,+dt),Ge.write_shift(2,Ke),Ge.write_shift(2,~Ke&65535);Ke-- >0;)Ge[Ge.l++]=Xe[qe++]}return Ge.l}function He(Xe,Ge){for(var qe=0,Ke=0,dt=Q?new Uint16Array(32768):[];Ke<Xe.length;){var gt=Math.min(65535,Xe.length-Ke);if(gt<10){for(qe=he(Ge,qe,+(Ke+gt==Xe.length)),qe&7&&(qe+=8-(qe&7)),Ge.l=qe/8|0,Ge.write_shift(2,gt),Ge.write_shift(2,~gt&65535);gt-- >0;)Ge[Ge.l++]=Xe[Ke++];qe=Ge.l*8;continue}qe=he(Ge,qe,+(Ke+gt==Xe.length)+2);for(var kt=0;gt-- >0;){var ht=Xe[Ke];kt=(kt<<5^ht)&32767;var wt=-1,Yt=0;if((wt=dt[kt])&&(wt|=Ke&-32768,wt>Ke&&(wt-=32768),wt<Ke))for(;Xe[wt+Yt]==Xe[Ke+Yt]&&Yt<250;)++Yt;if(Yt>2){ht=ke[Yt],ht<=22?qe=de(Ge,qe,ne[ht+1]>>1)-1:(de(Ge,qe,3),qe+=5,de(Ge,qe,ne[ht-23]>>5),qe+=3);var sa=ht<8?0:ht-4>>2;sa>0&&(Ae(Ge,qe,Yt-te[ht]),qe+=sa),ht=ye[Ke-wt],qe=de(Ge,qe,ne[ht]>>3),qe-=3;var vr=ht<4?0:ht-2>>1;vr>0&&(Ae(Ge,qe,Ke-wt-W[ht]),qe+=vr);for(var tn=0;tn<Yt;++tn)dt[kt]=Ke&32767,kt=(kt<<5^Xe[Ke])&32767,++Ke;gt-=Yt-1}else ht<=143?ht=ht+48:qe=ie(Ge,qe,1),qe=de(Ge,qe,ne[ht]),dt[kt]=Ke&32767,++Ke}qe=de(Ge,qe,0)-1}return Ge.l=(qe+7)/8|0,Ge.l}return function(Ge,qe){return Ge.length<8?Ne(Ge,qe):He(Ge,qe)}}();function Be(re){var ye=Ze(50+Math.floor(re.length*1.1)),ce=Ee(re,ye);return ye.slice(0,ce)}var Pe=Q?new Uint16Array(32768):Ce(32768),it=Q?new Uint16Array(32768):Ce(32768),ft=Q?new Uint16Array(128):Ce(128),st=1,pt=1;function At(re,ye){var ce=We(re,ye)+257;ye+=5;var ge=We(re,ye)+1;ye+=5;var ke=se(re,ye)+4;ye+=4;for(var Ne=0,He=Q?new Uint8Array(19):Ce(19),Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,qe=Q?new Uint8Array(8):Ce(8),Ke=Q?new Uint8Array(8):Ce(8),dt=He.length,gt=0;gt<ke;++gt)He[J[gt]]=Ne=xe(re,ye),Ge<Ne&&(Ge=Ne),qe[Ne]++,ye+=3;var kt=0;for(qe[0]=0,gt=1;gt<=Ge;++gt)Ke[gt]=kt=kt+qe[gt-1]<<1;for(gt=0;gt<dt;++gt)(kt=He[gt])!=0&&(Xe[gt]=Ke[kt]++);var ht=0;for(gt=0;gt<dt;++gt)if(ht=He[gt],ht!=0){kt=ne[Xe[gt]]>>8-ht;for(var wt=(1<<7-ht)-1;wt>=0;--wt)ft[kt|wt<<ht]=ht&7|gt<<3}var Yt=[];for(Ge=1;Yt.length<ce+ge;)switch(kt=ft[Se(re,ye)],ye+=kt&7,kt>>>=3){case 16:for(Ne=3+Te(re,ye),ye+=2,kt=Yt[Yt.length-1];Ne-- >0;)Yt.push(kt);break;case 17:for(Ne=3+xe(re,ye),ye+=3;Ne-- >0;)Yt.push(0);break;case 18:for(Ne=11+Se(re,ye),ye+=7;Ne-- >0;)Yt.push(0);break;default:Yt.push(kt),Ge<kt&&(Ge=kt);break}var sa=Yt.slice(0,ce),vr=Yt.slice(ce);for(gt=ce;gt<286;++gt)sa[gt]=0;for(gt=ge;gt<30;++gt)vr[gt]=0;return st=_e(sa,Pe,286),pt=_e(vr,it,30),ye}function St(re,ye){if(re[0]==3&&!(re[1]&3))return[bf(ye),2];for(var ce=0,ge=0,ke=BL(ye||1<<18),Ne=0,He=ke.length>>>0,Xe=0,Ge=0;!(ge&1);){if(ge=xe(re,ce),ce+=3,ge>>>1)ge>>1==1?(Xe=9,Ge=5):(ce=At(re,ce),Xe=st,Ge=pt);else{ce&7&&(ce+=8-(ce&7));var qe=re[ce>>>3]|re[(ce>>>3)+1]<<8;if(ce+=32,qe>0)for(!ye&&He<Ne+qe&&(ke=ze(ke,Ne+qe),He=ke.length);qe-- >0;)ke[Ne++]=re[ce>>>3],ce+=8;continue}for(;;){!ye&&He<Ne+32767&&(ke=ze(ke,Ne+32767),He=ke.length);var Ke=Fe(re,ce,Xe),dt=ge>>>1==1?Ve[Ke]:Pe[Ke];if(ce+=dt&15,dt>>>=4,!(dt>>>8&255))ke[Ne++]=dt;else{if(dt==256)break;dt-=257;var gt=dt<8?0:dt-4>>2;gt>5&&(gt=0);var kt=Ne+te[dt];gt>0&&(kt+=Fe(re,ce,gt),ce+=gt),Ke=Fe(re,ce,Ge),dt=ge>>>1==1?Ie[Ke]:it[Ke],ce+=dt&15,dt>>>=4;var ht=dt<4?0:dt-2>>1,wt=W[dt];for(ht>0&&(wt+=Fe(re,ce,ht),ce+=ht),!ye&&He<kt&&(ke=ze(ke,kt+100),He=ke.length);Ne<kt;)ke[Ne]=ke[Ne-wt],++Ne}}}return ye?[ke,ce+7>>>3]:[ke.slice(0,Ne),ce+7>>>3]}function Ut(re,ye){var ce=re.slice(re.l||0),ge=St(ce,ye);return re.l+=ge[1],ge[0]}function Wt(re,ye){if(re)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function Jr(re,ye){var ce=re;Cs(ce,0);var ge=[],ke=[],Ne={FileIndex:ge,FullPaths:ke};A(Ne,{root:ye.root});for(var He=ce.length-4;(ce[He]!=80||ce[He+1]!=75||ce[He+2]!=5||ce[He+3]!=6)&&He>=0;)--He;ce.l=He+4,ce.l+=4;var Xe=ce.read_shift(2);ce.l+=6;var Ge=ce.read_shift(4);for(ce.l=Ge,He=0;He<Xe;++He){ce.l+=20;var qe=ce.read_shift(4),Ke=ce.read_shift(4),dt=ce.read_shift(2),gt=ce.read_shift(2),kt=ce.read_shift(2);ce.l+=8;var ht=ce.read_shift(4),wt=l(ce.slice(ce.l+dt,ce.l+dt+gt));ce.l+=dt+gt+kt;var Yt=ce.l;ce.l=ht+4,Ht(ce,qe,Ke,Ne,wt),ce.l=Yt}return Ne}function Ht(re,ye,ce,ge,ke){re.l+=2;var Ne=re.read_shift(2),He=re.read_shift(2),Xe=o(re);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=re.read_shift(4),qe=re.read_shift(4),Ke=re.read_shift(4),dt=re.read_shift(2),gt=re.read_shift(2),kt="",ht=0;ht<dt;++ht)kt+=String.fromCharCode(re[re.l++]);if(gt){var wt=l(re.slice(re.l,re.l+gt));(wt[21589]||{}).mt&&(Xe=wt[21589].mt),((ke||{})[21589]||{}).mt&&(Xe=ke[21589].mt)}re.l+=gt;var Yt=re.slice(re.l,re.l+qe);switch(He){case 8:Yt=z(re,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var sa=!1;Ne&8&&(Ge=re.read_shift(4),Ge==134695760&&(Ge=re.read_shift(4),sa=!0),qe=re.read_shift(4),Ke=re.read_shift(4)),qe!=ye&&Wt(sa,"Bad compressed size: "+ye+" != "+qe),Ke!=ce&&Wt(sa,"Bad uncompressed size: "+ce+" != "+Ke),ua(ge,kt,Yt,{unsafe:!0,mt:Xe})}function It(re,ye){var ce=ye||{},ge=[],ke=[],Ne=Ze(1),He=ce.compression?8:0,Xe=0,Ge=0,qe=0,Ke=0,dt=0,gt=re.FullPaths[0],kt=gt,ht=re.FileIndex[0],wt=[],Yt=0;for(Ge=1;Ge<re.FullPaths.length;++Ge)if(kt=re.FullPaths[Ge].slice(gt.length),ht=re.FileIndex[Ge],!(!ht.size||!ht.content||kt=="Sh33tJ5")){var sa=Ke,vr=Ze(kt.length);for(qe=0;qe<kt.length;++qe)vr.write_shift(1,kt.charCodeAt(qe)&127);vr=vr.slice(0,vr.l),wt[dt]=Fse.buf(ht.content,0);var tn=ht.content;He==8&&(tn=H(tn)),Ne=Ze(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,Xe),Ne.write_shift(2,He),ht.mt?s(Ne,ht.mt):Ne.write_shift(4,0),Ne.write_shift(-4,wt[dt]),Ne.write_shift(4,tn.length),Ne.write_shift(4,ht.content.length),Ne.write_shift(2,vr.length),Ne.write_shift(2,0),Ke+=Ne.length,ge.push(Ne),Ke+=vr.length,ge.push(vr),Ke+=tn.length,ge.push(tn),Ne=Ze(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,Xe),Ne.write_shift(2,He),Ne.write_shift(4,0),Ne.write_shift(-4,wt[dt]),Ne.write_shift(4,tn.length),Ne.write_shift(4,ht.content.length),Ne.write_shift(2,vr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,sa),Yt+=Ne.l,ke.push(Ne),Yt+=vr.length,ke.push(vr),++dt}return Ne=Ze(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,dt),Ne.write_shift(2,dt),Ne.write_shift(4,Yt),Ne.write_shift(4,Ke),Ne.write_shift(2,0),ps([ps(ge),ps(ke),Ne])}var Nt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kt(re,ye){if(re.ctype)return re.ctype;var ce=re.name||"",ge=ce.match(/\.([^\.]+)$/);return ge&&Nt[ge[1]]||ye&&(ge=(ce=ye).match(/[\.\\]([^\.\\])+$/),ge&&Nt[ge[1]])?Nt[ge[1]]:"application/octet-stream"}function ls(re){for(var ye=mx(re),ce=[],ge=0;ge<ye.length;ge+=76)ce.push(ye.slice(ge,ge+76));return ce.join(`\r
`)+`\r
`}function zr(re){var ye=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var Ke=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ce=[],ge=ye.split(`\r
`),ke=0;ke<ge.length;++ke){var Ne=ge[ke];if(Ne.length==0){ce.push("");continue}for(var He=0;He<Ne.length;){var Xe=76,Ge=Ne.slice(He,He+Xe);Ge.charAt(Xe-1)=="="?Xe--:Ge.charAt(Xe-2)=="="?Xe-=2:Ge.charAt(Xe-3)=="="&&(Xe-=3),Ge=Ne.slice(He,He+Xe),He+=Xe,He<Ne.length&&(Ge+="="),ce.push(Ge)}}return ce.join(`\r
`)}function Ma(re){for(var ye=[],ce=0;ce<re.length;++ce){for(var ge=re[ce];ce<=re.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+re[++ce];ye.push(ge)}for(var ke=0;ke<ye.length;++ke)ye[ke]=ye[ke].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Ji(ye.join(`\r
`))}function Ka(re,ye,ce){for(var ge="",ke="",Ne="",He,Xe=0;Xe<10;++Xe){var Ge=ye[Xe];if(!Ge||Ge.match(/^\s*$/))break;var qe=Ge.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":ge=qe[2].trim();break;case"content-type":Ne=qe[2].trim();break;case"content-transfer-encoding":ke=qe[2].trim();break}}switch(++Xe,ke.toLowerCase()){case"base64":He=Ji(ao(ye.slice(Xe).join("")));break;case"quoted-printable":He=Ma(ye.slice(Xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ke)}var Ke=ua(re,ge.slice(ce.length),He,{unsafe:!0});Ne&&(Ke.ctype=Ne)}function Rt(re,ye){if(G(re.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ce=ye&&ye.root||"",ge=(hr&&Buffer.isBuffer(re)?re.toString("binary"):G(re)).split(`\r
`),ke=0,Ne="";for(ke=0;ke<ge.length;++ke)if(Ne=ge[ke],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),ce||(ce=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,ce.length)!=ce))for(;ce.length>0&&(ce=ce.slice(0,ce.length-1),ce=ce.slice(0,ce.lastIndexOf("/")+1),Ne.slice(0,ce.length)!=ce););var He=(ge[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var Xe="--"+(He[1]||""),Ge=[],qe=[],Ke={FileIndex:Ge,FullPaths:qe};A(Ke);var dt,gt=0;for(ke=0;ke<ge.length;++ke){var kt=ge[ke];kt!==Xe&&kt!==Xe+"--"||(gt++&&Ka(Ke,ge.slice(dt,ke),ce),dt=ke)}return Ke}function Kr(re,ye){var ce=ye||{},ge=ce.boundary||"SheetJS";ge="------="+ge;for(var ke=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],Ne=re.FullPaths[0],He=Ne,Xe=re.FileIndex[0],Ge=1;Ge<re.FullPaths.length;++Ge)if(He=re.FullPaths[Ge].slice(Ne.length),Xe=re.FileIndex[Ge],!(!Xe.size||!Xe.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yt){return"_x"+Yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yt){return"_u"+Yt.charCodeAt(0).toString(16)+"_"});for(var qe=Xe.content,Ke=hr&&Buffer.isBuffer(qe)?qe.toString("binary"):G(qe),dt=0,gt=Math.min(1024,Ke.length),kt=0,ht=0;ht<=gt;++ht)(kt=Ke.charCodeAt(ht))>=32&&kt<128&&++dt;var wt=dt>=gt*4/5;ke.push(ge),ke.push("Content-Location: "+(ce.root||"file:///C:/SheetJS/")+He),ke.push("Content-Transfer-Encoding: "+(wt?"quoted-printable":"base64")),ke.push("Content-Type: "+Kt(Xe,He)),ke.push(""),ke.push(wt?zr(Ke):ls(Ke))}return ke.push(ge+`--\r
`),ke.join(`\r
`)}function _n(re){var ye={};return A(ye,re),ye}function ua(re,ye,ce,ge){var ke=ge&&ge.unsafe;ke||A(re);var Ne=!ke&&$t.find(re,ye);if(!Ne){var He=re.FullPaths[0];ye.slice(0,He.length)==He?He=ye:(He.slice(-1)!="/"&&(He+="/"),He=(He+ye).replace("//","/")),Ne={name:n(ye),type:2},re.FileIndex.push(Ne),re.FullPaths.push(He),ke||$t.utils.cfb_gc(re)}return Ne.content=ce,Ne.size=ce?ce.length:0,ge&&(ge.CLSID&&(Ne.clsid=ge.CLSID),ge.mt&&(Ne.mt=ge.mt),ge.ct&&(Ne.ct=ge.ct)),Ne}function Ha(re,ye){A(re);var ce=$t.find(re,ye);if(ce){for(var ge=0;ge<re.FileIndex.length;++ge)if(re.FileIndex[ge]==ce)return re.FileIndex.splice(ge,1),re.FullPaths.splice(ge,1),!0}return!1}function Vr(re,ye,ce){A(re);var ge=$t.find(re,ye);if(ge){for(var ke=0;ke<re.FileIndex.length;++ke)if(re.FileIndex[ke]==ge)return re.FileIndex[ke].name=n(ce),re.FullPaths[ke]=ce,!0}return!1}function Na(re){S(re,!0)}return t.find=_,t.read=E,t.parse=f,t.write=ve,t.writeFile=K,t.utils={cfb_new:_n,cfb_add:ua,cfb_del:Ha,cfb_mov:Vr,cfb_gc:Na,ReadShift:Bg,CheckField:nB,prep_blob:Cs,bconcat:ps,use_zlib:I,_deflateRaw:Be,_inflateRaw:Ut,consts:q},t}();function Bse(e){return typeof e=="string"?Fw(e):Array.isArray(e)?fse(e):e}function V1(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Fw(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?ic(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([Bse(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=If(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function zse(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function un(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function qL(e,t){for(var r=[],a=un(e),n=0;n!==a.length;++n)r[e[a[n]][t]]==null&&(r[e[a[n]][t]]=a[n]);return r}function zw(e){for(var t=[],r=un(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function $w(e){for(var t=[],r=un(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function $se(e){for(var t=[],r=un(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var Wb=new Date(1899,11,30,0,0,0);function ns(e,t){var r=e.getTime(),a=Wb.getTime()+(e.getTimezoneOffset()-Wb.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var RF=new Date,Use=Wb.getTime()+(RF.getTimezoneOffset()-Wb.getTimezoneOffset())*6e4,YL=RF.getTimezoneOffset();function Uw(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Use),t.getTimezoneOffset()!==YL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-YL)*6e4),t}function Wse(e){var t=0,r=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=n.length;++s)if(n[s]){switch(r=1,s>3&&(a=!0),n[s].slice(n[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[s].slice(n[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[s],10)}return t}var JL=new Date("2017-02-19T19:06:09.000Z"),FF=isNaN(JL.getFullYear())?new Date("2/19/17"):JL,Hse=FF.getFullYear()==2017;function $a(e,t){var r=new Date(e);if(Hse)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(FF.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Yu(e,t){if(hr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ic(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ic(SF(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ic(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ic(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function Ua(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ua(e[r]));return t}function on(e,t){for(var r="";r.length<t;)r+=e;return r}function kl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,s){return r=-r,s}),!isNaN(t=Number(a)))?t/r:t}var Vse=["january","february","march","april","may","june","july","august","september","october","november","december"];function Kh(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),n=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Vse.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||s>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Gse=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,n){if(e||typeof a=="string")return r.split(a);for(var s=r.split(a),o=[s[0]],l=1;l<s.length;++l)o.push(n),o.push(s[l]);return o}}();function BF(e){return e?e.content&&e.type?Yu(e.content,!0):e.data?jg(e.data):e.asNodeBuffer&&hr?jg(e.asNodeBuffer().toString("binary")):e.asBinary?jg(e.asBinary()):e._data&&e._data.getContent?jg(Yu(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function zF(e){if(!e)return null;if(e.data)return RL(e.data);if(e.asNodeBuffer&&hr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?RL(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function qse(e){return e&&e.name.slice(-4)===".bin"?zF(e):BF(e)}function So(e,t){for(var r=e.FullPaths||un(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||n==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function D6(e,t){var r=So(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Pn(e,t,r){if(!r)return qse(D6(e,t));if(!t)return null;try{return Pn(e,t)}catch{return null}}function Ki(e,t,r){if(!r)return BF(D6(e,t));if(!t)return null;try{return Ki(e,t)}catch{return null}}function Yse(e,t,r){return zF(D6(e,t))}function KL(e){for(var t=e.FullPaths||un(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function dr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return hr?a=vd(r):a=use(r),$t.utils.cfb_add(e,t,a)}$t.utils.cfb_add(e,t,r)}else e.file(t,r)}function P6(){return $t.utils.cfb_new()}function $F(e,t){switch(t.type){case"base64":return $t.read(e,{type:"base64"});case"binary":return $t.read(e,{type:"binary"});case"buffer":case"array":return $t.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Sg(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var n=a.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var En=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Jse=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,QL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Kse=/<[^>]*>/g,ri=En.match(QL)?QL:Kse,Qse=/<\w*:/,Xse=/<(\/?)\w+:/;function Jt(e,t,r){for(var a={},n=0,s=0;n!==e.length&&!((s=e.charCodeAt(n))===32||s===10||s===13);++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var o=e.match(Jse),l=0,c="",d=0,f="",u="",m=1;if(o)for(d=0;d!=o.length;++d){for(u=o[d],s=0;s!=u.length&&u.charCodeAt(s)!==61;++s);for(f=u.slice(0,s).trim();u.charCodeAt(s+1)==32;)++s;for(m=(n=u.charCodeAt(s+1))==34||n==39?1:0,c=u.slice(s+1+m,u.length-m),l=0;l!=f.length&&f.charCodeAt(l)!==58;++l);if(l===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),a[f]=c,a[f.toLowerCase()]=c;else{var h=(l===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(l+1);if(a[h]&&f.slice(l-3,l)=="ext")continue;a[h]=c,a[h.toLowerCase()]=c}}return a}function Nc(e){return e.replace(Xse,"<$1")}var UF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},O6=zw(UF),Ir=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var n=a+"",s=n.indexOf("<![CDATA[");if(s==-1)return n.replace(e,function(l,c){return UF[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=n.indexOf("]]>");return r(n.slice(0,s))+n.slice(s+9,o)+r(n.slice(o+3))}}(),R6=/[&<>'"]/g,Zse=/[\u0000-\u0008\u000b-\u001f]/g;function ra(e){var t=e+"";return t.replace(R6,function(r){return O6[r]}).replace(Zse,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function XL(e){return ra(e).replace(/ /g,"_x0020_")}var WF=/[\u0000-\u001f]/g;function F6(e){var t=e+"";return t.replace(R6,function(r){return O6[r]}).replace(/\n/g,"<br/>").replace(WF,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function eie(e){var t=e+"";return t.replace(R6,function(r){return O6[r]}).replace(WF,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var ZL=function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}}();function tie(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ra(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ij(e){for(var t="",r=0,a=0,n=0,s=0,o=0,l=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=n&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((a&7)<<18|(n&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function eT(e){var t=bf(2*e.length),r,a,n=1,s=0,o=0,l;for(a=0;a<e.length;a+=n)n=1,(l=e.charCodeAt(a))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(a+1)&63),n=2):l<240?(r=(l&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,r=(l&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function tT(e){return vd(e,"binary").toString("utf8")}var dy="foo bar bazâð£",fa=hr&&(tT(dy)==Ij(dy)&&tT||eT(dy)==Ij(dy)&&eT)||Ij,ic=hr?function(e){return vd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,n=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},gx=function(){var e={};return function(r,a){var n=r+"|"+(a||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}}(),HF=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}}(),rie=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),aie=/<\/?(?:vt:)?variant>/g,nie=/<(?:vt:)([^>]*)>([\s\S]*)</;function rT(e,t){var r=Jt(e),a=e.match(rie(r.baseType))||[],n=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(s){var o=s.replace(aie,"").match(nie);o&&n.push({v:fa(o[2]),t:o[1]})}),n}var VF=/(^\s|\s$|\n)/;function As(e,t){return"<"+e+(t.match(VF)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function xx(e){return un(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function xt(e,t,r){return"<"+e+(r!=null?xx(r):"")+(t!=null?(t.match(VF)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function N3(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function sie(e,t){switch(typeof e){case"string":var r=xt("vt:lpwstr",ra(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return xt((e|0)==e?"vt:i4":"vt:r8",ra(String(e)));case"boolean":return xt("vt:bool",e?"true":"false")}if(e instanceof Date)return xt("vt:filetime",N3(e));throw new Error("Unable to serialize "+e)}function B6(e){if(hr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return fa(If(L6(e)));throw new Error("Bad input format: expected Buffer or string")}var vx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,es={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},j0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Gi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function iie(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,s=5;s>=0;--s)n=n*256+e[t+s];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function oie(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,s=0,o=a?-t:t;isFinite(o)?o==0?n=s=0:(n=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-n),n<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?n=-1022:(s-=Math.pow(2,52),n+=1023)):(n=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(n&15)<<4|s&15,e[r+7]=n>>4|a}var aT=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,s=e[0][a].length;n<s;n+=r)t.push.apply(t,e[0][a].slice(n,n+r));return t},nT=hr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:vd(t)})):aT(e)}:aT,sT=function(e,t,r){for(var a=[],n=t;n<r;n+=2)a.push(String.fromCharCode(qc(e,n)));return a.join("").replace(xi,"")},z6=hr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(xi,""):sT(e,t,r)}:sT,iT=function(e,t,r){for(var a=[],n=t;n<t+r;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},GF=hr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):iT(e,t,r)}:iT,oT=function(e,t,r){for(var a=[],n=t;n<r;n++)a.push(String.fromCharCode(hh(e,n)));return a.join("")},G1=hr?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):oT(t,r,a)}:oT,qF=function(e,t){var r=qi(e,t);return r>0?G1(e,t+4,t+4+r-1):""},YF=qF,JF=function(e,t){var r=qi(e,t);return r>0?G1(e,t+4,t+4+r-1):""},KF=JF,QF=function(e,t){var r=2*qi(e,t);return r>0?G1(e,t+4,t+4+r-1):""},XF=QF,ZF=function(t,r){var a=qi(t,r);return a>0?z6(t,r+4,r+4+a):""},eB=ZF,tB=function(e,t){var r=qi(e,t);return r>0?G1(e,t+4,t+4+r):""},rB=tB,aB=function(e,t){return iie(e,t)},Hb=aB,$6=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};hr&&(YF=function(t,r){if(!Buffer.isBuffer(t))return qF(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},KF=function(t,r){if(!Buffer.isBuffer(t))return JF(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},XF=function(t,r){if(!Buffer.isBuffer(t))return QF(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},eB=function(t,r){if(!Buffer.isBuffer(t))return ZF(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},rB=function(t,r){if(!Buffer.isBuffer(t))return tB(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},Hb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):aB(t,r)},$6=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var hh=function(e,t){return e[t]},qc=function(e,t){return e[t+1]*256+e[t]},lie=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},qi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},bu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},cie=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Bg(e,t){var r="",a,n,s=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,hr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(qc(this,d)),d+=2;e*=2;break;case"utf8":r=G1(this,this.l,this.l+e);break;case"utf16le":e*=2,r=z6(this,this.l,this.l+e);break;case"wstr":return Bg.call(this,e,"dbcs");case"lpstr-ansi":r=YF(this,this.l),e=4+qi(this,this.l);break;case"lpstr-cp":r=KF(this,this.l),e=4+qi(this,this.l);break;case"lpwstr":r=XF(this,this.l),e=4+2*qi(this,this.l);break;case"lpp4":e=4+qi(this,this.l),r=eB(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+qi(this,this.l),r=rB(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=hh(this,this.l+e++))!==0;)s.push(cy(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=qc(this,this.l+e))!==0;)s.push(cy(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=hh(this,d),this.l=d+1,l=Bg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(cy(qc(this,d))),d+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=hh(this,d),this.l=d+1,l=Bg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(cy(hh(this,d))),d+=1}r=s.join("");break;default:switch(e){case 1:return a=hh(this,this.l),this.l++,a;case 2:return a=(t==="i"?lie:qc)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?bu:cie)(this,this.l),this.l+=4,a):(n=qi(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=Hb(this,this.l):n=Hb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:r=GF(this,this.l,e);break}}return this.l+=e,r}var die=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},fie=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},uie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function hie(e,t,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=t.length;++n)uie(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(r==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var o=t.charCodeAt(n);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,die(this,t,this.l);break;case 8:if(a=8,r==="f"){oie(this,t,this.l);break}case 16:break;case-4:a=4,fie(this,t,this.l);break}return this.l+=a,this}function nB(e,t){var r=GF(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Cs(e,t){e.l=t,e.read_shift=Bg,e.chk=nB,e.write_shift=hie}function ei(e,t){e.l+=t}function Ze(e){var t=bf(e);return Cs(t,0),t}function yd(e,t,r){if(e){var a,n,s;Cs(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var d=Nx[l]||Nx[65535];for(a=e.read_shift(1),s=a&127,n=1;n<4&&a&128;++n)s+=((a=e.read_shift(1))&127)<<7*n;c=e.l+s;var f=d.f&&d.f(e,s,r);if(e.l=c,t(f,d,l))return}}}function Ei(){var e=[],t=hr?256:2048,r=function(d){var f=Ze(d);return Cs(f,0),f},a=r(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},s=function(d){return a&&d<a.length-a.l?a:(n(),a=r(Math.max(d+1,t)))},o=function(){return n(),ps(e)},l=function(d){n(),a=d,a.l==null&&(a.l=a.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function ot(e,t,r,a){var n=+t,s;if(!isNaN(n)){a||(a=Nx[n].p||(r||[]).length||0),s=1+(n>=128?1:0)+1,a>=128&&++s,a>=16384&&++s,a>=2097152&&++s;var o=e.next(s);n<=127?o.write_shift(1,n):(o.write_shift(1,(n&127)+128),o.write_shift(1,n>>7));for(var l=0;l!=4;++l)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&$6(r)&&e.push(r)}}function zg(e,t,r){var a=Ua(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function lT(e,t,r){var a=Ua(e);return a.s=zg(a.s,t.s,r),a.e=zg(a.e,t.s,r),a}function $g(e,t){if(e.cRel&&e.c<0)for(e=Ua(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ua(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=qt(e);return!e.cRel&&e.cRel!=null&&(r=gie(r)),!e.rRel&&e.rRel!=null&&(r=mie(r)),r}function Dj(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Za(e.s.c)+":"+(e.e.cRel?"":"$")+Za(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Cn(e.s.r)+":"+(e.e.rRel?"":"$")+Cn(e.e.r):$g(e.s,t.biff)+":"+$g(e.e,t.biff)}function U6(e){return parseInt(pie(e),10)-1}function Cn(e){return""+(e+1)}function mie(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function pie(e){return e.replace(/\$(\d+)$/,"$1")}function W6(e){for(var t=xie(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function Za(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function gie(e){return e.replace(/^([A-Z])/,"$$$1")}function xie(e){return e.replace(/^\$([A-Z])/,"$1")}function vie(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function en(e){for(var t=0,r=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function qt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ti(e){var t=e.indexOf(":");return t==-1?{s:en(e),e:en(e)}:{s:en(e.slice(0,t)),e:en(e.slice(t+1))}}function ir(e,t){return typeof t>"u"||typeof t=="number"?ir(e.s,e.e):(typeof e!="string"&&(e=qt(e)),typeof t!="string"&&(t=qt(t)),e==t?e:e+":"+t)}function Dr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,s=e.length;for(r=0;a<s&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.s.c=--r,r=0;a<s&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(t.s.r=--r,a===s||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=s&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.e.c=--r,r=0;a!=s&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return t.e.r=--r,t}function cT(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=zo(e.z,r?ns(t):t)}catch{}try{return e.w=zo((e.XF||{}).numFmtId||(r?14:0),r?ns(t):t)}catch{return""+t}}function cd(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?bd[e.v]||e.v:t==null?cT(e,e.v):cT(e,t))}function Df(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function sB(e,t,r){var a=r||{},n=e?Array.isArray(e):a.dense,s=e||(n?[]:{}),o=0,l=0;if(s&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?en(a.origin):a.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=Dr(s["!ref"]);d.s.c=f.s.c,d.s.r=f.s.r,d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(d.e.r=o=f.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[u].length;++m)if(!(typeof t[u][m]>"u")){var h={v:t[u][m]},g=o+u,p=l+m;if(d.s.r>g&&(d.s.r=g),d.s.c>p&&(d.s.c=p),d.e.r<g&&(d.e.r=g),d.e.c<p&&(d.e.c=p),t[u][m]&&typeof t[u][m]=="object"&&!Array.isArray(t[u][m])&&!(t[u][m]instanceof Date))h=t[u][m];else if(Array.isArray(h.v)&&(h.f=t[u][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(a.nullError)h.t="e",h.v=0;else if(a.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=a.dateNF||Gt[14],a.cellDates?(h.t="d",h.w=zo(h.z,ns(h.v))):(h.t="n",h.v=ns(h.v),h.w=zo(h.z,h.v))):h.t="s";if(n)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(h.z=s[g][p].z),s[g][p]=h;else{var x=qt({c:p,r:g});s[x]&&s[x].z&&(h.z=s[x].z),s[x]=h}}}return d.s.c<1e7&&(s["!ref"]=ir(d)),s}function Jm(e,t){return sB(null,e,t)}function yie(e){return e.read_shift(4,"i")}function jl(e,t){return t||(t=Ze(4)),t.write_shift(4,e),t}function Qs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function xs(e,t){var r=!1;return t==null&&(r=!0,t=Ze(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function bie(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function wie(e,t){return t||(t=Ze(4)),t.write_shift(2,0),t.write_shift(2,0),t}function H6(e,t){var r=e.l,a=e.read_shift(1),n=Qs(e),s=[],o={t:n,h:n};if(a&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(bie(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function kie(e,t){var r=!1;return t==null&&(r=!0,t=Ze(15+4*e.t.length)),t.write_shift(1,0),xs(e.t,t),r?t.slice(0,t.l):t}var jie=H6;function Nie(e,t){var r=!1;return t==null&&(r=!0,t=Ze(23+4*e.t.length)),t.write_shift(1,1),xs(e.t,t),t.write_shift(4,1),wie({},t),r?t.slice(0,t.l):t}function qo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function N0(e,t){return t==null&&(t=Ze(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function S0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function C0(e,t){return t==null&&(t=Ze(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Sie=Qs,iB=xs;function V6(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Vb(e,t){var r=!1;return t==null&&(r=!0,t=Ze(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Cie=Qs,S3=V6,G6=Vb;function q6(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?Hb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):bu(t,0)>>2;return r?n/100:n}function oB(e,t){t==null&&(t=Ze(4));var r=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?n:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function lB(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Aie(e,t){return t||(t=Ze(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var A0=lB,Km=Aie;function Ks(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ju(e,t){return(t||Ze(8)).write_shift(8,e,"f")}function Eie(e){var t={},r=e.read_shift(1),a=r>>>1,n=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var d=Lu[n];d&&(t.rgb=bx(d));break;case 2:t.rgb=bx([o,l,c]);break;case 3:t.theme=n;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Gb(e,t){if(t||(t=Ze(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function _ie(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Mie(e,t){t||(t=Ze(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function cB(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Lie(e){return cB(e,1)}function Tie(e){return cB(e,2)}var Y6=2,Ni=3,fy=11,dT=12,qb=19,uy=64,Iie=65,Die=71,Pie=4108,Oie=4126,ds=80,dB=81,Rie=[ds,dB],C3={1:{n:"CodePage",t:Y6},2:{n:"Category",t:ds},3:{n:"PresentationFormat",t:ds},4:{n:"ByteCount",t:Ni},5:{n:"LineCount",t:Ni},6:{n:"ParagraphCount",t:Ni},7:{n:"SlideCount",t:Ni},8:{n:"NoteCount",t:Ni},9:{n:"HiddenCount",t:Ni},10:{n:"MultimediaClipCount",t:Ni},11:{n:"ScaleCrop",t:fy},12:{n:"HeadingPairs",t:Pie},13:{n:"TitlesOfParts",t:Oie},14:{n:"Manager",t:ds},15:{n:"Company",t:ds},16:{n:"LinksUpToDate",t:fy},17:{n:"CharacterCount",t:Ni},19:{n:"SharedDoc",t:fy},22:{n:"HyperlinksChanged",t:fy},23:{n:"AppVersion",t:Ni,p:"version"},24:{n:"DigSig",t:Iie},26:{n:"ContentType",t:ds},27:{n:"ContentStatus",t:ds},28:{n:"Language",t:ds},29:{n:"Version",t:ds},255:{},2147483648:{n:"Locale",t:qb},2147483651:{n:"Behavior",t:qb},1919054434:{}},A3={1:{n:"CodePage",t:Y6},2:{n:"Title",t:ds},3:{n:"Subject",t:ds},4:{n:"Author",t:ds},5:{n:"Keywords",t:ds},6:{n:"Comments",t:ds},7:{n:"Template",t:ds},8:{n:"LastAuthor",t:ds},9:{n:"RevNumber",t:ds},10:{n:"EditTime",t:uy},11:{n:"LastPrinted",t:uy},12:{n:"CreatedDate",t:uy},13:{n:"ModifiedDate",t:uy},14:{n:"PageCount",t:Ni},15:{n:"WordCount",t:Ni},16:{n:"CharCount",t:Ni},17:{n:"Thumbnail",t:Die},18:{n:"Application",t:ds},19:{n:"DocSecurity",t:Ni},255:{},2147483648:{n:"Locale",t:qb},2147483651:{n:"Behavior",t:qb},1919054434:{}},fT={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Fie=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Bie(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var zie=Bie([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Lu=Ua(zie),bd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},fB={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},E3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},hy={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function J6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function $ie(e){var t=J6();if(!e||!e.match)return t;var r={};if((e.match(ri)||[]).forEach(function(a){var n=Jt(a);switch(n[0].replace(Qse,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":t[E3[n.ContentType]]!==void 0&&t[E3[n.ContentType]].push(n.PartName);break}}),t.xmlns!==es.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function uB(e,t){var r=$se(E3),a=[],n;a[a.length]=En,a[a.length]=xt("Types",null,{xmlns:es.CT,"xmlns:xsd":es.xsd,"xmlns:xsi":es.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return xt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(n=e[c][0],a[a.length]=xt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:hy[c][t.bookType]||hy[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=xt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:hy[c][t.bookType]||hy[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){a[a.length]=xt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var pr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function yx(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Ug(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(ri)||[]).forEach(function(n){var s=Jt(n);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:Sg(s.Target,t);r[l]=o,a[s.Id]=o}}),r["!id"]=a,r}function Dh(e){var t=[En,xt("Relationships",null,{xmlns:es.RELS})];return un(e["!id"]).forEach(function(r){t[t.length]=xt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ta(e,t,r,a,n,s){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=r,[pr.HLINK,pr.XPATH,pr.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var Uie="application/vnd.oasis.opendocument.spreadsheet";function Wie(e,t){for(var r=B6(e),a,n;a=vx.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(n=Jt(a[0],!1),n.path=="/"&&n.type!==Uie)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function Hie(e){var t=[En];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function uT(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Vie(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Gie(e){var t=[En];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(uT(e[r][0],e[r][1])),t.push(Vie("",e[r][0]));return t.push(uT("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function hB(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Bb.version+"</meta:generator></office:meta></office:document-meta>"}var Po=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],qie=function(){for(var e=new Array(Po.length),t=0;t<Po.length;++t){var r=Po[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function mB(e){var t={};e=fa(e);for(var r=0;r<Po.length;++r){var a=Po[r],n=e.match(qie[r]);n!=null&&n.length>0&&(t[a[1]]=Ir(n[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=$a(t[a[1]]))}return t}function Pj(e,t,r,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=ra(t),a[a.length]=r?xt(e,t,r):As(e,t))}function pB(e,t){var r=t||{},a=[En,xt("cp:coreProperties",null,{"xmlns:cp":es.CORE_PROPS,"xmlns:dc":es.dc,"xmlns:dcterms":es.dcterms,"xmlns:dcmitype":es.dcmitype,"xmlns:xsi":es.xsi})],n={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&Pj("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:N3(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&Pj("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:N3(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var s=0;s!=Po.length;++s){var o=Po[s],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Pj(o[0],l,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Tu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],gB=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function xB(e,t,r,a){var n=[];if(typeof e=="string")n=rT(e,a);else for(var s=0;s<e.length;++s)n=n.concat(e[s].map(function(f){return{v:f}}));var o=typeof t=="string"?rT(t,a).map(function(f){return f.v}):t,l=0,c=0;if(o.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function Yie(e,t,r){var a={};return t||(t={}),e=fa(e),Tu.forEach(function(n){var s=(e.match(gx(n[0]))||[])[1];switch(n[2]){case"string":s&&(t[n[1]]=Ir(s));break;case"bool":t[n[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));o&&o.length>0&&(a[n[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&xB(a.HeadingPairs,a.TitlesOfParts,t,r),t}function vB(e){var t=[],r=xt;return e||(e={}),e.Application="SheetJS",t[t.length]=En,t[t.length]=xt("Properties",null,{xmlns:es.EXT_PROPS,"xmlns:vt":es.vt}),Tu.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=ra(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=r(a[0],n))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+ra(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Jie=/<[^>]+>[^<]*/g;function Kie(e,t){var r={},a="",n=e.match(Jie);if(n)for(var s=0;s!=n.length;++s){var o=n[s],l=Jt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":a=Ir(l.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),f=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[a]=Ir(f);break;case"bool":r[a]=Ra(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(f,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(f);break;case"filetime":case"date":r[a]=$a(f);break;case"cy":case"error":r[a]=Ir(f);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function yB(e){var t=[En,xt("Properties",null,{xmlns:es.CUST_PROPS,"xmlns:vt":es.vt})];if(!e)return t.join("");var r=1;return un(e).forEach(function(n){++r,t[t.length]=xt("property",sie(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ra(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var _3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Oj;function Qie(e,t,r){Oj||(Oj=zw(_3)),t=Oj[t]||t,e[t]=r}function Xie(e,t){var r=[];return un(_3).map(function(a){for(var n=0;n<Po.length;++n)if(Po[n][1]==a)return Po[n];for(n=0;n<Tu.length;++n)if(Tu[n][1]==a)return Tu[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(As(_3[a[1]]||a[1],n))}}),xt("DocumentProperties",r.join(""),{xmlns:Gi.o})}function Zie(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&un(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<Po.length;++o)if(s==Po[o][1])return;for(o=0;o<Tu.length;++o)if(s==Tu[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),n.push(xt(XL(s),l,{"dt:dt":c}))}}),t&&un(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),n.push(xt(XL(s),o,{"dt:dt":l}))}}),"<"+a+' xmlns="'+Gi.o+'">'+n.join("")+"</"+a+">"}function K6(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function eoe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),n=(r-a)/Math.pow(2,32);a*=1e7,n*=1e7;var s=a/Math.pow(2,32)|0;s>0&&(a=a%Math.pow(2,32),n+=s);var o=Ze(8);return o.write_shift(4,a),o.write_shift(4,n),o}function bB(e,t,r){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return n}function wB(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function kB(e,t,r){return t===31?wB(e):bB(e,t,r)}function M3(e,t,r){return kB(e,t,r===!1?0:4)}function toe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return kB(e,t,0)}function roe(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var n=e.l;r[a]=e.read_shift(0,"lpwstr").replace(xi,""),e.l-n&2&&(e.l+=2)}return r}function aoe(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(xi,"");return r}function noe(e){var t=e.l,r=Yb(e,dB);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=Yb(e,Ni);return[r,a]}function soe(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(noe(e));return r}function hT(e,t){for(var r=e.read_shift(4),a={},n=0;n!=r;++n){var s=e.read_shift(4),o=e.read_shift(4);a[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(xi,"").replace(Ng,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function jB(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function ioe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Yb(e,t,r){var a=e.read_shift(2),n,s=r||{};if(e.l+=2,t!==dT&&a!==t&&Rie.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===dT?a:t){case 2:return n=e.read_shift(2,"i"),s.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return bB(e,a,4).replace(xi,"");case 31:return wB(e);case 64:return K6(e);case 65:return jB(e);case 71:return ioe(e);case 80:return M3(e,a,!s.raw).replace(xi,"");case 81:return toe(e,a).replace(xi,"");case 4108:return soe(e);case 4126:case 4127:return a==4127?roe(e):aoe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function mT(e,t){var r=Ze(4),a=Ze(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Ze(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=eoe(t);break;case 31:case 80:for(a=Ze(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ps([r,a])}function pT(e,t){var r=e.l,a=e.read_shift(4),n=e.read_shift(4),s=[],o=0,l=0,c=-1,d={};for(o=0;o!=n;++o){var f=e.read_shift(4),u=e.read_shift(4);s[o]=[f,u+r]}s.sort(function(b,y){return b[1]-y[1]});var m={};for(o=0;o!=n;++o){if(e.l!==s[o][1]){var h=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,h=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],h=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],h=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(h=!1,e.l=s[o][1]),h)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var g=t[s[o][0]];if(m[g.n]=Yb(e,g.t,{raw:!0}),g.p==="version"&&(m[g.n]=String(m[g.n]>>16)+"."+("0000"+String(m[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(m[g.n]){case 0:m[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:xl(l=m[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[g.n])}}else if(s[o][0]===1){if(l=m.CodePage=Yb(e,Y6),xl(l),c!==-1){var p=e.l;e.l=s[c][1],d=hT(e,l),e.l=p}}else if(s[o][0]===0){if(l===0){c=o,e.l=s[o+1][1];continue}d=hT(e,l)}else{var x=d[s[o][0]],v;switch(e[e.l]){case 65:e.l+=4,v=jB(e);break;case 30:e.l+=4,v=M3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=M3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=yn(e,4);break;case 64:e.l+=4,v=$a(K6(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[x]=v}}return e.l=r+a,m}var NB=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function ooe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function gT(e,t,r){var a=Ze(8),n=[],s=[],o=8,l=0,c=Ze(8),d=Ze(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),s.push(c),n.push(d),o+=8+c.length,!t){d=Ze(8),d.write_shift(4,0),n.unshift(d);var f=[Ze(4)];for(f[0].write_shift(4,e.length),l=0;l<e.length;++l){var u=e[l][0];for(c=Ze(8+2*(u.length+1)+(u.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,u.length+1),c.write_shift(0,u,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=ps(f),s.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(NB.indexOf(e[l][0])>-1||gB.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var g=r[h];if(g.p=="version"&&typeof m=="string"){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}c=mT(g.t,m)}else{var x=ooe(m);x==-1&&(x=31,m=String(m)),c=mT(x,m)}s.push(c),d=Ze(8),d.write_shift(4,t?h:2+l),n.push(d),o+=8+c.length}var v=8*(s.length+1);for(l=0;l<s.length;++l)n[l].write_shift(4,v),v+=s[l].length;return a.write_shift(4,o),a.write_shift(4,s.length),ps([a].concat(n).concat(s))}function xT(e,t,r){var a=e.content;if(!a)return{};Cs(a,0);var n,s,o,l,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),f=a.read_shift(16);if(f!==$t.utils.consts.HEADER_CLSID&&f!==r)throw new Error("Bad PropertySet CLSID "+f);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(s=a.read_shift(16),l=a.read_shift(4),n===1&&l!==a.l)throw new Error("Length mismatch: "+l+" !== "+a.l);n===2&&(o=a.read_shift(16),c=a.read_shift(4));var u=pT(a,t),m={SystemIdentifier:d};for(var h in u)m[h]=u[h];if(m.FMTID=s,n===1)return m;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var g;try{g=pT(a,null)}catch{}for(h in g)m[h]=g[h];return m.FMTID=[s,o],m}function vT(e,t,r,a,n,s){var o=Ze(n?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,$t.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,n?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,n?68:48);var c=gT(e,r,a);if(l.push(c),n){var d=gT(n,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),l.push(d)}return ps(l)}function Vd(e,t){return e.read_shift(t),null}function loe(e,t){t||(t=Ze(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function coe(e,t,r){for(var a=[],n=e.l+t;e.l<n;)a.push(r(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function yn(e,t){return e.read_shift(t)===1}function di(e,t){return t||(t=Ze(2)),t.write_shift(2,+!!e),t}function On(e){return e.read_shift(2,"u")}function Ao(e,t){return t||(t=Ze(2)),t.write_shift(2,e),t}function SB(e,t){return coe(e,t,On)}function doe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function CB(e,t,r){return r||(r=Ze(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function q1(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var o=a?e.read_shift(a,n):"";return o}function foe(e){var t=e.read_shift(2),r=e.read_shift(1),a=r&4,n=r&8,s=1+(r&1),o=0,l,c={};n&&(o=e.read_shift(2)),a&&(l=e.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",f=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*o),a&&(e.l+=l),c.t=f,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function uoe(e){var t=e.t||"",r=Ze(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=Ze(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[r,a];return ps(n)}function Ku(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function Y1(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):Ku(e,a,r)}function E0(e,t,r){if(r.biff>5)return Y1(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function AB(e,t,r){return r||(r=Ze(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function hoe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function moe(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var n=e.read_shift((a?t-24:t)>>1,"utf16le").replace(xi,"");return a&&(e.l+=24),n}function poe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return r+a.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(xi,"");return r+o}function goe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return moe(e);case"0303000000000000c000000000000046":return poe(e);default:throw new Error("Unsupported Moniker "+r)}}function my(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(xi,""):"";return r}function yT(e,t){t||(t=Ze(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function xoe(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var s,o,l,c,d="",f,u;n&16&&(s=my(e,r-e.l)),n&128&&(o=my(e,r-e.l)),(n&257)===257&&(l=my(e,r-e.l)),(n&257)===1&&(c=goe(e,r-e.l)),n&8&&(d=my(e,r-e.l)),n&32&&(f=e.read_shift(16)),n&64&&(u=K6(e)),e.l=r;var m=o||l||c||"";m&&d&&(m+="#"+d),m||(m="#"+d),n&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var h={Target:m};return f&&(h.guid=f),u&&(h.time=u),s&&(h.Tooltip=s),h}function voe(e){var t=Ze(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),s=n>-1?31:23;switch(a.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(s==28)a=a.slice(1),yT(a,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&yT(n>-1?a.slice(n+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function EB(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(1);return[t,r,a,n]}function _B(e,t){var r=EB(e);return r[3]=0,r}function Sc(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function Qu(e,t,r,a){return a||(a=Ze(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function yoe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function boe(e,t,r){return t===0?"":E0(e,t,r)}function woe(e,t,r){var a=r.biff>8?4:2,n=e.read_shift(a),s=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[n,s,o]}function MB(e){var t=e.read_shift(2),r=q6(e);return[t,r]}function koe(e,t,r){e.l+=4,t-=4;var a=e.l+t,n=q1(e,t,r),s=e.read_shift(2);if(a-=e.l,s!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+s);return e.l+=s,n}function Ww(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r}}}function LB(e,t){return t||(t=Ze(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function TB(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),n=e.read_shift(1);return{s:{c:a,r:t},e:{c:n,r}}}var joe=TB;function IB(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function Noe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Soe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function zs(e){e.l+=2,e.l+=e.read_shift(2)}var Coe={0:zs,4:zs,5:zs,6:zs,7:Soe,8:zs,9:zs,10:zs,11:zs,12:zs,13:Noe,14:zs,15:zs,16:zs,17:zs,18:zs,19:zs,20:zs,21:IB};function Aoe(e,t){for(var r=e.l+t,a=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{a.push(Coe[n](e,r-e.l))}catch{return e.l=r,a}}return e.l!=r&&(e.l=r),a}function py(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Q6(e,t,r){var a=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ze(n);return s.write_shift(2,a),s.write_shift(2,t),n>4&&s.write_shift(2,29282),n>6&&s.write_shift(2,1997),n>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Eoe(e,t){return t===0||e.read_shift(2),1200}function _oe(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,n=E0(e,0,r);return e.read_shift(t+a-e.l),n}function Moe(e,t){var r=!t||t.biff==8,a=Ze(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function Loe(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function Toe(e,t,r){var a=e.read_shift(4),n=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=q1(e,0,r);return o.length===0&&(o="Sheet1"),{pos:a,hs:n,dt:s,name:o}}function Ioe(e,t){var r=!t||t.biff>=8?2:1,a=Ze(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function Doe(e,t){for(var r=e.l+t,a=e.read_shift(4),n=e.read_shift(4),s=[],o=0;o!=n&&e.l<r;++o)s.push(foe(e));return s.Count=a,s.Unique=n,s}function Poe(e,t){var r=Ze(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=uoe(e[n]);var s=ps([r].concat(a));return s.parts=[r.length].concat(a.map(function(o){return o.length})),s}function Ooe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Roe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function Foe(e){var t=yoe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Boe(e){return e.read_shift(2),e.read_shift(4)}function bT(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var n=e.read_shift(2);r&&r.biff==2&&(a=1-(n>>15),n&=32767);var s={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[s,n]}function zoe(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[a,n],Flags:s,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function $oe(){var e=Ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Uoe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function Woe(e){var t=Ze(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Hoe(){}function Voe(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=q1(e,0,r),a}function Goe(e,t){var r=e.name||"Arial",a=t&&t.biff==5,n=a?15+r.length:16+2*r.length,s=Ze(n);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),s}function qoe(e){var t=Sc(e);return t.isst=e.read_shift(4),t}function Yoe(e,t,r,a){var n=Ze(10);return Qu(e,t,a,n),n.write_shift(4,r),n}function Joe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,n=Sc(e);r.biff==2&&e.l++;var s=Y1(e,a-e.l,r);return n.val=s,n}function Koe(e,t,r,a,n){var s=!n||n.biff==8,o=Ze(8+ +s+(1+s)*r.length);return Qu(e,t,a,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function Qoe(e,t,r){var a=e.read_shift(2),n=E0(e,0,r);return[a,n]}function Xoe(e,t,r,a){var n=r&&r.biff==5;a||(a=Ze(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var s=a.length>a.l?a.slice(0,a.l):a;return s.l==null&&(s.l=s.length),s}var Zoe=E0;function wT(e,t,r){var a=e.l+t,n=r.biff==8||!r.biff?4:2,s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2),c=e.read_shift(2);return e.l=a,{s:{r:s,c:l},e:{r:o,c}}}function ele(e,t){var r=t.biff==8||!t.biff?4:2,a=Ze(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function tle(e){var t=e.read_shift(2),r=e.read_shift(2),a=MB(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function rle(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),s=[];e.l<r;)s.push(MB(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:o,rkrec:s}}function ale(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:o,ixfe:s}}function nle(e,t,r,a){var n={},s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return n.patternType=Fie[l>>26],a.cellStyles&&(n.alc=s&7,n.fWrap=s>>3&1,n.alcV=s>>4&7,n.fJustLast=s>>7&1,n.trot=s>>8&255,n.cIndent=s>>16&15,n.fShrinkToFit=s>>20&1,n.iReadOrder=s>>22&2,n.fAtrNum=s>>26&1,n.fAtrFnt=s>>27&1,n.fAtrAlc=s>>28&1,n.fAtrBdr=s>>29&1,n.fAtrPat=s>>30&1,n.fAtrProt=s>>31&1,n.dgLeft=o&15,n.dgRight=o>>4&15,n.dgTop=o>>8&15,n.dgBottom=o>>12&15,n.icvLeft=o>>16&127,n.icvRight=o>>23&127,n.grbitDiag=o>>30&3,n.icvTop=l&127,n.icvBottom=l>>7&127,n.icvDiag=l>>14&127,n.dgDiag=l>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function sle(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=nle(e,t,a.fStyle,r),a}function kT(e,t,r,a){var n=r&&r.biff==5;a||(a=Ze(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&n&&(s|=1024),a.write_shift(4,s),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function ile(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function ole(e){var t=Ze(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function jT(e,t,r){var a=Sc(e);(r.biff==2||t==9)&&++e.l;var n=doe(e);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function lle(e,t,r,a,n,s){var o=Ze(8);return Qu(e,t,a,o),CB(r,s,o),o}function cle(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=Sc(e),n=Ks(e);return a.val=n,a}function dle(e,t,r,a){var n=Ze(14);return Qu(e,t,a,n),Ju(r,n),n}var NT=boe;function fle(e,t,r){var a=e.l+t,n=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,n];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Ku(e,s),l=[];a>e.l;)l.push(Y1(e));return[s,n,o,l]}function ST(e,t,r){var a=e.read_shift(2),n,s={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(n=koe(e,t-2,r)),s.body=n||e.read_shift(t-2),typeof n=="string"&&(s.Name=n),s}var ule=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function CT(e,t,r){var a=e.l+t,n=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=Ku(e,o,r);n&32&&(d=ule[d.charCodeAt(0)]);var f=a-e.l;r&&r.biff==2&&--f;var u=a==e.l||l===0||!(f>0)?[]:Aue(e,f,r,l);return{chKey:s,Name:d,itab:c,rgce:u}}function DB(e,t,r){if(r.biff<8)return hle(e,t,r);for(var a=[],n=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)a.push(woe(e,r.biff>8?12:6,r));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function hle(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=q1(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function mle(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2),s=Ku(e,a,r),o=Ku(e,n,r);return[s,o]}function ple(e,t,r){var a=TB(e);e.l++;var n=e.read_shift(1);return t-=8,[Eue(e,t,r),n,a]}function AT(e,t,r){var a=joe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,Sue(e,t,r)]}function gle(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function xle(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=E0(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:n},l,o,s]}}function vle(e,t,r){return xle(e,t,r)}function yle(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(Ww(e));return r}function ble(e){var t=Ze(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)LB(e[r],t);return t}function wle(e,t,r){if(r&&r.biff<8)return jle(e,t,r);var a=IB(e),n=Aoe(e,t-22,a[1]);return{cmo:a,ft:n}}var kle={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:a}}};function jle(e,t,r){e.l+=4;var a=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((kle[a]||ei)(e,t,r)),{cmo:[n,a,s],ft:o}}function Nle(e,t,r){var a=e.l,n="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=hoe(e,6,r);var l=e.read_shift(2);e.read_shift(2),On(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var f=e[e.l],u=Ku(e,e.lens[d+1]-e.lens[d]-1);if(n+=u,n.length>=(f?l:2*l))break}if(n.length!==l&&n.length!==l*2)throw new Error("cchText: "+l+" != "+n.length);return e.l=a+t,{t:n}}catch{return e.l=a+t,{t:n}}}function Sle(e,t){var r=Ww(e);e.l+=16;var a=xoe(e,t-24);return[r,a]}function Cle(e){var t=Ze(24),r=en(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return ps([t,voe(e[1])])}function Ale(e,t){e.read_shift(2);var r=Ww(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(xi,""),[r,a]}function Ele(e){var t=e[1].Tooltip,r=Ze(10+2*(t.length+1));r.write_shift(2,2048);var a=en(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}function _le(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=fT[r]||r,r=e.read_shift(2),t[1]=fT[r]||r,t}function Mle(e){return e||(e=Ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Lle(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(_B(e));return r}function Tle(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(_B(e));return r}function Ile(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function PB(e,t,r){if(!r.cellStyles)return ei(e,t);var a=r&&r.biff>=12?4:2,n=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function Dle(e,t){var r=Ze(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function Ple(e,t){var r={};return t<32||(e.l+=16,r.header=Ks(e),r.footer=Ks(e),e.l+=2),r}function Ole(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,n&16&&(a.area=!0),a}function Rle(e){for(var t=Ze(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Fle=Sc,Ble=SB,zle=Y1;function $le(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}function Ule(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=Sc(e);++e.l;var n=E0(e,t-7,r);return a.t="str",a.val=n,a}function Wle(e){var t=Sc(e);++e.l;var r=Ks(e);return t.t="n",t.val=r,t}function Hle(e,t,r){var a=Ze(15);return X1(a,e,t),a.write_shift(8,r,"f"),a}function Vle(e){var t=Sc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Gle(e,t,r){var a=Ze(9);return X1(a,e,t),a.write_shift(2,r),a}function qle(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Yle(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Jle(e,t,r){var a=e.l+t,n=Sc(e),s=e.read_shift(2),o=Ku(e,s,r);return e.l=a,n.t="str",n.val=o,n}var Kle=[2,3,48,49,131,139,140,245],L3=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=zw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],f=bf(1);switch(c.type){case"base64":f=Ji(ao(l));break;case"binary":f=Ji(l);break;case"buffer":case"array":f=l;break}Cs(f,0);var u=f.read_shift(1),m=!!(u&136),h=!1,g=!1;switch(u){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+u.toString(16))}var p=0,x=521;u==2&&(p=f.read_shift(2)),f.l+=3,u!=2&&(p=f.read_shift(4)),p>1048576&&(p=1e6),u!=2&&(x=f.read_shift(2));var v=f.read_shift(2),b=c.codepage||1252;u!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(b=e[f[f.l]]),f.l+=1,f.l+=2),g&&(f.l+=36);for(var y=[],w={},j=Math.min(f.length,u==2?521:x-10-(h?264:0)),E=g?32:11;f.l<j&&f[f.l]!=13;)switch(w={},w.name=hx.utils.decode(b,f.slice(f.l,f.l+E)).replace(/[\u0000\r\n].*$/g,""),f.l+=E,w.type=String.fromCharCode(f.read_shift(1)),u!=2&&!g&&(w.offset=f.read_shift(4)),w.len=f.read_shift(1),u==2&&(w.offset=f.read_shift(2)),w.dec=f.read_shift(1),w.name.length&&y.push(w),u!=2&&(f.l+=g?13:14),w.type){case"B":(!h||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(f[f.l]!==13&&(f.l=x-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=x;var A=0,C=0;for(d[0]=[],C=0;C!=y.length;++C)d[0][C]=y[C].name;for(;p-- >0;){if(f[f.l]===42){f.l+=v;continue}for(++f.l,d[++A]=[],C=0,C=0;C!=y.length;++C){var S=f.slice(f.l,f.l+y[C].len);f.l+=y[C].len,Cs(S,0);var T=hx.utils.decode(b,S);switch(y[C].type){case"C":T.trim().length&&(d[A][C]=T.replace(/\s+$/,""));break;case"D":T.length===8?d[A][C]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):d[A][C]=T;break;case"F":d[A][C]=parseFloat(T.trim());break;case"+":case"I":d[A][C]=g?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":d[A][C]=!0;break;case"N":case"F":d[A][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+u.toString(16));d[A][C]="##MEMO##"+(g?parseInt(T.trim(),10):S.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(d[A][C]=+T||0);break;case"@":d[A][C]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":d[A][C]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":d[A][C]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[A][C]=-S.read_shift(-8,"f");break;case"B":if(h&&y[C].len==8){d[A][C]=S.read_shift(8,"f");break}case"G":case"P":S.l+=y[C].len;break;case"0":if(y[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[C].type)}}}if(u!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=y,d}function a(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var f=Jm(r(l,d),d);return f["!cols"]=d.DBF.map(function(u){return{wch:u.len,DBF:u}}),delete d.DBF,f}function n(l,c){try{return Df(a(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&xl(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var f=Ei(),u=Qb(l,{header:1,raw:!0,cellDates:!0}),m=u[0],h=u.slice(1),g=l["!cols"]||[],p=0,x=0,v=0,b=1;for(p=0;p<m.length;++p){if(((g[p]||{}).DBF||{}).name){m[p]=g[p].DBF.name,++v;continue}if(m[p]!=null){if(++v,typeof m[p]=="number"&&(m[p]=m[p].toString(10)),typeof m[p]!="string")throw new Error("DBF Invalid column name "+m[p]+" |"+typeof m[p]+"|");if(m.indexOf(m[p])!==p){for(x=0;x<1024;++x)if(m.indexOf(m[p]+"_"+x)==-1){m[p]+="_"+x;break}}}}var y=Dr(l["!ref"]),w=[],j=[],E=[];for(p=0;p<=y.e.c-y.s.c;++p){var A="",C="",S=0,T=[];for(x=0;x<h.length;++x)h[x][p]!=null&&T.push(h[x][p]);if(T.length==0||m[p]==null){w[p]="?";continue}for(x=0;x<T.length;++x){switch(typeof T[x]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=T[x]instanceof Date?"D":"C";break;default:C="C"}S=Math.max(S,String(T[x]).length),A=A&&A!=C?"C":C}S>250&&(S=250),C=((g[p]||{}).DBF||{}).type,C=="C"&&g[p].DBF.len>S&&(S=g[p].DBF.len),A=="B"&&C=="N"&&(A="N",E[p]=g[p].DBF.dec,S=g[p].DBF.len),j[p]=A=="C"||C=="N"?S:s[A]||0,b+=j[p],w[p]=A}var _=f.next(32);for(_.write_shift(4,318902576),_.write_shift(4,h.length),_.write_shift(2,296+32*v),_.write_shift(2,b),p=0;p<4;++p)_.write_shift(4,0);for(_.write_shift(4,0|(+t[NF]||3)<<8),p=0,x=0;p<m.length;++p)if(m[p]!=null){var M=f.next(32),D=(m[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,D,"sbcs"),M.write_shift(1,w[p]=="?"?"C":w[p],"sbcs"),M.write_shift(4,x),M.write_shift(1,j[p]||s[w[p]]||0),M.write_shift(1,E[p]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),x+=j[p]||s[w[p]]||0}var O=f.next(264);for(O.write_shift(4,13),p=0;p<65;++p)O.write_shift(4,0);for(p=0;p<h.length;++p){var B=f.next(b);for(B.write_shift(1,0),x=0;x<m.length;++x)if(m[x]!=null)switch(w[x]){case"L":B.write_shift(1,h[p][x]==null?63:h[p][x]?84:70);break;case"B":B.write_shift(8,h[p][x]||0,"f");break;case"N":var U="0";for(typeof h[p][x]=="number"&&(U=h[p][x].toFixed(E[x]||0)),v=0;v<j[x]-U.length;++v)B.write_shift(1,32);B.write_shift(1,U,"sbcs");break;case"D":h[p][x]?(B.write_shift(4,("0000"+h[p][x].getFullYear()).slice(-4),"sbcs"),B.write_shift(2,("00"+(h[p][x].getMonth()+1)).slice(-2),"sbcs"),B.write_shift(2,("00"+h[p][x].getDate()).slice(-2),"sbcs")):B.write_shift(8,"00000000","sbcs");break;case"C":var q=String(h[p][x]!=null?h[p][x]:"").slice(0,j[x]);for(B.write_shift(1,q,"sbcs"),v=0;v<j[x]-q.length;++v)B.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:n,to_sheet:a,from_sheet:o}}(),OB=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+un(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var g=e[h];return typeof g=="number"?FL(g):g},a=function(m,h,g){var p=h.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?m:FL(p)};e["|"]=254;function n(m,h){switch(h.type){case"base64":return s(ao(m),h);case"binary":return s(m,h);case"buffer":return s(hr&&Buffer.isBuffer(m)?m.toString("binary"):If(m),h);case"array":return s(Yu(m),h)}throw new Error("Unrecognized type "+h.type)}function s(m,h){var g=m.split(/[\n\r]+/),p=-1,x=-1,v=0,b=0,y=[],w=[],j=null,E={},A=[],C=[],S=[],T=0,_;for(+h.codepage>=0&&xl(+h.codepage);v!==g.length;++v){T=0;var M=g[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),D=M.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),O=D[0],B;if(M.length>0)switch(O){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&w.push(M.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,q=!1,K=!1,G=!1,ve=-1,fe=-1;for(b=1;b<D.length;++b)switch(D[b].charAt(0)){case"A":break;case"X":x=parseInt(D[b].slice(1))-1,q=!0;break;case"Y":for(p=parseInt(D[b].slice(1))-1,q||(x=0),_=y.length;_<=p;++_)y[_]=[];break;case"K":B=D[b].slice(1),B.charAt(0)==='"'?B=B.slice(1,B.length-1):B==="TRUE"?B=!0:B==="FALSE"?B=!1:isNaN(kl(B))?isNaN(Kh(B).getDate())||(B=$a(B)):(B=kl(B),j!==null&&qm(j)&&(B=Uw(B))),U=!0;break;case"E":G=!0;var I=Ph(D[b].slice(1),{r:p,c:x});y[p][x]=[y[p][x],I];break;case"S":K=!0,y[p][x]=[y[p][x],"S5S"];break;case"G":break;case"R":ve=parseInt(D[b].slice(1))-1;break;case"C":fe=parseInt(D[b].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}if(U&&(y[p][x]&&y[p][x].length==2?y[p][x][0]=B:y[p][x]=B,j=null),K){if(G)throw new Error("SYLK shared formula cannot have own formula");var z=ve>-1&&y[ve][fe];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");y[p][x][1]=ez(z[1],{r:p-ve,c:x-fe})}break;case"F":var H=0;for(b=1;b<D.length;++b)switch(D[b].charAt(0)){case"X":x=parseInt(D[b].slice(1))-1,++H;break;case"Y":for(p=parseInt(D[b].slice(1))-1,_=y.length;_<=p;++_)y[_]=[];break;case"M":T=parseInt(D[b].slice(1))/20;break;case"F":break;case"G":break;case"P":j=w[parseInt(D[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=D[b].slice(1).split(" "),_=parseInt(S[0],10);_<=parseInt(S[1],10);++_)T=parseInt(S[2],10),C[_-1]=T===0?{hidden:!0}:{wch:T},wf(C[_-1]);break;case"C":x=parseInt(D[b].slice(1))-1,C[x]||(C[x]={});break;case"R":p=parseInt(D[b].slice(1))-1,A[p]||(A[p]={}),T>0?(A[p].hpt=T,A[p].hpx=Xh(T)):T===0&&(A[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}H<1&&(j=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}}return A.length>0&&(E["!rows"]=A),C.length>0&&(E["!cols"]=C),h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),[y,E]}function o(m,h){var g=n(m,h),p=g[0],x=g[1],v=Jm(p,h);return un(x).forEach(function(b){v[b]=x[b]}),v}function l(m,h){return Df(o(m,h),h)}function c(m,h,g,p){var x="C;Y"+(g+1)+";X"+(p+1)+";K";switch(m.t){case"n":x+=m.v||0,m.f&&!m.F&&(x+=";E"+aC(m.f,{r:g,c:p}));break;case"b":x+=m.v?"TRUE":"FALSE";break;case"e":x+=m.w||m.v;break;case"d":x+='"'+(m.w||m.v)+'"';break;case"s":x+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function d(m,h){h.forEach(function(g,p){var x="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=wx(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=kx(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&m.push(x)})}function f(m,h){h.forEach(function(g,p){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*jx(g.hpx)+";"),x.length>2&&m.push(x+"R"+(p+1))})}function u(m,h){var g=["ID;PWXL;N;E"],p=[],x=Dr(m["!ref"]),v,b=Array.isArray(m),y=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),m["!cols"]&&d(g,m["!cols"]),m["!rows"]&&f(g,m["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var w=x.s.r;w<=x.e.r;++w)for(var j=x.s.c;j<=x.e.c;++j){var E=qt({r:w,c:j});v=b?(m[w]||[])[j]:m[E],!(!v||v.v==null&&(!v.f||v.F))&&p.push(c(v,m,w,j))}return g.join(y)+y+p.join(y)+y+"E"+y}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),RB=function(){function e(s,o){switch(o.type){case"base64":return t(ao(s),o);case"binary":return t(s,o);case"buffer":return t(hr&&Buffer.isBuffer(s)?s.toString("binary"):If(s),o);case"array":return t(Yu(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,d=-1,f=0,u=[];f!==l.length;++f){if(l[f].trim()==="BOT"){u[++c]=[],d=0;continue}if(!(c<0)){var m=l[f].trim().split(","),h=m[0],g=m[1];++f;for(var p=l[f]||"";(p.match(/["]/g)||[]).length&1&&f<l.length-1;)p+=`
`+l[++f];switch(p=p.trim(),+h){case-1:if(p==="BOT"){u[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?u[c][d]=!0:p==="FALSE"?u[c][d]=!1:isNaN(kl(g))?isNaN(Kh(g).getDate())?u[c][d]=g:u[c][d]=$a(g):u[c][d]=kl(g),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),u[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(u=u.slice(0,o.sheetRows)),u}function r(s,o){return Jm(e(s,o),o)}function a(s,o){return Df(r(s,o),o)}var n=function(){var s=function(c,d,f,u,m){c.push(d),c.push(f+","+u),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,f,u){c.push(d+","+f),c.push(d==1?'"'+u.replace(/"/g,'""')+'"':u)};return function(c){var d=[],f=Dr(c["!ref"]),u,m=Array.isArray(c);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,f.e.r-f.s.r+1,""),s(d,"TUPLES",0,f.e.c-f.s.c+1,""),s(d,"DATA",0,0,"");for(var h=f.s.r;h<=f.e.r;++h){o(d,-1,0,"BOT");for(var g=f.s.c;g<=f.e.c;++g){var p=qt({r:h,c:g});if(u=m?(c[h]||[])[g]:c[p],!u){o(d,1,0,"");continue}switch(u.t){case"n":var x=u.w;!x&&u.v!=null&&(x=u.v),x==null?u.f&&!u.F?o(d,1,0,"="+u.f):o(d,1,0,""):o(d,0,x,"V");break;case"b":o(d,0,u.v?1:0,u.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(u.v)?u.v:'="'+u.v+'"');break;case"d":u.w||(u.w=zo(u.z||Gt[14],ns($a(u.v)))),o(d,0,u.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var v=`\r
`,b=d.join(v);return b}}();return{to_workbook:a,to_sheet:r,from_sheet:n}}(),FB=function(){function e(u){return u.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(u){return u.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(u,m){for(var h=u.split(`
`),g=-1,p=-1,x=0,v=[];x!==h.length;++x){var b=h[x].trim().split(":");if(b[0]==="cell"){var y=en(b[1]);if(v.length<=y.r)for(g=v.length;g<=y.r;++g)v[g]||(v[g]=[]);switch(g=y.r,p=y.c,b[2]){case"t":v[g][p]=e(b[3]);break;case"v":v[g][p]=+b[3];break;case"vtf":var w=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[g][p]=!!+b[4];break;default:v[g][p]=+b[4];break}b[2]=="vtf"&&(v[g][p]=[v[g][p],w])}}}return m&&m.sheetRows&&(v=v.slice(0,m.sheetRows)),v}function a(u,m){return Jm(r(u,m),m)}function n(u,m){return Df(a(u,m),m)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(u){if(!u||!u["!ref"])return"";for(var m=[],h=[],g,p="",x=Ti(u["!ref"]),v=Array.isArray(u),b=x.s.r;b<=x.e.r;++b)for(var y=x.s.c;y<=x.e.c;++y)if(p=qt({r:b,c:y}),g=v?(u[b]||[])[y]:u[p],!(!g||g.v==null||g.t==="z")){switch(h=["cell",p,"t"],g.t){case"s":case"str":h.push(t(g.v));break;case"n":g.f?(h[2]="vtf",h[3]="n",h[4]=g.v,h[5]=t(g.f)):(h[2]="v",h[3]=g.v);break;case"b":h[2]="vt"+(g.f?"f":"c"),h[3]="nl",h[4]=g.v?"1":"0",h[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var w=ns($a(g.v));h[2]="vtc",h[3]="nd",h[4]=""+w,h[5]=g.w||zo(g.z||Gt[14],w);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function f(u){return[s,o,l,o,d(u),c].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:f}}(),Qh=function(){function e(f,u,m,h,g){g.raw?u[m][h]=f:f===""||(f==="TRUE"?u[m][h]=!0:f==="FALSE"?u[m][h]=!1:isNaN(kl(f))?isNaN(Kh(f).getDate())?u[m][h]=f:u[m][h]=$a(f):u[m][h]=kl(f))}function t(f,u){var m=u||{},h=[];if(!f||f.length===0)return h;for(var g=f.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var x=10,v=0,b=0;b<=p;++b)v=g[b].indexOf(" "),v==-1?v=g[b].length:v++,x=Math.max(x,v);for(b=0;b<=p;++b){h[b]=[];var y=0;for(e(g[b].slice(0,x).trim(),h,b,y,m),y=1;y<=(g[b].length-x)/10+1;++y)e(g[b].slice(x+(y-1)*10,x+y*10).trim(),h,b,y,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(f){for(var u={},m=!1,h=0,g=0;h<f.length;++h)(g=f.charCodeAt(h))==34?m=!m:!m&&g in r&&(u[g]=(u[g]||0)+1);g=[];for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&g.push([u[h],h]);if(!g.length){u=a;for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&g.push([u[h],h])}return g.sort(function(p,x){return p[0]-x[0]||a[p[1]]-a[x[1]]}),r[g.pop()[1]]||44}function s(f,u){var m=u||{},h="",g=m.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(h=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(h=f.charAt(4),f=f.slice(6)):h=n(f.slice(0,1024)):m&&m.FS?h=m.FS:h=n(f.slice(0,1024));var x=0,v=0,b=0,y=0,w=0,j=h.charCodeAt(0),E=!1,A=0,C=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var S=m.dateNF!=null?Ose(m.dateNF):null;function T(){var _=f.slice(y,w),M={};if(_.charAt(0)=='"'&&_.charAt(_.length-1)=='"'&&(_=_.slice(1,-1).replace(/""/g,'"')),_.length===0)M.t="z";else if(m.raw)M.t="s",M.v=_;else if(_.trim().length===0)M.t="s",M.v=_;else if(_.charCodeAt(0)==61)_.charCodeAt(1)==34&&_.charCodeAt(_.length-1)==34?(M.t="s",M.v=_.slice(2,-1).replace(/""/g,'"')):ffe(_)?(M.t="n",M.f=_.slice(1)):(M.t="s",M.v=_);else if(_=="TRUE")M.t="b",M.v=!0;else if(_=="FALSE")M.t="b",M.v=!1;else if(!isNaN(b=kl(_)))M.t="n",m.cellText!==!1&&(M.w=_),M.v=b;else if(!isNaN(Kh(_).getDate())||S&&_.match(S)){M.z=m.dateNF||Gt[14];var D=0;S&&_.match(S)&&(_=Rse(_,m.dateNF,_.match(S)||[]),D=1),m.cellDates?(M.t="d",M.v=$a(_,D)):(M.t="n",M.v=ns($a(_,D))),m.cellText!==!1&&(M.w=zo(M.z,M.v instanceof Date?ns(M.v):M.v)),m.cellNF||delete M.z}else M.t="s",M.v=_;if(M.t=="z"||(m.dense?(g[x]||(g[x]=[]),g[x][v]=M):g[qt({c:v,r:x})]=M),y=w+1,C=f.charCodeAt(y),p.e.c<v&&(p.e.c=v),p.e.r<x&&(p.e.r=x),A==j)++v;else if(v=0,++x,m.sheetRows&&m.sheetRows<=x)return!0}e:for(;w<f.length;++w)switch(A=f.charCodeAt(w)){case 34:C===34&&(E=!E);break;case j:case 10:case 13:if(!E&&T())break e;break}return w-y>0&&T(),g["!ref"]=ir(p),g}function o(f,u){return!(u&&u.PRN)||u.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,u):Jm(t(f,u),u)}function l(f,u){var m="",h=u.type=="string"?[0,0,0,0]:fC(f,u);switch(u.type){case"base64":m=ao(f);break;case"binary":m=f;break;case"buffer":u.codepage==65001?m=f.toString("utf8"):u.codepage&&typeof hx<"u"||(m=hr&&Buffer.isBuffer(f)?f.toString("binary"):If(f));break;case"array":m=Yu(f);break;case"string":m=f;break;default:throw new Error("Unrecognized type "+u.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=fa(m.slice(3)):u.type!="string"&&u.type!="buffer"&&u.codepage==65001?m=fa(m):u.type=="binary"&&typeof hx<"u",m.slice(0,19)=="socialcalc:version:"?FB.to_sheet(u.type=="string"?m:fa(m),u):o(m,u)}function c(f,u){return Df(l(f,u),u)}function d(f){for(var u=[],m=Dr(f["!ref"]),h,g=Array.isArray(f),p=m.s.r;p<=m.e.r;++p){for(var x=[],v=m.s.c;v<=m.e.c;++v){var b=qt({r:p,c:v});if(h=g?(f[p]||[])[v]:f[b],!h||h.v==null){x.push("          ");continue}for(var y=(h.w||(cd(h),h.w)||"").slice(0,10);y.length<10;)y+=" ";x.push(y+(v===0?" ":""))}u.push(x.join(""))}return u.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}();function Qle(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var n=OB.to_workbook(e,r);return r.WTF=a,n}catch(s){if(r.WTF=a,!s.message.match(/SYLK bad record ID/)&&a)throw s;return Qh.to_workbook(e,t)}}var Iu=function(){function e(I,z,H){if(I){Cs(I,I.l||0);for(var J=H.Enum||ve;I.l<I.length;){var te=I.read_shift(2),W=J[te]||J[65535],Y=I.read_shift(2),Q=I.l+Y,ne=W.f&&W.f(I,Y,H);if(I.l=Q,z(ne,W,te))return}}}function t(I,z){switch(z.type){case"base64":return r(Ji(ao(I)),z);case"binary":return r(Ji(I),z);case"buffer":case"array":return r(I,z)}throw"Unsupported type "+z.type}function r(I,z){if(!I)return I;var H=z||{},J=H.dense?[]:{},te="Sheet1",W="",Y=0,Q={},ne=[],pe=[],F={s:{r:0,c:0},e:{r:0,c:0}},Te=H.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)H.Enum=ve,e(I,function(Se,Fe,he){switch(he){case 0:H.vers=Se,Se>=4096&&(H.qpro=!0);break;case 6:F=Se;break;case 204:Se&&(W=Se);break;case 222:W=Se;break;case 15:case 51:H.qpro||(Se[1].v=Se[1].v.slice(1));case 13:case 14:case 16:he==14&&(Se[2]&112)==112&&(Se[2]&15)>1&&(Se[2]&15)<15&&(Se[1].z=H.dateNF||Gt[14],H.cellDates&&(Se[1].t="d",Se[1].v=Uw(Se[1].v))),H.qpro&&Se[3]>Y&&(J["!ref"]=ir(F),Q[te]=J,ne.push(te),J=H.dense?[]:{},F={s:{r:0,c:0},e:{r:0,c:0}},Y=Se[3],te=W||"Sheet"+(Y+1),W="");var ie=H.dense?(J[Se[0].r]||[])[Se[0].c]:J[qt(Se[0])];if(ie){ie.t=Se[1].t,ie.v=Se[1].v,Se[1].z!=null&&(ie.z=Se[1].z),Se[1].f!=null&&(ie.f=Se[1].f);break}H.dense?(J[Se[0].r]||(J[Se[0].r]=[]),J[Se[0].r][Se[0].c]=Se[1]):J[qt(Se[0])]=Se[1];break}},H);else if(I[2]==26||I[2]==14)H.Enum=fe,I[2]==14&&(H.qpro=!0,I.l=0),e(I,function(Se,Fe,he){switch(he){case 204:te=Se;break;case 22:Se[1].v=Se[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Se[3]>Y&&(J["!ref"]=ir(F),Q[te]=J,ne.push(te),J=H.dense?[]:{},F={s:{r:0,c:0},e:{r:0,c:0}},Y=Se[3],te="Sheet"+(Y+1)),Te>0&&Se[0].r>=Te)break;H.dense?(J[Se[0].r]||(J[Se[0].r]=[]),J[Se[0].r][Se[0].c]=Se[1]):J[qt(Se[0])]=Se[1],F.e.c<Se[0].c&&(F.e.c=Se[0].c),F.e.r<Se[0].r&&(F.e.r=Se[0].r);break;case 27:Se[14e3]&&(pe[Se[14e3][0]]=Se[14e3][1]);break;case 1537:pe[Se[0]]=Se[1],Se[0]==Y&&(te=Se[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(J["!ref"]=ir(F),Q[W||te]=J,ne.push(W||te),!pe.length)return{SheetNames:ne,Sheets:Q};for(var xe={},se=[],We=0;We<pe.length;++We)Q[ne[We]]?(se.push(pe[We]||ne[We]),xe[pe[We]]=Q[pe[We]]||Q[ne[We]]):(se.push(pe[We]),xe[pe[We]]={"!ref":"A1"});return{SheetNames:se,Sheets:xe}}function a(I,z){var H=z||{};if(+H.codepage>=0&&xl(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var J=Ei(),te=Dr(I["!ref"]),W=Array.isArray(I),Y=[];vt(J,0,s(1030)),vt(J,6,c(te));for(var Q=Math.min(te.e.r,8191),ne=te.s.r;ne<=Q;++ne)for(var pe=Cn(ne),F=te.s.c;F<=te.e.c;++F){ne===te.s.r&&(Y[F]=Za(F));var Te=Y[F]+pe,xe=W?(I[ne]||[])[F]:I[Te];if(!(!xe||xe.t=="z"))if(xe.t=="n")(xe.v|0)==xe.v&&xe.v>=-32768&&xe.v<=32767?vt(J,13,h(ne,F,xe.v)):vt(J,14,p(ne,F,xe.v));else{var se=cd(xe);vt(J,15,u(ne,F,se.slice(0,239)))}}return vt(J,1),J.end()}function n(I,z){var H=z||{};if(+H.codepage>=0&&xl(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var J=Ei();vt(J,0,o(I));for(var te=0,W=0;te<I.SheetNames.length;++te)(I.Sheets[I.SheetNames[te]]||{})["!ref"]&&vt(J,27,G(I.SheetNames[te],W++));var Y=0;for(te=0;te<I.SheetNames.length;++te){var Q=I.Sheets[I.SheetNames[te]];if(!(!Q||!Q["!ref"])){for(var ne=Dr(Q["!ref"]),pe=Array.isArray(Q),F=[],Te=Math.min(ne.e.r,8191),xe=ne.s.r;xe<=Te;++xe)for(var se=Cn(xe),We=ne.s.c;We<=ne.e.c;++We){xe===ne.s.r&&(F[We]=Za(We));var Se=F[We]+se,Fe=pe?(Q[xe]||[])[We]:Q[Se];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")vt(J,23,T(xe,We,Y,Fe.v));else{var he=cd(Fe);vt(J,22,A(xe,We,Y,he.slice(0,239)))}}++Y}}return vt(J,1),J.end()}function s(I){var z=Ze(2);return z.write_shift(2,I),z}function o(I){var z=Ze(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var H=0,J=0,te=0,W=0;W<I.SheetNames.length;++W){var Y=I.SheetNames[W],Q=I.Sheets[Y];if(!(!Q||!Q["!ref"])){++te;var ne=Ti(Q["!ref"]);H<ne.e.r&&(H=ne.e.r),J<ne.e.c&&(J=ne.e.c)}}return H>8191&&(H=8191),z.write_shift(2,H),z.write_shift(1,te),z.write_shift(1,J),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function l(I,z,H){var J={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&H.qpro?(J.s.c=I.read_shift(1),I.l++,J.s.r=I.read_shift(2),J.e.c=I.read_shift(1),I.l++,J.e.r=I.read_shift(2),J):(J.s.c=I.read_shift(2),J.s.r=I.read_shift(2),z==12&&H.qpro&&(I.l+=2),J.e.c=I.read_shift(2),J.e.r=I.read_shift(2),z==12&&H.qpro&&(I.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function c(I){var z=Ze(8);return z.write_shift(2,I.s.c),z.write_shift(2,I.s.r),z.write_shift(2,I.e.c),z.write_shift(2,I.e.r),z}function d(I,z,H){var J=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(J[0].c=I.read_shift(1),J[3]=I.read_shift(1),J[0].r=I.read_shift(2),I.l+=2):(J[2]=I.read_shift(1),J[0].c=I.read_shift(2),J[0].r=I.read_shift(2)),J}function f(I,z,H){var J=I.l+z,te=d(I,z,H);if(te[1].t="s",H.vers==20768){I.l++;var W=I.read_shift(1);return te[1].v=I.read_shift(W,"utf8"),te}return H.qpro&&I.l++,te[1].v=I.read_shift(J-I.l,"cstr"),te}function u(I,z,H){var J=Ze(7+H.length);J.write_shift(1,255),J.write_shift(2,z),J.write_shift(2,I),J.write_shift(1,39);for(var te=0;te<J.length;++te){var W=H.charCodeAt(te);J.write_shift(1,W>=128?95:W)}return J.write_shift(1,0),J}function m(I,z,H){var J=d(I,z,H);return J[1].v=I.read_shift(2,"i"),J}function h(I,z,H){var J=Ze(7);return J.write_shift(1,255),J.write_shift(2,z),J.write_shift(2,I),J.write_shift(2,H,"i"),J}function g(I,z,H){var J=d(I,z,H);return J[1].v=I.read_shift(8,"f"),J}function p(I,z,H){var J=Ze(13);return J.write_shift(1,255),J.write_shift(2,z),J.write_shift(2,I),J.write_shift(8,H,"f"),J}function x(I,z,H){var J=I.l+z,te=d(I,z,H);if(te[1].v=I.read_shift(8,"f"),H.qpro)I.l=J;else{var W=I.read_shift(2);w(I.slice(I.l,I.l+W),te),I.l+=W}return te}function v(I,z,H){var J=z&32768;return z&=-32769,z=(J?I:0)+(z>=8192?z-16384:z),(J?"":"$")+(H?Za(z):Cn(z))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(I,z){Cs(I,0);for(var H=[],J=0,te="",W="",Y="",Q="";I.l<I.length;){var ne=I[I.l++];switch(ne){case 0:H.push(I.read_shift(8,"f"));break;case 1:W=v(z[0].c,I.read_shift(2),!0),te=v(z[0].r,I.read_shift(2),!1),H.push(W+te);break;case 2:{var pe=v(z[0].c,I.read_shift(2),!0),F=v(z[0].r,I.read_shift(2),!1);W=v(z[0].c,I.read_shift(2),!0),te=v(z[0].r,I.read_shift(2),!1),H.push(pe+F+":"+W+te)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(I.read_shift(2));break;case 6:{for(var Te="";ne=I[I.l++];)Te+=String.fromCharCode(ne);H.push('"'+Te.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:Q=H.pop(),Y=H.pop(),H.push(["AND","OR"][ne-20]+"("+Y+","+Q+")");break;default:if(ne<32&&y[ne])Q=H.pop(),Y=H.pop(),H.push(Y+y[ne]+Q);else if(b[ne]){if(J=b[ne][1],J==69&&(J=I[I.l++]),J>H.length){console.error("WK1 bad formula parse 0x"+ne.toString(16)+":|"+H.join("|")+"|");return}var xe=H.slice(-J);H.length-=J,H.push(b[ne][0]+"("+xe.join(",")+")")}else return ne<=7?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=24?console.error("WK1 unsupported op "+ne.toString(16)):ne<=30?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=115?console.error("WK1 unsupported function opcode "+ne.toString(16)):console.error("WK1 unrecognized opcode "+ne.toString(16))}}H.length==1?z[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function j(I){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=I.read_shift(2),z[3]=I[I.l++],z[0].c=I[I.l++],z}function E(I,z){var H=j(I);return H[1].t="s",H[1].v=I.read_shift(z-4,"cstr"),H}function A(I,z,H,J){var te=Ze(6+J.length);te.write_shift(2,I),te.write_shift(1,H),te.write_shift(1,z),te.write_shift(1,39);for(var W=0;W<J.length;++W){var Y=J.charCodeAt(W);te.write_shift(1,Y>=128?95:Y)}return te.write_shift(1,0),te}function C(I,z){var H=j(I);H[1].v=I.read_shift(2);var J=H[1].v>>1;if(H[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return H[1].v=J,H}function S(I,z){var H=j(I),J=I.read_shift(4),te=I.read_shift(4),W=I.read_shift(2);if(W==65535)return J===0&&te===3221225472?(H[1].t="e",H[1].v=15):J===0&&te===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var Y=W&32768;return W=(W&32767)-16446,H[1].v=(1-Y*2)*(te*Math.pow(2,W+32)+J*Math.pow(2,W)),H}function T(I,z,H,J){var te=Ze(14);if(te.write_shift(2,I),te.write_shift(1,H),te.write_shift(1,z),J==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var W=0,Y=0,Q=0,ne=0;return J<0&&(W=1,J=-J),Y=Math.log2(J)|0,J/=Math.pow(2,Y-31),ne=J>>>0,ne&2147483648||(J/=2,++Y,ne=J>>>0),J-=ne,ne|=2147483648,ne>>>=0,J*=Math.pow(2,32),Q=J>>>0,te.write_shift(4,Q),te.write_shift(4,ne),Y+=16383+(W?32768:0),te.write_shift(2,Y),te}function _(I,z){var H=S(I);return I.l+=z-14,H}function M(I,z){var H=j(I),J=I.read_shift(4);return H[1].v=J>>6,H}function D(I,z){var H=j(I),J=I.read_shift(8,"f");return H[1].v=J,H}function O(I,z){var H=D(I);return I.l+=z-10,H}function B(I,z){return I[I.l+z-1]==0?I.read_shift(z,"cstr"):""}function U(I,z){var H=I[I.l++];H>z-1&&(H=z-1);for(var J="";J.length<H;)J+=String.fromCharCode(I[I.l++]);return J}function q(I,z,H){if(!(!H.qpro||z<21)){var J=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var te=I.read_shift(z-21,"cstr");return[J,te]}}function K(I,z){for(var H={},J=I.l+z;I.l<J;){var te=I.read_shift(2);if(te==14e3){for(H[te]=[0,""],H[te][0]=I.read_shift(2);I[I.l];)H[te][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return H}function G(I,z){var H=Ze(5+I.length);H.write_shift(2,14e3),H.write_shift(2,z);for(var J=0;J<I.length;++J){var te=I.charCodeAt(J);H[H.l++]=te>127?95:te}return H[H.l++]=0,H}var ve={0:{n:"BOF",f:On},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:g},15:{n:"LABEL",f},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:B},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},fe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:E},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:_},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:O},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:B},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}}();function Xle(e){var t={},r=e.match(ri),a=0,n=!1;if(r)for(;a!=r.length;++a){var s=Jt(r[a]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=E6[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+s[0])}}return t}var Zle=function(){var e=gx("t"),t=gx("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:Ir(o[1])},c=s.match(t);return c&&(l.s=Xle(c[1])),l}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(n).map(r).filter(function(l){return l.v})}}(),ece=function(){var t=/(\r\n|\n)/g;function r(n,s,o){var l=[];n.u&&l.push("text-decoration: underline;"),n.uval&&l.push("text-underline-style:"+n.uval+";"),n.sz&&l.push("font-size:"+n.sz+"pt;"),n.outline&&l.push("text-effect: outline;"),n.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),n.b&&(s.push("<b>"),o.push("</b>")),n.i&&(s.push("<i>"),o.push("</i>")),n.strike&&(s.push("<s>"),o.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),n}function a(n){var s=[[],n.v,[]];return n.v?(n.s&&r(n.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(a).join("")}}(),tce=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,rce=/<(?:\w+:)?r>/,ace=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function X6(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=Ir(fa(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=fa(e),r&&(a.h=F6(a.t))):e.match(rce)&&(a.r=fa(e),a.t=Ir(fa((e.replace(ace,"").match(tce)||[]).join("").replace(ri,""))),r&&(a.h=ece(Zle(a.r)))),a):{t:""}}var nce=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,sce=/<(?:\w+:)?(?:si|sstItem)>/g,ice=/<\/(?:\w+:)?(?:si|sstItem)>/;function oce(e,t){var r=[],a="";if(!e)return r;var n=e.match(nce);if(n){a=n[2].replace(sce,"").split(ice);for(var s=0;s!=a.length;++s){var o=X6(a[s].trim(),t);o!=null&&(r[r.length]=o)}n=Jt(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}var lce=/^\s|\s$|[\t\n\r]/;function BB(e,t){if(!t.bookSST)return"";var r=[En];r[r.length]=xt("sst",null,{xmlns:j0[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],s="<si>";n.r?s+=n.r:(s+="<t",n.t||(n.t=""),n.t.match(lce)&&(s+=' xml:space="preserve"'),s+=">"+ra(n.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function cce(e){return[e.read_shift(4),e.read_shift(4)]}function dce(e,t){var r=[],a=!1;return yd(e,function(s,o,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function fce(e,t){return t||(t=Ze(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var uce=kie;function hce(e){var t=Ei();ot(t,159,fce(e));for(var r=0;r<e.length;++r)ot(t,19,uce(e[r]));return ot(t,160),t.end()}function zB(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function ed(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function mce(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ed(e,4),t.U=ed(e,4),t.W=ed(e,4),t}function pce(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},n=e.read_shift(4),s=[];n-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function gce(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(pce(e));return t}function xce(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function vce(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ed(e,4),t.U=ed(e,4),t.W=ed(e,4),t}function yce(e){var t=vce(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function $B(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function UB(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function bce(e){var t=ed(e);switch(t.Minor){case 2:return[t.Minor,wce(e)];case 3:return[t.Minor,kce()];case 4:return[t.Minor,jce(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function wce(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=$B(e,r),n=UB(e,e.length-e.l);return{t:"Std",h:a,v:n}}function kce(){throw new Error("File is password-protected: ECMA-376 Extensible")}function jce(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(ri,function(s){var o=Jt(s);switch(Nc(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){a[l]=o[l]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function Nce(e,t){var r={},a=r.EncryptionVersionInfo=ed(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=$B(e,n),t-=n,r.EncryptionVerifier=UB(e,t),r}function Sce(e){var t={},r=t.EncryptionVersionInfo=ed(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Z6(e){var t=0,r,a=zB(e),n=a.length+1,s,o,l,c,d;for(r=bf(n),r[0]=a.length,s=1;s!=n;++s)r[s]=a[s-1];for(s=n-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var WB=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},n=function(o,l){return a(o^l)},s=function(o){for(var l=t[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var f=o[d],u=0;u!=7;++u)f&64&&(l^=r[c]),f*=2,--c;return l};return function(o){for(var l=zB(o),c=s(l),d=l.length,f=bf(16),u=0;u!=16;++u)f[u]=0;var m,h,g;for((d&1)===1&&(m=c>>8,f[d]=n(e[0],m),--d,m=c&255,h=l[l.length-1],f[d]=n(h,m));d>0;)--d,m=c>>8,f[d]=n(l[d],m),--d,m=c&255,f[d]=n(l[d],m);for(d=15,g=15-l.length;g>0;)m=c>>8,f[d]=n(e[g],m),--d,--g,m=c&255,f[d]=n(l[d],m),--d,--g;return f}}(),Cce=function(e,t,r,a,n){n||(n=t),a||(a=WB(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=a[r],o=(o>>5|o<<3)&255,n[s]=o,++r;return[n,r,a]},Ace=function(e){var t=0,r=WB(e);return function(a){var n=Cce("",a,t,r);return t=n[1],n[0]}};function Ece(e,t,r,a){var n={key:On(e),verificationBytes:On(e)};return r.password&&(n.verifier=Z6(r.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=Ace(r.password)),n}function _ce(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=Sce(e):a.Data=Nce(e,t),a}function Mce(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?_ce(e,t-2,a):Ece(e,r.biff>=8?t:t-2,r,a),a}var HB=function(){function e(n,s){switch(s.type){case"base64":return t(ao(n),s);case"binary":return t(n,s);case"buffer":return t(hr&&Buffer.isBuffer(n)?n.toString("binary"):If(n),s);case"array":return t(Yu(n),s)}throw new Error("Unrecognized type "+s.type)}function t(n,s){var o=s||{},l=o.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,u){Array.isArray(l)&&(l[u]=[]);for(var m=/\\\w+\b/g,h=0,g,p=-1;g=m.exec(f);){switch(g[0]){case"\\cell":var x=f.slice(h,m.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++p,x.length){var v={v:x,t:"s"};Array.isArray(l)?l[u][p]=v:l[qt({r:u,c:p})]=v}break}h=m.lastIndex}p>d.e.c&&(d.e.c=p)}),l["!ref"]=ir(d),l}function r(n,s){return Df(e(n,s),s)}function a(n){for(var s=["{\\rtf1\\ansi"],o=Dr(n["!ref"]),l,c=Array.isArray(n),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var u=qt({r:d,c:f});l=c?(n[d]||[])[f]:n[u],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(cd(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function Lce(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function bx(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Tce(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,n=Math.max(t,r,a),s=Math.min(t,r,a),o=n-s;if(o===0)return[0,0,t];var l=0,c=0,d=n+s;switch(c=o/(d>1?2-d:d),n){case t:l=((r-a)/o+6)%6;break;case r:l=(a-t)/o+2;break;case a:l=(t-r)/o+4;break}return[l/6,c,d/2]}function Ice(e){var t=e[0],r=e[1],a=e[2],n=r*2*(a<.5?a:1-a),s=a-n/2,o=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=n*l,o[0]+=n,o[1]+=c;break;case 1:c=n*(2-l),o[0]+=c,o[1]+=n;break;case 2:c=n*(l-2),o[1]+=n,o[2]+=c;break;case 3:c=n*(4-l),o[1]+=c,o[2]+=n;break;case 4:c=n*(l-4),o[2]+=n,o[0]+=c;break;case 5:c=n*(6-l),o[2]+=c,o[0]+=n;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function Jb(e,t){if(t===0)return e;var r=Tce(Lce(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),bx(Ice(r))}var VB=6,Dce=15,Pce=1,qs=VB;function wx(e){return Math.floor((e+Math.round(128/qs)/256)*qs)}function kx(e){return Math.floor((e-5)/qs*100+.5)/100}function Kb(e){return Math.round((e*qs+5)/qs*256)/256}function Rj(e){return Kb(kx(wx(e)))}function eC(e){var t=Math.abs(e-Rj(e)),r=qs;if(t>.005)for(qs=Pce;qs<Dce;++qs)Math.abs(e-Rj(e))<=t&&(t=Math.abs(e-Rj(e)),r=qs);qs=r}function wf(e){e.width?(e.wpx=wx(e.width),e.wch=kx(e.wpx),e.MDW=qs):e.wpx?(e.wch=kx(e.wpx),e.width=Kb(e.wch),e.MDW=qs):typeof e.wch=="number"&&(e.width=Kb(e.wch),e.wpx=wx(e.width),e.MDW=qs),e.customWidth&&delete e.customWidth}var Oce=96,GB=Oce;function jx(e){return e*96/GB}function Xh(e){return e*GB/96}var Rce={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Fce(e,t,r,a){t.Borders=[];var n={},s=!1;(e[0].match(ri)||[]).forEach(function(o){var l=Jt(o);switch(Nc(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},l.diagonalUp&&(n.diagonalUp=Ra(l.diagonalUp)),l.diagonalDown&&(n.diagonalDown=Ra(l.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a&&a.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function Bce(e,t,r,a){t.Fills=[];var n={},s=!1;(e[0].match(ri)||[]).forEach(function(o){var l=Jt(o);switch(Nc(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":l.patternType&&(n.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),l.indexed&&(n.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(n.bgColor.theme=parseInt(l.theme,10)),l.tint&&(n.bgColor.tint=parseFloat(l.tint)),l.rgb&&(n.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),l.theme&&(n.fgColor.theme=parseInt(l.theme,10)),l.tint&&(n.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(n.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a&&a.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function zce(e,t,r,a){t.Fonts=[];var n={},s=!1;(e[0].match(ri)||[]).forEach(function(o){var l=Jt(o);switch(Nc(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":l.val&&(n.name=fa(l.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=l.val?Ra(l.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=l.val?Ra(l.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(l.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=l.val?Ra(l.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=l.val?Ra(l.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=l.val?Ra(l.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=l.val?Ra(l.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=l.val?Ra(l.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":l.val&&(n.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(n.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(n.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(n.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=E6[parseInt(l.val,10)];break;case"<color":if(n.color||(n.color={}),l.auto&&(n.color.auto=Ra(l.auto)),l.rgb)n.color.rgb=l.rgb.slice(-6);else if(l.indexed){n.color.index=parseInt(l.indexed,10);var c=Lu[n.color.index];n.color.index==81&&(c=Lu[1]),c||(c=Lu[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(n.color.theme=parseInt(l.theme,10),l.tint&&(n.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=Jb(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a&&a.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function $ce(e,t,r){t.NumberFmt=[];for(var a=un(Gt),n=0;n<a.length;++n)t.NumberFmt[a[n]]=Gt[a[n]];var s=e[0].match(ri);if(s)for(n=0;n<s.length;++n){var o=Jt(s[n]);switch(Nc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Ir(fa(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Zc(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function Uce(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=xt("numFmt",null,{numFmtId:a,formatCode:ra(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=xt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var gy=["numFmtId","fillId","fontId","borderId","xfId"],xy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Wce(e,t,r){t.CellXf=[];var a,n=!1;(e[0].match(ri)||[]).forEach(function(s){var o=Jt(s),l=0;switch(Nc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],l=0;l<gy.length;++l)a[gy[l]]&&(a[gy[l]]=parseInt(a[gy[l]],10));for(l=0;l<xy.length;++l)a[xy[l]]&&(a[xy[l]]=Ra(a[xy[l]]));if(t.NumberFmt&&a.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[l]){a.numFmtId=l;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Ra(o.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function Hce(e){var t=[];return t[t.length]=xt("cellXfs",null),e.forEach(function(r){t[t.length]=xt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=xt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Vce=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var f={};if(!l)return f;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var u;return(u=l.match(t))&&$ce(u,f,d),(u=l.match(n))&&zce(u,f,c,d),(u=l.match(a))&&Bce(u,f,c,d),(u=l.match(s))&&Fce(u,f,c,d),(u=l.match(r))&&Wce(u,f,d),f}}();function qB(e,t){var r=[En,xt("styleSheet",null,{xmlns:j0[0],"xmlns:vt":es.vt})],a;return e.SSF&&(a=Uce(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=Hce(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Gce(e,t){var r=e.read_shift(2),a=Qs(e);return[r,a]}function qce(e,t,r){r||(r=Ze(6+4*t.length)),r.write_shift(2,e),xs(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function Yce(e,t,r){var a={};a.sz=e.read_shift(2)/20;var n=_ie(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var s=e.read_shift(2);switch(s===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var l=e.read_shift(1);l>0&&(a.family=l);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=Eie(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Qs(e),a}function Jce(e,t){t||(t=Ze(25+4*32)),t.write_shift(2,e.sz*20),Mie(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Gb(e.color,t);var a=0;return a=2,t.write_shift(1,a),xs(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Kce=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Fj,Qce=ei;function ET(e,t){t||(t=Ze(4*3+8*7+16*1)),Fj||(Fj=zw(Kce));var r=Fj[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(Gb({auto:1},t),Gb({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Xce(e,t){var r=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:n}}function YB(e,t,r){r||(r=Ze(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function ag(e,t){return t||(t=Ze(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Zce=ei;function ede(e,t){return t||(t=Ze(51)),t.write_shift(1,0),ag(null,t),ag(null,t),ag(null,t),ag(null,t),ag(null,t),t.length>t.l?t.slice(0,t.l):t}function tde(e,t){return t||(t=Ze(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Vb(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function rde(e,t,r){var a=Ze(2052);return a.write_shift(4,e),Vb(t,a),Vb(r,a),a.length>a.l?a.slice(0,a.l):a}function ade(e,t,r){var a={};a.NumberFmt=[];for(var n in Gt)a.NumberFmt[n]=Gt[n];a.CellXf=[],a.Fonts=[];var s=[],o=!1;return yd(e,function(c,d,f){switch(f){case 44:a.NumberFmt[c[0]]=c[1],Zc(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Jb(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(f),o=!0;break;case 38:s.pop(),o=!1;break;default:if(d.T>0)s.push(f);else if(d.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),a}function nde(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++r}),r!=0&&(ot(e,615,jl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&ot(e,44,qce(n,t[n]))}),ot(e,616))}}function sde(e){var t=1;ot(e,611,jl(t)),ot(e,43,Jce({sz:12,color:{theme:1},name:"Calibri",family:2})),ot(e,612)}function ide(e){var t=2;ot(e,603,jl(t)),ot(e,45,ET({patternType:"none"})),ot(e,45,ET({patternType:"gray125"})),ot(e,604)}function ode(e){var t=1;ot(e,613,jl(t)),ot(e,46,ede()),ot(e,614)}function lde(e){var t=1;ot(e,626,jl(t)),ot(e,47,YB({numFmtId:0},65535)),ot(e,627)}function cde(e,t){ot(e,617,jl(t.length)),t.forEach(function(r){ot(e,47,YB(r,0))}),ot(e,618)}function dde(e){var t=1;ot(e,619,jl(t)),ot(e,48,tde({xfId:0,name:"Normal"})),ot(e,620)}function fde(e){var t=0;ot(e,505,jl(t)),ot(e,506)}function ude(e){var t=0;ot(e,508,rde(t,"TableStyleMedium9","PivotStyleMedium4")),ot(e,509)}function hde(e,t){var r=Ei();return ot(r,278),nde(r,e.SSF),sde(r),ide(r),ode(r),lde(r),cde(r,t.cellXfs),dde(r),fde(r),ude(r),ot(r,279),r.end()}var mde=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function pde(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(ri)||[]).forEach(function(n){var s=Jt(n);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=s.val;break;case"<a:sysClr":a.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[mde.indexOf(s[0])]=a,a={}):a.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function gde(){}function xde(){}var vde=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,yde=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,bde=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function wde(e,t,r){t.themeElements={};var a;[["clrScheme",vde,pde],["fontScheme",yde,gde],["fmtScheme",bde,xde]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,t,r)})}var kde=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function JB(e,t){(!e||e.length===0)&&(e=tC());var r,a={};if(!(r=e.match(kde)))throw new Error("themeElements not found in theme");return wde(r[0],a,t),a.raw=e,a}function tC(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[En];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function jde(e,t,r){var a=e.l+t,n=e.read_shift(4);if(n!==124226){if(!r.cellStyles){e.l=a;return}var s=e.slice(e.l);e.l=a;var o;try{o=$F(s,{type:"array"})}catch{return}var l=Ki(o,"theme/theme/theme1.xml",!0);if(l)return JB(l,r)}}function Nde(e){return e.read_shift(4)}function Sde(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Cde(e,4);break;case 2:t.xclrValue=EB(e);break;case 3:t.xclrValue=Nde(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Cde(e,t){return ei(e,t)}function Ade(e,t){return ei(e,t)}function Ede(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=Sde(e);break;case 6:a[1]=Ade(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function _de(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),s=[];n-- >0;)s.push(Ede(e,r-e.l));return{ixfe:a,ext:s}}function Mde(e,t){t.forEach(function(r){switch(r[0]){}})}function Lde(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Qs(e)}}function Tde(e){var t=Ze(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),xs(e.name,t),t.slice(0,t.l)}function Ide(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Dde(e){var t=Ze(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Pde(e,t){var r=Ze(8+2*t.length);return r.write_shift(4,e),xs(t,r),r.slice(0,r.l)}function Ode(e){return e.l+=4,e.read_shift(4)!=0}function Rde(e,t){var r=Ze(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Fde(e,t,r){var a={Types:[],Cell:[],Value:[]},n=r||{},s=[],o=!1,l=2;return yd(e,function(c,d,f){switch(f){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(u){l==1?a.Cell.push({type:a.Types[u[0]-1].name,index:u[1]}):l==0&&a.Value.push({type:a.Types[u[0]-1].name,index:u[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(f),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!d.T){if(!o||n.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),a}function Bde(){var e=Ei();return ot(e,332),ot(e,334,jl(1)),ot(e,335,Tde({name:"XLDAPR",version:12e4,flags:3496657072})),ot(e,336),ot(e,339,Pde(1,"XLDAPR")),ot(e,52),ot(e,35,jl(514)),ot(e,4096,jl(0)),ot(e,4097,Ao(1)),ot(e,36),ot(e,53),ot(e,340),ot(e,337,Rde(1)),ot(e,51,Dde([[1,0]])),ot(e,338),ot(e,333),e.end()}function zde(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=!1,s=2,o;return e.replace(ri,function(l){var c=Jt(l);switch(Nc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==c.name&&(o=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):s==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),a}function KB(){var e=[En];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function $de(e){var t=[];if(!e)return t;var r=1;return(e.match(ri)||[]).forEach(function(a){var n=Jt(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n);break}}),t}function Ude(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=qt(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function Wde(e,t,r){var a=[];return yd(e,function(s,o,l){switch(l){case 63:a.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),a}function Hde(e,t,r,a){if(!e)return e;var n=a||{},s=!1;yd(e,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function Vde(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var bh=1024;function QB(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[xt("xml",null,{"xmlns:v":Gi.v,"xmlns:o":Gi.o,"xmlns:x":Gi.x,"xmlns:mv":Gi.mv}).replace(/\/>/,">"),xt("o:shapelayout",xt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),xt("v:shapetype",[xt("v:stroke",null,{joinstyle:"miter"}),xt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];bh<e*1e3;)bh+=1e3;return t.forEach(function(s){var o=en(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?xt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=xt("v:fill",c,l),f={on:"t",obscured:"t"};++bh,n=n.concat(["<v:shape"+xx({id:"_x0000_s"+bh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,xt("v:shadow",null,f),xt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",As("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),As("x:AutoFill","False"),As("x:Row",String(o.r)),As("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function _T(e,t,r,a){var n=Array.isArray(e),s;t.forEach(function(o){var l=en(o.ref);if(n?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[o.ref],!s){s={t:"z"},n?e[l.r][l.c]=s:e[o.ref]=s;var c=Dr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=ir(c);d!==e["!ref"]&&(e["!ref"]=d)}s.c||(s.c=[]);var f={a:o.author,t:o.t,r:o.r,T:r};o.h&&(f.h=o.h);for(var u=s.c.length-1;u>=0;--u){if(!r&&s.c[u].T)return;r&&!s.c[u].T&&s.c.splice(u,1)}if(r&&a){for(u=0;u<a.length;++u)if(f.a==a[u].id){f.a=a[u].name||f.a;break}}s.c.push(f)})}function Gde(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Jt(l[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},f=en(c.ref);if(!(t.sheetRows&&t.sheetRows<=f.r)){var u=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!u&&!!u[1]&&X6(u[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=m.h),a.push(d)}}}}),a}function XB(e){var t=[En,xt("comments",null,{xmlns:j0[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var s=ra(n.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,s=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(n=r.indexOf(ra(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),s.length<=1)t.push(As("t",ra(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)o+=`Reply:
    `+s[l]+`
`;t.push(As("t",ra(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function qde(e,t){var r=[],a=!1,n={},s=0;return e.replace(ri,function(l,c){var d=Jt(l);switch(Nc(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":n.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function Yde(e,t,r){var a=[En,xt("ThreadedComments",null,{xmlns:es.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var s="";(n[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(xt("threadedComment",As("text",o.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function Jde(e,t){var r=[],a=!1;return e.replace(ri,function(s){var o=Jt(s);switch(Nc(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function Kde(e){var t=[En,xt("personList",null,{xmlns:es.TCMNT,"xmlns:x":j0[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(xt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Qde(e){var t={};t.iauthor=e.read_shift(4);var r=A0(e);return t.rfx=r.s,t.ref=qt(r.s),e.l+=16,t}function Xde(e,t){return t==null&&(t=Ze(36)),t.write_shift(4,e[1].iauthor),Km(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Zde=Qs;function efe(e){return xs(e.slice(0,54))}function tfe(e,t){var r=[],a=[],n={},s=!1;return yd(e,function(l,c,d){switch(d){case 632:a.push(l);break;case 635:n=l;break;case 637:n.t=l.t,n.h=l.h,n.r=l.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function rfe(e){var t=Ei(),r=[];return ot(t,628),ot(t,630),e.forEach(function(a){a[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),ot(t,632,efe(n.a)))})}),ot(t,631),ot(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var s={s:en(a[0]),e:en(a[0])};ot(t,635,Xde([s,n])),n.t&&n.t.length>0&&ot(t,637,Nie(n)),ot(t,636),delete n.iauthor})}),ot(t,634),ot(t,629),t.end()}var afe="application/vnd.ms-office.vbaProject";function nfe(e){var t=$t.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");$t.utils.cfb_add(t,n,e.FileIndex[a].content)}}),$t.write(t)}function sfe(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&$t.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var ZB=["xlsb","xlsm","xlam","biff8","xla"];function ife(){return{"!type":"dialog"}}function ofe(){return{"!type":"dialog"}}function lfe(){return{"!type":"macro"}}function cfe(){return{"!type":"macro"}}var Ph=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,n,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return l?f+=t.c:--f,c?d+=t.r:--d,n+(l?"":"$")+Za(f)+(c?"":"$")+Cn(d)}return function(n,s){return t=s,n.replace(e,r)}}(),rC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,aC=function(){return function(t,r){return t.replace(rC,function(a,n,s,o,l,c){var d=W6(o)-(s?0:r.c),f=U6(c)-(l?0:r.r),u=f==0?"":l?f+1:"["+f+"]",m=d==0?"":s?d+1:"["+d+"]";return n+"R"+u+"C"+m})}}();function ez(e,t){return e.replace(rC,function(r,a,n,s,o,l){return a+(n=="$"?n+s:Za(W6(s)+t.c))+(o=="$"?o+l:Cn(U6(l)+t.r))})}function dfe(e,t,r){var a=Ti(t),n=a.s,s=en(r),o={r:s.r-n.r,c:s.c-n.c};return ez(e,o)}function ffe(e){return e.length!=1}function MT(e){return e.replace(/_xlfn\./g,"")}function In(e){e.l+=1}function kf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function tz(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return rz(e);r.biff==12&&(a=4)}var n=e.read_shift(a),s=e.read_shift(a),o=kf(e),l=kf(e);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function rz(e){var t=kf(e),r=kf(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function ufe(e,t,r){if(r.biff<8)return rz(e);var a=e.read_shift(r.biff==12?4:2),n=e.read_shift(r.biff==12?4:2),s=kf(e),o=kf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:n,c:o[0],cRel:o[1],rRel:o[2]}}}function az(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return hfe(e);var a=e.read_shift(r&&r.biff==12?4:2),n=kf(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function hfe(e){var t=kf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function mfe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function pfe(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return gfe(e);var n=e.read_shift(a>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;n>524287;)n-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:n,c:s,cRel:o,rRel:l}}function gfe(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:n,rRel:a}}function xfe(e,t,r){var a=(e[e.l++]&96)>>5,n=tz(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function vfe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=tz(e,s,r);return[a,n,o]}function yfe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function bfe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[a,n]}function wfe(e,t,r){var a=(e[e.l++]&96)>>5,n=ufe(e,t-1,r);return[a,n]}function kfe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function LT(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function jfe(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),n=[],s=0;s<=a;++s)n.push(e.read_shift(r&&r.biff==2?1:2));return n}function Nfe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function Sfe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function Cfe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Afe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function nz(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Efe(e){return e.read_shift(2),nz(e)}function _fe(e){return e.read_shift(2),nz(e)}function Mfe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=az(e,0,r);return[a,n]}function Lfe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=pfe(e,0,r);return[a,n]}function Tfe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=az(e,0,r);return[a,n,s]}function Ife(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[Oue[n],oz[n],a]}function Dfe(e,t,r){var a=e[e.l++],n=e.read_shift(1),s=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:Pfe(e);return[n,(s[0]===0?oz:Pue)[s[1]]]}function Pfe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Ofe(e,t,r){e.l+=r&&r.biff==2?3:4}function Rfe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function Ffe(e){return e.l++,bd[e.read_shift(1)]}function Bfe(e){return e.l++,e.read_shift(2)}function zfe(e){return e.l++,e.read_shift(1)!==0}function $fe(e){return e.l++,Ks(e)}function Ufe(e,t,r){return e.l++,q1(e,t-1,r)}function Wfe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=yn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=bd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ks(e);break;case 2:r[1]=E0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Hfe(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),n=[],s=0;s!=a;++s)n.push((r.biff==12?A0:Ww)(e));return n}function Vfe(e,t,r){var a=0,n=0;r.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var s=0,o=[];s!=a&&(o[s]=[]);++s)for(var l=0;l!=n;++l)o[s][l]=Wfe(e,r.biff);return o}function Gfe(e,t,r){var a=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,s=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,s]}function qfe(e,t,r){if(r.biff==5)return Yfe(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),s=e.read_shift(4);return[a,n,s]}function Yfe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function Jfe(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function Kfe(e,t,r){var a=e.read_shift(1)>>>5&3,n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function Qfe(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function Xfe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[a,n]}var Zfe=ei,eue=ei,tue=ei;function J1(e,t,r){return e.l+=2,[mfe(e)]}function nC(e){return e.l+=6,[]}var rue=J1,aue=nC,nue=nC,sue=J1;function sz(e){return e.l+=2,[On(e),e.read_shift(2)&1]}var iue=J1,oue=sz,lue=nC,cue=J1,due=J1,fue=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function uue(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),s=e.read_shift(2),o=fue[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:n,C:s}}function hue(e){return e.l+=2,[e.read_shift(4)]}function mue(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function pue(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function gue(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function xue(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function vue(e){return e.l+=4,[0,0]}var TT={1:{n:"PtgExp",f:Rfe},2:{n:"PtgTbl",f:tue},3:{n:"PtgAdd",f:In},4:{n:"PtgSub",f:In},5:{n:"PtgMul",f:In},6:{n:"PtgDiv",f:In},7:{n:"PtgPower",f:In},8:{n:"PtgConcat",f:In},9:{n:"PtgLt",f:In},10:{n:"PtgLe",f:In},11:{n:"PtgEq",f:In},12:{n:"PtgGe",f:In},13:{n:"PtgGt",f:In},14:{n:"PtgNe",f:In},15:{n:"PtgIsect",f:In},16:{n:"PtgUnion",f:In},17:{n:"PtgRange",f:In},18:{n:"PtgUplus",f:In},19:{n:"PtgUminus",f:In},20:{n:"PtgPercent",f:In},21:{n:"PtgParen",f:In},22:{n:"PtgMissArg",f:In},23:{n:"PtgStr",f:Ufe},26:{n:"PtgSheet",f:mue},27:{n:"PtgEndSheet",f:pue},28:{n:"PtgErr",f:Ffe},29:{n:"PtgBool",f:zfe},30:{n:"PtgInt",f:Bfe},31:{n:"PtgNum",f:$fe},32:{n:"PtgArray",f:kfe},33:{n:"PtgFunc",f:Ife},34:{n:"PtgFuncVar",f:Dfe},35:{n:"PtgName",f:Gfe},36:{n:"PtgRef",f:Mfe},37:{n:"PtgArea",f:xfe},38:{n:"PtgMemArea",f:Jfe},39:{n:"PtgMemErr",f:Zfe},40:{n:"PtgMemNoMem",f:eue},41:{n:"PtgMemFunc",f:Kfe},42:{n:"PtgRefErr",f:Qfe},43:{n:"PtgAreaErr",f:yfe},44:{n:"PtgRefN",f:Lfe},45:{n:"PtgAreaN",f:wfe},46:{n:"PtgMemAreaN",f:gue},47:{n:"PtgMemNoMemN",f:xue},57:{n:"PtgNameX",f:qfe},58:{n:"PtgRef3d",f:Tfe},59:{n:"PtgArea3d",f:vfe},60:{n:"PtgRefErr3d",f:Xfe},61:{n:"PtgAreaErr3d",f:bfe},255:{}},yue={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bue={1:{n:"PtgElfLel",f:sz},2:{n:"PtgElfRw",f:cue},3:{n:"PtgElfCol",f:rue},6:{n:"PtgElfRwV",f:due},7:{n:"PtgElfColV",f:sue},10:{n:"PtgElfRadical",f:iue},11:{n:"PtgElfRadicalS",f:lue},13:{n:"PtgElfColS",f:aue},15:{n:"PtgElfColSV",f:nue},16:{n:"PtgElfRadicalLel",f:oue},25:{n:"PtgList",f:uue},29:{n:"PtgSxName",f:hue},255:{}},wue={0:{n:"PtgAttrNoop",f:vue},1:{n:"PtgAttrSemi",f:Afe},2:{n:"PtgAttrIf",f:Sfe},4:{n:"PtgAttrChoose",f:jfe},8:{n:"PtgAttrGoto",f:Nfe},16:{n:"PtgAttrSum",f:Ofe},32:{n:"PtgAttrBaxcel",f:LT},33:{n:"PtgAttrBaxcel",f:LT},64:{n:"PtgAttrSpace",f:Efe},65:{n:"PtgAttrSpaceSemi",f:_fe},128:{n:"PtgAttrIfError",f:Cfe},255:{}};function K1(e,t,r,a){if(a.biff<8)return ei(e,t);for(var n=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Vfe(e,0,a),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Hfe(e,r[o][1],a),s.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=n-e.l,t!==0&&s.push(ei(e,t)),s}function Q1(e,t,r){for(var a=e.l+t,n,s,o=[];a!=e.l;)t=a-e.l,s=e[e.l],n=TT[s]||TT[yue[s]],(s===24||s===25)&&(n=(s===24?bue:wue)[e[e.l+1]]),!n||!n.f?ei(e,t):o.push([n.n,n.f(e,t,r)]);return o}function kue(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],n=[],s=0;s<a.length;++s){var o=a[s];if(o)switch(o[0]){case 2:n.push('"'+o[1].replace(/"/g,'""')+'"');break;default:n.push(o[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var jue={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Nue(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function iz(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function IT(e,t,r){var a=iz(e,t,r);return a=="#REF"?a:Nue(a,r)}function Hs(e,t,r,a,n){var s=n&&n.biff||8,o={s:{c:0,r:0}},l=[],c,d,f,u=0,m=0,h,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,x="",v=0,b=e[0].length;v<b;++v){var y=e[0][v];switch(y[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:x=on(" ",e[0][p][1][1]);break;case 1:x=on("\r",e[0][p][1][1]);break;default:if(x="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}d=d+x,p=-1}l.push(d+jue[y[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=zg(y[1][1],o,n),l.push($g(f,s));break;case"PtgRefN":f=r?zg(y[1][1],r,n):y[1][1],l.push($g(f,s));break;case"PtgRef3d":u=y[1][1],f=zg(y[1][2],o,n),g=IT(a,u,n),l.push(g+"!"+$g(f,s));break;case"PtgFunc":case"PtgFuncVar":var w=y[1][0],j=y[1][1];w||(w=0),w&=127;var E=w==0?[]:l.slice(-w);l.length-=w,j==="User"&&(j=E.shift()),l.push(j+"("+E.join(",")+")");break;case"PtgBool":l.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(y[1]);break;case"PtgNum":l.push(String(y[1]));break;case"PtgStr":l.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(y[1]);break;case"PtgAreaN":h=lT(y[1][1],r?{s:r}:o,n),l.push(Dj(h,n));break;case"PtgArea":h=lT(y[1][1],o,n),l.push(Dj(h,n));break;case"PtgArea3d":u=y[1][1],h=y[1][2],g=IT(a,u,n),l.push(g+"!"+Dj(h,n));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=y[1][2];var A=(a.names||[])[m-1]||(a[0]||[])[m],C=A?A.Name:"SH33TJSNAME"+String(m);C&&C.slice(0,6)=="_xlfn."&&!n.xlfn&&(C=C.slice(6)),l.push(C);break;case"PtgNameX":var S=y[1][1];m=y[1][2];var T;if(n.biff<=5)S<0&&(S=-S),a[S]&&(T=a[S][m]);else{var _="";if(((a[S]||[])[0]||[])[0]==14849||(((a[S]||[])[0]||[])[0]==1025?a[S][m]&&a[S][m].itab>0&&(_=a.SheetNames[a[S][m].itab-1]+"!"):_=a.SheetNames[m-1]+"!"),a[S]&&a[S][m])_+=a[S][m].Name;else if(a[0]&&a[0][m])_+=a[0][m].Name;else{var M=(iz(a,S,n)||"").split(";;");M[m-1]?_=M[m-1]:_+="SH33TJSERRX"}l.push(_);break}T||(T={Name:"SH33TJSERRY"}),l.push(T.Name);break;case"PtgParen":var D="(",O=")";if(p>=0){switch(x="",e[0][p][1][0]){case 2:D=on(" ",e[0][p][1][1])+D;break;case 3:D=on("\r",e[0][p][1][1])+D;break;case 4:O=on(" ",e[0][p][1][1])+O;break;case 5:O=on("\r",e[0][p][1][1])+O;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(D+l.pop()+O);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":f={c:y[1][1],r:y[1][0]};var B={c:r.c,r:r.r};if(a.sharedf[qt(f)]){var U=a.sharedf[qt(f)];l.push(Hs(U,o,B,a,n))}else{var q=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(f.c<d[0].s.c||f.c>d[0].e.c)&&!(f.r<d[0].s.r||f.r>d[0].e.r)){l.push(Hs(d[1],o,B,a,n)),q=!0;break}q||l.push(y[1])}break;case"PtgArray":l.push("{"+kue(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&p>=0&&K.indexOf(e[0][v][0])==-1){y=e[0][p];var G=!0;switch(y[1][0]){case 4:G=!1;case 0:x=on(" ",y[1][1]);break;case 5:G=!1;case 1:x=on("\r",y[1][1]);break;default:if(x="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}l.push((G?x:"")+l.pop()+(G?"":x)),p=-1}}if(l.length>1&&n.WTF)throw new Error("bad formula stack");return l[0]}function Sue(e,t,r){var a=e.l+t,n=r.biff==2?1:2,s,o=e.read_shift(n);if(o==65535)return[[],ei(e,t-2)];var l=Q1(e,o,r);return t!==o+n&&(s=K1(e,t-o-n,l,r)),e.l=a,[l,s]}function Cue(e,t,r){var a=e.l+t,n=r.biff==2?1:2,s,o=e.read_shift(n);if(o==65535)return[[],ei(e,t-2)];var l=Q1(e,o,r);return t!==o+n&&(s=K1(e,t-o-n,l,r)),e.l=a,[l,s]}function Aue(e,t,r,a){var n=e.l+t,s=Q1(e,a,r),o;return n!==e.l&&(o=K1(e,n-e.l,s,r)),[s,o]}function Eue(e,t,r){var a=e.l+t,n,s=e.read_shift(2),o=Q1(e,s,r);return s==65535?[[],ei(e,t-2)]:(t!==s+2&&(n=K1(e,a-s-2,o,r)),[o,n])}function _ue(e){var t;if(qc(e,e.l+6)!==65535)return[Ks(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Mue(e){if(e==null){var t=Ze(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Ju(e);return Ju(0)}function Bj(e,t,r){var a=e.l+t,n=Sc(e);r.biff==2&&++e.l;var s=_ue(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=Cue(e,a-e.l,r);return{cell:n,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function Lue(e,t,r,a,n){var s=Qu(t,r,n),o=Mue(e.v),l=Ze(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Ze(e.bf.length),f=0;f<e.bf.length;++f)d[f]=e.bf[f];var u=ps([s,o,l,d]);return u}function Hw(e,t,r){var a=e.read_shift(4),n=Q1(e,a,r),s=e.read_shift(4),o=s>0?K1(e,s,n,r):null;return[n,o]}var Tue=Hw,Vw=Hw,Iue=Hw,Due=Hw,Pue={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},oz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Oue={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function DT(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Rue(e){var t="of:="+e.replace(rC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function zj(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Fue(e){return e.replace(/\./,"!")}var Wg={},Oh={},Hg=typeof Map<"u";function sC(e,t,r){var a=0,n=e.length;if(r){if(Hg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Hg?r.get(t):r[t];a<s.length;++a)if(e[s[a]].t===t)return e.Count++,s[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,r&&(Hg?(r.has(t)||r.set(t,[]),r.get(t).push(n)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(n))),n}function Gw(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(qs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=kx(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=Kb(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Du(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Pf(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],n=60,s=e.length;if(a==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){Zc(t.z,n),r.ssf[n]=t.z,r.revssf[t.z]=a=n;break}}for(n=0;n!=s;++n)if(e[n].numFmtId===a)return n;return e[s]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function lz(e,t,r,a,n,s){try{a.cellNF&&(e.z=Gt[t])}catch(l){if(a.WTF)throw l}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=$a(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(Gt[t]==null&&Zc(Pse[t]||"General",t),e.t==="e")e.w=e.w||bd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=px(e.v);else if(e.t==="d"){var o=ns(e.v);(o|0)===o?e.w=o.toString(10):e.w=px(o)}else{if(e.v===void 0)return"";e.w=qu(e.v,Oh)}else e.t==="d"?e.w=zo(t,ns(e.v),Oh):e.w=zo(t,e.v,Oh)}catch(l){if(a.WTF)throw l}if(a.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Jb(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Jb(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(a.WTF&&s.Fills)throw l}}}function Bue(e,t,r){if(e&&e["!ref"]){var a=Dr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function zue(e,t){var r=Dr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ir(r))}var $ue=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Uue=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Wue=/<(?:\w:)?hyperlink [^>]*>/mg,Hue=/"(\w*:\w*)"/,Vue=/<(?:\w:)?col\b[^>]*[\/]?>/g,Gue=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,que=/<(?:\w:)?pageMargins[^>]*\/>/g,cz=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Yue=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Jue=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Kue(e,t,r,a,n,s,o){if(!e)return e;a||(a={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",f="",u=e.match(Uue);u?(d=e.slice(0,u.index),f=e.slice(u.index+u[0].length)):d=f=e;var m=d.match(cz);m?iC(m[0],l,n,r):(m=d.match(Yue))&&Xue(m[0],m[1]||"",l,n,r);var h=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var g=d.slice(h,h+50).match(Hue);g&&zue(l,g[1])}var p=d.match(Jue);p&&p[1]&&f0e(p[1],n);var x=[];if(t.cellStyles){var v=d.match(Vue);v&&i0e(x,v)}u&&m0e(u[1],l,t,c,s,o);var b=f.match(Gue);b&&(l["!autofilter"]=l0e(b[0]));var y=[],w=f.match($ue);if(w)for(h=0;h!=w.length;++h)y[h]=Dr(w[h].slice(w[h].indexOf('"')+1));var j=f.match(Wue);j&&a0e(l,j,a);var E=f.match(que);if(E&&(l["!margins"]=n0e(Jt(E[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=ir(c)),t.sheetRows>0&&l["!ref"]){var A=Dr(l["!ref"]);t.sheetRows<=+A.e.r&&(A.e.r=t.sheetRows-1,A.e.r>c.e.r&&(A.e.r=c.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>c.e.c&&(A.e.c=c.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ir(A))}return x.length>0&&(l["!cols"]=x),y.length>0&&(l["!merges"]=y),l}function Que(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ir(e[r])+'"/>';return t+"</mergeCells>"}function iC(e,t,r,a){var n=Jt(e);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=Ir(fa(n.codeName)))}function Xue(e,t,r,a,n){iC(e.slice(0,e.indexOf(">")),r,a,n)}function Zue(e,t,r,a,n){var s=!1,o={},l=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,o.codeName=ic(ra(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+xt("outlinePr",null,d)}!s&&!l||(n[n.length]=xt("sheetPr",l,o))}var e0e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],t0e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function r0e(e){var t={sheet:1};return e0e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),t0e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Z6(e.password).toString(16).toUpperCase()),xt("sheetProtection",null,t)}function a0e(e,t,r){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var s=Jt(fa(t[n]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Ir(s.location))):(s.Target="#"+Ir(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=Dr(s.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var f=qt({c:d,r:c});a?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=s):(e[f]||(e[f]={t:"z",v:void 0}),e[f].l=s)}}}function n0e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function s0e(e){return Du(e),xt("pageMargins",null,e)}function i0e(e,t){for(var r=!1,a=0;a!=t.length;++a){var n=Jt(t[a],!0);n.hidden&&(n.hidden=Ra(n.hidden));var s=parseInt(n.min,10)-1,o=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,eC(n.width)),wf(n);s<=o;)e[s++]=Ua(n)}}function o0e(e,t){for(var r=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(r[r.length]=xt("col",null,Gw(n,a)));return r[r.length]="</cols>",r.join("")}function l0e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function c0e(e,t,r,a){var n=typeof e.ref=="string"?e.ref:ir(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Ti(n);o.s.r==o.e.r&&(o.e.r=Ti(t["!ref"]).e.r,n=ir(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),xt("autoFilter",null,{ref:n})}var d0e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function f0e(e,t){t.Views||(t.Views=[{}]),(e.match(d0e)||[]).forEach(function(r,a){var n=Jt(r);t.Views[a]||(t.Views[a]={}),+n.zoomScale&&(t.Views[a].zoom=+n.zoomScale),Ra(n.rightToLeft)&&(t.Views[a].RTL=!0)})}function u0e(e,t,r,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),xt("sheetViews",xt("sheetView",null,n),{})}function h0e(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=bd[e.v];break;case"d":a&&a.cellDates?n=$a(e.v,-1).toISOString():(e=Ua(e),e.t="n",n=""+(e.v=ns($a(e.v)))),typeof e.z>"u"&&(e.z=Gt[14]);break;default:n=e.v;break}var l=As("v",ra(n)),c={r:t},d=Pf(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){l=As("v",""+sC(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=xt("f",ra(e.f),f)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),xt("c",l,c)}var m0e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,s=gx("v"),o=gx("f");return function(c,d,f,u,m,h){for(var g=0,p="",x=[],v=[],b=0,y=0,w=0,j="",E,A,C=0,S=0,T,_,M=0,D=0,O=Array.isArray(h.CellXf),B,U=[],q=[],K=Array.isArray(d),G=[],ve={},fe=!1,I=!!f.sheetStubs,z=c.split(t),H=0,J=z.length;H!=J;++H){p=z[H].trim();var te=p.length;if(te!==0){var W=0;e:for(g=0;g<te;++g)switch(p[g]){case">":if(p[g-1]!="/"){++g;break e}if(f&&f.cellStyles){if(A=Jt(p.slice(W,g),!0),C=A.r!=null?parseInt(A.r,10):C+1,S=-1,f.sheetRows&&f.sheetRows<C)continue;ve={},fe=!1,A.ht&&(fe=!0,ve.hpt=parseFloat(A.ht),ve.hpx=Xh(ve.hpt)),A.hidden=="1"&&(fe=!0,ve.hidden=!0),A.outlineLevel!=null&&(fe=!0,ve.level=+A.outlineLevel),fe&&(G[C-1]=ve)}break;case"<":W=g;break}if(W>=g)break;if(A=Jt(p.slice(W,g),!0),C=A.r!=null?parseInt(A.r,10):C+1,S=-1,!(f.sheetRows&&f.sheetRows<C)){u.s.r>C-1&&(u.s.r=C-1),u.e.r<C-1&&(u.e.r=C-1),f&&f.cellStyles&&(ve={},fe=!1,A.ht&&(fe=!0,ve.hpt=parseFloat(A.ht),ve.hpx=Xh(ve.hpt)),A.hidden=="1"&&(fe=!0,ve.hidden=!0),A.outlineLevel!=null&&(fe=!0,ve.level=+A.outlineLevel),fe&&(G[C-1]=ve)),x=p.slice(g).split(e);for(var Y=0;Y!=x.length&&x[Y].trim().charAt(0)=="<";++Y);for(x=x.slice(Y),g=0;g!=x.length;++g)if(p=x[g].trim(),p.length!==0){if(v=p.match(r),b=g,y=0,w=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,v!=null&&v.length===2){for(b=0,j=v[1],y=0;y!=j.length&&!((w=j.charCodeAt(y)-64)<1||w>26);++y)b=26*b+w;--b,S=b}else++S;for(y=0;y!=p.length&&p.charCodeAt(y)!==62;++y);if(++y,A=Jt(p.slice(0,y),!0),A.r||(A.r=qt({r:C-1,c:S})),j=p.slice(y),E={t:""},(v=j.match(s))!=null&&v[1]!==""&&(E.v=Ir(v[1])),f.cellFormula){if((v=j.match(o))!=null&&v[1]!==""){if(E.f=Ir(fa(v[1])).replace(/\r\n/g,`
`),f.xlfn||(E.f=MT(E.f)),v[0].indexOf('t="array"')>-1)E.F=(j.match(n)||[])[1],E.F.indexOf(":")>-1&&U.push([Dr(E.F),E.F]);else if(v[0].indexOf('t="shared"')>-1){_=Jt(v[0]);var Q=Ir(fa(v[1]));f.xlfn||(Q=MT(Q)),q[parseInt(_.si,10)]=[_,Q,A.r]}}else(v=j.match(/<f[^>]*\/>/))&&(_=Jt(v[0]),q[_.si]&&(E.f=dfe(q[_.si][1],q[_.si][2],A.r)));var ne=en(A.r);for(y=0;y<U.length;++y)ne.r>=U[y][0].s.r&&ne.r<=U[y][0].e.r&&ne.c>=U[y][0].s.c&&ne.c<=U[y][0].e.c&&(E.F=U[y][1])}if(A.t==null&&E.v===void 0)if(E.f||E.F)E.v=0,E.t="n";else if(I)E.t="z";else continue;else E.t=A.t||"n";switch(u.s.c>S&&(u.s.c=S),u.e.c<S&&(u.e.c=S),E.t){case"n":if(E.v==""||E.v==null){if(!I)continue;E.t="z"}else E.v=parseFloat(E.v);break;case"s":if(typeof E.v>"u"){if(!I)continue;E.t="z"}else T=Wg[parseInt(E.v,10)],E.v=T.t,E.r=T.r,f.cellHTML&&(E.h=T.h);break;case"str":E.t="s",E.v=E.v!=null?fa(E.v):"",f.cellHTML&&(E.h=F6(E.v));break;case"inlineStr":v=j.match(a),E.t="s",v!=null&&(T=X6(v[1]))?(E.v=T.t,f.cellHTML&&(E.h=T.h)):E.v="";break;case"b":E.v=Ra(E.v);break;case"d":f.cellDates?E.v=$a(E.v,1):(E.v=ns($a(E.v,1)),E.t="n");break;case"e":(!f||f.cellText!==!1)&&(E.w=E.v),E.v=fB[E.v];break}if(M=D=0,B=null,O&&A.s!==void 0&&(B=h.CellXf[A.s],B!=null&&(B.numFmtId!=null&&(M=B.numFmtId),f.cellStyles&&B.fillId!=null&&(D=B.fillId))),lz(E,M,D,f,m,h),f.cellDates&&O&&E.t=="n"&&qm(Gt[M])&&(E.t="d",E.v=Uw(E.v)),A.cm&&f.xlmeta){var pe=(f.xlmeta.Cell||[])[+A.cm-1];pe&&pe.type=="XLDAPR"&&(E.D=!0)}if(K){var F=en(A.r);d[F.r]||(d[F.r]=[]),d[F.r][F.c]=E}else d[A.r]=E}}}}G.length>0&&(d["!rows"]=G)}}();function p0e(e,t,r,a){var n=[],s=[],o=Dr(e["!ref"]),l="",c,d="",f=[],u=0,m=0,h=e["!rows"],g=Array.isArray(e),p={r:d},x,v=-1;for(m=o.s.c;m<=o.e.c;++m)f[m]=Za(m);for(u=o.s.r;u<=o.e.r;++u){for(s=[],d=Cn(u),m=o.s.c;m<=o.e.c;++m){c=f[m]+d;var b=g?(e[u]||[])[m]:e[c];b!==void 0&&(l=h0e(b,c,e,t))!=null&&s.push(l)}(s.length>0||h&&h[u])&&(p={r:d},h&&h[u]&&(x=h[u],x.hidden&&(p.hidden=1),v=-1,x.hpx?v=jx(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(p.ht=v,p.customHeight=1),x.level&&(p.outlineLevel=x.level)),n[n.length]=xt("row",s.join(""),p))}if(h)for(;u<h.length;++u)h&&h[u]&&(p={r:u+1},x=h[u],x.hidden&&(p.hidden=1),v=-1,x.hpx?v=jx(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(p.ht=v,p.customHeight=1),x.level&&(p.outlineLevel=x.level),n[n.length]=xt("row","",p));return n.join("")}function dz(e,t,r,a){var n=[En,xt("worksheet",null,{xmlns:j0[0],"xmlns:r":es.r})],s=r.SheetNames[e],o=0,l="",c=r.Sheets[s];c==null&&(c={});var d=c["!ref"]||"A1",f=Dr(d);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),d=ir(f)}a||(a={}),c["!comments"]=[];var u=[];Zue(c,r,e,t,n),n[n.length]=xt("dimension",null,{ref:d}),n[n.length]=u0e(c,t,e,r),t.sheetFormat&&(n[n.length]=xt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=o0e(c,c["!cols"])),n[o=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=p0e(c,t),l.length>0&&(n[n.length]=l)),n.length>o+1&&(n[n.length]="</sheetData>",n[o]=n[o].replace("/>",">")),c["!protect"]&&(n[n.length]=r0e(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=c0e(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=Que(c["!merges"]));var m=-1,h,g=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=ta(a,-1,ra(p[1].Target).replace(/#.*$/,""),pr.HLINK),h["r:id"]="rId"+g),(m=p[1].Target.indexOf("#"))>-1&&(h.location=ra(p[1].Target.slice(m+1))),p[1].Tooltip&&(h.tooltip=ra(p[1].Tooltip)),n[n.length]=xt("hyperlink",null,h))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=s0e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=As("ignoredErrors",xt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),u.length>0&&(g=ta(a,-1,"../drawings/drawing"+(e+1)+".xml",pr.DRAW),n[n.length]=xt("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=u),c["!comments"].length>0&&(g=ta(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",pr.VML),n[n.length]=xt("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function g0e(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=a,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=n/20),r}function x0e(e,t,r){var a=Ze(145),n=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var s=320;n.hpx?s=jx(n.hpx)*20:n.hpt&&(s=n.hpt*20),a.write_shift(2,s),a.write_shift(1,0);var o=0;n.level&&(o|=n.level),n.hidden&&(o|=16),(n.hpx||n.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var l=0,c=a.l;a.l+=4;for(var d={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var u=-1,m=-1,h=f<<10;h<f+1<<10;++h){d.c=h;var g=Array.isArray(r)?(r[d.r]||[])[d.c]:r[qt(d)];g&&(u<0&&(u=h),m=h)}u<0||(++l,a.write_shift(4,u),a.write_shift(4,m))}var p=a.l;return a.l=c,a.write_shift(4,l),a.l=p,a.length>a.l?a.slice(0,a.l):a}function v0e(e,t,r,a){var n=x0e(a,r,t);(n.length>17||(t["!rows"]||[])[a])&&ot(e,0,n)}var y0e=A0,b0e=Km;function w0e(){}function k0e(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=Sie(e),r}function j0e(e,t,r){r==null&&(r=Ze(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return Gb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),iB(e,r),r.slice(0,r.l)}function N0e(e){var t=qo(e);return[t]}function S0e(e,t,r){return r==null&&(r=Ze(8)),N0(t,r)}function C0e(e){var t=S0(e);return[t]}function A0e(e,t,r){return r==null&&(r=Ze(4)),C0(t,r)}function E0e(e){var t=qo(e),r=e.read_shift(1);return[t,r,"b"]}function _0e(e,t,r){return r==null&&(r=Ze(9)),N0(t,r),r.write_shift(1,e.v?1:0),r}function M0e(e){var t=S0(e),r=e.read_shift(1);return[t,r,"b"]}function L0e(e,t,r){return r==null&&(r=Ze(5)),C0(t,r),r.write_shift(1,e.v?1:0),r}function T0e(e){var t=qo(e),r=e.read_shift(1);return[t,r,"e"]}function I0e(e,t,r){return r==null&&(r=Ze(9)),N0(t,r),r.write_shift(1,e.v),r}function D0e(e){var t=S0(e),r=e.read_shift(1);return[t,r,"e"]}function P0e(e,t,r){return r==null&&(r=Ze(8)),C0(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function O0e(e){var t=qo(e),r=e.read_shift(4);return[t,r,"s"]}function R0e(e,t,r){return r==null&&(r=Ze(12)),N0(t,r),r.write_shift(4,t.v),r}function F0e(e){var t=S0(e),r=e.read_shift(4);return[t,r,"s"]}function B0e(e,t,r){return r==null&&(r=Ze(8)),C0(t,r),r.write_shift(4,t.v),r}function z0e(e){var t=qo(e),r=Ks(e);return[t,r,"n"]}function $0e(e,t,r){return r==null&&(r=Ze(16)),N0(t,r),Ju(e.v,r),r}function fz(e){var t=S0(e),r=Ks(e);return[t,r,"n"]}function U0e(e,t,r){return r==null&&(r=Ze(12)),C0(t,r),Ju(e.v,r),r}function W0e(e){var t=qo(e),r=q6(e);return[t,r,"n"]}function H0e(e,t,r){return r==null&&(r=Ze(12)),N0(t,r),oB(e.v,r),r}function V0e(e){var t=S0(e),r=q6(e);return[t,r,"n"]}function G0e(e,t,r){return r==null&&(r=Ze(8)),C0(t,r),oB(e.v,r),r}function q0e(e){var t=qo(e),r=H6(e);return[t,r,"is"]}function Y0e(e){var t=qo(e),r=Qs(e);return[t,r,"str"]}function J0e(e,t,r){return r==null&&(r=Ze(12+4*e.v.length)),N0(t,r),xs(e.v,r),r.length>r.l?r.slice(0,r.l):r}function K0e(e){var t=S0(e),r=Qs(e);return[t,r,"str"]}function Q0e(e,t,r){return r==null&&(r=Ze(8+4*e.v.length)),C0(t,r),xs(e.v,r),r.length>r.l?r.slice(0,r.l):r}function X0e(e,t,r){var a=e.l+t,n=qo(e);n.r=r["!row"];var s=e.read_shift(1),o=[n,s,"b"];if(r.cellFormula){e.l+=2;var l=Vw(e,a-e.l,r);o[3]=Hs(l,null,n,r.supbooks,r)}else e.l=a;return o}function Z0e(e,t,r){var a=e.l+t,n=qo(e);n.r=r["!row"];var s=e.read_shift(1),o=[n,s,"e"];if(r.cellFormula){e.l+=2;var l=Vw(e,a-e.l,r);o[3]=Hs(l,null,n,r.supbooks,r)}else e.l=a;return o}function ehe(e,t,r){var a=e.l+t,n=qo(e);n.r=r["!row"];var s=Ks(e),o=[n,s,"n"];if(r.cellFormula){e.l+=2;var l=Vw(e,a-e.l,r);o[3]=Hs(l,null,n,r.supbooks,r)}else e.l=a;return o}function the(e,t,r){var a=e.l+t,n=qo(e);n.r=r["!row"];var s=Qs(e),o=[n,s,"str"];if(r.cellFormula){e.l+=2;var l=Vw(e,a-e.l,r);o[3]=Hs(l,null,n,r.supbooks,r)}else e.l=a;return o}var rhe=A0,ahe=Km;function nhe(e,t){return t==null&&(t=Ze(4)),t.write_shift(4,e),t}function she(e,t){var r=e.l+t,a=A0(e),n=V6(e),s=Qs(e),o=Qs(e),l=Qs(e);e.l=r;var c={rfx:a,relId:n,loc:s,display:l};return o&&(c.Tooltip=o),c}function ihe(e,t){var r=Ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Km({s:en(e[0]),e:en(e[0])},r),G6("rId"+t,r);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return xs(n||"",r),xs(e[1].Tooltip||"",r),xs("",r),r.slice(0,r.l)}function ohe(){}function lhe(e,t,r){var a=e.l+t,n=lB(e),s=e.read_shift(1),o=[n];if(o[2]=s,r.cellFormula){var l=Tue(e,a-e.l,r);o[1]=l}else e.l=a;return o}function che(e,t,r){var a=e.l+t,n=A0(e),s=[n];if(r.cellFormula){var o=Due(e,a-e.l,r);s[1]=o,e.l=a}else e.l=a;return s}function dhe(e,t,r){r==null&&(r=Ze(18));var a=Gw(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),r.write_shift(2,n),r}var uz=["left","right","top","bottom","header","footer"];function fhe(e){var t={};return uz.forEach(function(r){t[r]=Ks(e)}),t}function uhe(e,t){return t==null&&(t=Ze(6*8)),Du(e),uz.forEach(function(r){Ju(e[r],t)}),t}function hhe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function mhe(e,t,r){r==null&&(r=Ze(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function phe(e){var t=Ze(24);return t.write_shift(4,4),t.write_shift(4,1),Km(e,t),t}function ghe(e,t){return t==null&&(t=Ze(16*4+2)),t.write_shift(2,e.password?Z6(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function xhe(){}function vhe(){}function yhe(e,t,r,a,n,s,o){if(!e)return e;var l=t||{};a||(a={"!id":{}});var c=l.dense?[]:{},d,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},u=!1,m=!1,h,g,p,x,v,b,y,w,j,E=[];l.biff=12,l["!row"]=0;var A=0,C=!1,S=[],T={},_=l.supbooks||n.supbooks||[[]];if(_.sharedf=T,_.arrayf=S,_.SheetNames=n.SheetNames||n.Sheets.map(function(K){return K.name}),!l.supbooks&&(l.supbooks=_,n.Names))for(var M=0;M<n.Names.length;++M)_[0][M+1]=n.Names[M];var D=[],O=[],B=!1;Nx[16]={n:"BrtShortReal",f:fz};var U;if(yd(e,function(G,ve,fe){if(!m)switch(fe){case 148:d=G;break;case 0:h=G,l.sheetRows&&l.sheetRows<=h.r&&(m=!0),w=Cn(x=h.r),l["!row"]=h.r,(G.hidden||G.hpt||G.level!=null)&&(G.hpt&&(G.hpx=Xh(G.hpt)),O[G.r]=G);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:G[2]},G[2]){case"n":g.v=G[1];break;case"s":y=Wg[G[1]],g.v=y.t,g.r=y.r;break;case"b":g.v=!!G[1];break;case"e":g.v=G[1],l.cellText!==!1&&(g.w=bd[g.v]);break;case"str":g.t="s",g.v=G[1];break;case"is":g.t="s",g.v=G[1].t;break}if((p=o.CellXf[G[0].iStyleRef])&&lz(g,p.numFmtId,null,l,s,o),v=G[0].c==-1?v+1:G[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=g):c[Za(v)+w]=g,l.cellFormula){for(C=!1,A=0;A<S.length;++A){var I=S[A];h.r>=I[0].s.r&&h.r<=I[0].e.r&&v>=I[0].s.c&&v<=I[0].e.c&&(g.F=ir(I[0]),C=!0)}!C&&G.length>3&&(g.f=G[3])}if(f.s.r>h.r&&(f.s.r=h.r),f.s.c>v&&(f.s.c=v),f.e.r<h.r&&(f.e.r=h.r),f.e.c<v&&(f.e.c=v),l.cellDates&&p&&g.t=="n"&&qm(Gt[p.numFmtId])){var z=ju(g.v);z&&(g.t="d",g.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}U&&(U.type=="XLDAPR"&&(g.D=!0),U=void 0);break;case 1:case 12:if(!l.sheetStubs||u)break;g={t:"z",v:void 0},v=G[0].c==-1?v+1:G[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=g):c[Za(v)+w]=g,f.s.r>h.r&&(f.s.r=h.r),f.s.c>v&&(f.s.c=v),f.e.r<h.r&&(f.e.r=h.r),f.e.c<v&&(f.e.c=v),U&&(U.type=="XLDAPR"&&(g.D=!0),U=void 0);break;case 176:E.push(G);break;case 49:U=((l.xlmeta||{}).Cell||[])[G-1];break;case 494:var H=a["!id"][G.relId];for(H?(G.Target=H.Target,G.loc&&(G.Target+="#"+G.loc),G.Rel=H):G.relId==""&&(G.Target="#"+G.loc),x=G.rfx.s.r;x<=G.rfx.e.r;++x)for(v=G.rfx.s.c;v<=G.rfx.e.c;++v)l.dense?(c[x]||(c[x]=[]),c[x][v]||(c[x][v]={t:"z",v:void 0}),c[x][v].l=G):(b=qt({c:v,r:x}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=G);break;case 426:if(!l.cellFormula)break;S.push(G),j=l.dense?c[x][v]:c[Za(v)+w],j.f=Hs(G[1],f,{r:h.r,c:v},_,l),j.F=ir(G[0]);break;case 427:if(!l.cellFormula)break;T[qt(G[0].s)]=G[1],j=l.dense?c[x][v]:c[Za(v)+w],j.f=Hs(G[1],f,{r:h.r,c:v},_,l);break;case 60:if(!l.cellStyles)break;for(;G.e>=G.s;)D[G.e--]={width:G.w/256,hidden:!!(G.flags&1),level:G.level},B||(B=!0,eC(G.w/256)),wf(D[G.e+1]);break;case 161:c["!autofilter"]={ref:ir(G)};break;case 476:c["!margins"]=G;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),G.name&&(n.Sheets[r].CodeName=G.name),(G.above||G.left)&&(c["!outline"]={above:G.above,left:G.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),G.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:u=!0;break;case 36:u=!1;break;case 37:u=!0;break;case 38:u=!1;break;default:if(!ve.T){if(!u||l.WTF)throw new Error("Unexpected record 0x"+fe.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(f.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=ir(d||f)),l.sheetRows&&c["!ref"]){var q=Dr(c["!ref"]);l.sheetRows<=+q.e.r&&(q.e.r=l.sheetRows-1,q.e.r>f.e.r&&(q.e.r=f.e.r),q.e.r<q.s.r&&(q.s.r=q.e.r),q.e.c>f.e.c&&(q.e.c=f.e.c),q.e.c<q.s.c&&(q.s.c=q.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ir(q))}return E.length>0&&(c["!merges"]=E),D.length>0&&(c["!cols"]=D),O.length>0&&(c["!rows"]=O),c}function bhe(e,t,r,a,n,s,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Ua(t),t.z=t.z||Gt[14],t.v=ns($a(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:a};switch(c.s=Pf(n.cellXfs,t,n),t.l&&s["!links"].push([qt(c),t.l]),t.c&&s["!comments"].push([qt(c),t.c]),t.t){case"s":case"str":return n.bookSST?(l=sC(n.Strings,t.v,n.revStrings),c.t="s",c.v=l,o?ot(e,18,B0e(t,c)):ot(e,7,R0e(t,c))):(c.t="str",o?ot(e,17,Q0e(t,c)):ot(e,6,J0e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?ot(e,13,G0e(t,c)):ot(e,2,H0e(t,c)):o?ot(e,16,U0e(t,c)):ot(e,5,$0e(t,c)),!0;case"b":return c.t="b",o?ot(e,15,L0e(t,c)):ot(e,4,_0e(t,c)),!0;case"e":return c.t="e",o?ot(e,14,P0e(t,c)):ot(e,3,I0e(t,c)),!0}return o?ot(e,12,A0e(t,c)):ot(e,1,S0e(t,c)),!0}function whe(e,t,r,a){var n=Dr(t["!ref"]||"A1"),s,o="",l=[];ot(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var f=n.s.r;f<=d;++f){o=Cn(f),v0e(e,t,n,f);var u=!1;if(f<=n.e.r)for(var m=n.s.c;m<=n.e.c;++m){f===n.s.r&&(l[m]=Za(m)),s=l[m]+o;var h=c?(t[f]||[])[m]:t[s];if(!h){u=!1;continue}u=bhe(e,h,f,m,a,t,u)}}ot(e,146)}function khe(e,t){!t||!t["!merges"]||(ot(e,177,nhe(t["!merges"].length)),t["!merges"].forEach(function(r){ot(e,176,ahe(r))}),ot(e,178))}function jhe(e,t){!t||!t["!cols"]||(ot(e,390),t["!cols"].forEach(function(r,a){r&&ot(e,60,dhe(a,r))}),ot(e,391))}function Nhe(e,t){!t||!t["!ref"]||(ot(e,648),ot(e,649,phe(Dr(t["!ref"]))),ot(e,650))}function She(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var n=ta(r,-1,a[1].Target.replace(/#.*$/,""),pr.HLINK);ot(e,494,ihe(a,n))}}),delete t["!links"]}function Che(e,t,r,a){if(t["!comments"].length>0){var n=ta(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",pr.VML);ot(e,551,G6("rId"+n)),t["!legacy"]=n}}function Ahe(e,t,r,a){if(t["!autofilter"]){var n=t["!autofilter"],s=typeof n.ref=="string"?n.ref:ir(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Ti(s);l.s.r==l.e.r&&(l.e.r=Ti(t["!ref"]).e.r,s=ir(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+r.SheetNames[a]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),ot(e,161,Km(Dr(s))),ot(e,162)}}function Ehe(e,t,r){ot(e,133),ot(e,137,mhe(t,r)),ot(e,138),ot(e,134)}function _he(e,t){t["!protect"]&&ot(e,535,ghe(t["!protect"]))}function Mhe(e,t,r,a){var n=Ei(),s=r.SheetNames[e],o=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Dr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ot(n,129),(r.vbaraw||o["!outline"])&&ot(n,147,j0e(l,o["!outline"])),ot(n,148,b0e(c)),Ehe(n,o,r.Workbook),jhe(n,o),whe(n,o,e,t),_he(n,o),Ahe(n,o,r,e),khe(n,o),She(n,o,a),o["!margins"]&&ot(n,476,uhe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Nhe(n,o),Che(n,o,e,a),ot(n,130),n.end()}function Lhe(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var n=Ir((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){a=s.replace(/<.*?>/g,"")}),[t,n,a]}function The(e,t,r,a,n,s){var o=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,d="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(u){var m=Lhe(u);f.s.r=f.s.c=0,f.e.c=l,d=Za(l),m[0].forEach(function(h,g){o[d+Cn(g)]={t:"n",v:h,z:m[1]},c=g}),f.e.r<c&&(f.e.r=c),++l}),l>0&&(o["!ref"]=ir(f)),o}function Ihe(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(cz);return l&&iC(l[0],s,n,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),a["!id"][s["!rel"]]&&(s["!drawel"]=a["!id"][s["!rel"]]),s}function Dhe(e,t){e.l+=10;var r=Qs(e);return{name:r}}function Phe(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return yd(e,function(c,d,f){switch(f){case 550:s["!rel"]=c;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),c.name&&(n.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},t),a["!id"][s["!rel"]]&&(s["!drawel"]=a["!id"][s["!rel"]]),s}var oC=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Ohe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Rhe=[],Fhe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function PT(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],n=0;n!=t.length;++n){var s=t[n];if(a[s[0]]==null)a[s[0]]=s[1];else switch(s[2]){case"bool":typeof a[s[0]]=="string"&&(a[s[0]]=Ra(a[s[0]]));break;case"int":typeof a[s[0]]=="string"&&(a[s[0]]=parseInt(a[s[0]],10));break}}}function OT(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Ra(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function hz(e){OT(e.WBProps,oC),OT(e.CalcPr,Fhe),PT(e.WBView,Ohe),PT(e.Sheets,Rhe),Oh.date1904=Ra(e.WBProps.date1904)}function Bhe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Ra(e.Workbook.WBProps.date1904)?"true":"false"}var zhe="][*?/\\".split("");function mz(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return zhe.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function $he(e,t,r){e.forEach(function(a,n){mz(a);for(var s=0;s<n;++s)if(a==e[s])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[n]&&t[n].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Uhe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];$he(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Bue(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Whe=/<\w+:workbook/;function Hhe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",s={},o=0;if(e.replace(ri,function(c,d){var f=Jt(c);switch(Nc(f[0])){case"<?xml":break;case"<workbook":c.match(Whe)&&(n="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=f[n];break;case"</workbook>":break;case"<fileVersion":delete f[0],r.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":oC.forEach(function(u){if(f[u[0]]!=null)switch(u[2]){case"bool":r.WBProps[u[0]]=Ra(f[u[0]]);break;case"int":r.WBProps[u[0]]=parseInt(f[u[0]],10);break;default:r.WBProps[u[0]]=f[u[0]]}}),f.codeName&&(r.WBProps.CodeName=fa(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],r.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=Ir(fa(f.name)),delete f[0],r.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":s={},s.Name=fa(f.name),f.comment&&(s.Comment=f.comment),f.localSheetId&&(s.Sheet=+f.localSheetId),Ra(f.hidden||"0")&&(s.Hidden=!0),o=d+c.length;break;case"</definedName>":s.Ref=Ir(fa(e.slice(o,d))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete f[0],r.CalcPr=f;break;case"<calcPr/>":delete f[0],r.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return c}),j0.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return hz(r),r}function pz(e){var t=[En];t[t.length]=xt("workbook",null,{xmlns:j0[0],"xmlns:r":es.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(oC.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(a[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=xt("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],s=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!n[s]||!n[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:ra(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),n[s])switch(n[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=xt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=xt("definedName",ra(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Vhe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=S3(e),r.name=Qs(e),r}function Ghe(e,t){return t||(t=Ze(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),G6(e.strRelID,t),xs(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function qhe(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?Qs(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function Yhe(e,t){t||(t=Ze(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),iB(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Jhe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Khe(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),s=Cie(e),o=Iue(e,0,r),l=V6(e);e.l=a;var c={Name:s,Ptg:o};return n<268435455&&(c.Sheet=n),l&&(c.Comment=l),c}function Qhe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Nx[16]={n:"BrtFRTArchID$",f:Jhe},yd(e,function(c,d,f){switch(f){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Hs(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([f,c]):o[0]=[f,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(f),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(f),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},t),hz(r),r.Names=s,r.supbooks=o,r}function Xhe(e,t){ot(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,n={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ot(e,156,Ghe(n))}ot(e,144)}function Zhe(e,t){t||(t=Ze(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return xs("SheetJS",t),xs(Bb.version,t),xs(Bb.version,t),xs("7262",t),t.length>t.l?t.slice(0,t.l):t}function eme(e,t){t||(t=Ze(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function tme(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,n=-1,s=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&n==-1?n=a:r[a].Hidden==1&&s==-1&&(s=a);s>n||(ot(e,135),ot(e,158,eme(n)),ot(e,136))}}function rme(e,t){var r=Ei();return ot(r,131),ot(r,128,Zhe()),ot(r,153,Yhe(e.Workbook&&e.Workbook.WBProps||null)),tme(r,e),Xhe(r,e),ot(r,132),r.end()}function ame(e,t,r){return t.slice(-4)===".bin"?Qhe(e,r):Hhe(e,r)}function nme(e,t,r,a,n,s,o,l){return t.slice(-4)===".bin"?yhe(e,a,r,n,s,o,l):Kue(e,a,r,n,s,o,l)}function sme(e,t,r,a,n,s,o,l){return t.slice(-4)===".bin"?Phe(e,a,r,n,s):Ihe(e,a,r,n,s)}function ime(e,t,r,a,n,s,o,l){return t.slice(-4)===".bin"?lfe():cfe()}function ome(e,t,r,a,n,s,o,l){return t.slice(-4)===".bin"?ife():ofe()}function lme(e,t,r,a){return t.slice(-4)===".bin"?ade(e,r,a):Vce(e,r,a)}function cme(e,t,r){return JB(e,r)}function dme(e,t,r){return t.slice(-4)===".bin"?dce(e,r):oce(e,r)}function fme(e,t,r){return t.slice(-4)===".bin"?tfe(e,r):Gde(e,r)}function ume(e,t,r){return t.slice(-4)===".bin"?Wde(e):$de(e)}function hme(e,t,r,a){return r.slice(-4)===".bin"?Hde(e,t,r,a):void 0}function mme(e,t,r){return t.slice(-4)===".bin"?Fde(e,t,r):zde(e,t,r)}function pme(e,t,r){return(t.slice(-4)===".bin"?rme:pz)(e)}function gme(e,t,r,a,n){return(t.slice(-4)===".bin"?Mhe:dz)(e,r,a,n)}function xme(e,t,r){return(t.slice(-4)===".bin"?hde:qB)(e,r)}function vme(e,t,r){return(t.slice(-4)===".bin"?hce:BB)(e,r)}function yme(e,t,r){return(t.slice(-4)===".bin"?rfe:XB)(e)}function bme(e){return(e.slice(-4)===".bin"?Bde:KB)()}var gz=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,xz=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function nl(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var n=e.match(gz),s,o,l,c;if(n)for(c=0;c!=n.length;++c)s=n[c].match(xz),(o=s[1].indexOf(":"))===-1?a[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),a[l]=s[2].slice(1,s[2].length-1));return a}function wme(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(gz),n,s,o,l;if(a)for(l=0;l!=a.length;++l)n=a[l].match(xz),(s=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?o="xmlns"+n[1].slice(6):o=n[1].slice(s+1),r[o]=n[2].slice(1,n[2].length-1));return r}var Vg;function kme(e,t){var r=Vg[e]||Ir(e);return r==="General"?qu(t):zo(r,t)}function jme(e,t,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=Ra(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=$a(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Ir(t)]=n}function Nme(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||bd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=px(e.v):e.w=qu(e.v):e.w=kme(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var a=Vg[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&qm(a)){var n=ju(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(s){if(r.WTF)throw s}}}function Sme(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=Rce[a.Pattern]||a.Pattern)}e[t.ID]=t}function Cme(e,t,r,a,n,s,o,l,c,d){var f="General",u=a.StyleID,m={};d=d||{};var h=[],g=0;for(u===void 0&&l&&(u=l.StyleID),u===void 0&&o&&(u=o.StyleID);s[u]!==void 0&&(s[u].nf&&(f=s[u].nf),s[u].Interior&&h.push(s[u].Interior),!!s[u].Parent);)u=s[u].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=Ra(e);break;case"String":a.t="s",a.r=ZL(Ir(e)),a.v=e.indexOf("<")>-1?Ir(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=($a(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=Ir(e):a.v<60&&(a.v=a.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=fB[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=ZL(t||e));break}if(Nme(a,f,d),d.cellFormula!==!1)if(a.Formula){var p=Ir(a.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),a.f=Ph(p,n),delete a.Formula,a.ArrayRange=="RC"?a.F=Ph("RC:RC",n):a.ArrayRange&&(a.F=Ph(a.ArrayRange,n),c.push([Dr(a.F),a.F]))}else for(g=0;g<c.length;++g)n.r>=c[g][0].s.r&&n.r<=c[g][0].e.r&&n.c>=c[g][0].s.c&&n.c<=c[g][0].e.c&&(a.F=c[g][1]);d.cellStyles&&(h.forEach(function(x){!m.patternType&&x.patternType&&(m.patternType=x.patternType)}),a.s=m),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function Ame(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function $j(e,t){var r=t||{};Ym();var a=jg(B6(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=fa(a));var n=a.slice(0,1024).toLowerCase(),s=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var o=Ua(r);return o.type="string",Qh.to_workbook(a,o)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Fe){n.indexOf("<"+Fe)>=0&&(s=!0)}),s)return upe(a,r);Vg={"General Number":"General","General Date":Gt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Gt[15],"Short Date":Gt[14],"Long Time":Gt[19],"Medium Time":Gt[18],"Short Time":Gt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Gt[2],Standard:Gt[4],Percent:Gt[10],Scientific:Gt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,f={},u=[],m=r.dense?[]:{},h="",g={},p={},x=nl('<Data ss:Type="String">'),v=0,b=0,y=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},E={},A="",C=0,S=[],T={},_={},M=0,D=[],O=[],B={},U=[],q,K=!1,G=[],ve=[],fe={},I=0,z=0,H={Sheets:[],WBProps:{date1904:!1}},J={};vx.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";l=vx.exec(a);)switch(l[3]=(te=l[3]).toLowerCase()){case"data":if(te=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Cme(a.slice(v,l.index),A,x,c[c.length-1][0]=="comment"?B:g,{c:b,r:y},j,U[b],p,G,r):(A="",x=nl(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(O.length>0&&(g.c=O),(!r.sheetRows||r.sheetRows>y)&&g.v!==void 0&&(r.dense?(m[y]||(m[y]=[]),m[y][b]=g):m[Za(b)+Cn(y)]=g),g.HRef&&(g.l={Target:Ir(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(I=b+(parseInt(g.MergeAcross,10)|0),z=y+(parseInt(g.MergeDown,10)|0),S.push({s:{c:b,r:y},e:{c:I,r:z}})),!r.sheetStubs)g.MergeAcross?b=I+1:++b;else if(g.MergeAcross||g.MergeDown){for(var W=b;W<=I;++W)for(var Y=y;Y<=z;++Y)(W>b||Y>y)&&(r.dense?(m[Y]||(m[Y]=[]),m[Y][W]={t:"z"}):m[Za(W)+Cn(Y)]={t:"z"});b=I+1}else++b;else g=wme(l[0]),g.Index&&(b=+g.Index-1),b<w.s.c&&(w.s.c=b),b>w.e.c&&(w.e.c=b),l[0].slice(-2)==="/>"&&++b,O=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(y<w.s.r&&(w.s.r=y),y>w.e.r&&(w.e.r=y),l[0].slice(-2)==="/>"&&(p=nl(l[0]),p.Index&&(y=+p.Index-1)),b=0,++y):(p=nl(l[0]),p.Index&&(y=+p.Index-1),fe={},(p.AutoFitHeight=="0"||p.Height)&&(fe.hpx=parseInt(p.Height,10),fe.hpt=jx(fe.hpx),ve[y]=fe),p.Hidden=="1"&&(fe.hidden=!0,ve[y]=fe));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));u.push(h),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(m["!ref"]=ir(w),r.sheetRows&&r.sheetRows<=w.e.r&&(m["!fullref"]=m["!ref"],w.e.r=r.sheetRows-1,m["!ref"]=ir(w))),S.length&&(m["!merges"]=S),U.length>0&&(m["!cols"]=U),ve.length>0&&(m["!rows"]=ve),f[h]=m}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,c.push([l[3],!1]),d=nl(l[0]),h=Ir(d.Name),m=r.dense?[]:{},S=[],G=[],ve=[],J={name:h,Hidden:0},H.Sheets.push(J);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),U=[],K=!1}break;case"style":l[1]==="/"?Sme(j,E,r):E=nl(l[0]);break;case"numberformat":E.nf=Ir(nl(l[0]).Format||"General"),Vg[E.nf]&&(E.nf=Vg[E.nf]);for(var Q=0;Q!=392&&Gt[Q]!=E.nf;++Q);if(Q==392){for(Q=57;Q!=392;++Q)if(Gt[Q]==null){Zc(E.nf,Q);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(q=nl(l[0]),q.Hidden&&(q.hidden=!0,delete q.Hidden),q.Width&&(q.wpx=parseInt(q.Width,10)),!K&&q.wpx>10){K=!0,qs=VB;for(var ne=0;ne<U.length;++ne)U[ne]&&wf(U[ne])}K&&wf(q),U[q.Index-1||U.length]=q;for(var pe=0;pe<+q.Span;++pe)U[U.length]=Ua(q);break;case"namedrange":if(l[1]==="/")break;H.Names||(H.Names=[]);var F=Jt(l[0]),Te={Name:F.Name,Ref:Ph(F.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(Te.Sheet=H.Sheets.length-1),H.Names.push(Te);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?A+=a.slice(C,l.index):C=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;E.Interior=nl(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Qie(T,te,a.slice(M,l.index)):M=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));Ame(B),O.push(B)}else c.push([l[3],!1]),d=nl(l[0]),B={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var xe=nl(l[0]);m["!autofilter"]={ref:Ph(xe.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return $T(a,r);var se=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:se=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:se=!1}break;case"excelworkbook":switch(l[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:se=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:se=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(a.slice(M,l.index)){case"SheetHidden":J.Hidden=1;break;case"SheetVeryHidden":J.Hidden=2;break}else M=l.index+l[0].length;break;case"header":m["!margins"]||Du(m["!margins"]={},"xlml"),isNaN(+Jt(l[0]).Margin)||(m["!margins"].header=+Jt(l[0]).Margin);break;case"footer":m["!margins"]||Du(m["!margins"]={},"xlml"),isNaN(+Jt(l[0]).Margin)||(m["!margins"].footer=+Jt(l[0]).Margin);break;case"pagemargins":var We=Jt(l[0]);m["!margins"]||Du(m["!margins"]={},"xlml"),isNaN(+We.Top)||(m["!margins"].top=+We.Top),isNaN(+We.Left)||(m["!margins"].left=+We.Left),isNaN(+We.Right)||(m["!margins"].right=+We.Right),isNaN(+We.Bottom)||(m["!margins"].bottom=+We.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:se=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:se=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:se=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:se=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:se=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:se=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:se=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:se=!1}break;case"smarttags":break;default:se=!1;break}if(se||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?jme(_,te,D,a.slice(M,l.index)):(D=l,M=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Se={};return!r.bookSheets&&!r.bookProps&&(Se.Sheets=f),Se.SheetNames=u,Se.Workbook=H,Se.SSF=Ua(Gt),Se.Props=T,Se.Custprops=_,Se}function T3(e,t){switch(cC(t=t||{}),t.type||"base64"){case"base64":return $j(ao(e),t);case"binary":case"buffer":case"file":return $j(e,t);case"array":return $j(If(e),t)}}function Eme(e,t){var r=[];return e.Props&&r.push(Xie(e.Props,t)),e.Custprops&&r.push(Zie(e.Props,e.Custprops)),r.join("")}function _me(){return""}function Mme(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var s=[];s.push(xt("NumberFormat",null,{"ss:Format":ra(Gt[a.numFmtId])}));var o={"ss:ID":"s"+(21+n)};r.push(xt("Style",s.join(""),o))}),xt("Styles",r.join(""))}function vz(e){return xt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+aC(e.Ref,{r:0,c:0})})}function Lme(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(vz(n)))}return xt("Names",r.join(""))}function Tme(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,s=[],o=0;o<n.length;++o){var l=n[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(vz(l)))}return s.join("")}function Ime(e,t,r,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(xt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(xt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(xt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(xt("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(a.Workbook.Sheets[s]&&!a.Workbook.Sheets[s].Hidden);++s);s==r&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(As("ProtectContents","True")),e["!protect"].objects&&n.push(As("ProtectObjects","True")),e["!protect"].scenarios&&n.push(As("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(As("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(As("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&n.push("<"+o[1]+"/>")})),n.length==0?"":xt("WorksheetOptions",n.join(""),{xmlns:Gi.x})}function Dme(e){return e.map(function(t){var r=tie(t.t||""),a=xt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return xt("Comment",a,{"ss:Author":t.a})}).join("")}function Pme(e,t,r,a,n,s,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+ra(aC(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=en(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=ra(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=ra(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],f=0;f!=d.length;++f)d[f].s.c!=o.c||d[f].s.r!=o.r||(d[f].e.c>d[f].s.c&&(l["ss:MergeAcross"]=d[f].e.c-d[f].s.c),d[f].e.r>d[f].s.r&&(l["ss:MergeDown"]=d[f].e.r-d[f].s.r));var u="",m="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":u="Number",m=String(e.v);break;case"b":u="Boolean",m=e.v?"1":"0";break;case"e":u="Error",m=bd[e.v];break;case"d":u="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Gt[14]);break;case"s":u="String",m=eie(e.v||"");break}var h=Pf(a.cellXfs,e,a);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var g=e.v!=null?m:"",p=e.t=="z"?"":'<Data ss:Type="'+u+'">'+g+"</Data>";return(e.c||[]).length>0&&(p+=Dme(e.c)),xt("Cell",p,l)}function Ome(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Xh(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Rme(e,t,r,a){if(!e["!ref"])return"";var n=Dr(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,v){wf(x);var b=!!x.width,y=Gw(v,x),w={"ss:Index":v+1};b&&(w["ss:Width"]=wx(y.width)),x.hidden&&(w["ss:Hidden"]="1"),l.push(xt("Column",null,w))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var f=[Ome(d,(e["!rows"]||[])[d])],u=n.s.c;u<=n.e.c;++u){var m=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>u)&&!(s[o].s.r>d)&&!(s[o].e.c<u)&&!(s[o].e.r<d)){(s[o].s.c!=u||s[o].s.r!=d)&&(m=!0);break}if(!m){var h={r:d,c:u},g=qt(h),p=c?(e[d]||[])[u]:e[g];f.push(Pme(p,g,e,t,r,a,h))}}f.push("</Row>"),f.length>2&&l.push(f.join(""))}return l.join("")}function Fme(e,t,r){var a=[],n=r.SheetNames[e],s=r.Sheets[n],o=s?Tme(s,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=s?Rme(s,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(Ime(s,t,e,r)),a.join("")}function Bme(e,t){t||(t={}),e.SSF||(e.SSF=Ua(Gt)),e.SSF&&(Ym(),Bw(e.SSF),t.revssf=$w(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Pf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Eme(e,t)),r.push(_me()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(xt("Worksheet",Fme(a,t,e),{"ss:Name":ra(e.SheetNames[a])}));return r[2]=Mme(e,t),r[3]=Lme(e),En+xt("Workbook",r.join(""),{xmlns:Gi.ss,"xmlns:o":Gi.o,"xmlns:x":Gi.x,"xmlns:ss":Gi.ss,"xmlns:dt":Gi.dt,"xmlns:html":Gi.html})}function zme(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Lie(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=Tie(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var $me=[60,1084,2066,2165,2175];function Ume(e,t,r,a,n){var s=a,o=[],l=r.slice(r.l,r.l+s);if(n&&n.enc&&n.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(l)}o.push(l),r.l+=s;for(var c=qc(r,r.l),d=I3[c],f=0;d!=null&&$me.indexOf(c)>-1;)s=qc(r,r.l+2),f=r.l+4,c==2066?f+=4:(c==2165||c==2175)&&(f+=12),l=r.slice(f,r.l+4+s),o.push(l),r.l+=4+s,d=I3[c=qc(r,r.l)];var u=ps(o);Cs(u,0);var m=0;u.lens=[];for(var h=0;h<o.length;++h)u.lens.push(m),m+=o[h].length;if(u.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+u.length+" < "+a;return t.f(u,u.length,n)}function Vl(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Gt[a])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||bd[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=px(e.v):e.w=qu(e.v):e.w=zo(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&a&&e.t=="n"&&qm(Gt[a]||String(a))){var n=ju(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function vy(e,t,r){return{v:e,ixfe:t,t:r}}function Wme(e,t){var r={opts:{}},a={},n=t.dense?[]:{},s={},o={},l=null,c=[],d="",f={},u,m="",h,g,p,x,v={},b=[],y,w,j=[],E=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},S=function(Be){return Be<8?Lu[Be]:Be<64&&E[Be-8]||Lu[Be]},T=function(Be,Pe,it){var ft=Pe.XF.data;if(!(!ft||!ft.patternType||!it||!it.cellStyles)){Pe.s={},Pe.s.patternType=ft.patternType;var st;(st=bx(S(ft.icvFore)))&&(Pe.s.fgColor={rgb:st}),(st=bx(S(ft.icvBack)))&&(Pe.s.bgColor={rgb:st})}},_=function(Be,Pe,it){if(!(fe>1)&&!(it.sheetRows&&Be.r>=it.sheetRows)){if(it.cellStyles&&Pe.XF&&Pe.XF.data&&T(Be,Pe,it),delete Pe.ixfe,delete Pe.XF,u=Be,m=qt(Be),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Be.r<o.s.r&&(o.s.r=Be.r),Be.c<o.s.c&&(o.s.c=Be.c),Be.r+1>o.e.r&&(o.e.r=Be.r+1),Be.c+1>o.e.c&&(o.e.c=Be.c+1),it.cellFormula&&Pe.f){for(var ft=0;ft<b.length;++ft)if(!(b[ft][0].s.c>Be.c||b[ft][0].s.r>Be.r)&&!(b[ft][0].e.c<Be.c||b[ft][0].e.r<Be.r)){Pe.F=ir(b[ft][0]),(b[ft][0].s.c!=Be.c||b[ft][0].s.r!=Be.r)&&delete Pe.f,Pe.f&&(Pe.f=""+Hs(b[ft][1],o,Be,G,M));break}}it.dense?(n[Be.r]||(n[Be.r]=[]),n[Be.r][Be.c]=Pe):n[m]=Pe}},M={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(M.password=t.password);var D,O=[],B=[],U=[],q=[],K=!1,G=[];G.SheetNames=M.snames,G.sharedf=M.sharedf,G.arrayf=M.arrayf,G.names=[],G.XTI=[];var ve=0,fe=0,I=0,z=[],H=[],J;M.codepage=1200,xl(1200);for(var te=!1;e.l<e.length-1;){var W=e.l,Y=e.read_shift(2);if(Y===0&&ve===10)break;var Q=e.l===e.length?0:e.read_shift(2),ne=I3[Y];if(ne&&ne.f){if(t.bookSheets&&ve===133&&Y!==133)break;if(ve=Y,ne.r===2||ne.r==12){var pe=e.read_shift(2);if(Q-=2,!M.enc&&pe!==Y&&((pe&255)<<8|pe>>8)!==Y)throw new Error("rt mismatch: "+pe+"!="+Y);ne.r==12&&(e.l+=10,Q-=10)}var F={};if(Y===10?F=ne.f(e,Q,M):F=Ume(Y,ne,e,Q,M),fe==0&&[9,521,1033,2057].indexOf(ve)===-1)continue;switch(Y){case 34:r.opts.Date1904=A.WBProps.date1904=F;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(M.enc||(e.l=0),M.enc=F,!t.password)throw new Error("File is password-protected");if(F.valid==null)throw new Error("Encryption scheme unsupported");if(!F.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=F;break;case 66:var Te=Number(F);switch(Te){case 21010:Te=1200;break;case 32768:Te=1e4;break;case 32769:Te=1252;break}xl(M.codepage=Te),te=!0;break;case 317:M.rrtabid=F;break;case 25:M.winlocked=F;break;case 439:r.opts.RefreshAll=F;break;case 12:r.opts.CalcCount=F;break;case 16:r.opts.CalcDelta=F;break;case 17:r.opts.CalcIter=F;break;case 13:r.opts.CalcMode=F;break;case 14:r.opts.CalcPrecision=F;break;case 95:r.opts.CalcSaveRecalc=F;break;case 15:M.CalcRefMode=F;break;case 2211:r.opts.FullCalc=F;break;case 129:F.fDialog&&(n["!type"]="dialog"),F.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),F.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:j.push(F);break;case 430:G.push([F]),G[G.length-1].XTI=[];break;case 35:case 547:G[G.length-1].push(F);break;case 24:case 536:J={Name:F.Name,Ref:Hs(F.rgce,o,null,G,M)},F.itab>0&&(J.Sheet=F.itab-1),G.names.push(J),G[0]||(G[0]=[],G[0].XTI=[]),G[G.length-1].push(F),F.Name=="_xlnm._FilterDatabase"&&F.itab>0&&F.rgce&&F.rgce[0]&&F.rgce[0][0]&&F.rgce[0][0][0]=="PtgArea3d"&&(H[F.itab-1]={ref:ir(F.rgce[0][0][1][2])});break;case 22:M.ExternCount=F;break;case 23:G.length==0&&(G[0]=[],G[0].XTI=[]),G[G.length-1].XTI=G[G.length-1].XTI.concat(F),G.XTI=G.XTI.concat(F);break;case 2196:if(M.biff<8)break;J!=null&&(J.Comment=F[1]);break;case 18:n["!protect"]=F;break;case 19:F!==0&&M.WTF&&console.error("Password verifier: "+F);break;case 133:s[F.pos]=F,M.snames.push(F.name);break;case 10:{if(--fe)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,n["!ref"]=ir(o),t.sheetRows&&t.sheetRows<=o.e.r){var xe=o.e.r;o.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=ir(o),o.e.r=xe}o.e.r++,o.e.c++}O.length>0&&(n["!merges"]=O),B.length>0&&(n["!objects"]=B),U.length>0&&(n["!cols"]=U),q.length>0&&(n["!rows"]=q),A.Sheets.push(C)}d===""?f=n:a[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[Y]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[F.BIFFVer]||8),M.biffguess=F.BIFFVer==0,F.BIFFVer==0&&F.dt==4096&&(M.biff=5,te=!0,xl(M.codepage=28591)),M.biff==8&&F.BIFFVer==0&&F.dt==16&&(M.biff=2),fe++)break;if(n=t.dense?[]:{},M.biff<8&&!te&&(te=!0,xl(M.codepage=t.codepage||1252)),M.biff<5||F.BIFFVer==0&&F.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var se={pos:e.l-Q,name:d};s[se.pos]=se,M.snames.push(d)}else d=(s[W]||{name:""}).name;F.dt==32&&(n["!type"]="chart"),F.dt==64&&(n["!type"]="macro"),O=[],B=[],M.arrayf=b=[],U=[],q=[],K=!1,C={Hidden:(s[W]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[F.r]||[])[F.c]:n[qt({c:F.c,r:F.r})])&&++F.c,y={ixfe:F.ixfe,XF:j[F.ixfe]||{},v:F.val,t:"n"},I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_({c:F.c,r:F.r},y,t);break;case 5:case 517:y={ixfe:F.ixfe,XF:j[F.ixfe],v:F.val,t:F.t},I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_({c:F.c,r:F.r},y,t);break;case 638:y={ixfe:F.ixfe,XF:j[F.ixfe],v:F.rknum,t:"n"},I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_({c:F.c,r:F.r},y,t);break;case 189:for(var We=F.c;We<=F.C;++We){var Se=F.rkrec[We-F.c][0];y={ixfe:Se,XF:j[Se],v:F.rkrec[We-F.c][1],t:"n"},I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_({c:We,r:F.r},y,t)}break;case 6:case 518:case 1030:{if(F.val=="String"){l=F;break}if(y=vy(F.val,F.cell.ixfe,F.tt),y.XF=j[y.ixfe],t.cellFormula){var Fe=F.formula;if(Fe&&Fe[0]&&Fe[0][0]&&Fe[0][0][0]=="PtgExp"){var he=Fe[0][0][1][0],ie=Fe[0][0][1][1],de=qt({r:he,c:ie});v[de]?y.f=""+Hs(F.formula,o,F.cell,G,M):y.F=((t.dense?(n[he]||[])[ie]:n[de])||{}).F}else y.f=""+Hs(F.formula,o,F.cell,G,M)}I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_(F.cell,y,t),l=F}break;case 7:case 519:if(l)l.val=F,y=vy(F,l.cell.ixfe,"s"),y.XF=j[y.ixfe],t.cellFormula&&(y.f=""+Hs(l.formula,o,l.cell,G,M)),I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_(l.cell,y,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(F);var Ae=qt(F[0].s);if(h=t.dense?(n[F[0].s.r]||[])[F[0].s.c]:n[Ae],t.cellFormula&&h){if(!l||!Ae||!h)break;h.f=""+Hs(F[1],o,F[0],G,M),h.F=ir(F[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;v[qt(l.cell)]=F[0],h=t.dense?(n[l.cell.r]||[])[l.cell.c]:n[qt(l.cell)],(h||{}).f=""+Hs(F[0],o,u,G,M)}}break;case 253:y=vy(c[F.isst].t,F.ixfe,"s"),c[F.isst].h&&(y.h=c[F.isst].h),y.XF=j[y.ixfe],I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_({c:F.c,r:F.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:F.ixfe,XF:j[F.ixfe],t:"z"},I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_({c:F.c,r:F.r},y,t));break;case 190:if(t.sheetStubs)for(var ze=F.c;ze<=F.C;++ze){var Ce=F.ixfe[ze-F.c];y={ixfe:Ce,XF:j[Ce],t:"z"},I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_({c:ze,r:F.r},y,t)}break;case 214:case 516:case 4:y=vy(F.val,F.ixfe,"s"),y.XF=j[y.ixfe],I>0&&(y.z=z[y.ixfe>>8&63]),Vl(y,t,r.opts.Date1904),_({c:F.c,r:F.r},y,t);break;case 0:case 512:fe===1&&(o=F);break;case 252:c=F;break;case 1054:if(M.biff==4){z[I++]=F[1];for(var _e=0;_e<I+163&&Gt[_e]!=F[1];++_e);_e>=163&&Zc(F[1],I+163)}else Zc(F[1],F[0]);break;case 30:{z[I++]=F;for(var Ve=0;Ve<I+163&&Gt[Ve]!=F;++Ve);Ve>=163&&Zc(F,I+163)}break;case 229:O=O.concat(F);break;case 93:B[F.cmo[0]]=M.lastobj=F;break;case 438:M.lastobj.TxO=F;break;case 127:M.lastobj.ImData=F;break;case 440:for(x=F[0].s.r;x<=F[0].e.r;++x)for(p=F[0].s.c;p<=F[0].e.c;++p)h=t.dense?(n[x]||[])[p]:n[qt({c:p,r:x})],h&&(h.l=F[1]);break;case 2048:for(x=F[0].s.r;x<=F[0].e.r;++x)for(p=F[0].s.c;p<=F[0].e.c;++p)h=t.dense?(n[x]||[])[p]:n[qt({c:p,r:x})],h&&h.l&&(h.l.Tooltip=F[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;h=t.dense?(n[F[0].r]||[])[F[0].c]:n[qt(F[0])];var Ie=B[F[2]];h||(t.dense?(n[F[0].r]||(n[F[0].r]=[]),h=n[F[0].r][F[0].c]={t:"z"}):h=n[qt(F[0])]={t:"z"},o.e.r=Math.max(o.e.r,F[0].r),o.s.r=Math.min(o.s.r,F[0].r),o.e.c=Math.max(o.e.c,F[0].c),o.s.c=Math.min(o.s.c,F[0].c)),h.c||(h.c=[]),g={a:F[1],t:Ie.TxO.t},h.c.push(g)}break;case 2173:Mde(j[F.ixfe],F.ext);break;case 125:{if(!M.cellStyles)break;for(;F.e>=F.s;)U[F.e--]={width:F.w/256,level:F.level||0,hidden:!!(F.flags&1)},K||(K=!0,eC(F.w/256)),wf(U[F.e+1])}break;case 520:{var Re={};F.level!=null&&(q[F.r]=Re,Re.level=F.level),F.hidden&&(q[F.r]=Re,Re.hidden=!0),F.hpt&&(q[F.r]=Re,Re.hpt=F.hpt,Re.hpx=Xh(F.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Du(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Y]]=F;break;case 161:n["!margins"]||Du(n["!margins"]={}),n["!margins"].header=F.header,n["!margins"].footer=F.footer;break;case 574:F.RTL&&(A.Views[0].RTL=!0);break;case 146:E=F;break;case 2198:D=F;break;case 140:w=F;break;case 442:d?C.CodeName=F||C.name:A.WBProps.CodeName=F||"ThisWorkbook";break}}else ne||console.error("Missing Info for XLS Record 0x"+Y.toString(16)),e.l+=Q}return r.SheetNames=un(s).sort(function(Ee,Be){return Number(Ee)-Number(Be)}).map(function(Ee){return s[Ee].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&f["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=f)):r.Preamble=f,r.Sheets&&H.forEach(function(Ee,Be){r.Sheets[r.SheetNames[Be]]["!autofilter"]=Ee}),r.Strings=c,r.SSF=Ua(Gt),M.enc&&(r.Encryption=M.enc),D&&(r.Themes=D),r.Metadata={},w!==void 0&&(r.Metadata.Country=w),G.names.length>0&&(A.Names=G.names),r.Workbook=A,r}var Gg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Hme(e,t,r){var a=$t.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=xT(a,C3,Gg.DSI);for(var s in n)t[s]=n[s]}catch(d){if(r.WTF)throw d}var o=$t.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=xT(o,A3,Gg.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(xB(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Vme(e,t){var r=[],a=[],n=[],s=0,o,l=qL(C3,"n"),c=qL(A3,"n");if(e.Props)for(o=un(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?a:n).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=un(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?a:n).push([o[s],e.Custprops[o[s]]]);var d=[];for(s=0;s<n.length;++s)NB.indexOf(n[s][0])>-1||gB.indexOf(n[s][0])>-1||n[s][1]!=null&&d.push(n[s]);a.length&&$t.utils.cfb_add(t,"/SummaryInformation",vT(a,Gg.SI,c,A3)),(r.length||d.length)&&$t.utils.cfb_add(t,"/DocumentSummaryInformation",vT(r,Gg.DSI,l,C3,d.length?d:null,Gg.UDI))}function yz(e,t){t||(t={}),cC(t),M6(),t.codepage&&_6(t.codepage);var r,a;if(e.FullPaths){if($t.find(e,"/encryption"))throw new Error("File is password-protected");r=$t.find(e,"!CompObj"),a=$t.find(e,"/Workbook")||$t.find(e,"/Book")}else{switch(t.type){case"base64":e=Ji(ao(e));break;case"binary":e=Ji(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Cs(e,0),a={content:e}}var n,s;if(r&&zme(r),t.bookProps&&!t.bookSheets)n={};else{var o=hr?"buffer":"array";if(a&&a.content)n=Wme(a.content,t);else if((s=$t.find(e,"PerfectOffice_MAIN"))&&s.content)n=Iu.to_workbook(s.content,(t.type=o,t));else if((s=$t.find(e,"NativeContent_MAIN"))&&s.content)n=Iu.to_workbook(s.content,(t.type=o,t));else throw(s=$t.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&$t.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=nfe(e))}var l={};return e.FullPaths&&Hme(e,l,t),n.Props=n.Custprops=l,t.bookFiles&&(n.cfb=e),n}function Gme(e,t){var r=t||{},a=$t.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return $t.utils.cfb_add(a,n,bz(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Vme(e,a),r.biff==8&&e.vbaraw&&sfe(a,$t.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var Nx={0:{f:g0e},1:{f:N0e},2:{f:W0e},3:{f:T0e},4:{f:E0e},5:{f:z0e},6:{f:Y0e},7:{f:O0e},8:{f:the},9:{f:ehe},10:{f:X0e},11:{f:Z0e},12:{f:C0e},13:{f:V0e},14:{f:D0e},15:{f:M0e},16:{f:fz},17:{f:K0e},18:{f:F0e},19:{f:H6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Khe},40:{},42:{},43:{f:Yce},44:{f:Gce},45:{f:Qce},46:{f:Zce},47:{f:Xce},48:{},49:{f:yie},50:{},51:{f:Ide},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:PB},62:{f:q0e},63:{f:Ude},64:{f:xhe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ei,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:hhe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:k0e},148:{f:y0e,p:16},151:{f:ohe},152:{},153:{f:qhe},154:{},155:{},156:{f:Vhe},157:{},158:{},159:{T:1,f:cce},160:{T:-1},161:{T:1,f:A0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:rhe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Lde},336:{T:-1},337:{f:Ode,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:S3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:DB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:lhe},427:{f:che},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:fhe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:w0e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:she},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:S3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Zde},633:{T:1},634:{T:-1},635:{T:1,f:Qde},636:{T:-1},637:{f:jie},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Dhe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:vhe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},I3={6:{f:Bj},10:{f:Vd},12:{f:On},13:{f:On},14:{f:yn},15:{f:yn},16:{f:Ks},17:{f:yn},18:{f:yn},19:{f:On},20:{f:NT},21:{f:NT},23:{f:DB},24:{f:CT},25:{f:yn},26:{},27:{},28:{f:vle},29:{},34:{f:yn},35:{f:ST},38:{f:Ks},39:{f:Ks},40:{f:Ks},41:{f:Ks},42:{f:yn},43:{f:yn},47:{f:Mce},49:{f:Voe},51:{f:On},60:{},61:{f:zoe},64:{f:yn},65:{f:Hoe},66:{f:On},77:{},80:{},81:{},82:{},85:{f:On},89:{},90:{},91:{},92:{f:_oe},93:{f:wle},94:{},95:{f:yn},96:{},97:{},99:{f:yn},125:{f:PB},128:{f:ile},129:{f:Loe},130:{f:On},131:{f:yn},132:{f:yn},133:{f:Toe},134:{},140:{f:_le},141:{f:On},144:{},146:{f:Tle},151:{},152:{},153:{},154:{},155:{},156:{f:On},157:{},158:{},160:{f:Ble},161:{f:Ple},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:rle},190:{f:ale},193:{f:Vd},197:{},198:{},199:{},200:{},201:{},202:{f:yn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:On},220:{},221:{f:yn},222:{},224:{f:sle},225:{f:Eoe},226:{f:Vd},227:{},229:{f:yle},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Doe},253:{f:qoe},255:{f:Ooe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:SB},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:yn},353:{f:Vd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:fle},431:{f:yn},432:{},433:{},434:{},437:{},438:{f:Nle},439:{f:yn},440:{f:Sle},441:{},442:{f:Y1},443:{},444:{f:On},445:{},446:{},448:{f:Vd},449:{f:Boe,r:2},450:{f:Vd},512:{f:wT},513:{f:Fle},515:{f:cle},516:{f:Joe},517:{f:jT},519:{f:zle},520:{f:Roe},523:{},545:{f:AT},549:{f:bT},566:{},574:{f:Uoe},638:{f:tle},659:{},1048:{},1054:{f:Qoe},1084:{},1212:{f:ple},2048:{f:Ale},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:py},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Vd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Ile,r:12},2173:{f:_de,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:yn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:mle,r:12},2197:{},2198:{f:jde,r:12},2199:{},2200:{},2201:{},2202:{f:gle,r:12},2203:{f:Vd},2204:{},2205:{},2206:{},2207:{},2211:{f:Foe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:On},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Ole},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Lle},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:wT},1:{},2:{f:Vle},3:{f:Wle},4:{f:Ule},5:{f:jT},7:{f:qle},8:{},9:{f:py},11:{},22:{f:On},30:{f:Zoe},31:{},32:{},33:{f:AT},36:{},37:{f:bT},50:{f:Yle},62:{},52:{},67:{},68:{f:On},69:{},86:{},126:{},127:{f:$le},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Jle},223:{},234:{},354:{},421:{},518:{f:Bj},521:{f:py},536:{f:CT},547:{f:ST},561:{},579:{},1030:{f:Bj},1033:{f:py},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function vt(e,t,r,a){var n=t;if(!isNaN(n)){var s=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,n),o.write_shift(2,s),s>0&&$6(r)&&e.push(r)}}function qme(e,t,r,a){var n=(r||[]).length||0;if(n<=8224)return vt(e,t,r,n);var s=t;if(!isNaN(s)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var f=e.next(4);for(f.write_shift(2,s),f.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<n;){for(f=e.next(4),f.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;f.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function X1(e,t,r){return e||(e=Ze(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Yme(e,t,r,a){var n=Ze(9);return X1(n,e,t),CB(r,a||"b",n),n}function Jme(e,t,r){var a=Ze(8+2*r.length);return X1(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function Kme(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?ns($a(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?vt(e,2,Gle(r,a,n)):vt(e,3,Hle(r,a,n));return;case"b":case"e":vt(e,5,Yme(r,a,t.v,t.t));return;case"s":case"str":vt(e,4,Jme(r,a,(t.v||"").slice(0,255)));return}vt(e,1,X1(null,r,a))}function Qme(e,t,r,a){var n=Array.isArray(t),s=Dr(t["!ref"]||"A1"),o,l="",c=[];if(s.e.c>255||s.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=ir(s)}for(var d=s.s.r;d<=s.e.r;++d){l=Cn(d);for(var f=s.s.c;f<=s.e.c;++f){d===s.s.r&&(c[f]=Za(f)),o=c[f]+l;var u=n?(t[d]||[])[f]:t[o];u&&Kme(e,u,d,f)}}}function Xme(e,t){for(var r=t||{},a=Ei(),n=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(n=s);if(n==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return vt(a,r.biff==4?1033:r.biff==3?521:9,Q6(e,16,r)),Qme(a,e.Sheets[e.SheetNames[n]],n,r),vt(a,10),a.end()}function Zme(e,t,r){vt(e,49,Goe({sz:12,name:"Arial"},r))}function epe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&vt(e,1054,Xoe(n,t[n],r))})}function tpe(e,t){var r=Ze(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),vt(e,2151,r),r=Ze(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),LB(Dr(t["!ref"]||"A1"),r),r.write_shift(4,4),vt(e,2152,r)}function rpe(e,t){for(var r=0;r<16;++r)vt(e,224,kT({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){vt(e,224,kT(a,0,t))})}function ape(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];vt(e,440,Cle(a)),a[1].Tooltip&&vt(e,2048,Ele(a))}delete t["!links"]}function npe(e,t){if(t){var r=0;t.forEach(function(a,n){++r<=256&&a&&vt(e,125,Dle(Gw(n,a),n))})}}function spe(e,t,r,a,n){var s=16+Pf(n.cellXfs,t,n);if(t.v==null&&!t.bf){vt(e,513,Qu(r,a,s));return}if(t.bf)vt(e,6,Lue(t,r,a,n,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?ns($a(t.v)):t.v;vt(e,515,dle(r,a,o,s));break;case"b":case"e":vt(e,517,lle(r,a,t.v,s,n,t.t));break;case"s":case"str":if(n.bookSST){var l=sC(n.Strings,t.v,n.revStrings);vt(e,253,Yoe(r,a,l,s))}else vt(e,516,Koe(r,a,(t.v||"").slice(0,255),s,n));break;default:vt(e,513,Qu(r,a,s))}}function ipe(e,t,r){var a=Ei(),n=r.SheetNames[e],s=r.Sheets[n]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),d=t.biff==8,f,u="",m=[],h=Dr(s["!ref"]||"A1"),g=d?65536:16384;if(h.e.c>255||h.e.r>=g){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,g-1)}vt(a,2057,Q6(r,16,t)),vt(a,13,Ao(1)),vt(a,12,Ao(100)),vt(a,15,di(!0)),vt(a,17,di(!1)),vt(a,16,Ju(.001)),vt(a,95,di(!0)),vt(a,42,di(!1)),vt(a,43,di(!1)),vt(a,130,Ao(1)),vt(a,128,ole()),vt(a,131,di(!1)),vt(a,132,di(!1)),d&&npe(a,s["!cols"]),vt(a,512,ele(h,t)),d&&(s["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){u=Cn(p);for(var x=h.s.c;x<=h.e.c;++x){p===h.s.r&&(m[x]=Za(x)),f=m[x]+u;var v=c?(s[p]||[])[x]:s[f];v&&(spe(a,v,p,x,t),d&&v.l&&s["!links"].push([f,v.l]))}}var b=l.CodeName||l.name||n;return d&&vt(a,574,Woe((o.Views||[])[0])),d&&(s["!merges"]||[]).length&&vt(a,229,ble(s["!merges"])),d&&ape(a,s),vt(a,442,AB(b)),d&&tpe(a,s),vt(a,10),a.end()}function ope(e,t,r){var a=Ei(),n=(e||{}).Workbook||{},s=n.Sheets||[],o=n.WBProps||{},l=r.biff==8,c=r.biff==5;if(vt(a,2057,Q6(e,5,r)),r.bookType=="xla"&&vt(a,135),vt(a,225,l?Ao(1200):null),vt(a,193,loe(2)),c&&vt(a,191),c&&vt(a,192),vt(a,226),vt(a,92,Moe("SheetJS",r)),vt(a,66,Ao(l?1200:1252)),l&&vt(a,353,Ao(0)),l&&vt(a,448),vt(a,317,Rle(e.SheetNames.length)),l&&e.vbaraw&&vt(a,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";vt(a,442,AB(d))}vt(a,156,Ao(17)),vt(a,25,di(!1)),vt(a,18,di(!1)),vt(a,19,Ao(0)),l&&vt(a,431,di(!1)),l&&vt(a,444,Ao(0)),vt(a,61,$oe()),vt(a,64,di(!1)),vt(a,141,Ao(0)),vt(a,34,di(Bhe(e)=="true")),vt(a,14,di(!0)),l&&vt(a,439,di(!1)),vt(a,218,Ao(0)),Zme(a,e,r),epe(a,e.SSF,r),rpe(a,r),l&&vt(a,352,di(!1));var f=a.end(),u=Ei();l&&vt(u,140,Mle()),l&&r.Strings&&qme(u,252,Poe(r.Strings)),vt(u,10);var m=u.end(),h=Ei(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var x=f.length+g+m.length;for(p=0;p<e.SheetNames.length;++p){var v=s[p]||{};vt(h,133,Ioe({pos:x,hs:v.Hidden||0,dt:0,name:e.SheetNames[p]},r)),x+=t[p].length}var b=h.end();if(g!=b.length)throw new Error("BS8 "+g+" != "+b.length);var y=[];return f.length&&y.push(f),b.length&&y.push(b),m.length&&y.push(m),ps(y)}function lpe(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=Ua(Gt)),e&&e.SSF&&(Ym(),Bw(e.SSF),r.revssf=$w(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,dC(r),r.cellXfs=[],Pf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=ipe(n,r,e);return a.unshift(ope(e,a,r)),ps(a)}function bz(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var n=Ti(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return lpe(e,t);case 4:case 3:case 2:return Xme(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function RT(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=n.index,l=s&&s.index||e.length,c=Gse(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,f=0,u=0,m=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<c.length;++o){var p=c[o].trim(),x=p.slice(0,3).toLowerCase();if(x=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}f=0;continue}if(!(x!="<td"&&x!="<th")){var v=p.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var b=v[l].trim();if(b.match(/<t[dh]/i)){for(var y=b,w=0;y.charAt(0)=="<"&&(w=y.indexOf(">"))>-1;)y=y.slice(w+1);for(var j=0;j<g.length;++j){var E=g[j];E.s.c==f&&E.s.r<d&&d<=E.e.r&&(f=E.e.c+1,j=-1)}var A=Jt(b.slice(0,b.indexOf(">")));m=A.colspan?+A.colspan:1,((u=+A.rowspan)>1||m>1)&&g.push({s:{r:d,c:f},e:{r:d+(u||1)-1,c:f+m-1}});var C=A.t||A["data-t"]||"";if(!y.length){f+=m;continue}if(y=HF(y),h.s.r>d&&(h.s.r=d),h.e.r<d&&(h.e.r=d),h.s.c>f&&(h.s.c=f),h.e.c<f&&(h.e.c=f),!y.length){f+=m;continue}var S={t:"s",v:y};r.raw||!y.trim().length||C=="s"||(y==="TRUE"?S={t:"b",v:!0}:y==="FALSE"?S={t:"b",v:!1}:isNaN(kl(y))?isNaN(Kh(y).getDate())||(S={t:"d",v:$a(y)},r.cellDates||(S={t:"n",v:ns(S.v)}),S.z=r.dateNF||Gt[14]):S={t:"n",v:kl(y)}),r.dense?(a[d]||(a[d]=[]),a[d][f]=S):a[qt({r:d,c:f})]=S,f+=m}}}}return a["!ref"]=ir(h),g.length&&(a["!merges"]=g),a}function cpe(e,t,r,a){for(var n=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>r||n[d].s.c>o)&&!(n[d].e.r<r||n[d].e.c<o)){if(n[d].s.r<r||n[d].s.c<o){l=-1;break}l=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(l<0)){var f=qt({r,c:o}),u=a.dense?(e[r]||[])[o]:e[f],m=u&&u.v!=null&&(u.h||F6(u.w||(cd(u),u.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),a.editable?m='<span contenteditable="true">'+m+"</span>":u&&(h["data-t"]=u&&u.t||"z",u.v!=null&&(h["data-v"]=u.v),u.z!=null&&(h["data-z"]=u.z),u.l&&(u.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+u.l.Target+'">'+m+"</a>")),h.id=(a.id||"sjs")+"-"+f,s.push(xt("td",m,h))}}var g="<tr>";return g+s.join("")+"</tr>"}var dpe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',fpe="</body></html>";function upe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Df(RT(r[0],t),t);var a=hC();return r.forEach(function(n,s){mC(a,RT(n,t),"Sheet"+(s+1))}),a}function hpe(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function wz(e,t){var r=t||{},a=r.header!=null?r.header:dpe,n=r.footer!=null?r.footer:fpe,s=[a],o=Ti(e["!ref"]);r.dense=Array.isArray(e),s.push(hpe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(cpe(e,o,l,r));return s.push("</table>"+n),s.join("")}function kz(e,t,r){var a=r||{},n=0,s=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var o=typeof a.origin=="string"?en(a.origin):a.origin;n=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:n,c:s}};if(e["!ref"]){var f=Ti(e["!ref"]);d.s.r=Math.min(d.s.r,f.s.r),d.s.c=Math.min(d.s.c,f.s.c),d.e.r=Math.max(d.e.r,f.e.r),d.e.c=Math.max(d.e.c,f.e.c),n==-1&&(d.e.r=n=f.e.r+1)}var u=[],m=0,h=e["!rows"]||(e["!rows"]=[]),g=0,p=0,x=0,v=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var w=l[g];if(FT(w)){if(a.display)continue;h[p]={hidden:!0}}var j=w.children;for(x=v=0;x<j.length;++x){var E=j[x];if(!(a.display&&FT(E))){var A=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):HF(E.innerHTML),C=E.getAttribute("data-z")||E.getAttribute("z");for(m=0;m<u.length;++m){var S=u[m];S.s.c==v+s&&S.s.r<p+n&&p+n<=S.e.r&&(v=S.e.c+1-s,m=-1)}y=+E.getAttribute("colspan")||1,((b=+E.getAttribute("rowspan")||1)>1||y>1)&&u.push({s:{r:p+n,c:v+s},e:{r:p+n+(b||1)-1,c:v+s+(y||1)-1}});var T={t:"s",v:A},_=E.getAttribute("data-t")||E.getAttribute("t")||"";A!=null&&(A.length==0?T.t=_||"z":a.raw||A.trim().length==0||_=="s"||(A==="TRUE"?T={t:"b",v:!0}:A==="FALSE"?T={t:"b",v:!1}:isNaN(kl(A))?isNaN(Kh(A).getDate())||(T={t:"d",v:$a(A)},a.cellDates||(T={t:"n",v:ns(T.v)}),T.z=a.dateNF||Gt[14]):T={t:"n",v:kl(A)})),T.z===void 0&&C!=null&&(T.z=C);var M="",D=E.getElementsByTagName("A");if(D&&D.length)for(var O=0;O<D.length&&!(D[O].hasAttribute("href")&&(M=D[O].getAttribute("href"),M.charAt(0)!="#"));++O);M&&M.charAt(0)!="#"&&(T.l={Target:M}),a.dense?(e[p+n]||(e[p+n]=[]),e[p+n][v+s]=T):e[qt({c:v+s,r:p+n})]=T,d.e.c<v+s&&(d.e.c=v+s),v+=y}}++p}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),d.e.r=Math.max(d.e.r,p-1+n),e["!ref"]=ir(d),p>=c&&(e["!fullref"]=ir((d.e.r=l.length-g+p-1+n,d))),e}function jz(e,t){var r=t||{},a=r.dense?[]:{};return kz(a,e,t)}function mpe(e,t){return Df(jz(e,t),t)}function FT(e){var t="",r=ppe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ppe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function gpe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ir(t.replace(/<[^>]*>/g,""));return[r]}var BT={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Nz(e,t){var r=t||{},a=B6(e),n=[],s,o,l={name:""},c="",d=0,f,u,m={},h=[],g=r.dense?[]:{},p,x,v={value:""},b="",y=0,w=[],j=-1,E=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,S={},T=[],_={},M=0,D=0,O=[],B=1,U=1,q=[],K={Names:[]},G={},ve=["",""],fe=[],I={},z="",H=0,J=!1,te=!1,W=0;for(vx.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=vx.exec(a);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"工作表":p[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?g["!ref"]=ir(A):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=A.e.r&&(g["!fullref"]=g["!ref"],A.e.r=r.sheetRows-1,g["!ref"]=ir(A)),T.length&&(g["!merges"]=T),O.length&&(g["!rows"]=O),f.name=f.名称||f.name,typeof JSON<"u"&&JSON.stringify(f),h.push(f.name),m[f.name]=g,te=!1):p[0].charAt(p[0].length-2)!=="/"&&(f=Jt(p[0],!1),j=E=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,g=r.dense?[]:{},T=[],O=[],te=!0);break;case"table-row-group":p[1]==="/"?--C:++C;break;case"table-row":case"行":if(p[1]==="/"){j+=B,B=1;break}if(u=Jt(p[0],!1),u.行号?j=u.行号-1:j==-1&&(j=0),B=+u["number-rows-repeated"]||1,B<10)for(W=0;W<B;++W)C>0&&(O[j+W]={level:C});E=-1;break;case"covered-table-cell":p[1]!=="/"&&++E,r.sheetStubs&&(r.dense?(g[j]||(g[j]=[]),g[j][E]={t:"z"}):g[qt({r:j,c:E})]={t:"z"}),b="",w=[];break;case"table-cell":case"数据":if(p[0].charAt(p[0].length-2)==="/")++E,v=Jt(p[0],!1),U=parseInt(v["number-columns-repeated"]||"1",10),x={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(x.f=DT(Ir(v.formula))),(v.数据类型||v["value-type"])=="string"&&(x.t="s",x.v=Ir(v["string-value"]||""),r.dense?(g[j]||(g[j]=[]),g[j][E]=x):g[qt({r:j,c:E})]=x),E+=U-1;else if(p[1]!=="/"){++E,b="",y=0,w=[],U=1;var Y=B?j+B-1:j;if(E>A.e.c&&(A.e.c=E),E<A.s.c&&(A.s.c=E),j<A.s.r&&(A.s.r=j),Y>A.e.r&&(A.e.r=Y),v=Jt(p[0],!1),fe=[],I={},x={t:v.数据类型||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=Ir(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(M=parseInt(v["number-matrix-rows-spanned"],10)||0,D=parseInt(v["number-matrix-columns-spanned"],10)||0,_={s:{r:j,c:E},e:{r:j+M-1,c:E+D-1}},x.F=ir(_),q.push([_,x.F])),v.formula)x.f=DT(v.formula);else for(W=0;W<q.length;++W)j>=q[W][0].s.r&&j<=q[W][0].e.r&&E>=q[W][0].s.c&&E<=q[W][0].e.c&&(x.F=q[W][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(M=parseInt(v["number-rows-spanned"],10)||0,D=parseInt(v["number-columns-spanned"],10)||0,_={s:{r:j,c:E},e:{r:j+M-1,c:E+D-1}},T.push(_)),v["number-columns-repeated"]&&(U=parseInt(v["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Ra(v["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(v.value);break;case"percentage":x.t="n",x.v=parseFloat(v.value);break;case"currency":x.t="n",x.v=parseFloat(v.value);break;case"date":x.t="d",x.v=$a(v["date-value"]),r.cellDates||(x.t="n",x.v=ns(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=Wse(v["time-value"])/86400,r.cellDates&&(x.t="d",x.v=Uw(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(v.数据数值);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",v["string-value"]!=null&&(b=Ir(v["string-value"]),w=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(J=!1,x.t==="s"&&(x.v=b||"",w.length&&(x.R=w),J=y==0),G.Target&&(x.l=G),fe.length>0&&(x.c=fe,fe=[]),b&&r.cellText!==!1&&(x.w=b),J&&(x.t="z",delete x.v),(!J||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var Q=0;Q<B;++Q){if(U=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(g[j+Q]||(g[j+Q]=[]),g[j+Q][E]=Q==0?x:Ua(x);--U>0;)g[j+Q][E+U]=Ua(x);else for(g[qt({r:j+Q,c:E})]=x;--U>0;)g[qt({r:j+Q,c:E+U})]=Ua(x);A.e.c<=E&&(A.e.c=E)}U=parseInt(v["number-columns-repeated"]||"1",10),E+=U-1,U=0,x={},b="",w=[]}G={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=n.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&n.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=n.pop())[0]!==p[3])throw"Bad state: "+s;I.t=b,w.length&&(I.R=w),I.a=z,fe.push(I)}else p[0].charAt(p[0].length-2)!=="/"&&n.push([p[3],!1]);z="",H=0,b="",y=0,w=[];break;case"creator":p[1]==="/"?z=a.slice(H,p.index):H=p.index+p[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=n.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&n.push([p[3],!1]);b="",y=0,w=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(S[l.name]=c,(s=n.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(c="",l=Jt(p[0],!1),n.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Jt(p[0],!1),c+=BT[p[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Jt(p[0],!1),c+=BT[p[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=a.slice(d,p.index);break}else d=p.index+p[0].length;break;case"named-range":o=Jt(p[0],!1),ve=zj(o["cell-range-address"]);var ne={Name:o.name,Ref:ve[0]+"!"+ve[1]};te&&(ne.Sheet=h.length),K.Names.push(ne);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(p[1]==="/"&&(!v||!v["string-value"])){var pe=gpe(a.slice(y,p.index));b=(b.length>0?b+`
`:"")+pe[0]}else Jt(p[0],!1),y=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{ve=zj(Jt(p[0])["target-range-address"]),m[ve[0]]["!autofilter"]={ref:ve[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(G=Jt(p[0],!1),!G.href)break;G.Target=Ir(G.href),delete G.href,G.Target.charAt(0)=="#"&&G.Target.indexOf(".")>-1?(ve=zj(G.Target.slice(1)),G.Target="#"+ve[0]+"!"+ve[1]):G.Target.match(/^\.\.[\\\/]/)&&(G.Target=G.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(p)}}var F={Sheets:m,SheetNames:h,Workbook:K};return r.bookSheets&&delete F.Sheets,F}function zT(e,t){t=t||{},So(e,"META-INF/manifest.xml")&&Wie(Pn(e,"META-INF/manifest.xml"),t);var r=Ki(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=Nz(fa(r),t);return So(e,"meta.xml")&&(a.Props=mB(Pn(e,"meta.xml"))),a}function $T(e,t){return Nz(e,t)}var xpe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+xx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return En+t}}(),UT=function(){var e=function(s){return ra(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(s,o,l){var c=[];c.push('      <table:table table:name="'+ra(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,f=0,u=Ti(s["!ref"]||"A1"),m=s["!merges"]||[],h=0,g=Array.isArray(s);if(s["!cols"])for(f=0;f<=u.e.c;++f)c.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var p="",x=s["!rows"]||[];for(d=0;d<u.s.r;++d)p=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;d<=u.e.r;++d){for(p=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+p+`>
`),f=0;f<u.s.c;++f)c.push(t);for(;f<=u.e.c;++f){var v=!1,b={},y="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>f)&&!(m[h].s.r>d)&&!(m[h].e.c<f)&&!(m[h].e.r<d)){(m[h].s.c!=f||m[h].s.r!=d)&&(v=!0),b["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,b["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(v){c.push(r);continue}var w=qt({r:d,c:f}),j=g?(s[d]||[])[f]:s[w];if(j&&j.f&&(b["table:formula"]=ra(Rue(j.f)),j.F&&j.F.slice(0,w.length)==w)){var E=Ti(j.F);b["table:number-matrix-columns-spanned"]=E.e.c-E.s.c+1,b["table:number-matrix-rows-spanned"]=E.e.r-E.s.r+1}if(!j){c.push(t);continue}switch(j.t){case"b":y=j.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=j.v?"true":"false";break;case"n":y=j.w||String(j.v||0),b["office:value-type"]="float",b["office:value"]=j.v||0;break;case"s":case"str":y=j.v==null?"":j.v,b["office:value-type"]="string";break;case"d":y=j.w||$a(j.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=$a(j.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var A=e(y);if(j.l&&j.l.Target){var C=j.l.Target;C=C.charAt(0)=="#"?"#"+Fue(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),A=xt("text:a",A,{"xlink:href":C.replace(/&/g,"&amp;")})}c.push("          "+xt("table:table-cell",xt("text:p",A,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var f=0;f<d["!cols"].length;++f)if(d["!cols"][f]){var u=d["!cols"][f];if(u.width==null&&u.wpx==null&&u.wch==null)continue;wf(u),u.ods=l;var m=d["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var f=0;f<d["!rows"].length;++f)if(d["!rows"][f]){d["!rows"][f].ods=c;var u=d["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+u+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,l){var c=[En],d=xx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=xx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+f+`>
`),c.push(hB().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var u=0;u!=o.SheetNames.length;++u)c.push(a(o.Sheets[o.SheetNames[u]],o,u));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Sz(e,t){if(t.bookType=="fods")return UT(e,t);var r=P6(),a="",n=[],s=[];return a="mimetype",dr(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",dr(r,a,UT(e,t)),n.push([a,"text/xml"]),s.push([a,"ContentFile"]),a="styles.xml",dr(r,a,xpe(e,t)),n.push([a,"text/xml"]),s.push([a,"StylesFile"]),a="meta.xml",dr(r,a,En+hB()),n.push([a,"text/xml"]),s.push([a,"MetadataFile"]),a="manifest.rdf",dr(r,a,Gie(s)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",dr(r,a,Hie(n)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Xu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function D3(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):fa(If(e))}function vpe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ji(ic(e))}function ype(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function jf(e){var t=e.reduce(function(n,s){return n+s.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(n){r.set(n,a),a+=n.length}),r}function WT(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function bpe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,n=t+13;n>=t;--n)a=a*256+e[n];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function wpe(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var s=0;n>=1;++s,n/=256)e[t+s]=n&255;e[t+15]|=r>=0?0:128}function Sx(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Zr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function dn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Or(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],n=Sx(e,r),s=n&7;n=Math.floor(n/8);var o=0,l;if(n==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Sx(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(n," at offset ").concat(a))}var d={data:l,type:s};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function Ns(e){var t=[];return e.forEach(function(r,a){r.forEach(function(n){n.data&&(t.push(Zr(a*8+n.type)),n.type==2&&t.push(Zr(n.data.length)),t.push(n.data))})}),jf(t)}function lC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function jo(e){for(var t,r=[],a=[0];a[0]<e.length;){var n=Sx(e,a),s=Or(e.slice(a[0],a[0]+n));a[0]+=n;var o={id:dn(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Or(l.data),d=dn(c[3][0].data);o.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=s[3])!=null&&t[0]&&(o.merge=dn(s[3][0].data)>>>0>0),r.push(o)}return r}function eh(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Zr(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Zr(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(o){n.push(o.data),o.meta[3]=[{type:0,data:Zr(o.data.length)}],a[2].push({data:Ns(o.meta),type:2})});var s=Ns(a);t.push(Zr(s.length)),t.push(s),n.forEach(function(o){return t.push(o)})}),jf(t)}function kpe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=Sx(t,r),n=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}n.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(s==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[jf(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var f=jf(n);if(f.length!=a)throw new Error("Unexpected length: ".concat(f.length," != ").concat(a));return f}function No(e){for(var t=[],r=0;r<e.length;){var a=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(kpe(a,e.slice(r,r+n))),r+=n}if(r!==e.length)throw new Error("data is not a valid framed stream!");return jf(t)}function th(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),n=new Uint8Array(4);t.push(n);var s=Zr(a),o=s.length;t.push(s),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,n[0]=0,n[1]=o&255,n[2]=o>>8&255,n[3]=o>>16&255,r+=a}return jf(t)}function jpe(e,t,r,a){var n=Xu(e),s=n.getUint32(4,!0),o=(a>1?12:8)+WT(s&(a>1?3470:398))*4,l=-1,c=-1,d=NaN,f=new Date(2001,0,1);s&512&&(l=n.getUint32(o,!0),o+=4),o+=WT(s&(a>1?12288:4096))*4,s&16&&(c=n.getUint32(o,!0),o+=4),s&32&&(d=n.getFloat64(o,!0),o+=8),s&64&&(f.setTime(f.getTime()+n.getFloat64(o,!0)*1e3),o+=8);var u;switch(e[2]){case 0:break;case 2:u={t:"n",v:d};break;case 3:u={t:"s",v:t[c]};break;case 5:u={t:"d",v:f};break;case 6:u={t:"b",v:d>0};break;case 7:u={t:"n",v:d/86400};break;case 8:u={t:"e",v:0};break;case 9:if(l>-1)u={t:"s",v:r[l]};else if(c>-1)u={t:"s",v:t[c]};else if(!isNaN(d))u={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return u}function Npe(e,t,r){var a=Xu(e),n=a.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,d=NaN,f=new Date(2001,0,1);n&1&&(c=bpe(e,s),s+=16),n&2&&(d=a.getFloat64(s,!0),s+=8),n&4&&(f.setTime(f.getTime()+a.getFloat64(s,!0)*1e3),s+=8),n&8&&(l=a.getUint32(s,!0),s+=4),n&16&&(o=a.getUint32(s,!0),s+=4);var u;switch(e[1]){case 0:break;case 2:u={t:"n",v:c};break;case 3:u={t:"s",v:t[l]};break;case 5:u={t:"d",v:f};break;case 6:u={t:"b",v:d>0};break;case 7:u={t:"n",v:d/86400};break;case 8:u={t:"e",v:0};break;case 9:if(o>-1)u={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:u={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return u}function Uj(e,t){var r=new Uint8Array(32),a=Xu(r),n=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,wpe(r,n,e.v),s|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,e.v?1:0,!0),s|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(n,t.indexOf(e.v),!0),s|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,s,!0),r.slice(0,n)}function Wj(e,t){var r=new Uint8Array(32),a=Xu(r),n=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(n,e.v,!0),s|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,e.v?1:0,!0),s|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(n,t.indexOf(e.v),!0),s|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,s,!0),r.slice(0,n)}function Spe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return jpe(e,t,r,e[0]);case 5:return Npe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ws(e){var t=Or(e);return Sx(t[1][0].data)}function HT(e,t){var r=Or(t.data),a=dn(r[1][0].data),n=r[3],s=[];return(n||[]).forEach(function(o){var l=Or(o.data),c=dn(l[1][0].data)>>>0;switch(a){case 1:s[c]=D3(l[3][0].data);break;case 8:{var d=e[Ws(l[9][0].data)][0],f=Or(d.data),u=e[Ws(f[1][0].data)][0],m=dn(u.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var h=Or(u.data);s[c]=h[3].map(function(g){return D3(g.data)}).join("")}break}}),s}function Cpe(e,t){var r,a,n,s,o,l,c,d,f,u,m,h,g,p,x=Or(e),v=dn(x[1][0].data)>>>0,b=dn(x[2][0].data)>>>0,y=((a=(r=x[8])==null?void 0:r[0])==null?void 0:a.data)&&dn(x[8][0].data)>0||!1,w,j;if((s=(n=x[7])==null?void 0:n[0])!=null&&s.data&&t!=0)w=(l=(o=x[7])==null?void 0:o[0])==null?void 0:l.data,j=(d=(c=x[6])==null?void 0:c[0])==null?void 0:d.data;else if((u=(f=x[4])==null?void 0:f[0])!=null&&u.data&&t!=1)w=(h=(m=x[4])==null?void 0:m[0])==null?void 0:h.data,j=(p=(g=x[3])==null?void 0:g[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var E=y?4:1,A=Xu(w),C=[],S=0;S<w.length/2;++S){var T=A.getUint16(S*2,!0);T<65535&&C.push([S,T])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var _=[];for(S=0;S<C.length-1;++S)_[C[S][0]]=j.subarray(C[S][1]*E,C[S+1][1]*E);return C.length>=1&&(_[C[C.length-1][0]]=j.subarray(C[C.length-1][1]*E)),{R:v,cells:_}}function Ape(e,t){var r,a=Or(t.data),n=(r=a==null?void 0:a[7])!=null&&r[0]?dn(a[7][0].data)>>>0>0?1:0:-1,s=lC(a[5],function(o){return Cpe(o,n)});return{nrows:dn(a[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function Epe(e,t,r){var a,n=Or(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(dn(n[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(s.e.c=(dn(n[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=ir(s);var o=Or(n[4][0].data),l=HT(e,e[Ws(o[4][0].data)][0]),c=(a=o[17])!=null&&a[0]?HT(e,e[Ws(o[17][0].data)][0]):[],d=Or(o[3][0].data),f=0;d[1].forEach(function(u){var m=Or(u.data),h=e[Ws(m[2][0].data)][0],g=dn(h.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var p=Ape(e,h);p.data.forEach(function(x,v){x.forEach(function(b,y){var w=qt({r:f+v,c:y}),j=Spe(b,l,c);j&&(r[w]=j)})}),f+=p.nrows})}function _pe(e,t){var r=Or(t.data),a={"!ref":"A1"},n=e[Ws(r[2][0].data)],s=dn(n[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Epe(e,n[0],a),a}function Mpe(e,t){var r,a=Or(t.data),n={name:(r=a[1])!=null&&r[0]?D3(a[1][0].data):"",sheets:[]},s=lC(a[2],Ws);return s.forEach(function(o){e[o].forEach(function(l){var c=dn(l.meta[1][0].data);c==6e3&&n.sheets.push(_pe(e,l))})}),n}function Lpe(e,t){var r=hC(),a=Or(t.data),n=lC(a[1],Ws);if(n.forEach(function(s){e[s].forEach(function(o){var l=dn(o.meta[1][0].data);if(l==2){var c=Mpe(e,o);c.sheets.forEach(function(d,f){mC(r,d,f==0?c.name:c.name+"_"+f,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Hj(e){var t,r,a,n,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=No(c.content)}catch(u){return console.log("?? "+c.content.length+" "+(u.message||u))}var f;try{f=jo(d)}catch(u){return console.log("## "+(u.message||u))}f.forEach(function(u){s[u.id]=u.messages,o.push(u.id)})}}),!o.length)throw new Error("File has no messages");var l=((n=(a=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&dn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(c){s[c].forEach(function(d){var f=dn(d.meta[1][0].data)>>>0;if(f==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Lpe(s,l)}function Tpe(e,t,r){var a,n,s,o;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&dn(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Xu(e[7][0].data),f=0,u=[],m=Xu(e[4][0].data),h=0,g=[],p=0;p<t.length;++p){if(t[p]==null){d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535);continue}d.setUint16(p*2,f,!0),m.setUint16(p*2,h,!0);var x,v;switch(typeof t[p]){case"string":x=Uj({t:"s",v:t[p]},r),v=Wj({t:"s",v:t[p]},r);break;case"number":x=Uj({t:"n",v:t[p]},r),v=Wj({t:"n",v:t[p]},r);break;case"boolean":x=Uj({t:"b",v:t[p]},r),v=Wj({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}u.push(x),f+=x.length,g.push(v),h+=v.length,++c}for(e[2][0].data=Zr(c);p<e[7][0].data.length/2;++p)d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535,!0);return e[6][0].data=jf(u),e[3][0].data=jf(g),c}function Ipe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Ti(r["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(ir(a)));var s=Qb(r,{range:a,header:1}),o=["~Sh33tJ5~"];s.forEach(function(z){return z.forEach(function(H){typeof H=="string"&&o.push(H)})});var l={},c=[],d=$t.read(t.numbers,{type:"base64"});d.FileIndex.map(function(z,H){return[z,d.FullPaths[H]]}).forEach(function(z){var H=z[0],J=z[1];if(H.type==2&&H.name.match(/\.iwa/)){var te=H.content,W=No(te),Y=jo(W);Y.forEach(function(Q){c.push(Q.id),l[Q.id]={deps:[],location:J,type:dn(Q.messages[0].meta[1][0].data)}})}}),c.sort(function(z,H){return z-H});var f=c.filter(function(z){return z>1}).map(function(z){return[z,Zr(z)]});d.FileIndex.map(function(z,H){return[z,d.FullPaths[H]]}).forEach(function(z){var H=z[0];if(z[1],!!H.name.match(/\.iwa/)){var J=jo(No(H.content));J.forEach(function(te){te.messages.forEach(function(W){f.forEach(function(Y){te.messages.some(function(Q){return dn(Q.meta[1][0].data)!=11006&&ype(Q.data,Y[1])})&&l[Y[0]].deps.push(te.id)})})})}});for(var u=$t.find(d,l[1].location),m=jo(No(u.content)),h,g=0;g<m.length;++g){var p=m[g];p.id==1&&(h=p)}var x=Ws(Or(h.messages[0].data)[1][0].data);for(u=$t.find(d,l[x].location),m=jo(No(u.content)),g=0;g<m.length;++g)p=m[g],p.id==x&&(h=p);for(x=Ws(Or(h.messages[0].data)[2][0].data),u=$t.find(d,l[x].location),m=jo(No(u.content)),g=0;g<m.length;++g)p=m[g],p.id==x&&(h=p);for(x=Ws(Or(h.messages[0].data)[2][0].data),u=$t.find(d,l[x].location),m=jo(No(u.content)),g=0;g<m.length;++g)p=m[g],p.id==x&&(h=p);var v=Or(h.messages[0].data);{v[6][0].data=Zr(a.e.r+1),v[7][0].data=Zr(a.e.c+1);var b=Ws(v[46][0].data),y=$t.find(d,l[b].location),w=jo(No(y.content));{for(var j=0;j<w.length&&w[j].id!=b;++j);if(w[j].id!=b)throw"Bad ColumnRowUIDMapArchive";var E=Or(w[j].messages[0].data);E[1]=[],E[2]=[],E[3]=[];for(var A=0;A<=a.e.c;++A){var C=[];C[1]=C[2]=[{type:0,data:Zr(A+420690)}],E[1].push({type:2,data:Ns(C)}),E[2].push({type:0,data:Zr(A)}),E[3].push({type:0,data:Zr(A)})}E[4]=[],E[5]=[],E[6]=[];for(var S=0;S<=a.e.r;++S)C=[],C[1]=C[2]=[{type:0,data:Zr(S+726270)}],E[4].push({type:2,data:Ns(C)}),E[5].push({type:0,data:Zr(S)}),E[6].push({type:0,data:Zr(S)});w[j].messages[0].data=Ns(E)}y.content=th(eh(w)),y.size=y.content.length,delete v[46];var T=Or(v[4][0].data);{T[7][0].data=Zr(a.e.r+1);var _=Or(T[1][0].data),M=Ws(_[2][0].data);y=$t.find(d,l[M].location),w=jo(No(y.content));{if(w[0].id!=M)throw"Bad HeaderStorageBucket";var D=Or(w[0].messages[0].data);for(S=0;S<s.length;++S){var O=Or(D[2][0].data);O[1][0].data=Zr(S),O[4][0].data=Zr(s[S].length),D[2][S]={type:D[2][0].type,data:Ns(O)}}w[0].messages[0].data=Ns(D)}y.content=th(eh(w)),y.size=y.content.length;var B=Ws(T[2][0].data);y=$t.find(d,l[B].location),w=jo(No(y.content));{if(w[0].id!=B)throw"Bad HeaderStorageBucket";for(D=Or(w[0].messages[0].data),A=0;A<=a.e.c;++A)O=Or(D[2][0].data),O[1][0].data=Zr(A),O[4][0].data=Zr(a.e.r+1),D[2][A]={type:D[2][0].type,data:Ns(O)};w[0].messages[0].data=Ns(D)}y.content=th(eh(w)),y.size=y.content.length;var U=Ws(T[4][0].data);(function(){for(var z=$t.find(d,l[U].location),H=jo(No(z.content)),J,te=0;te<H.length;++te){var W=H[te];W.id==U&&(J=W)}var Y=Or(J.messages[0].data);{Y[3]=[];var Q=[];o.forEach(function(F,Te){Q[1]=[{type:0,data:Zr(Te)}],Q[2]=[{type:0,data:Zr(1)}],Q[3]=[{type:2,data:vpe(F)}],Y[3].push({type:2,data:Ns(Q)})})}J.messages[0].data=Ns(Y);var ne=eh(H),pe=th(ne);z.content=pe,z.size=z.content.length})();var q=Or(T[3][0].data);{var K=q[1][0];delete q[2];var G=Or(K.data);{var ve=Ws(G[2][0].data);(function(){for(var z=$t.find(d,l[ve].location),H=jo(No(z.content)),J,te=0;te<H.length;++te){var W=H[te];W.id==ve&&(J=W)}var Y=Or(J.messages[0].data);{delete Y[6],delete q[7];var Q=new Uint8Array(Y[5][0].data);Y[5]=[];for(var ne=0,pe=0;pe<=a.e.r;++pe){var F=Or(Q);ne+=Tpe(F,s[pe],o),F[1][0].data=Zr(pe),Y[5].push({data:Ns(F),type:2})}Y[1]=[{type:0,data:Zr(a.e.c+1)}],Y[2]=[{type:0,data:Zr(a.e.r+1)}],Y[3]=[{type:0,data:Zr(ne)}],Y[4]=[{type:0,data:Zr(a.e.r+1)}]}J.messages[0].data=Ns(Y);var Te=eh(H),xe=th(Te);z.content=xe,z.size=z.content.length})()}K.data=Ns(G)}T[3][0].data=Ns(q)}v[4][0].data=Ns(T)}h.messages[0].data=Ns(v);var fe=eh(m),I=th(fe);return u.content=I,u.size=u.content.length,d}function Cz(e){return function(r){for(var a=0;a!=e.length;++a){var n=e[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function cC(e){Cz([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function dC(e){Cz([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Dpe(e){return pr.WS.indexOf(e)>-1?"sheet":e==pr.CS?"chart":e==pr.DS?"dialog":e==pr.MS?"macro":e&&e.length?e:"sheet"}function Ppe(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,Dpe(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Ope(e,t,r,a,n,s,o,l,c,d,f,u){try{s[a]=Ug(Ki(e,r,!0),t);var m=Pn(e,t),h;switch(l){case"sheet":h=nme(m,t,n,c,s[a],d,f,u);break;case"chart":if(h=sme(m,t,n,c,s[a],d,f,u),!h||!h["!drawel"])break;var g=Sg(h["!drawel"].Target,t),p=yx(g),x=Vde(Ki(e,g,!0),Ug(Ki(e,p,!0),g)),v=Sg(x,g),b=yx(v);h=The(Ki(e,v,!0),v,c,Ug(Ki(e,b,!0),v),d,h);break;case"macro":h=ime(m,t,n,c,s[a],d,f,u);break;case"dialog":h=ome(m,t,n,c,s[a],d,f,u);break;default:throw new Error("Unrecognized sheet type "+l)}o[a]=h;var y=[];s&&s[a]&&un(s[a]).forEach(function(w){var j="";if(s[a][w].Type==pr.CMNT){j=Sg(s[a][w].Target,t);var E=fme(Pn(e,j,!0),j,c);if(!E||!E.length)return;_T(h,E,!1)}s[a][w].Type==pr.TCMNT&&(j=Sg(s[a][w].Target,t),y=y.concat(qde(Pn(e,j,!0),c)))}),y&&y.length&&_T(h,y,!0,c.people||[])}catch(w){if(c.WTF)throw w}}function xo(e){return e.charAt(0)=="/"?e.slice(1):e}function Rpe(e,t){if(Ym(),t=t||{},cC(t),So(e,"META-INF/manifest.xml")||So(e,"objectdata.xml"))return zT(e,t);if(So(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Hj<"u"){if(e.FileIndex)return Hj(e);var r=$t.utils.cfb_new();return KL(e).forEach(function(O){dr(r,O,Yse(e,O))}),Hj(r)}throw new Error("Unsupported NUMBERS file")}if(!So(e,"[Content_Types].xml"))throw So(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):So(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=KL(e),n=$ie(Ki(e,"[Content_Types].xml")),s=!1,o,l;if(n.workbooks.length===0&&(l="xl/workbook.xml",Pn(e,l,!0)&&n.workbooks.push(l)),n.workbooks.length===0){if(l="xl/workbook.bin",!Pn(e,l,!0))throw new Error("Could not find workbook");n.workbooks.push(l),s=!0}n.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(Wg=[],n.sst)try{Wg=dme(Pn(e,xo(n.sst)),n.sst,t)}catch(O){if(t.WTF)throw O}t.cellStyles&&n.themes.length&&(c=cme(Ki(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=lme(Pn(e,xo(n.style)),n.style,c,t))}n.links.map(function(O){try{var B=Ug(Ki(e,yx(xo(O))),O);return hme(Pn(e,xo(O)),B,O,t)}catch{}});var f=ame(Pn(e,xo(n.workbooks[0])),n.workbooks[0],t),u={},m="";n.coreprops.length&&(m=Pn(e,xo(n.coreprops[0]),!0),m&&(u=mB(m)),n.extprops.length!==0&&(m=Pn(e,xo(n.extprops[0]),!0),m&&Yie(m,u,t)));var h={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(m=Ki(e,xo(n.custprops[0]),!0),m&&(h=Kie(m,t)));var g={};if((t.bookSheets||t.bookProps)&&(f.Sheets?o=f.Sheets.map(function(B){return B.name}):u.Worksheets&&u.SheetNames.length>0&&(o=u.SheetNames),t.bookProps&&(g.Props=u,g.Custprops=h),t.bookSheets&&typeof o<"u"&&(g.SheetNames=o),t.bookSheets?g.SheetNames:t.bookProps))return g;o={};var p={};t.bookDeps&&n.calcchain&&(p=ume(Pn(e,xo(n.calcchain)),n.calcchain));var x=0,v={},b,y;{var w=f.Sheets;u.Worksheets=w.length,u.SheetNames=[];for(var j=0;j!=w.length;++j)u.SheetNames[j]=w[j].name}var E=s?"bin":"xml",A=n.workbooks[0].lastIndexOf("/"),C=(n.workbooks[0].slice(0,A+1)+"_rels/"+n.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");So(e,C)||(C="xl/_rels/workbook."+E+".rels");var S=Ug(Ki(e,C,!0),C.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=mme(Pn(e,xo(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=Jde(Pn(e,xo(n.people[0])),t)),S&&(S=Ppe(S,f.Sheets));var T=Pn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=u.Worksheets;++x){var _="sheet";if(S&&S[x]?(b="xl/"+S[x][1].replace(/[\/]?xl\//,""),So(e,b)||(b=S[x][1]),So(e,b)||(b=C.replace(/_rels\/.*$/,"")+S[x][1]),_=S[x][2]):(b="xl/worksheets/sheet"+(x+1-T)+"."+E,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(u.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var M=!1,D=0;D!=t.sheets.length;++D)typeof t.sheets[D]=="number"&&t.sheets[D]==x&&(M=1),typeof t.sheets[D]=="string"&&t.sheets[D].toLowerCase()==u.SheetNames[x].toLowerCase()&&(M=1);if(!M)continue e}}Ope(e,b,y,u.SheetNames[x],x,v,o,_,t,f,c,d)}return g={Directory:n,Workbook:f,Props:u,Custprops:h,Deps:p,Sheets:o,SheetNames:u.SheetNames,Strings:Wg,Styles:d,Themes:c,SSF:Ua(Gt)},t&&t.bookFiles&&(e.files?(g.keys=a,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(O,B){O=O.replace(/^Root Entry[\/]/,""),g.keys.push(O),g.files[O]=e.FileIndex[B]}))),t&&t.bookVBA&&(n.vba.length>0?g.vbaraw=Pn(e,xo(n.vba[0]),!0):n.defaults&&n.defaults.bin===afe&&(g.vbaraw=Pn(e,"xl/vbaProject.bin",!0))),g}function Fpe(e,t){var r=t||{},a="Workbook",n=$t.find(e,a);try{if(a="/!DataSpaces/Version",n=$t.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(mce(n.content),a="/!DataSpaces/DataSpaceMap",n=$t.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var s=gce(n.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=$t.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=xce(n.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=$t.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);yce(n.content)}catch{}if(a="/EncryptionInfo",n=$t.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=bce(n.content);if(a="/EncryptedPackage",n=$t.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],n.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function Bpe(e,t){return t.bookType=="ods"?Sz(e,t):t.bookType=="numbers"?Ipe(e,t):t.bookType=="xlsb"?zpe(e,t):$pe(e,t)}function zpe(e,t){bh=1024,e&&!e.SSF&&(e.SSF=Ua(Gt)),e&&e.SSF&&(Ym(),Bw(e.SSF),t.revssf=$w(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=ZB.indexOf(t.bookType)>-1,n=J6();dC(t=t||{});var s=P6(),o="",l=0;if(t.cellXfs=[],Pf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",dr(s,o,pB(e.Props,t)),n.coreprops.push(o),ta(t.rels,2,o,pr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,dr(s,o,vB(e.Props)),n.extprops.push(o),ta(t.rels,3,o,pr.EXT_PROPS),e.Custprops!==e.Props&&un(e.Custprops||{}).length>0&&(o="docProps/custom.xml",dr(s,o,yB(e.Custprops)),n.custprops.push(o),ta(t.rels,4,o,pr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},u=e.Sheets[e.SheetNames[l-1]],m=(u||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,dr(s,o,gme(l-1,o,t,e,f)),n.sheets.push(o),ta(t.wbrels,-1,"worksheets/sheet"+l+"."+r,pr.WS[0])}if(u){var h=u["!comments"],g=!1,p="";h&&h.length>0&&(p="xl/comments"+l+"."+r,dr(s,p,yme(h,p)),n.comments.push(p),ta(f,-1,"../comments"+l+"."+r,pr.CMNT),g=!0),u["!legacy"]&&g&&dr(s,"xl/drawings/vmlDrawing"+l+".vml",QB(l,u["!comments"])),delete u["!comments"],delete u["!legacy"]}f["!id"].rId1&&dr(s,yx(o),Dh(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,dr(s,o,vme(t.Strings,o,t)),n.strs.push(o),ta(t.wbrels,-1,"sharedStrings."+r,pr.SST)),o="xl/workbook."+r,dr(s,o,pme(e,o)),n.workbooks.push(o),ta(t.rels,1,o,pr.WB),o="xl/theme/theme1.xml",dr(s,o,tC(e.Themes,t)),n.themes.push(o),ta(t.wbrels,-1,"theme/theme1.xml",pr.THEME),o="xl/styles."+r,dr(s,o,xme(e,o,t)),n.styles.push(o),ta(t.wbrels,-1,"styles."+r,pr.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",dr(s,o,e.vbaraw),n.vba.push(o),ta(t.wbrels,-1,"vbaProject.bin",pr.VBA)),o="xl/metadata."+r,dr(s,o,bme(o)),n.metadata.push(o),ta(t.wbrels,-1,"metadata."+r,pr.XLMETA),dr(s,"[Content_Types].xml",uB(n,t)),dr(s,"_rels/.rels",Dh(t.rels)),dr(s,"xl/_rels/workbook."+r+".rels",Dh(t.wbrels)),delete t.revssf,delete t.ssf,s}function $pe(e,t){bh=1024,e&&!e.SSF&&(e.SSF=Ua(Gt)),e&&e.SSF&&(Ym(),Bw(e.SSF),t.revssf=$w(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=ZB.indexOf(t.bookType)>-1,n=J6();dC(t=t||{});var s=P6(),o="",l=0;if(t.cellXfs=[],Pf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",dr(s,o,pB(e.Props,t)),n.coreprops.push(o),ta(t.rels,2,o,pr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,dr(s,o,vB(e.Props)),n.extprops.push(o),ta(t.rels,3,o,pr.EXT_PROPS),e.Custprops!==e.Props&&un(e.Custprops||{}).length>0&&(o="docProps/custom.xml",dr(s,o,yB(e.Custprops)),n.custprops.push(o),ta(t.rels,4,o,pr.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,dr(s,o,dz(l-1,t,e,u)),n.sheets.push(o),ta(t.wbrels,-1,"worksheets/sheet"+l+"."+r,pr.WS[0])}if(m){var g=m["!comments"],p=!1,x="";if(g&&g.length>0){var v=!1;g.forEach(function(b){b[1].forEach(function(y){y.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+l+"."+r,dr(s,x,Yde(g,f,t)),n.threadedcomments.push(x),ta(u,-1,"../threadedComments/threadedComment"+l+"."+r,pr.TCMNT)),x="xl/comments"+l+"."+r,dr(s,x,XB(g)),n.comments.push(x),ta(u,-1,"../comments"+l+"."+r,pr.CMNT),p=!0}m["!legacy"]&&p&&dr(s,"xl/drawings/vmlDrawing"+l+".vml",QB(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}u["!id"].rId1&&dr(s,yx(o),Dh(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,dr(s,o,BB(t.Strings,t)),n.strs.push(o),ta(t.wbrels,-1,"sharedStrings."+r,pr.SST)),o="xl/workbook."+r,dr(s,o,pz(e)),n.workbooks.push(o),ta(t.rels,1,o,pr.WB),o="xl/theme/theme1.xml",dr(s,o,tC(e.Themes,t)),n.themes.push(o),ta(t.wbrels,-1,"theme/theme1.xml",pr.THEME),o="xl/styles."+r,dr(s,o,qB(e,t)),n.styles.push(o),ta(t.wbrels,-1,"styles."+r,pr.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",dr(s,o,e.vbaraw),n.vba.push(o),ta(t.wbrels,-1,"vbaProject.bin",pr.VBA)),o="xl/metadata."+r,dr(s,o,KB()),n.metadata.push(o),ta(t.wbrels,-1,"metadata."+r,pr.XLMETA),f.length>1&&(o="xl/persons/person.xml",dr(s,o,Kde(f)),n.people.push(o),ta(t.wbrels,-1,"persons/person.xml",pr.PEOPLE)),dr(s,"[Content_Types].xml",uB(n,t)),dr(s,"_rels/.rels",Dh(t.rels)),dr(s,"xl/_rels/workbook."+r+".rels",Dh(t.wbrels)),delete t.revssf,delete t.ssf,s}function fC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ao(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Upe(e,t){return $t.find(e,"EncryptedPackage")?Fpe(e,t):yz(e,t)}function Wpe(e,t){var r,a=e,n=t||{};return n.type||(n.type=hr&&Buffer.isBuffer(e)?"buffer":"base64"),r=$F(a,n),Rpe(r,n)}function Az(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return T3(e.slice(r),t);default:break e}return Qh.to_workbook(e,t)}function Hpe(e,t){var r="",a=fC(e,t);switch(t.type){case"base64":r=ao(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Yu(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=fa(r)),t.type="binary",Az(r,t)}function Vpe(e,t){var r=e;return t.type=="base64"&&(r=ao(r)),r=hx.utils.decode(1200,r.slice(2),"str"),t.type="binary",Az(r,t)}function Gpe(e){return e.match(/[^\x00-\x7F]/)?ic(e):e}function Vj(e,t,r,a){return a?(r.type="string",Qh.to_workbook(e,r)):Qh.to_workbook(t,r)}function P3(e,t){M6();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return P3(new Uint8Array(e),(r=Ua(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=e,n=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Oh={},r.dateNF&&(Oh.dateNF=r.dateNF),r.type||(r.type=hr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=hr?"buffer":"binary",a=zse(e),typeof Uint8Array<"u"&&!hr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,a=Gpe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Ua(r),r.type="array",P3(L6(a),r)}switch((n=fC(a,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return Upe($t.read(a,r),r);break;case 9:if(n[1]<=8)return yz(a,r);break;case 60:return T3(a,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return Qle(a,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return RB.to_workbook(a,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Wpe(a,r):Vj(e,a,r,s);case 239:return n[3]===60?T3(a,r):Vj(e,a,r,s);case 255:if(n[1]===254)return Vpe(a,r);if(n[1]===0&&n[2]===2&&n[3]===0)return Iu.to_workbook(a,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Iu.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return L3.to_workbook(a,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return HB.to_workbook(a,r);break;case 10:case 13:case 32:return Hpe(a,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Kle.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?L3.to_workbook(a,r):Vj(e,a,r,s)}function Ez(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return V1(t.file,$t.write(e,{type:hr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return $t.write(e,t)}function qpe(e,t){var r=Ua(t||{}),a=Bpe(e,r);return Ype(a,r)}function Ype(e,t){var r={},a=hr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?$t.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Fw(n))}return t.password&&typeof encrypt_agile<"u"?Ez(encrypt_agile(n,t.password),t):t.type==="file"?V1(t.file,n):t.type=="string"?fa(n):n}function Jpe(e,t){var r=t||{},a=Gme(e,r);return Ez(a,r)}function Jl(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return mx(ic(a));case"binary":return ic(a);case"string":return e;case"file":return V1(t.file,a,"utf8");case"buffer":return hr?vd(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Jl(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Kpe(e,t){switch(t.type){case"base64":return mx(e);case"binary":return e;case"string":return e;case"file":return V1(t.file,e,"binary");case"buffer":return hr?vd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function yy(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?mx(r):t.type=="string"?fa(r):r;case"file":return V1(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function _z(e,t){M6(),Uhe(e);var r=Ua(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=_z(e,r);return r.type="array",Fw(a)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=e.SheetNames.indexOf(r.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Jl(Bme(e,r),r);case"slk":case"sylk":return Jl(OB.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"htm":case"html":return Jl(wz(e.Sheets[e.SheetNames[n]],r),r);case"txt":return Kpe(Mz(e.Sheets[e.SheetNames[n]],r),r);case"csv":return Jl(uC(e.Sheets[e.SheetNames[n]],r),r,"\uFEFF");case"dif":return Jl(RB.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"dbf":return yy(L3.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"prn":return Jl(Qh.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"rtf":return Jl(HB.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"eth":return Jl(FB.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"fods":return Jl(Sz(e,r),r);case"wk1":return yy(Iu.sheet_to_wk1(e.Sheets[e.SheetNames[n]],r),r);case"wk3":return yy(Iu.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),yy(bz(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Jpe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return qpe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Qpe(e,t,r,a,n,s,o,l){var c=Cn(r),d=l.defval,f=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),u=!0,m=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var g=o?e[r][h]:e[a[h]+c];if(g===void 0||g.t===void 0){if(d===void 0)continue;s[h]!=null&&(m[s[h]]=d);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[h]!=null){if(p==null)if(g.t=="e"&&p===null)m[s[h]]=null;else if(d!==void 0)m[s[h]]=d;else if(f&&p===null)m[s[h]]=null;else continue;else m[s[h]]=f&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:cd(g,p,l);p!=null&&(u=!1)}}return{row:m,isempty:u}}function Qb(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof f){case"string":c=Dr(f);break;case"number":c=Dr(e["!ref"]),c.s.r=f;break;default:c=f}a>0&&(n=0);var u=Cn(c.s.r),m=[],h=[],g=0,p=0,x=Array.isArray(e),v=c.s.r,b=0,y={};x&&!e[v]&&(e[v]=[]);var w=d.skipHidden&&e["!cols"]||[],j=d.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(w[b]||{}).hidden)switch(m[b]=Za(b),r=x?e[v][b]:e[m[b]+u],a){case 1:s[b]=b-c.s.c;break;case 2:s[b]=m[b];break;case 3:s[b]=d.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=cd(r,null,d),p=y[o]||0,!p)y[o]=1;else{do l=o+"_"+p++;while(y[l]);y[o]=p,y[l]=1}s[b]=l}for(v=c.s.r+n;v<=c.e.r;++v)if(!(j[v]||{}).hidden){var E=Qpe(e,c,v,m,a,s,x,d);(E.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(h[g++]=E.row)}return h.length=g,h}var VT=/"/g;function Xpe(e,t,r,a,n,s,o,l){for(var c=!0,d=[],f="",u=Cn(r),m=t.s.c;m<=t.e.c;++m)if(a[m]){var h=l.dense?(e[r]||[])[m]:e[a[m]+u];if(h==null)f="";else if(h.v!=null){c=!1,f=""+(l.rawNumbers&&h.t=="n"?h.v:cd(h,null,l));for(var g=0,p=0;g!==f.length;++g)if((p=f.charCodeAt(g))===n||p===s||p===34||l.forceQuotes){f='"'+f.replace(VT,'""')+'"';break}f=="ID"&&(f='"ID"')}else h.f!=null&&!h.F?(c=!1,f="="+h.f,f.indexOf(",")>=0&&(f='"'+f.replace(VT,'""')+'"')):f="";d.push(f)}return l.blankrows===!1&&c?null:d.join(o)}function uC(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=Dr(e["!ref"]),s=a.FS!==void 0?a.FS:",",o=s.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,c=l.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),f="",u=[];a.dense=Array.isArray(e);for(var m=a.skipHidden&&e["!cols"]||[],h=a.skipHidden&&e["!rows"]||[],g=n.s.c;g<=n.e.c;++g)(m[g]||{}).hidden||(u[g]=Za(g));for(var p=0,x=n.s.r;x<=n.e.r;++x)(h[x]||{}).hidden||(f=Xpe(e,n,x,u,o,c,s,a),f!=null&&(a.strip&&(f=f.replace(d,"")),(f||a.blankrows!==!1)&&r.push((p++?l:"")+f)));return delete a.dense,r.join("")}function Mz(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=uC(e,t);return r}function Zpe(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var n=Dr(e["!ref"]),s="",o=[],l,c=[],d=Array.isArray(e);for(l=n.s.c;l<=n.e.c;++l)o[l]=Za(l);for(var f=n.s.r;f<=n.e.r;++f)for(s=Cn(f),l=n.s.c;l<=n.e.c;++l)if(t=o[l]+s,r=d?(e[f]||[])[l]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function Lz(e,t,r){var a=r||{},n=+!a.skipHeader,s=e||{},o=0,l=0;if(s&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?en(a.origin):a.origin;o=c.r,l=c.c}var d,f={s:{c:0,r:0},e:{c:l,r:o+t.length-1+n}};if(s["!ref"]){var u=Dr(s["!ref"]);f.e.c=Math.max(f.e.c,u.e.c),f.e.r=Math.max(f.e.r,u.e.r),o==-1&&(o=u.e.r+1,f.e.r=o+t.length-1+n)}else o==-1&&(o=0,f.e.r=t.length-1+n);var m=a.header||[],h=0;t.forEach(function(p,x){un(p).forEach(function(v){(h=m.indexOf(v))==-1&&(m[h=m.length]=v);var b=p[v],y="z",w="",j=qt({c:l+h,r:o+x+n});d=Cx(s,j),b&&typeof b=="object"&&!(b instanceof Date)?s[j]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",a.cellDates||(y="n",b=ns(b)),w=a.dateNF||Gt[14]):b===null&&a.nullError&&(y="e",b=0),d?(d.t=y,d.v=b,delete d.w,delete d.R,w&&(d.z=w)):s[j]=d={t:y,v:b},w&&(d.z=w))})}),f.e.c=Math.max(f.e.c,l+m.length-1);var g=Cn(o);if(n)for(h=0;h<m.length;++h)s[Za(h+l)+g]={t:"s",v:m[h]};return s["!ref"]=ir(f),s}function ege(e,t){return Lz(null,e,t)}function Cx(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=en(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Cx(e,qt(t)):Cx(e,qt({r:t,c:r||0}))}function tge(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function hC(){return{SheetNames:[],Sheets:{}}}function mC(e,t,r,a){var n=1;if(!r)for(;n<=65535&&e.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);n=s&&+s[2]||0;var o=s&&s[1]||r;for(++n;n<=65535&&e.SheetNames.indexOf(r=o+n)!=-1;++n);}if(mz(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function rge(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=tge(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function age(e,t){return e.z=t,e}function Tz(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function nge(e,t,r){return Tz(e,"#"+t,r)}function sge(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function ige(e,t,r,a){for(var n=typeof t!="string"?t:Dr(t),s=typeof t=="string"?t:ir(t),o=n.s.r;o<=n.e.r;++o)for(var l=n.s.c;l<=n.e.c;++l){var c=Cx(e,o,l);c.t="n",c.F=s,delete c.v,o==n.s.r&&l==n.s.c&&(c.f=r,a&&(c.D=!0))}return e}var Rh={encode_col:Za,encode_row:Cn,encode_cell:qt,encode_range:ir,decode_col:W6,decode_row:U6,split_cell:vie,decode_cell:en,decode_range:Ti,format_cell:cd,sheet_add_aoa:sB,sheet_add_json:Lz,sheet_add_dom:kz,aoa_to_sheet:Jm,json_to_sheet:ege,table_to_sheet:jz,table_to_book:mpe,sheet_to_csv:uC,sheet_to_txt:Mz,sheet_to_json:Qb,sheet_to_html:wz,sheet_to_formulae:Zpe,sheet_to_row_object_array:Qb,sheet_get_cell:Cx,book_new:hC,book_append_sheet:mC,book_set_sheet_visibility:rge,cell_set_number_format:age,cell_set_hyperlink:Tz,cell_set_internal_link:nge,cell_add_comment:sge,sheet_set_array_formula:ige,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Iz={exports:{}};(function(e,t){(function(r,a){a()})(ms,function(){function r(d,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function a(d,f,u){var m=new XMLHttpRequest;m.open("GET",d),m.responseType="blob",m.onload=function(){c(m.response,f,u)},m.onerror=function(){console.error("could not download file")},m.send()}function n(d){var f=new XMLHttpRequest;f.open("HEAD",d,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ms=="object"&&ms.global===ms?ms:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,f,u){var m=o.URL||o.webkitURL,h=document.createElement("a");f=f||d.name||"download",h.download=f,h.rel="noopener",typeof d=="string"?(h.href=d,h.origin===location.origin?s(h):n(h.href)?a(d,f,u):s(h,h.target="_blank")):(h.href=m.createObjectURL(d),setTimeout(function(){m.revokeObjectURL(h.href)},4e4),setTimeout(function(){s(h)},0))}:"msSaveOrOpenBlob"in navigator?function(d,f,u){if(f=f||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(r(d,u),f);else if(n(d))a(d,f,u);else{var m=document.createElement("a");m.href=d,m.target="_blank",setTimeout(function(){s(m)})}}:function(d,f,u,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof d=="string")return a(d,f,u);var h=d.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||h&&g||l)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var y=x.result;y=p?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=y:location=y,m=null},x.readAsDataURL(d)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(d);m?m.location=b:location.href=b,m=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})})(Iz);var pC=Iz.exports;const GT=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("pt-BR")}catch{return""}},O3=e=>e||"",Dz=e=>e.map(t=>{var r,a;return{Nome:t.name||"",Telefone:O3(t.phone),WhatsApp:O3(t.whatsapp),Email:t.email||"",Cidade:t.city||"",Estado:t.state||"",Bairro:t.neighborhood||"",Status:t.status||"",Origem:t.source||"",Canal:t.channel||"",Responsável:((r=t.assignedTo)==null?void 0:r.name)||"","Local de Atendimento":t.attendanceLocation||"","Situação do Cliente":t.clientStatus||"",Procedimento:((a=t.procedure)==null?void 0:a.name)||"","Valor Estimado":t.estimatedValue?`R$ ${t.estimatedValue}`:"",Prioridade:t.priority||"",Observações:t.notes||"","Data de Criação":GT(t.createdAt),"Última Atualização":GT(t.updatedAt)}}),oge=(e,t="leads")=>{const r=new zt("landscape");r.setFontSize(18),r.text("Relatório de Leads",14,15),r.setFontSize(10),r.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,14,22),r.text(`Total de Leads: ${e.length}`,14,27),ose(r,{startY:35,head:[["Nome","Telefone","Email","Cidade","Status","Origem","Responsável","Valor"]],body:e.map(a=>{var n;return[a.name||"",O3(a.phone),a.email||"",a.city||"",a.status||"",a.source||"",((n=a.assignedTo)==null?void 0:n.name)||"",a.estimatedValue?`R$ ${a.estimatedValue}`:""]}),styles:{fontSize:8},headStyles:{fillColor:[59,130,246]}}),r.save(`${t}.pdf`)},lge=(e,t="leads")=>{const r=Dz(e),a=Rh.json_to_sheet(r),n=Rh.book_new();Rh.book_append_sheet(n,a,"Leads");const s=[{wch:25},{wch:15},{wch:15},{wch:30},{wch:15},{wch:15},{wch:15},{wch:15},{wch:20},{wch:20},{wch:20},{wch:15},{wch:30},{wch:30},{wch:15},{wch:15}];a["!cols"]=s;const o=_z(n,{bookType:"xlsx",type:"array"}),l=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});pC.saveAs(l,`${t}.xlsx`)},cge=(e,t="leads")=>{const r=Dz(e),a=Rh.json_to_sheet(r),n=Rh.sheet_to_csv(a),s=new Blob(["\uFEFF"+n],{type:"text/csv;charset=utf-8"});pC.saveAs(s,`${t}.csv`)},dge=(e,t="leads")=>{const r=e.map(s=>({id:s.id,name:s.name,phone:s.phone,phone2:s.phone2,whatsapp:s.whatsapp,email:s.email,city:s.city,state:s.state,neighborhood:s.neighborhood,stageId:s.stageId,status:s.status,priority:s.priority,source:s.source,channel:s.channel,assignedToId:s.assignedToId,procedureId:s.procedureId,attendanceLocation:s.attendanceLocation,clientStatus:s.clientStatus,estimatedValue:s.estimatedValue,expectedCloseDate:s.expectedCloseDate,notes:s.notes,tags:s.tags,company:s.company,position:s.position,createdAt:s.createdAt,updatedAt:s.updatedAt})),a=JSON.stringify(r,null,2),n=new Blob([a],{type:"application/json"});pC.saveAs(n,`${t}.json`)},fge=(e,t,r)=>{const n=`leads_${new Date().toISOString().split("T")[0]}`;switch(t){case"pdf":oge(e,n);break;case"xlsx":lge(e,n);break;case"csv":cge(e,n);break;case"json":dge(e,n);break;default:throw new Error(`Formato não suportado: ${t}`)}};function uge({leads:e,selectedLeads:t}){const[r,a]=k.useState(!1),[n,s]=k.useState(!1),o=t&&t.length>0?t:e,l=async c=>{if(o.length===0){Le.error("Nenhum lead para exportar");return}s(!0),a(!1);try{await fge(o,c),Le.success(`${o.length} lead(s) exportado(s) em ${c.toUpperCase()}`)}catch(d){Le.error(`Erro ao exportar: ${d.message}`)}finally{s(!1)}};return i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>a(!r),disabled:n||o.length===0,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("span",{children:n?"Exportando...":"Exportar"}),t&&t.length>0&&i.jsx("span",{className:"text-xs bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 px-2 py-0.5 rounded-full",children:t.length})]}),r&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-20",children:[i.jsxs("div",{className:"py-1",children:[i.jsxs("button",{onClick:()=>l("pdf"),className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3",children:[i.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}),i.jsx("span",{children:"Exportar como PDF"})]}),i.jsxs("button",{onClick:()=>l("xlsx"),className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3",children:[i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}),i.jsx("span",{children:"Exportar como Excel"})]}),i.jsxs("button",{onClick:()=>l("csv"),className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}),i.jsx("span",{children:"Exportar como CSV"})]}),i.jsxs("button",{onClick:()=>l("json"),className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3",children:[i.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}),i.jsx("span",{children:"Exportar como JSON"})]})]}),i.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-2",children:i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[o.length," lead(s) será(ão) exportado(s)"]})})]})]})]})}const hge=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"_").trim(),mge={nome:"name",name:"name",telefone:"phone",phone:"phone",tel:"phone",telefone_2:"phone2",phone2:"phone2",whatsapp:"whatsapp",wpp:"whatsapp",zap:"whatsapp",email:"email","e-mail":"email",mail:"email",cidade:"city",city:"city",estado:"state",state:"state",bairro:"neighborhood",neighborhood:"neighborhood",status:"status",prioridade:"priority",priority:"priority",origem:"source",source:"source",canal:"channel",channel:"channel",local_de_atendimento:"attendanceLocation",local_atendimento:"attendanceLocation",attendance_location:"attendanceLocation",situacao_do_cliente:"clientStatus",situacao_cliente:"clientStatus",client_status:"clientStatus",valor_estimado:"estimatedValue",valor:"estimatedValue",estimated_value:"estimatedValue",observacoes:"notes",obs:"notes",notes:"notes",empresa:"company",company:"company",cargo:"position",position:"position"},Pz=(e,t)=>{const r={};if(!e.name||e.name.trim()==="")return{error:`Linha ${t+2}: Nome é obrigatório`};if(r.name=String(e.name).trim(),e.phone&&(r.phone=String(e.phone).trim()),e.phone2&&(r.phone2=String(e.phone2).trim()),e.whatsapp&&(r.whatsapp=String(e.whatsapp).trim()),e.email&&(r.email=String(e.email).trim()),e.city&&(r.city=String(e.city).trim()),e.state&&(r.state=String(e.state).trim()),e.neighborhood&&(r.neighborhood=String(e.neighborhood).trim()),e.status&&(r.status=String(e.status).trim()),e.priority&&(r.priority=String(e.priority).trim()),e.source&&(r.source=String(e.source).trim()),e.channel&&(r.channel=String(e.channel).trim()),e.attendanceLocation&&(r.attendanceLocation=String(e.attendanceLocation).trim()),e.clientStatus&&(r.clientStatus=String(e.clientStatus).trim()),e.notes&&(r.notes=String(e.notes).trim()),e.company&&(r.company=String(e.company).trim()),e.position&&(r.position=String(e.position).trim()),e.estimatedValue){const a=String(e.estimatedValue).replace(/[^\d,.-]/g,"").replace(",","."),n=parseFloat(a);isNaN(n)||(r.estimatedValue=n)}return{lead:r}},pge=e=>{const t={};return e.forEach(r=>{const a=hge(r),n=mge[a];n&&(t[r]=n)}),t},gge=async e=>new Promise(t=>{const r=new FileReader;r.onload=a=>{var n;try{const s=(n=a.target)==null?void 0:n.result,o=P3(s,{type:"binary"}),l=o.SheetNames[0],c=o.Sheets[l],d=Rh.sheet_to_json(c,{header:1});if(d.length===0){t({success:!1,leads:[],errors:["Arquivo vazio"],totalRows:0,validRows:0});return}const f=d[0],u=pge(f),m=[],h=[];for(let g=1;g<d.length;g++){const p=d[g];if(!p||p.length===0||p.every(b=>!b))continue;const x={};f.forEach((b,y)=>{const w=u[b];w&&p[y]!==void 0&&(x[w]=p[y])});const v=Pz(x,g-1);v.error?h.push(v.error):v.lead&&m.push(v.lead)}t({success:h.length===0,leads:m,errors:h,totalRows:d.length-1,validRows:m.length})}catch(s){t({success:!1,leads:[],errors:[`Erro ao processar arquivo: ${s.message}`],totalRows:0,validRows:0})}},r.onerror=()=>{t({success:!1,leads:[],errors:["Erro ao ler arquivo"],totalRows:0,validRows:0})},e.type==="text/csv"||e.name.endsWith(".csv")?r.readAsText(e):r.readAsBinaryString(e)}),xge=async e=>new Promise(t=>{const r=new FileReader;r.onload=a=>{var n;try{const s=(n=a.target)==null?void 0:n.result,o=JSON.parse(s);if(!Array.isArray(o)){t({success:!1,leads:[],errors:["Arquivo JSON deve conter um array de objetos"],totalRows:0,validRows:0});return}const l=[],c=[];o.forEach((d,f)=>{const u=Pz(d,f);u.error?c.push(u.error):u.lead&&l.push(u.lead)}),t({success:c.length===0,leads:l,errors:c,totalRows:o.length,validRows:l.length})}catch(s){t({success:!1,leads:[],errors:[`Erro ao processar JSON: ${s.message}`],totalRows:0,validRows:0})}},r.onerror=()=>{t({success:!1,leads:[],errors:["Erro ao ler arquivo"],totalRows:0,validRows:0})},r.readAsText(e)}),vge=async e=>{var r;const t=(r=e.name.split(".").pop())==null?void 0:r.toLowerCase();switch(t){case"xlsx":case"xls":case"csv":return gge(e);case"json":return xge(e);default:return{success:!1,leads:[],errors:[`Formato de arquivo não suportado: ${t}`],totalRows:0,validRows:0}}};function yge({isOpen:e,onClose:t,onSuccess:r}){const[a,n]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(null),[d,f]=k.useState("upload"),u=k.useRef(null);if(!e)return null;const m=v=>{var y;const b=(y=v.target.files)==null?void 0:y[0];b&&(n(b),c(null),f("upload"))},h=async()=>{if(!a){Le.error("Selecione um arquivo");return}o(!0);try{const v=await vge(a);c(v),f("preview"),v.errors.length>0?Le.error(`${v.errors.length} erro(s) encontrado(s)`):Le.success(`${v.validRows} lead(s) prontos para importar`)}catch(v){Le.error(`Erro ao processar arquivo: ${v.message}`)}finally{o(!1)}},g=async()=>{if(!l||l.leads.length===0){Le.error("Nenhum lead para importar");return}o(!0);const v=[];let b=0;try{for(const y of l.leads)try{await Qn.createLead(y),b++}catch(w){v.push(`Erro ao importar ${y.name}: ${w.message}`)}b>0&&(Le.success(`${b} lead(s) importado(s) com sucesso`),r()),v.length>0&&Le.error(`${v.length} erro(s) ao importar alguns leads`),f("result"),c({...l,success:v.length===0,errors:[...l.errors,...v],validRows:b})}catch(y){Le.error(`Erro ao importar leads: ${y.message}`)}finally{o(!1)}},p=()=>{n(null),c(null),f("upload"),t()},x=()=>{n(null),c(null),f("upload"),u.current&&(u.current.value="")};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Importar Leads"}),i.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:s,children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[d==="upload"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Selecione o arquivo"}),i.jsx("input",{ref:u,type:"file",accept:".xlsx,.xls,.csv,.json",onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Formatos suportados: .xlsx, .xls, .csv, .json"})]}),a&&i.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("svg",{className:"w-8 h-8 text-primary-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.name}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(a.size/1024).toFixed(2)," KB"]})]})]})}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"ℹ️ Instruções de Importação"}),i.jsxs("ul",{className:"text-xs text-blue-800 dark:text-blue-400 space-y-1 list-disc list-inside",children:[i.jsxs("li",{children:["O campo ",i.jsx("strong",{children:"Nome"})," é obrigatório"]}),i.jsx("li",{children:"Campos opcionais: Telefone, WhatsApp, Email, Cidade, etc."}),i.jsx("li",{children:"Cabeçalhos podem estar em português ou inglês"}),i.jsx("li",{children:'O sistema aceita variações de nomes (ex: "Nome", "name", "NOME")'})]})]})]}),d==="preview"&&l&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Linhas"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalRows})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Leads Válidos"}),i.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-300",children:l.validRows})]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Erros"}),i.jsx("p",{className:"text-2xl font-bold text-red-900 dark:text-red-300",children:l.errors.length})]})]}),l.errors.length>0&&i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 max-h-40 overflow-y-auto",children:[i.jsx("h3",{className:"text-sm font-medium text-red-900 dark:text-red-300 mb-2",children:"⚠️ Erros Encontrados"}),i.jsx("ul",{className:"text-xs text-red-800 dark:text-red-400 space-y-1",children:l.errors.map((v,b)=>i.jsxs("li",{children:["• ",v]},b))})]}),l.leads.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Preview dos Leads (primeiros 5)"}),i.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Nome"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Telefone"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Email"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Cidade"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.leads.slice(0,5).map((v,b)=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 dark:text-white",children:v.name}),i.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-400",children:v.phone||"-"}),i.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-400",children:v.email||"-"}),i.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-400",children:v.city||"-"})]},b))})]})})}),l.leads.length>5&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["... e mais ",l.leads.length-5," lead(s)"]})]})]}),d==="result"&&l&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-center py-8",children:l.success?i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Importação Concluída!"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[l.validRows," lead(s) importado(s) com sucesso"]})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-16 h-16 text-yellow-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Importação Parcial"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[l.validRows," lead(s) importado(s), ",l.errors.length," erro(s)"]})]})}),l.errors.length>0&&i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 max-h-60 overflow-y-auto",children:[i.jsx("h3",{className:"text-sm font-medium text-red-900 dark:text-red-300 mb-2",children:"Erros Durante a Importação"}),i.jsx("ul",{className:"text-xs text-red-800 dark:text-red-400 space-y-1",children:l.errors.map((v,b)=>i.jsxs("li",{children:["• ",v]},b))})]})]})]}),i.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-end gap-3",children:[d==="upload"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:p,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",disabled:s,children:"Cancelar"}),i.jsx("button",{onClick:h,disabled:!a||s,className:"px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Processando...":"Analisar Arquivo"})]}),d==="preview"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",disabled:s,children:"Voltar"}),i.jsx("button",{onClick:g,disabled:s||!l||l.leads.length===0,className:"px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Importando...":`Importar ${(l==null?void 0:l.validRows)||0} Lead(s)`})]}),d==="result"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",children:"Importar Outro Arquivo"}),i.jsx("button",{onClick:p,className:"px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700",children:"Fechar"})]})]})]})})}function bge(){const e=$m(),{user:t}=kc(),[r,a]=k.useState(null),[n,s]=k.useState([]),[o,l]=k.useState([]),[c,d]=k.useState(!0),[f,u]=k.useState(!1),[m,h]=k.useState(void 0),[g,p]=k.useState(null),[x,v]=k.useState("kanban"),[b,y]=k.useState(!1),[w,j]=k.useState({}),[E,A]=k.useState(!1),[C,S]=k.useState(!1),[T,_]=k.useState(null),[M,D]=k.useState([]),[O,B]=k.useState(0),[U,q]=k.useState({scheduledDate:"",scheduledTime:"09:00",location:"moema",paymentAmount:"",paymentMethod:"pix",hasReturn:!1,returnCount:0,returnFrequency:30,notes:""}),K=iee(see(b6,{activationConstraint:{distance:8}}));k.useEffect(()=>{G(),fe()},[]),k.useEffect(()=>{r&&ve()},[r]),k.useEffect(()=>{Object.keys(w).length>0&&H(w)},[n]),k.useEffect(()=>{const Se=e.state;if(Se!=null&&Se.openLeadId&&n.length>0){const Fe=n.find(he=>he.id===Se.openLeadId);Fe&&(Y(Fe),window.history.replaceState({},document.title))}},[e.state,n]);const G=async()=>{try{const Se=await Qn.getPipelines();Se.length>0&&a(Se[0])}catch(Se){Le.error("Erro ao carregar pipelines"),console.error(Se)}finally{d(!1)}},ve=async()=>{try{const Se=await Qn.getLeads();s(Se),l(Se)}catch(Se){Le.error("Erro ao carregar leads"),console.error(Se)}},fe=async()=>{try{const Se=await Qn.getProcedures();D(Se)}catch(Se){console.error("Erro ao carregar procedimentos:",Se)}},I=Se=>{var Fe,he;_(Se),q({scheduledDate:"",scheduledTime:"09:00",location:"moema",paymentAmount:((he=(Fe=Se.procedure)==null?void 0:Fe.price)==null?void 0:he.toString())||"",paymentMethod:"pix",hasReturn:!1,returnCount:0,returnFrequency:30,notes:""}),S(!0)},z=async Se=>{var Fe,he,ie;if(Se.preventDefault(),!!T)try{const de=new Date(`${U.scheduledDate}T${U.scheduledTime}:00`),Ae={leadId:T.id,procedureId:T.procedureId||((Fe=M[0])==null?void 0:Fe.id),scheduledDate:de.toISOString(),location:U.location,paymentAmount:U.paymentAmount?parseFloat(U.paymentAmount):void 0,paymentMethod:U.paymentMethod,hasReturn:U.hasReturn,returnCount:U.hasReturn?U.returnCount:void 0,returnFrequency:U.hasReturn?U.returnFrequency:void 0,notes:U.notes||void 0};await bn.create(Ae),Le.success("Agendamento criado com sucesso!"),S(!1),_(null),B(ze=>ze+1)}catch(de){Le.error("Erro ao criar agendamento: "+(((ie=(he=de.response)==null?void 0:he.data)==null?void 0:ie.message)||de.message))}},H=Se=>{let Fe=[...n];if(Se.search){const he=Se.search.toLowerCase();Fe=Fe.filter(ie=>{var de,Ae;return ie.name.toLowerCase().includes(he)||((de=ie.email)==null?void 0:de.toLowerCase().includes(he))||((Ae=ie.phone)==null?void 0:Ae.includes(Se.search))})}Se.stageId&&(Fe=Fe.filter(he=>he.stageId===Se.stageId)),Se.procedureId&&(Fe=Fe.filter(he=>he.procedureId===Se.procedureId)),Se.assignedToId&&(Fe=Fe.filter(he=>he.assignedToId===Se.assignedToId)),Se.clientStatus&&(Fe=Fe.filter(he=>he.clientStatus===Se.clientStatus)),Se.channel&&(Fe=Fe.filter(he=>he.channel===Se.channel)),Se.attendanceLocation&&(Fe=Fe.filter(he=>he.attendanceLocation===Se.attendanceLocation)),Se.minValue!==void 0&&(Fe=Fe.filter(he=>(he.estimatedValue||0)>=Se.minValue)),Se.maxValue!==void 0&&(Fe=Fe.filter(he=>(he.estimatedValue||0)<=Se.maxValue)),l(Fe),j(Se)},J=Se=>{H(Se)},te=()=>{j({}),l(n)},W=()=>{h(void 0),u(!0)},Y=Se=>{h(Se),u(!0)},Q=()=>{u(!1),h(void 0)},ne=async Se=>{m?await Qn.updateLead(m.id,Se):await Qn.createLead(Se),await ve(),Q()},pe=async Se=>{if(window.confirm(`Tem certeza que deseja excluir o lead "${Se.name}"?

Esta ação não pode ser desfeita.`))try{await Qn.deleteLead(Se.id),Le.success("Lead excluído com sucesso!"),await ve()}catch(Fe){console.error("Erro ao excluir lead:",Fe),Le.error("Erro ao excluir lead")}},F=Se=>{const{active:Fe}=Se,he=o.find(ie=>ie.id===Fe.id);p(he||null)},Te=async Se=>{const{active:Fe,over:he}=Se;if(p(null),!he)return;const ie=Fe.id,de=he.id,Ae=o.find(ze=>ze.id===ie);if(!(!Ae||Ae.stageId===de))try{const ze=Ce=>Ce.map(_e=>_e.id===ie?{..._e,stageId:de}:_e);s(ze),l(ze),await Qn.moveLeadToStage(ie,de),Le.success("Lead movido com sucesso!")}catch(ze){console.error("Erro ao mover lead:",ze),Le.error("Erro ao mover lead"),await ve()}},xe=Se=>o.filter(Fe=>Fe.stageId===Se),se=Se=>Se?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Se):"";if(c)return i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando..."})]})});if(!r)return i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Nenhum Pipeline Encontrado"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Crie seu primeiro pipeline para começar a gerenciar leads."}),i.jsx("button",{className:"btn-primary",children:"Criar Pipeline"})]})});const We=()=>{var Se;switch(x){case"list":return i.jsx(Ite,{leads:o,stages:(r==null?void 0:r.stages)||[],formatCurrency:se,onLeadClick:Y});case"grid":return i.jsx(Dte,{leads:o,stages:(r==null?void 0:r.stages)||[],formatCurrency:se,onLeadClick:Y});case"timeline":return i.jsx(Pte,{leads:o,stages:(r==null?void 0:r.stages)||[],formatCurrency:se,onLeadClick:Y});case"division":return i.jsx(Ote,{leads:o,stages:(r==null?void 0:r.stages)||[],formatCurrency:se,onLeadClick:Y,onScheduleAppointment:I,refreshTrigger:O});case"kanban":default:return i.jsx("div",{className:"flex-1 overflow-x-auto",children:i.jsx("div",{className:"flex gap-4 min-h-[calc(100vh-20rem)] pb-4",children:(Se=r.stages)==null?void 0:Se.map(Fe=>{const he=xe(Fe.id),ie=he.reduce((de,Ae)=>de+(Ae.estimatedValue||0),0);return i.jsxs("div",{className:"flex-shrink-0 w-80 bg-gray-100 dark:bg-gray-700 rounded-lg flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Fe.color}}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Fe.name})]}),i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:he.length})]}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[se(ie)," • ",Fe.probability,"% prob."]})]}),i.jsx(Ate,{id:Fe.id,children:he.length===0?i.jsx("div",{className:"text-center py-8 text-gray-400 dark:text-gray-500 text-sm",children:"Nenhum lead neste estágio"}):he.map(de=>i.jsx(gM,{lead:de,formatCurrency:se,onClick:()=>Y(de),onDelete:pe,userRole:t==null?void 0:t.role},de.id))})]},Fe.id)})})})}};return i.jsxs("div",{className:"flex flex-col min-h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.name}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pipeline de vendas"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 relative",children:["Filtros",Object.keys(w).filter(Se=>w[Se]).length>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary-600 text-white text-xs rounded-full flex items-center justify-center",children:Object.keys(w).filter(Se=>w[Se]).length})]}),i.jsx(uge,{leads:o}),i.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("span",{children:"Importar"})]}),i.jsx("button",{onClick:W,className:"btn-primary",children:"+ Novo Lead"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 mr-2",children:"Visualização:"}),i.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1 gap-1",children:[i.jsxs("button",{onClick:()=>v("kanban"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${x==="kanban"?"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i.jsx(XK,{size:16}),"Kanban"]}),i.jsxs("button",{onClick:()=>v("list"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${x==="list"?"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i.jsx(i6,{size:16}),"Lista"]}),i.jsxs("button",{onClick:()=>v("grid"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${x==="grid"?"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i.jsx(L7,{size:16}),"Grade"]}),i.jsxs("button",{onClick:()=>v("timeline"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${x==="timeline"?"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i.jsx(ka,{size:16}),"Timeline"]}),i.jsxs("button",{onClick:()=>v("division"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${x==="division"?"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i.jsx(ZK,{size:16}),"Divisão"]})]})]})]}),x==="kanban"?i.jsxs(ite,{sensors:K,collisionDetection:uee,onDragStart:F,onDragEnd:Te,children:[We(),i.jsx(Cte,{children:g?i.jsx(gM,{lead:g,formatCurrency:se,onClick:()=>{},onDelete:pe,userRole:t==null?void 0:t.role}):null})]}):i.jsx("div",{className:"flex-1 overflow-y-auto",children:We()}),f&&i.jsx(W7,{isOpen:f,onClose:Q,title:m?"Editar Lead":"Novo Lead",size:"lg",children:i.jsx(U7,{children:r&&i.jsx(HZ,{lead:m,stages:r.stages||[],onSubmit:ne,onClose:Q,onScheduleAppointment:I,refreshAppointmentsTrigger:O})})}),C&&T&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-[10100] p-4",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Novo Agendamento"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Paciente: ",i.jsx("span",{className:"font-medium",children:T.name})]})]}),i.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(br,{size:24})})]}),i.jsxs("form",{onSubmit:z,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data *"}),i.jsx("input",{type:"date",required:!0,value:U.scheduledDate,onChange:Se=>q({...U,scheduledDate:Se.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Horário *"}),i.jsx("input",{type:"time",required:!0,value:U.scheduledTime,onChange:Se=>q({...U,scheduledTime:Se.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Local *"}),i.jsxs("select",{value:U.location,onChange:Se=>q({...U,location:Se.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",children:[i.jsx("option",{value:"moema",children:"Moema"}),i.jsx("option",{value:"av_paulista",children:"Av. Paulista"}),i.jsx("option",{value:"perdizes",children:"Perdizes"}),i.jsx("option",{value:"online",children:"Online"}),i.jsx("option",{value:"a_domicilio",children:"A Domicílio"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor"}),i.jsx("input",{type:"number",step:"0.01",value:U.paymentAmount,onChange:Se=>q({...U,paymentAmount:Se.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",placeholder:"0.00"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Forma de Pagamento"}),i.jsxs("select",{value:U.paymentMethod,onChange:Se=>q({...U,paymentMethod:Se.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",children:[i.jsx("option",{value:"pix",children:"PIX"}),i.jsx("option",{value:"cartao",children:"Cartão"}),i.jsx("option",{value:"dinheiro",children:"Dinheiro"}),i.jsx("option",{value:"boleto",children:"Boleto"})]})]})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:U.hasReturn,onChange:Se=>q({...U,hasReturn:Se.target.checked})}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Agendar retornos automáticos"})]})}),U.hasReturn&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantidade de retornos"}),i.jsx("input",{type:"number",min:"1",max:"12",value:U.returnCount,onChange:Se=>q({...U,returnCount:parseInt(Se.target.value)}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"A cada (dias)"}),i.jsx("input",{type:"number",min:"1",value:U.returnFrequency,onChange:Se=>q({...U,returnFrequency:parseInt(Se.target.value)}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),i.jsx("textarea",{value:U.notes,onChange:Se=>q({...U,notes:Se.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",rows:3,placeholder:"Observações sobre o agendamento..."})]}),i.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[i.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Criar Agendamento"})]})]})]})})}),i.jsx(VZ,{isOpen:b,onClose:()=>y(!1),stages:(r==null?void 0:r.stages)||[],filters:w,onApplyFilters:J,onClearFilters:te}),i.jsx(yge,{isOpen:E,onClose:()=>A(!1),onSuccess:()=>{ve(),A(!1)}})]})}class wge{async getConversations(t){const r=new URLSearchParams;t!=null&&t.status&&r.append("status",t.status),t!=null&&t.assignedUserId&&r.append("assignedUserId",t.assignedUserId),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.tags&&r.append("tags",t.tags.join(",")),t!=null&&t.unreadOnly&&r.append("unreadOnly","true");const{data:a}=await me.get(`/chat/conversations?${r.toString()}`);return a}async getConversation(t){const{data:r}=await me.get(`/chat/conversations/${t}`);return r}async createConversation(t){const{data:r}=await me.post("/chat/conversations",t);return r}async updateConversation(t,r){const{data:a}=await me.put(`/chat/conversations/${t}`,r);return a}async markAsRead(t){const{data:r}=await me.post(`/chat/conversations/${t}/mark-read`);return r}async markAsUnread(t){const{data:r}=await me.post(`/chat/conversations/${t}/mark-unread`);return r}async assignConversation(t,r){const{data:a}=await me.post(`/chat/conversations/${t}/assign`,{userId:r});return a}async addTag(t,r){const{data:a}=await me.patch(`/chat/conversations/${t}/tags`,{tagName:r});return a}async removeTag(t,r){const{data:a}=await me.delete(`/chat/conversations/${t}/tags`,{data:{tagName:r}});return a}async archiveConversation(t){const{data:r}=await me.patch(`/chat/conversations/${t}/archive`);return r}async unarchiveConversation(t){const{data:r}=await me.patch(`/chat/conversations/${t}/unarchive`);return r}async resolveConversation(t){const{data:r}=await me.patch(`/chat/conversations/${t}/resolve`);return r}async reopenConversation(t){const{data:r}=await me.patch(`/chat/conversations/${t}/reopen`);return r}async setPriority(t,r){const{data:a}=await me.patch(`/chat/conversations/${t}/priority`,{priority:r});return a}async setCustomAttribute(t,r,a){const{data:n}=await me.post(`/chat/conversations/${t}/attributes`,{key:r,value:a});return n}async removeCustomAttribute(t,r){const{data:a}=await me.delete(`/chat/conversations/${t}/attributes`,{data:{key:r}});return a}async getConversationHistory(t,r){const a=r?`?limit=${r}`:"",{data:n}=await me.get(`/chat/conversations/history/${t}${a}`);return n}async getMessages(t){const{data:r}=await me.get(`/chat/conversations/${t}/messages`);return r}async sendMessage(t,r){const{data:a}=await me.post(`/chat/conversations/${t}/messages`,r);return a}async deleteMessage(t){await me.delete(`/chat/messages/${t}`)}async getTags(){const{data:t}=await me.get("/chat/tags");return t}async createTag(t){const{data:r}=await me.post("/chat/tags",t);return r}async updateTag(t,r){const{data:a}=await me.put(`/chat/tags/${t}`,r);return a}async deleteTag(t){await me.delete(`/chat/tags/${t}`)}async getQuickReplies(t){const r=new URLSearchParams;t!=null&&t.category&&r.append("category",t.category),t!=null&&t.search&&r.append("search",t.search);const{data:a}=await me.get(`/chat/quick-replies?${r.toString()}`);return a}async createQuickReply(t){const{data:r}=await me.post("/chat/quick-replies",t);return r}async updateQuickReply(t,r){const{data:a}=await me.put(`/chat/quick-replies/${t}`,r);return a}async deleteQuickReply(t){await me.delete(`/chat/quick-replies/${t}`)}async getStats(){const{data:t}=await me.get("/chat/stats");return t}async getChannels(){const{data:t}=await me.get("/chat/channels"),r=t.data||t;return Array.isArray(r)?r:[]}async getWhatsAppSessions(){const{data:t}=await me.get("/chat/whatsapp/sessions"),r=t.data||t;return Array.isArray(r)?r:[]}async getWhatsAppConversations(){const{data:t}=await me.get("/chat/n8n/conversations"),r=t.data||t;return Array.isArray(r)?r:[]}async getWhatsAppMessages(t,r){const a=new URLSearchParams;r&&a.append("phoneNumber",r),console.log("🌐 Chamando API:",`/chat/n8n/messages/${t}?${a.toString()}`);const{data:n}=await me.get(`/chat/n8n/messages/${t}?${a.toString()}`);console.log("📦 Resposta da API:",n);const s=n.data||n;return Array.isArray(s)?s:[]}async markWhatsAppAsRead(t,r){const a=new URLSearchParams;a.append("phoneNumber",r),await me.post(`/chat/n8n/messages/${t}/mark-read?${a.toString()}`)}async deleteWhatsAppMessage(t){await me.delete(`/chat/n8n/messages/${t}`)}async sendWhatsAppMessage(t,r,a,n){const s={sessionName:t,phoneNumber:r,content:a};n&&(s.quotedMessageId=n);const{data:o}=await me.post("/chat/n8n/send-message",s),l=o.data||o;return{id:l.id,conversationId:`whatsapp-${l.sessionName}-${l.phoneNumber}`,direction:l.direction||"outgoing",type:l.messageType||"text",content:l.content,status:l.status||"sent",createdAt:l.createdAt||new Date().toISOString()}}async sendWhatsAppMedia(t,r,a,n,s,o){const l={sessionName:t,phoneNumber:r,fileUrl:a,messageType:n};s&&(l.caption=s),o&&(l.quotedMessageId=o);const{data:c}=await me.post("/chat/n8n/send-media",l),d=c.data||c;return{id:d.id,conversationId:`whatsapp-${d.sessionName}-${d.phoneNumber}`,direction:d.direction||"outgoing",type:d.messageType||n,content:d.content||s,mediaUrl:d.mediaUrl,status:d.status||"sent",createdAt:d.createdAt||new Date().toISOString()}}async fileToBase64(t){return new Promise((r,a)=>{const n=new FileReader;n.onload=()=>r(n.result),n.onerror=a,n.readAsDataURL(t)})}}const _r=new wge,vc=Object.create(null);vc.open="0";vc.close="1";vc.ping="2";vc.pong="3";vc.message="4";vc.upgrade="5";vc.noop="6";const cb=Object.create(null);Object.keys(vc).forEach(e=>{cb[vc[e]]=e});const R3={type:"error",data:"parser error"},Oz=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Rz=typeof ArrayBuffer=="function",Fz=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,gC=({type:e,data:t},r,a)=>Oz&&t instanceof Blob?r?a(t):qT(t,a):Rz&&(t instanceof ArrayBuffer||Fz(t))?r?a(t):qT(new Blob([t]),a):a(vc[e]+(t||"")),qT=(e,t)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];t("b"+(a||""))},r.readAsDataURL(e)};function YT(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Gj;function kge(e,t){if(Oz&&e.data instanceof Blob)return e.data.arrayBuffer().then(YT).then(t);if(Rz&&(e.data instanceof ArrayBuffer||Fz(e.data)))return t(YT(e.data));gC(e,!1,r=>{Gj||(Gj=new TextEncoder),t(Gj.encode(r))})}const JT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<JT.length;e++)Cg[JT.charCodeAt(e)]=e;const jge=e=>{let t=e.length*.75,r=e.length,a,n=0,s,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),f=new Uint8Array(d);for(a=0;a<r;a+=4)s=Cg[e.charCodeAt(a)],o=Cg[e.charCodeAt(a+1)],l=Cg[e.charCodeAt(a+2)],c=Cg[e.charCodeAt(a+3)],f[n++]=s<<2|o>>4,f[n++]=(o&15)<<4|l>>2,f[n++]=(l&3)<<6|c&63;return d},Nge=typeof ArrayBuffer=="function",xC=(e,t)=>{if(typeof e!="string")return{type:"message",data:Bz(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Sge(e.substring(1),t)}:cb[r]?e.length>1?{type:cb[r],data:e.substring(1)}:{type:cb[r]}:R3},Sge=(e,t)=>{if(Nge){const r=jge(e);return Bz(r,t)}else return{base64:!0,data:e}},Bz=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},zz="",Cge=(e,t)=>{const r=e.length,a=new Array(r);let n=0;e.forEach((s,o)=>{gC(s,!1,l=>{a[o]=l,++n===r&&t(a.join(zz))})})},Age=(e,t)=>{const r=e.split(zz),a=[];for(let n=0;n<r.length;n++){const s=xC(r[n],t);if(a.push(s),s.type==="error")break}return a};function Ege(){return new TransformStream({transform(e,t){kge(e,r=>{const a=r.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const s=new DataView(n.buffer);s.setUint8(0,126),s.setUint16(1,a)}else{n=new Uint8Array(9);const s=new DataView(n.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(r)})}})}let qj;function by(e){return e.reduce((t,r)=>t+r.length,0)}function wy(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let a=0;for(let n=0;n<t;n++)r[n]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),r}function _ge(e,t){qj||(qj=new TextDecoder);const r=[];let a=0,n=-1,s=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(a===0){if(by(r)<1)break;const c=wy(r,1);s=(c[0]&128)===128,n=c[0]&127,n<126?a=3:n===126?a=1:a=2}else if(a===1){if(by(r)<2)break;const c=wy(r,2);n=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),a=3}else if(a===2){if(by(r)<8)break;const c=wy(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(R3);break}n=f*Math.pow(2,32)+d.getUint32(4),a=3}else{if(by(r)<n)break;const c=wy(r,n);l.enqueue(xC(s?c:qj.decode(c),t)),a=0}if(n===0||n>e){l.enqueue(R3);break}}}})}const $z=4;function $n(e){if(e)return Mge(e)}function Mge(e){for(var t in $n.prototype)e[t]=$n.prototype[t];return e}$n.prototype.on=$n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};$n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};$n.prototype.off=$n.prototype.removeListener=$n.prototype.removeAllListeners=$n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,n=0;n<r.length;n++)if(a=r[n],a===t||a.fn===t){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+e],this};$n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,n=r.length;a<n;++a)r[a].apply(this,t)}return this};$n.prototype.emitReserved=$n.prototype.emit;$n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};$n.prototype.hasListeners=function(e){return!!this.listeners(e).length};const qw=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Mo=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Lge="arraybuffer";function Uz(e,...t){return t.reduce((r,a)=>(e.hasOwnProperty(a)&&(r[a]=e[a]),r),{})}const Tge=Mo.setTimeout,Ige=Mo.clearTimeout;function Yw(e,t){t.useNativeTimers?(e.setTimeoutFn=Tge.bind(Mo),e.clearTimeoutFn=Ige.bind(Mo)):(e.setTimeoutFn=Mo.setTimeout.bind(Mo),e.clearTimeoutFn=Mo.clearTimeout.bind(Mo))}const Dge=1.33;function Pge(e){return typeof e=="string"?Oge(e):Math.ceil((e.byteLength||e.size)*Dge)}function Oge(e){let t=0,r=0;for(let a=0,n=e.length;a<n;a++)t=e.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}function Wz(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Rge(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Fge(e){let t={},r=e.split("&");for(let a=0,n=r.length;a<n;a++){let s=r[a].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class Bge extends Error{constructor(t,r,a){super(t),this.description=r,this.context=a,this.type="TransportError"}}class vC extends $n{constructor(t){super(),this.writable=!1,Yw(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,a){return super.emitReserved("error",new Bge(t,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=xC(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Rge(t);return r.length?"?"+r:""}}class zge extends vC{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};Age(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Cge(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Wz()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Hz=!1;try{Hz=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $ge=Hz;function Uge(){}class Wge extends zge{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,r){const a=this.request({method:"POST",data:t});a.on("success",r),a.on("error",(n,s)=>{this.onError("xhr post error",n,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=t}}class dc extends $n{constructor(t,r,a){super(),this.createRequest=t,Yw(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const r=Uz(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&a.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var n;a.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=dc.requestsCount++,dc.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Uge,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete dc.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}dc.requestsCount=0;dc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",KT);else if(typeof addEventListener=="function"){const e="onpagehide"in Mo?"pagehide":"unload";addEventListener(e,KT,!1)}}function KT(){for(let e in dc.requests)dc.requests.hasOwnProperty(e)&&dc.requests[e].abort()}const Hge=function(){const e=Vz({xdomain:!1});return e&&e.responseType!==null}();class Vge extends Wge{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Hge&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new dc(Vz,this.uri(),t)}}function Vz(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||$ge))return new XMLHttpRequest}catch{}if(!t)try{return new Mo[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Gz=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Gge extends vC{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,a=Gz?{}:Uz(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,a)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],n=r===t.length-1;gC(a,this.supportsBinary,s=>{try{this.doWrite(a,s)}catch{}n&&qw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Wz()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Yj=Mo.WebSocket||Mo.MozWebSocket;class qge extends Gge{createSocket(t,r,a){return Gz?new Yj(t,r,a):r?new Yj(t,r):new Yj(t)}doWrite(t,r){this.ws.send(r)}}class Yge extends vC{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=_ge(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(r).getReader(),n=Ege();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const s=()=>{a.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],n=r===t.length-1;this._writer.write(a).then(()=>{n&&qw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Jge={websocket:qge,webtransport:Yge,polling:Vge},Kge=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qge=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function F3(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),a=e.indexOf("]");r!=-1&&a!=-1&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let n=Kge.exec(e||""),s={},o=14;for(;o--;)s[Qge[o]]=n[o]||"";return r!=-1&&a!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Xge(s,s.path),s.queryKey=Zge(s,s.query),s}function Xge(e,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function Zge(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,n,s){n&&(r[n]=s)}),r}const B3=typeof addEventListener=="function"&&typeof removeEventListener=="function",db=[];B3&&addEventListener("offline",()=>{db.forEach(e=>e())},!1);class ff extends $n{constructor(t,r){if(super(),this.binaryType=Lge,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const a=F3(t);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=F3(r.host).host);Yw(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{const n=a.prototype.name;this.transports.push(n),this._transportsByName[n]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Fge(this.opts.query)),B3&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},db.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=$z,r.transport=t,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ff.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ff.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const n=this.writeBuffer[a].data;if(n&&(r+=Pge(n)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,qw(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,a){return this._sendPacket("message",t,r,a),this}send(t,r,a){return this._sendPacket("message",t,r,a),this}_sendPacket(t,r,a,n){if(typeof r=="function"&&(n=r,r=void 0),typeof a=="function"&&(n=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const s={type:t,data:r,options:a};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(ff.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),B3&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=db.indexOf(this._offlineEventListener);a!==-1&&db.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}ff.protocol=$z;class exe extends ff{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),a=!1;ff.priorWebsocketSuccess=!1;const n=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",u=>{if(!a)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ff.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function s(){a||(a=!0,f(),r.close(),r=null)}const o=u=>{const m=new Error("probe error: "+u);m.transport=r.name,s(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function c(){o("socket closed")}function d(u){r&&u.name!==r.name&&s()}const f=()=>{r.removeListener("open",n),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",n),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&r.push(t[a]);return r}}let txe=class extends exe{constructor(t,r={}){const a=typeof t=="object"?t:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(n=>Jge[n]).filter(n=>!!n)),super(t,a)}};function rxe(e,t="",r){let a=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),a=F3(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const s=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+s+":"+a.port+t,a.href=a.protocol+"://"+s+(r&&r.port===a.port?"":":"+a.port),a}const axe=typeof ArrayBuffer=="function",nxe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,qz=Object.prototype.toString,sxe=typeof Blob=="function"||typeof Blob<"u"&&qz.call(Blob)==="[object BlobConstructor]",ixe=typeof File=="function"||typeof File<"u"&&qz.call(File)==="[object FileConstructor]";function yC(e){return axe&&(e instanceof ArrayBuffer||nxe(e))||sxe&&e instanceof Blob||ixe&&e instanceof File}function fb(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,a=e.length;r<a;r++)if(fb(e[r]))return!0;return!1}if(yC(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return fb(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&fb(e[r]))return!0;return!1}function oxe(e){const t=[],r=e.data,a=e;return a.data=z3(r,t),a.attachments=t.length,{packet:a,buffers:t}}function z3(e,t){if(!e)return e;if(yC(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=z3(e[a],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=z3(e[a],t));return r}return e}function lxe(e,t){return e.data=$3(e.data,t),delete e.attachments,e}function $3(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=$3(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=$3(e[r],t));return e}const cxe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dxe=5;var jr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(jr||(jr={}));class fxe{constructor(t){this.replacer=t}encode(t){return(t.type===jr.EVENT||t.type===jr.ACK)&&fb(t)?this.encodeAsBinary({type:t.type===jr.EVENT?jr.BINARY_EVENT:jr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===jr.BINARY_EVENT||t.type===jr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=oxe(t),a=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(a),n}}function QT(e){return Object.prototype.toString.call(e)==="[object Object]"}class bC extends $n{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const a=r.type===jr.BINARY_EVENT;a||r.type===jr.BINARY_ACK?(r.type=a?jr.EVENT:jr.ACK,this.reconstructor=new uxe(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(yC(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const a={type:Number(t.charAt(0))};if(jr[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===jr.BINARY_EVENT||a.type===jr.BINARY_ACK){const s=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(s,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(o)}if(t.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););a.nsp=t.substring(s,r)}else a.nsp="/";const n=t.charAt(r+1);if(n!==""&&Number(n)==n){const s=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}a.id=Number(t.substring(s,r+1))}if(t.charAt(++r)){const s=this.tryParse(t.substr(r));if(bC.isPayloadValid(a.type,s))a.data=s;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case jr.CONNECT:return QT(r);case jr.DISCONNECT:return r===void 0;case jr.CONNECT_ERROR:return typeof r=="string"||QT(r);case jr.EVENT:case jr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&cxe.indexOf(r[0])===-1);case jr.ACK:case jr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class uxe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=lxe(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const hxe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:bC,Encoder:fxe,get PacketType(){return jr},protocol:dxe},Symbol.toStringTag,{value:"Module"}));function ol(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const mxe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Yz extends $n{constructor(t,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ol(t,"open",this.onopen.bind(this)),ol(t,"packet",this.onpacket.bind(this)),ol(t,"error",this.onerror.bind(this)),ol(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var a,n,s;if(mxe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:jr.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,u=r.pop();this._registerAckCallback(f,u),o.id=f}const l=(n=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||n===void 0?void 0:n.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var a;const n=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(n===void 0){this.acks[t]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},n),o=(...l)=>{this.io.clearTimeoutFn(s),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((a,n)=>{const s=(o,l)=>o?n(o):a(l);s.withError=!0,r.push(s),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...s)=>a!==this._queue[0]?void 0:(n!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...s)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:jr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case jr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case jr.EVENT:case jr.BINARY_EVENT:this.onevent(t);break;case jr.ACK:case jr.BINARY_ACK:this.onack(t);break;case jr.DISCONNECT:this.ondisconnect();break;case jr.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let a=!1;return function(...n){a||(a=!0,r.packet({type:jr.ACK,id:t,data:n}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:jr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,t.data)}}}function Qm(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Qm.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Qm.prototype.reset=function(){this.attempts=0};Qm.prototype.setMin=function(e){this.ms=e};Qm.prototype.setMax=function(e){this.max=e};Qm.prototype.setJitter=function(e){this.jitter=e};class U3 extends $n{constructor(t,r){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Yw(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Qm({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const n=r.parser||hxe;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new txe(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const n=ol(r,"open",function(){a.onopen(),t&&t()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=ol(r,"error",s);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{n(),s(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ol(t,"ping",this.onping.bind(this)),ol(t,"data",this.ondata.bind(this)),ol(t,"error",this.onerror.bind(this)),ol(t,"close",this.onclose.bind(this)),ol(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){qw(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new Yz(this,t,r),this.nsps[t]=a),a}_destroy(t){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let a=0;a<r.length;a++)this.engine.write(r[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ng={};function ub(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=rxe(e,t.path||"/socket.io"),a=r.source,n=r.id,s=r.path,o=ng[n]&&s in ng[n].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new U3(a,t):(ng[n]||(ng[n]=new U3(a,t)),c=ng[n]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(ub,{Manager:U3,Socket:Yz,io:ub,connect:ub});const pxe=({socket:e,onConnectionSuccess:t,onClose:r})=>{const[a,n]=k.useState("idle"),[s,o]=k.useState(""),[l,c]=k.useState(null),[d,f]=k.useState(null),[u,m]=k.useState([]),[h,g]=k.useState([]),[p,x]=k.useState(null);k.useEffect(()=>{v()},[]),k.useEffect(()=>{p&&o(p.friendlyName||p.name)},[p]),k.useEffect(()=>{if(e)return e.on("whatsapp:status",C=>{console.log("WhatsApp status update:",C),C.sessionName===d&&(C.status==="WORKING"?(n("connected"),Le.success("WhatsApp conectado com sucesso!"),v(),t&&t(),setTimeout(()=>{r&&r()},2e3)):C.status==="FAILED"?(n("failed"),Le.error("Falha ao conectar WhatsApp")):C.status==="SCAN_QR_CODE"&&n("qr_ready"))}),()=>{e.off("whatsapp:status")}},[e,d,t]);const v=async()=>{try{const{data:C}=await me.get("/chat/whatsapp/sessions"),S=C.sessions.filter(_=>_.status==="WORKING"),T=C.sessions.filter(_=>_.status!=="WORKING"&&_.status!=="SCAN_QR_CODE");m(S),g(T)}catch(C){console.error("Error loading sessions:",C)}},b=async()=>{if(!s.trim()){Le.error("Digite um nome para a conexão");return}if(!/^[a-zA-Z0-9_]+$/.test(s)){Le.error("Use apenas letras, números e underscores");return}try{n("creating");const C=await fetch("https://workflow.nexusatemporal.com/webhook/waha-create-session-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionName:s.toLowerCase()})});if(!C.ok)throw new Error("Erro ao criar sessão no N8N");const S=await C.json();if(console.log("N8N Response:",S),S.success&&S.sessionName){f(S.sessionName);try{await me.post("/chat/whatsapp/sessions/register",{sessionName:S.sessionName,friendlyName:s})}catch(B){console.error("Error registering session:",B)}const T=localStorage.getItem("token"),_=`https://api.nexusatemporal.com.br/api/chat/whatsapp/qrcode-proxy?session=${S.sessionName}`,M=await fetch(_,{headers:{Authorization:`Bearer ${T}`}});if(!M.ok)throw new Error("Erro ao buscar QR Code");const D=await M.blob(),O=URL.createObjectURL(D);c(O),n("qr_ready"),Le.success("QR Code gerado! Escaneie com seu WhatsApp"),y(S.sessionName)}else throw new Error("QR Code não retornado pelo N8N")}catch(C){console.error("Error creating session:",C),Le.error(C.message||"Erro ao criar conexão"),n("failed")}},y=C=>{const S=async()=>{try{const{data:T}=await me.get(`/chat/whatsapp/sessions/${C}/status`);if(T.session.status==="WORKING"){n("connected"),Le.success("WhatsApp conectado com sucesso!"),v(),t&&t(),setTimeout(()=>{r&&r()},2e3);return}else if(T.session.status==="FAILED"){n("failed"),Le.error("Falha ao conectar");return}setTimeout(S,3e3)}catch(T){console.error("Error checking status:",T)}};S()},w=()=>{l&&l.startsWith("blob:")&&URL.revokeObjectURL(l),n("idle"),o(""),c(null),f(null)},j=async C=>{try{await me.post(`/chat/whatsapp/sessions/${C.name}/logout`),Le.success(`${C.friendlyName||C.name} desconectado com sucesso`),await v()}catch(S){console.error("Error disconnecting:",S),Le.error("Erro ao desconectar")}},E=async C=>{try{n("creating"),f(C.name),await me.post(`/chat/whatsapp/sessions/${C.name}/reconnect`);const S=localStorage.getItem("token"),T=`https://api.nexusatemporal.com.br/api/chat/whatsapp/qrcode-proxy?session=${C.name}`,_=await fetch(T,{headers:{Authorization:`Bearer ${S}`}});if(!_.ok)throw new Error("Erro ao buscar QR Code");const M=await _.blob(),D=URL.createObjectURL(M);c(D),n("qr_ready"),Le.success("QR Code gerado! Escaneie para reconectar"),y(C.name)}catch(S){console.error("Error reconnecting:",S),Le.error(S.message||"Erro ao reconectar"),n("idle")}},A=async C=>{if(confirm(`Tem certeza que deseja excluir a conexão "${C.friendlyName||C.name}"?`))try{await me.delete(`/chat/whatsapp/sessions/${C.name}`),Le.success(`${C.friendlyName||C.name} excluído com sucesso`),await v()}catch(S){console.error("Error deleting session:",S),Le.error("Erro ao excluir conexão")}};return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(ZN,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Conectar WhatsApp"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conecte seu número do WhatsApp ao sistema"})]})]}),u.length>0&&i.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:[i.jsxs("h3",{className:"font-semibold text-green-800 dark:text-green-300 mb-2 flex items-center gap-2",children:[i.jsx(ba,{className:"h-5 w-5"}),"Conexões Ativas"]}),u.map(C=>i.jsxs("div",{className:`flex items-center justify-between py-2 px-3 rounded-lg transition-colors ${(p==null?void 0:p.name)===C.name?"bg-green-100 dark:bg-green-800/30":"hover:bg-green-100/50 dark:hover:bg-green-800/20"}`,children:[i.jsxs("button",{onClick:()=>x(C),className:"text-green-700 dark:text-green-400 font-medium text-left flex-1 cursor-pointer hover:underline",title:"Clique para usar esta conexão",children:[C.friendlyName||C.name,(p==null?void 0:p.name)===C.name&&i.jsx("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:"✓ Selecionada"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>j(C),className:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 underline",children:"Desconectar"}),i.jsx("button",{onClick:()=>A(C),className:"p-1 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",title:"Excluir conexão",children:i.jsx(An,{className:"h-4 w-4"})})]})]},C.name))]}),h.length>0&&i.jsxs("div",{className:"mb-6 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-700",children:[i.jsxs("h3",{className:"font-semibold text-orange-800 dark:text-orange-300 mb-2 flex items-center gap-2",children:[i.jsx(xc,{className:"h-5 w-5"}),"Conexões Inativas"]}),h.map(C=>i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-orange-700 dark:text-orange-400 font-medium",children:C.friendlyName||C.name}),i.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-500",children:["Status: ",C.status]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>E(C),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-semibold underline",children:"Reconectar"}),i.jsx("button",{onClick:()=>A(C),className:"p-1 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",title:"Excluir conexão",children:i.jsx(An,{className:"h-4 w-4"})})]})]},C.name))]}),a==="idle"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome da Conexão"}),i.jsx("input",{type:"text",value:s,onChange:C=>o(C.target.value),onKeyPress:C=>{C.key==="Enter"&&b()},placeholder:"Ex: whatsapp_comercial",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",maxLength:50,autoFocus:!0}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use apenas letras, números e underscores (_). Pressione Enter para conectar."})]}),i.jsxs("button",{onClick:b,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg flex items-center justify-center gap-2",children:[i.jsx(ZN,{className:"h-5 w-5"}),"Conectar WhatsApp"]})]}),(a==="creating"||a==="starting")&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ec,{className:"h-12 w-12 text-green-600 mx-auto mb-4 animate-spin"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a==="creating"?"Criando conexão...":"Gerando QR Code..."})]}),a==="qr_ready"&&l&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-4 text-center",children:[i.jsx(eQ,{className:"h-8 w-8 text-green-600 dark:text-green-400 mx-auto mb-2"}),i.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-300 mb-1",children:"QR Code Gerado!"}),i.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"Escaneie com seu WhatsApp para conectar"})]}),i.jsx("div",{className:"bg-white dark:bg-gray-700 border-4 border-green-500 dark:border-green-600 rounded-lg p-4 flex justify-center",children:i.jsx("img",{src:l,alt:"QR Code WhatsApp",className:"max-w-xs w-full"})}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:i.jsx("strong",{children:"Como conectar:"})}),i.jsxs("ol",{className:"text-sm text-gray-600 dark:text-gray-300 text-left space-y-1 max-w-md mx-auto",children:[i.jsx("li",{children:"1. Abra o WhatsApp no seu celular"}),i.jsxs("li",{children:["2. Toque em ",i.jsx("strong",{children:"Configurações"})," ",">"," ",i.jsx("strong",{children:"Aparelhos conectados"})]}),i.jsxs("li",{children:["3. Toque em ",i.jsx("strong",{children:"Conectar um aparelho"})]}),i.jsx("li",{children:"4. Aponte a câmera para este QR Code"})]})]}),i.jsx("button",{onClick:w,className:"w-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-semibold py-2 px-4 rounded-lg",children:"Cancelar"})]}),a==="connected"&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ba,{className:"h-16 w-16 text-green-600 dark:text-green-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 mb-2",children:"Conectado com Sucesso!"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Seu WhatsApp está conectado e pronto para usar"}),i.jsx("button",{onClick:w,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded-lg",children:"Nova Conexão"})]}),a==="failed"&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(xc,{className:"h-16 w-16 text-red-600 dark:text-red-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-red-800 dark:text-red-300 mb-2",children:"Falha na Conexão"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Não foi possível conectar seu WhatsApp"}),i.jsxs("button",{onClick:w,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg flex items-center justify-center gap-2 mx-auto",children:[i.jsx(ix,{className:"h-5 w-5"}),"Tentar Novamente"]})]})]})};function gxe(e,t){const[r,a]=k.useState(null),[n,s]=k.useState(!1),[o,l]=k.useState(null);return k.useEffect(()=>{if(!t){a(null);return}if(s(!0),l(null),t.startsWith("http://")||t.startsWith("https://")){a(t),s(!1);return}const d=`https://api.nexusatemporal.com.br/api${t}`;a(d),s(!1)},[t]),{url:r,loading:n,error:o}}const xxe=({message:e,onReply:t,onDelete:r})=>{const a=e.direction==="outgoing",{url:n,loading:s,error:o}=gxe(e.id,e.mediaUrl),l=u=>Es(new Date(u),"HH:mm",{locale:_s}),c=u=>{const m=()=>{if(e.readAt)return`Lido em ${Es(new Date(e.readAt),"dd/MM HH:mm",{locale:_s})}`;if(e.deliveredAt)return`Entregue em ${Es(new Date(e.deliveredAt),"dd/MM HH:mm",{locale:_s})}`;if(e.sentAt)return`Enviado em ${Es(new Date(e.sentAt),"dd/MM HH:mm",{locale:_s})}`};switch(u){case"sent":return i.jsx("span",{title:m(),children:i.jsx(sd,{className:"h-3 w-3 text-gray-400"})});case"delivered":return i.jsx("span",{title:m(),children:i.jsx(e3,{className:"h-3 w-3 text-gray-400"})});case"read":return i.jsx("span",{title:m(),children:i.jsx(e3,{className:"h-3 w-3 text-blue-500"})});case"pending":return i.jsx("span",{title:"Enviando...",children:i.jsx(ka,{className:"h-3 w-3 text-gray-400"})});default:return null}},d=()=>{if(!e.mediaUrl)return null;if(s)return i.jsxs("div",{className:"mb-2 flex items-center gap-2 p-4 bg-white/10 rounded-lg",children:[i.jsx(Uu,{className:"h-5 w-5 animate-spin"}),i.jsx("span",{className:"text-sm opacity-75",children:"Carregando mídia..."})]});if(o||!n)return i.jsx("div",{className:"mb-2 p-3 bg-red-100 dark:bg-red-900/30 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"⚠️ Erro ao carregar mídia"})});switch(e.type){case"image":return i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:n,alt:"Imagem",className:"rounded-lg max-w-sm max-h-96 object-contain cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(n,"_blank"),onError:u=>{console.error("Erro ao carregar imagem:",n),u.currentTarget.style.display="none",u.currentTarget.parentElement.innerHTML='<div class="p-3 bg-red-100 dark:bg-red-900/30 rounded-lg text-sm text-red-700 dark:text-red-300">⚠️ Imagem não disponível</div>'}})});case"video":return i.jsxs("div",{className:"mb-2 relative group",children:[i.jsx("video",{src:n,controls:!0,className:"rounded-lg max-w-sm max-h-96 object-contain",controlsList:"nodownload"}),i.jsx("a",{href:n,download:!0,className:"absolute top-2 right-2 p-2 bg-black/50 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity",title:"Download",children:i.jsx(Tg,{className:"h-4 w-4"})})]});case"audio":case"ptt":return i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white/10 rounded-lg",children:[i.jsx(o6,{className:"h-5 w-5"}),i.jsx("audio",{src:n,controls:!0,className:"flex-1"})]});case"document":return i.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:[i.jsx(qa,{className:"h-5 w-5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"Documento"}),i.jsx("p",{className:"text-xs opacity-75",children:"Clique para abrir"})]}),i.jsx(Tg,{className:"h-4 w-4"})]});default:return null}},f=()=>e.quotedMsg?i.jsxs("div",{className:"mb-2 p-2 border-l-4 border-white/30 bg-white/10 rounded",children:[i.jsx("p",{className:"text-xs font-semibold opacity-75",children:e.quotedMsg.senderName}),i.jsx("p",{className:"text-xs opacity-60 truncate",children:e.quotedMsg.content})]}):null;return i.jsx("div",{className:`flex group ${a?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:"flex items-end gap-2 max-w-[70%]",children:[i.jsxs("div",{className:`px-4 py-2 rounded-lg ${a?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[a&&e.senderName&&i.jsxs("div",{className:"flex items-center gap-1 mb-1 opacity-75",children:[i.jsx(aa,{className:"h-3 w-3"}),i.jsx("span",{className:"text-xs font-medium",children:e.senderName})]}),f(),d(),e.content&&i.jsx("p",{className:"text-sm break-words",children:e.content}),i.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[i.jsx("span",{className:"text-xs opacity-75",children:l(e.createdAt)}),a&&c(e.status)]})]}),i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1",children:[t&&i.jsx("button",{onClick:()=>t(e.id),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-400",title:"Responder",children:i.jsx(tQ,{className:"h-4 w-4"})}),r&&a&&i.jsx("button",{onClick:()=>r(e.id),className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded text-red-600 dark:text-red-400",title:"Excluir",children:i.jsx(Tg,{className:"h-4 w-4 rotate-180"})})]})]})})},Jj=({type:e,onFileSelect:t,disabled:r})=>{const a=k.useRef(null),n=()=>{switch(e){case"image":return"image/*";case"video":return"video/*";case"document":return".pdf,.doc,.docx,.xls,.xlsx,.txt,.zip,.rar";case"any":return"*/*";default:return"*/*"}},s=()=>{switch(e){case"image":return i.jsx(Um,{className:"h-5 w-5"});case"video":return i.jsx(T7,{className:"h-5 w-5"});case"document":return i.jsx(qa,{className:"h-5 w-5"});case"any":return i.jsx(U_,{className:"h-5 w-5"});default:return i.jsx(U_,{className:"h-5 w-5"})}},o=l=>{var f;const c=(f=l.target.files)==null?void 0:f[0];if(!c)return;const d=16*1024*1024;if(c.size>d){Le.error("Arquivo muito grande. Máximo: 16MB");return}if(c.type.startsWith("image/")||c.type.startsWith("video/")){const u=new FileReader;u.onload=m=>{var h;t(c,(h=m.target)==null?void 0:h.result)},u.readAsDataURL(c)}else t(c);a.current&&(a.current.value="")};return i.jsxs(i.Fragment,{children:[i.jsx("input",{ref:a,type:"file",accept:n(),onChange:o,className:"hidden",disabled:r}),i.jsx("button",{onClick:()=>{var l;return(l=a.current)==null?void 0:l.click()},disabled:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:`Enviar ${e==="any"?"arquivo":e==="image"?"imagem":e==="video"?"vídeo":"documento"}`,children:s()})]})},vxe=({file:e,preview:t,caption:r,onCaptionChange:a,onSend:n,onCancel:s})=>{const o=()=>e.type.startsWith("image/")&&t?i.jsx("img",{src:t,alt:"Preview",className:"max-w-full max-h-96 rounded-lg object-contain"}):e.type.startsWith("video/")&&t?i.jsx("video",{src:t,controls:!0,className:"max-w-full max-h-96 rounded-lg object-contain"}):i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-100 rounded-lg",children:[i.jsx(qa,{className:"h-8 w-8 text-gray-600 dark:text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(e.size/1024).toFixed(2)," KB"]})]})]});return i.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Enviar Arquivo"}),i.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:i.jsx(br,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:o()}),i.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"text",placeholder:"Adicione uma legenda...",value:r,onChange:l=>a(l.target.value),onKeyDown:l=>{console.log("🔑 Tecla pressionada no modal:",l.key),l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),console.log("✅ Enter detectado - enviando mídia"),n())},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0}),i.jsx("button",{onClick:n,className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg",children:i.jsx(_u,{className:"h-5 w-5"})})]})})]})})},yxe=({onAudioReady:e,disabled:t})=>{const[r,a]=k.useState(!1),[n,s]=k.useState(!1),[o,l]=k.useState(0),[c,d]=k.useState(null),[f,u]=k.useState(null),[m,h]=k.useState(!1),[g,p]=k.useState(!1),x=k.useRef(null),v=k.useRef([]),b=k.useRef(null),y=k.useRef(null);k.useEffect(()=>()=>{b.current&&clearInterval(b.current),f&&URL.revokeObjectURL(f)},[f]);const w=async()=>{try{const M=await navigator.mediaDevices.getUserMedia({audio:!0});let D="audio/ogg;codecs=opus",O={mimeType:D};MediaRecorder.isTypeSupported(D)||(console.warn("OGG não suportado, usando WebM"),D="audio/webm",O={mimeType:D});const B=new MediaRecorder(M,O);x.current=B,v.current=[],B.ondataavailable=U=>{U.data.size>0&&v.current.push(U.data)},B.onstop=()=>{const U=new Blob(v.current,{type:D});d(U);const q=URL.createObjectURL(U);u(q),M.getTracks().forEach(K=>K.stop())},B.start(),a(!0),p(!0),b.current=setInterval(()=>{l(U=>U+1)},1e3)}catch(M){console.error("Erro ao acessar microfone:",M),Le.error("Não foi possível acessar o microfone")}},j=()=>{x.current&&r&&(x.current.stop(),a(!1),b.current&&(clearInterval(b.current),b.current=null))},E=()=>{x.current&&r&&(x.current.pause(),s(!0),b.current&&(clearInterval(b.current),b.current=null))},A=()=>{x.current&&n&&(x.current.resume(),s(!1),b.current=setInterval(()=>{l(M=>M+1)},1e3))},C=()=>{j(),d(null),u(null),l(0),p(!1)},S=()=>{c&&(e(c),C())},T=()=>{y.current&&(m?y.current.pause():y.current.play(),h(!m))},_=M=>{const D=Math.floor(M/60),O=M%60;return`${D}:${O.toString().padStart(2,"0")}`};return i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:w,disabled:t||r,className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Gravar áudio",children:i.jsx(W_,{className:`h-5 w-5 ${r?"text-red-500":"text-gray-600 dark:text-gray-400"}`})}),g&&i.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r?"Gravando Áudio":"Pré-visualizar Áudio"}),i.jsx("button",{onClick:C,className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg",children:i.jsx(br,{className:"h-5 w-5"})})]}),r&&i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-red-100 text-red-700 rounded-full mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),i.jsx("span",{className:"font-mono text-lg",children:_(o)})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n?"Gravação pausada":"Gravando..."})]}),c&&!r&&i.jsxs("div",{className:"mb-6",children:[i.jsx("audio",{ref:y,src:f||"",onEnded:()=>h(!1),className:"hidden"}),i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[i.jsx("button",{onClick:T,className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full",children:m?i.jsx(t3,{className:"h-4 w-4"}):i.jsx(o6,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Áudio gravado"}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:_(o)})]}),i.jsx("div",{className:"w-full h-1 bg-gray-300 dark:bg-gray-600 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-indigo-600 transition-all"})})]})]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r&&i.jsxs(i.Fragment,{children:[n?i.jsx("button",{onClick:A,className:"p-3 bg-green-600 hover:bg-green-700 text-white rounded-full",title:"Continuar gravação",children:i.jsx(W_,{className:"h-5 w-5"})}):i.jsx("button",{onClick:E,className:"p-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-full",title:"Pausar gravação",children:i.jsx(t3,{className:"h-5 w-5"})}),i.jsx("button",{onClick:j,className:"p-3 bg-red-600 hover:bg-red-700 text-white rounded-full",title:"Parar gravação",children:i.jsx(I7,{className:"h-5 w-5"})})]}),c&&!r&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:C,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded-lg flex items-center gap-2",children:[i.jsx(An,{className:"h-4 w-4"}),"Descartar"]}),i.jsxs("button",{onClick:S,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg flex items-center gap-2",children:[i.jsx(_u,{className:"h-4 w-4"}),"Enviar"]})]})]})]})})]})};function W3(e){return[].concat(e)}function wC(e){return e.startsWith(":")}function Jz(e){return Jw(e)&&(e==="*"||e.length>1&&":>~.+*".includes(e.slice(0,1))||Zz(e))}function Kz(e,t){return(Jw(t)||typeof t=="number")&&!Xz(e)&&!wC(e)&&!Qz(e)}function Qz(e){return e.startsWith("@media")}function bxe(e){return e==="."}function Xz(e){return e==="--"}function Jw(e){return e+""===e}function Zz(e){return Jw(e)&&(e.startsWith("&")||wC(e))}function Xb(e,t=""){return e.filter(Boolean).join(t)}function e$(e,t){let r=0;if(t.length===0)return r.toString();for(let a=0;a<t.length;a++){const n=t.charCodeAt(a);r=(r<<5)-r+n,r=r&r}return`${e??"cl"}_${r.toString(36)}`}function wxe(e,t){return e==="content"?`"${t}"`:t}function kxe(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function XT(e,t){return`${e}:${t}`}function jxe(e){return e?`.${e}`:""}function Nxe(e,t){return e?`${e}
${t}`:t}var t$=class r${constructor(t,r,a,n){this.sheet=t,this.property=r,this.value=a,this.selector=n,this.property=r,this.value=a,this.joined=XT(r,a);const s=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:e$(this.sheet.name,this.joined),this.key=Xb([this.joined,s,this.hash])}toString(){let t=H3(this.selector.preconditions,{right:this.hash});return t=H3(this.selector.postconditions,{left:t}),`${t} {${r$.genRule(this.property,this.value)}}`}static genRule(t,r){const a=kxe(t);return XT(a,wxe(t,r))+";"}};function H3(e,{left:t="",right:r=""}={}){const a=e.reduce((n,s)=>wC(s)?n+s:Zz(s)?n+s.slice(1):Xb([n,s]," "),t);return Xb([a,jxe(r)]," ")}var Sxe=class hb{constructor(t,r=null,{preconditions:a,postconditions:n}={}){this.sheet=t,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=a?W3(a):[],this.postconditions=n?W3(n):[],this.setScope(r)}setScope(t){return t?(this.scopeClassName||(this.scopeName=t,this.scopeClassName=e$(this.sheet.name,t+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(t){return new hb(this.sheet,t,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(t){return new hb(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(t)})}addPostcondition(t){return new hb(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(t)})}createRule(t,r){return new t$(this.sheet,t,r,this)}},Cxe=class{constructor(e,t){this.name=e,this.rootNode=t,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id=`flairup-${e}`,this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(e){this.style=Nxe(this.style,e)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){if(typeof document>"u"||this.isApplied()||this.rootNode===null)return this.styleTag;const e=document.createElement("style");return e.type="text/css",e.id=this.id,(this.rootNode??document.head).appendChild(e),e}addRule(e){const t=this.storedClasses[e.key];return Jw(t)?t:(this.storedClasses[e.key]=e.hash,this.storedStyles[e.hash]=[e.property,e.value],this.append(e.toString()),e.hash)}};function kC(e,t){for(const r in e)t(r.trim(),e[r])}function wr(...e){const t=e.reduce((r,a)=>(a instanceof Set?r.push(...a):typeof a=="string"?r.push(a):Array.isArray(a)?r.push(wr(...a)):typeof a=="object"&&Object.entries(a).forEach(([n,s])=>{s&&r.push(n)}),r),[]);return Xb(t," ").trim()}function Axe(e,t){const r=new Cxe(e,t);return{create:a,getStyle:r.getStyle.bind(r),isApplied:r.isApplied.bind(r)};function a(n){const s={};return a$(r,n,new Sxe(r)).forEach(([l,c,d])=>{Kw(r,c,d).forEach(f=>{o(l,f)})}),r.apply(),s;function o(l,c){s[l]=s[l]??new Set,s[l].add(c)}}}function a$(e,t,r){const a=[];return kC(t,(n,s)=>{if(Jz(n))return a$(e,s,r.addPrecondition(n)).forEach(o=>a.push(o));a.push([n,t[n],r.addScope(n)])}),a}function Kw(e,t,r){const a=new Set;return kC(t,(n,s)=>{let o=[];if(Jz(n))o=Kw(e,s,r.addPostcondition(n));else if(bxe(n))o=W3(s);else if(Qz(n))o=_xe(e,s,n,r);else if(Xz(n))o=Exe(e,s,r);else if(Kz(n,s)){const l=r.createRule(n,s);e.addRule(l),a.add(l.hash)}return n$(o,a)}),a}function n$(e,t){return e.forEach(r=>t.add(r)),t}function Exe(e,t,r){const a=new Set,n=[];if(kC(t,(s,o)=>{if(Kz(s,o)){n.push(t$.genRule(s,o));return}const l=Kw(e,o??{},r);n$(l,a)}),!r.scopeClassName)return a;if(n.length){const s=n.join(" ");e.append(`${H3(r.preconditions,{right:r.scopeClassName})} {${s}}`)}return a.add(r.scopeClassName),a}function _xe(e,t,r,a){e.append(r+" {");const n=Kw(e,t,a);return e.append("}"),n}function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wa.apply(this,arguments)}function Mxe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,V3(e,t)}function V3(e,t){return V3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},V3(e,t)}function s$(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,s;for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Lxe(e,t){if(e){if(typeof e=="string")return ZT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(e,t)}}function ZT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Txe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Lxe(e))||t){r&&(e=r);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mr;(function(e){e.hiddenOnSearch="epr-hidden-on-search",e.searchActive="epr-search-active",e.hidden="epr-hidden",e.visible="epr-visible",e.active="epr-active",e.emoji="epr-emoji",e.category="epr-emoji-category",e.label="epr-emoji-category-label",e.categoryContent="epr-emoji-category-content",e.emojiHasVariations="epr-emoji-has-variations",e.scrollBody="epr-body",e.emojiList="epr-emoji-list",e.external="__EmojiPicker__",e.emojiPicker="EmojiPickerReact",e.open="epr-open",e.vertical="epr-vertical",e.horizontal="epr-horizontal",e.variationPicker="epr-emoji-variation-picker",e.darkTheme="epr-dark-theme",e.autoTheme="epr-auto-theme"})(Mr||(Mr={}));function $o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.map(function(a){return"."+a}).join("")}var Ja=Axe("epr",null),mb={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},jC=Ja.create({hidden:Wa({".":Mr.hidden},mb)}),Ixe=k.memo(function(){return k.createElement("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:Ja.getStyle()}})}),_0=Ja.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:Wa({".":Mr.hiddenOnSearch},mb)},":has(input:placeholder-shown)":{visibleOnSearchOnly:mb}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:Wa({".":"epr-visible-on-search-only"},mb)}});function Nf(e,t){var r,a;return{".epr-dark-theme":(r={},r[e]=t,r),".epr-auto-theme":(a={},a[e]={"@media (prefers-color-scheme: dark)":t},a)}}function i$(e,t){var r,a,n=(r=e.customEmojis)!=null?r:[],s=(a=t.customEmojis)!=null?a:[];return e.open===t.open&&e.emojiVersion===t.emojiVersion&&e.reactionsDefaultOpen===t.reactionsDefaultOpen&&e.searchPlaceHolder===t.searchPlaceHolder&&e.searchPlaceholder===t.searchPlaceholder&&e.defaultSkinTone===t.defaultSkinTone&&e.skinTonesDisabled===t.skinTonesDisabled&&e.autoFocusSearch===t.autoFocusSearch&&e.emojiStyle===t.emojiStyle&&e.theme===t.theme&&e.suggestedEmojisMode===t.suggestedEmojisMode&&e.lazyLoadEmojis===t.lazyLoadEmojis&&e.className===t.className&&e.height===t.height&&e.width===t.width&&e.style===t.style&&e.searchDisabled===t.searchDisabled&&e.skinTonePickerLocation===t.skinTonePickerLocation&&n.length===s.length}var Dxe=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"],qg={};setTimeout(function(){Xw.reduce(function(e,t){return o$(t),e},qg)});function o$(e){var t=ev(e).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("");t.forEach(function(r){var a;qg[r]=(a=qg[r])!=null?a:{},qg[r][Xs(e)]=e})}function eI(e,t){t===void 0&&(t=0);var r=k.useState(e),a=r[0],n=r[1],s=k.useRef(null);function o(l){return new Promise(function(c){var d;s.current&&clearTimeout(s.current),s.current=(d=window)==null?void 0:d.setTimeout(function(){n(l),c(l)},t)})}return[a,o]}function Pxe(){var e=O1e();return function(t){return e.has(t)}}function l$(){var e=k.useRef({}),t=P1e();return k.useMemo(function(){var r=parseFloat(""+t);return!t||Number.isNaN(r)?e.current:Xw.reduce(function(a,n){return Rxe(n,r)&&(a[Xs(n)]=!0),a},e.current)},[t])}function Oxe(){var e=l$(),t=Pxe();return function(a){var n=EC(Xs(a));return!!(e[n]||t(n))}}function Rxe(e,t){return o1e(e)>t}function Fxe(e){k.useEffect(function(){e(!0)},[e])}var Ax;(function(e){e.RECENT="recent",e.FREQUENT="frequent"})(Ax||(Ax={}));var eo;(function(e){e.NATIVE="native",e.APPLE="apple",e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook"})(eo||(eo={}));var Ex;(function(e){e.DARK="dark",e.LIGHT="light",e.AUTO="auto"})(Ex||(Ex={}));var fl;(function(e){e.NEUTRAL="neutral",e.LIGHT="1f3fb",e.MEDIUM_LIGHT="1f3fc",e.MEDIUM="1f3fd",e.MEDIUM_DARK="1f3fe",e.DARK="1f3ff"})(fl||(fl={}));var mr;(function(e){e.SUGGESTED="suggested",e.CUSTOM="custom",e.SMILEYS_PEOPLE="smileys_people",e.ANIMALS_NATURE="animals_nature",e.FOOD_DRINK="food_drink",e.TRAVEL_PLACES="travel_places",e.ACTIVITIES="activities",e.OBJECTS="objects",e.SYMBOLS="symbols",e.FLAGS="flags"})(mr||(mr={}));var Zh;(function(e){e.SEARCH="SEARCH",e.PREVIEW="PREVIEW"})(Zh||(Zh={}));function Bxe(e){var t=e.children,r=l$(),a=j1e(),n=D1e(),s=k.useRef(qg),o=k.useRef(!1),l=k.useRef(!1),c=k.useRef(r),d=eI(Date.now(),200),f=eI("",100),u=k.useState(!1),m=k.useState(a),h=k.useState(null),g=k.useState(new Set),p=k.useState(null),x=k.useState(n),v=k.useState(!1),b=v[0],y=v[1];return Fxe(y),k.createElement(Il.Provider,{value:{activeCategoryState:h,activeSkinTone:m,disallowClickRef:o,disallowMouseRef:l,disallowedEmojisRef:c,emojiVariationPickerState:p,emojisThatFailedToLoadState:g,filterRef:s,isPastInitialLoad:b,searchTerm:f,skinToneFanOpenState:u,suggestedUpdateState:d,reactionsModeState:x}},t)}var Il=k.createContext({activeCategoryState:[null,function(){}],activeSkinTone:[fl.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise(function(){})}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}]});function NC(){var e=k.useContext(Il),t=e.filterRef;return t}function zxe(){var e=k.useContext(Il),t=e.disallowClickRef;return t}function SC(){var e=k.useContext(Il),t=e.disallowMouseRef;return t}function M0(){var e=k.useContext(Il),t=e.reactionsModeState;return t}function Qw(){var e=k.useContext(Il),t=e.searchTerm;return t}function CC(){var e=k.useContext(Il),t=e.activeSkinTone;return t}function c$(){var e=k.useContext(Il),t=e.emojisThatFailedToLoadState;return t}function Xm(){var e=k.useContext(Il),t=e.emojiVariationPickerState;return t}function Z1(){var e=k.useContext(Il),t=e.skinToneFanOpenState;return t}function d$(){var e=k.useContext(Il),t=e.suggestedUpdateState,r=t[0],a=t[1];return[r,function(){a(Date.now())}]}var vo,$xe=[mr.SUGGESTED,mr.CUSTOM,mr.SMILEYS_PEOPLE,mr.ANIMALS_NATURE,mr.FOOD_DRINK,mr.TRAVEL_PLACES,mr.ACTIVITIES,mr.OBJECTS,mr.SYMBOLS,mr.FLAGS],Uxe={name:"Recently Used",category:mr.SUGGESTED},f$=(vo={},vo[mr.SUGGESTED]={category:mr.SUGGESTED,name:"Frequently Used"},vo[mr.CUSTOM]={category:mr.CUSTOM,name:"Custom Emojis"},vo[mr.SMILEYS_PEOPLE]={category:mr.SMILEYS_PEOPLE,name:"Smileys & People"},vo[mr.ANIMALS_NATURE]={category:mr.ANIMALS_NATURE,name:"Animals & Nature"},vo[mr.FOOD_DRINK]={category:mr.FOOD_DRINK,name:"Food & Drink"},vo[mr.TRAVEL_PLACES]={category:mr.TRAVEL_PLACES,name:"Travel & Places"},vo[mr.ACTIVITIES]={category:mr.ACTIVITIES,name:"Activities"},vo[mr.OBJECTS]={category:mr.OBJECTS,name:"Objects"},vo[mr.SYMBOLS]={category:mr.SYMBOLS,name:"Symbols"},vo[mr.FLAGS]={category:mr.FLAGS,name:"Flags"},vo);function u$(e){return $xe.map(function(t){return Wa({},f$[t],e&&e[t]&&e[t])})}function AC(e){return e.category}function h$(e){return e.name}function Wxe(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t={});var a={};t.suggestionMode===Ax.RECENT&&(a[mr.SUGGESTED]=Uxe);var n=u$(a);return(r=e)!=null&&r.length?e.map(function(s){return typeof s=="string"?tI(s,a[s]):Wa({},tI(s.category,a[s.category]),s)}):n}function tI(e,t){return t===void 0&&(t={}),Object.assign(f$[e],t)}var Hxe="https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/",Vxe="https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/",Gxe="https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/",qxe="https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";function Yxe(e){switch(e){case eo.TWITTER:return Gxe;case eo.GOOGLE:return qxe;case eo.FACEBOOK:return Vxe;case eo.APPLE:default:return Hxe}}var Jxe=[],Kxe=[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["shaking face"],u:"1fae8",a:"15.0"},{n:["head shaking horizontally"],u:"1f642-200d-2194-fe0f",a:"15.1"},{n:["head shaking vertically"],u:"1f642-200d-2195-fe0f",a:"15.1"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["pink heart"],u:"1fa77",a:"15.0"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["light blue heart"],u:"1fa75",a:"15.0"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["grey heart"],u:"1fa76",a:"15.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["leftwards pushing hand"],u:"1faf7",v:["1faf7-1f3fb","1faf7-1f3fc","1faf7-1f3fd","1faf7-1f3fe","1faf7-1f3ff"],a:"15.0"},{n:["rightwards pushing hand"],u:"1faf8",v:["1faf8-1f3fb","1faf8-1f3fc","1faf8-1f3fd","1faf8-1f3fe","1faf8-1f3ff"],a:"15.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person walking facing right"],u:"1f6b6-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-27a1-fe0f","1f6b6-1f3fc-200d-27a1-fe0f","1f6b6-1f3fd-200d-27a1-fe0f","1f6b6-1f3fe-200d-27a1-fe0f","1f6b6-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman walking facing right"],u:"1f6b6-200d-2640-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man walking facing right"],u:"1f6b6-200d-2642-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person kneeling facing right"],u:"1f9ce-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-27a1-fe0f","1f9ce-1f3fc-200d-27a1-fe0f","1f9ce-1f3fd-200d-27a1-fe0f","1f9ce-1f3fe-200d-27a1-fe0f","1f9ce-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman kneeling facing right"],u:"1f9ce-200d-2640-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man kneeling facing right"],u:"1f9ce-200d-2642-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["person with white cane facing right"],u:"1f9d1-200d-1f9af-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["man with white cane facing right"],u:"1f468-200d-1f9af-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9af-200d-27a1-fe0f","1f468-1f3fc-200d-1f9af-200d-27a1-fe0f","1f468-1f3fd-200d-1f9af-200d-27a1-fe0f","1f468-1f3fe-200d-1f9af-200d-27a1-fe0f","1f468-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane facing right"],u:"1f469-200d-1f9af-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9af-200d-27a1-fe0f","1f469-1f3fc-200d-1f9af-200d-27a1-fe0f","1f469-1f3fd-200d-1f9af-200d-27a1-fe0f","1f469-1f3fe-200d-1f9af-200d-27a1-fe0f","1f469-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["person in motorized wheelchair facing right"],u:"1f9d1-200d-1f9bc-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["man in motorized wheelchair facing right"],u:"1f468-200d-1f9bc-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair facing right"],u:"1f469-200d-1f9bc-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["person in manual wheelchair facing right"],u:"1f9d1-200d-1f9bd-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["man in manual wheelchair facing right"],u:"1f468-200d-1f9bd-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair facing right"],u:"1f469-200d-1f9bd-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person running facing right"],u:"1f3c3-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-27a1-fe0f","1f3c3-1f3fc-200d-27a1-fe0f","1f3c3-1f3fd-200d-27a1-fe0f","1f3c3-1f3fe-200d-27a1-fe0f","1f3c3-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman running facing right"],u:"1f3c3-200d-2640-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man running facing right"],u:"1f3c3-200d-2642-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["family adult adult child","family: adult, adult, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult adult child child","family: adult, adult, child, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["family adult child","family: adult, child"],u:"1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult child child","family: adult, child, child"],u:"1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["footprints"],u:"1f463",a:"0.6"}],Qxe=[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["moose"],u:"1face",a:"15.0"},{n:["donkey"],u:"1facf",a:"15.0"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["wing"],u:"1fabd",a:"15.0"},{n:["black bird"],u:"1f426-200d-2b1b",a:"15.0"},{n:["goose"],u:"1fabf",a:"15.0"},{n:["phoenix"],u:"1f426-200d-1f525",a:"15.1"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["jellyfish"],u:"1fabc",a:"15.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["hyacinth"],u:"1fabb",a:"15.0"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"},{n:["mushroom"],u:"1f344",a:"0.6"}],Xxe=[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["lime"],u:"1f34b-200d-1f7e9",a:"15.1"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["ginger root"],u:"1fada",a:"15.0"},{n:["pea pod"],u:"1fadb",a:"15.0"},{n:["brown mushroom"],u:"1f344-200d-1f7eb",a:"15.1"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],Zxe=[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],e1e=[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],t1e=[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["folding hand fan"],u:"1faad",a:"15.0"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["hair pick"],u:"1faae",a:"15.0"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue worker’s helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["maracas"],u:"1fa87",a:"15.0"},{n:["flute"],u:"1fa88",a:"15.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["broken chain"],u:"26d3-fe0f-200d-1f4a5",a:"15.1"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],r1e=[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["khanda"],u:"1faaf",a:"15.0"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["wireless"],u:"1f6dc",a:"15.0"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],a1e=[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","åland islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barthélemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","côte d’ivoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","curaçao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","réunion flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","são tomé & príncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","türkiye flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}],Zb={custom:Jxe,smileys_people:Kxe,animals_nature:Qxe,food_drink:Xxe,travel_places:Zxe,activities:e1e,objects:t1e,symbols:r1e,flags:a1e},e2=[fl.NEUTRAL,fl.LIGHT,fl.MEDIUM_LIGHT,fl.MEDIUM,fl.MEDIUM_DARK,fl.DARK],n1e=Object.entries(fl).reduce(function(e,t){var r=t[0],a=t[1];return e[a]=r,e},{}),s1e=e2.reduce(function(e,t){var r;return Object.assign(e,(r={},r[t]=t,r))},{}),To;(function(e){e.name="n",e.unified="u",e.variations="v",e.added_in="a",e.imgUrl="imgUrl"})(To||(To={}));var m$="epr_suggested";function p$(e){try{var t,r,a;if(!((t=window)!=null&&t.localStorage))return[];var n=JSON.parse((r=(a=window)==null?void 0:a.localStorage.getItem(m$))!=null?r:"[]");return e===Ax.FREQUENT?n.sort(function(s,o){return o.count-s.count}):n}catch{return[]}}function i1e(e,t){var r=p$(),a=Xs(e,t),n=Xs(e),s=r.find(function(c){var d=c.unified;return d===a}),o;s?o=[s].concat(r.filter(function(c){return c!==s})):(s={unified:a,original:n,count:0},o=[s].concat(r)),s.count++,o.length=Math.min(o.length,14);try{var l;(l=window)==null||l.localStorage.setItem(m$,JSON.stringify(o))}catch{}}function ev(e){var t;return(t=e[To.name])!=null?t:[]}function o1e(e){return parseFloat(e[To.added_in])}function G3(e){return e?ev(e)[0]:""}function EC(e){var t=e.split("-"),r=t.splice(1,1),a=r[0];return s1e[a]?t.join("-"):e}function Xs(e,t){var r,a=e[To.unified];return!t||!Zm(e)?a:(r=c1e(e,t))!=null?r:a}function l1e(){var e=M1e(),t=d$(),r=t[0],a=Z.useMemo(function(){var n,s=(n=p$(e))!=null?n:[];return s.map(function(o){return em(o.unified)}).filter(Boolean)},[r,e]);return function(s){var o;return s===mr.SUGGESTED?a:(o=Zb[s])!=null?o:[]}}function g$(e,t){return""+Yxe(t)+e+".png"}function tv(e){var t;return(t=e[To.variations])!=null?t:[]}function Zm(e){return tv(e).length>0}function c1e(e,t){return t?tv(e).find(function(r){return r.includes(t)}):Xs(e)}function em(e){if(e){if(Fh[e])return Fh[e];var t=EC(e);return Fh[t]}}var Xw=Object.values(Zb).flat();function d1e(e){Zb[mr.CUSTOM].length=0,e.forEach(function(t){var r=f1e(t);Zb[mr.CUSTOM].push(r),!Fh[r[To.unified]]&&(Xw.push(r),Fh[r[To.unified]]=r,o$(r))})}function f1e(e){var t;return t={},t[To.name]=e.names.map(function(r){return r.toLowerCase()}),t[To.unified]=e.id.toLowerCase(),t[To.added_in]="0",t[To.imgUrl]=e.imgUrl,t}var Fh={};setTimeout(function(){Xw.reduce(function(e,t){return e[Xs(t)]=t,Zm(t)&&tv(t).forEach(function(r){e[r]=t}),e},Fh)});function u1e(e){var t=e.split("-"),r=t[1];return e2.includes(r)?r:null}var h1e=["2640-fe0f","2642-fe0f","2695-fe0f"],t2="Search",m1e="No results found",x$=" found. Use up and down arrow keys to navigate.",p1e="1 result"+x$,g1e="%n results"+x$;function rI(e){var t,r;e===void 0&&(e={});var a=v$(),n=Object.assign(a.previewConfig,(t=e.previewConfig)!=null?t:{}),s=Object.assign(a,e),o=Wxe(e.categories,{suggestionMode:s.suggestedEmojisMode});s.hiddenEmojis.forEach(function(c){s.unicodeToHide.add(c)}),d1e((r=s.customEmojis)!=null?r:[]);var l=s.searchDisabled?Zh.PREVIEW:s.skinTonePickerLocation;return Wa({},s,{categories:o,previewConfig:n,skinTonePickerLocation:l})}function v$(){return{autoFocusSearch:!0,categories:u$(),className:"",customEmojis:[],defaultSkinTone:fl.NEUTRAL,emojiStyle:eo.APPLE,emojiVersion:null,getEmojiUrl:g$,height:450,lazyLoadEmojis:!1,previewConfig:Wa({},x1e),searchDisabled:!1,searchPlaceHolder:t2,searchPlaceholder:t2,skinTonePickerLocation:Zh.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:Ax.FREQUENT,theme:Ex.LIGHT,unicodeToHide:new Set(h1e),width:350,reactionsDefaultOpen:!1,reactions:Dxe,open:!0,allowExpandReactions:!0,hiddenEmojis:[]}}var x1e={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},v1e=["children"],y$=k.createContext(v$());function y1e(e){var t=e.children,r=s$(e,v1e),a=b1e(r);return k.createElement(y$.Provider,{value:a},t)}function b1e(e){var t,r=k.useState(function(){return rI(e)}),a=r[0],n=r[1];return k.useEffect(function(){i$(a,e)||n(rI(e))},[(t=e.customEmojis)==null?void 0:t.length,e.open,e.emojiVersion,e.reactionsDefaultOpen,e.searchPlaceHolder,e.searchPlaceholder,e.defaultSkinTone,e.skinTonesDisabled,e.autoFocusSearch,e.emojiStyle,e.theme,e.suggestedEmojisMode,e.lazyLoadEmojis,e.className,e.height,e.width,e.searchDisabled,e.skinTonePickerLocation,e.allowExpandReactions]),a}function hn(){return k.useContext(y$)}var b$=Z.createContext({});function w$(){var e=Z.useContext(b$);return e}function w1e(e){var t=Z.useRef({onEmojiClick:e.onEmojiClick||ky,onReactionClick:e.onReactionClick||e.onEmojiClick,onSkinToneChange:e.onSkinToneChange||ky});return Z.useEffect(function(){t.current.onEmojiClick=e.onEmojiClick||ky,t.current.onReactionClick=e.onReactionClick||e.onEmojiClick},[e.onEmojiClick,e.onReactionClick]),Z.useEffect(function(){t.current.onSkinToneChange=e.onSkinToneChange||ky},[e.onSkinToneChange]),t}function ky(){}var _x;(function(e){e.REACTIONS="reactions",e.PICKER="picker"})(_x||(_x={}));function k1e(){var e,t=hn(),r=t.searchPlaceHolder,a=t.searchPlaceholder;return(e=[r,a].find(function(n){return n!==t2}))!=null?e:t2}function j1e(){var e=hn(),t=e.defaultSkinTone;return t}function k$(){var e=hn(),t=e.allowExpandReactions;return t}function j$(){var e=hn(),t=e.skinTonesDisabled;return t}function ep(){var e=hn(),t=e.emojiStyle;return t}function N1e(){var e=hn(),t=e.autoFocusSearch;return t}function N$(){var e=hn(),t=e.categories;return t}function S1e(){var e=hn(),t=e.customEmojis;return t}function C1e(){var e=hn(),t=e.open;return t}function A1e(e){var t=w$(),r=t.current,a=M0(),n=a[1],s=r.onEmojiClick||function(){},o=r.onReactionClick;return e===_x.REACTIONS&&o?function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return o.apply(void 0,c.concat([{collapseToReactions:function(){n(function(u){return u})}}]))}:function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];s.apply(void 0,c.concat([{collapseToReactions:function(){n(!0)}}]))}}function E1e(){var e=w$(),t=e.current;return t.onSkinToneChange||function(){}}function S$(){var e=hn(),t=e.previewConfig;return t}function _1e(){var e=hn(),t=e.theme;return t}function M1e(){var e=hn(),t=e.suggestedEmojisMode;return t}function L1e(){var e=hn(),t=e.lazyLoadEmojis;return t}function T1e(){var e=hn(),t=e.className;return t}function I1e(){var e=hn(),t=e.height,r=e.width,a=e.style;return Wa({height:aI(t),width:aI(r)},a)}function D1e(){var e=hn(),t=e.reactionsDefaultOpen;return t}function P1e(){var e=hn(),t=e.emojiVersion;return t}function C$(){var e=hn(),t=e.searchDisabled;return t}function A$(){var e=hn(),t=e.skinTonePickerLocation;return t}function O1e(){var e=hn(),t=e.unicodeToHide;return t}function R1e(){var e=hn(),t=e.reactions;return t}function tp(){var e=hn(),t=e.getEmojiUrl;return t}function aI(e){return typeof e=="number"?e+"px":e}function F1e(e){var t=e>0,r=e>1;return t?r?g1e.replace("%n",e.toString()):p1e:m1e}function Zw(){var e=Qw(),t=e[0];return!!t}function oo(e){e&&requestAnimationFrame(function(){e.focus()})}function E$(e){if(e){var t=e.previousElementSibling;oo(t)}}function _$(e){if(e){var t=e.nextElementSibling;oo(t)}}function M$(e){if(e){var t=e.firstElementChild;oo(t)}}function Mx(){return document.activeElement}function B1e(e){var t=e.children,r=k.useRef(null),a=k.useRef(null),n=k.useRef(null),s=k.useRef(null),o=k.useRef(null),l=k.useRef(null),c=k.useRef(null),d=k.useRef(null),f=k.useRef(null);return k.createElement(L$.Provider,{value:{AnchoredEmojiRef:a,BodyRef:n,EmojiListRef:s,CategoryNavigationRef:c,PickerMainRef:r,SearchInputRef:o,SkinTonePickerRef:l,VariationPickerRef:d,ReactionsRef:f}},t)}var L$=k.createContext({AnchoredEmojiRef:k.createRef(),BodyRef:k.createRef(),CategoryNavigationRef:k.createRef(),EmojiListRef:k.createRef(),PickerMainRef:k.createRef(),SearchInputRef:k.createRef(),SkinTonePickerRef:k.createRef(),VariationPickerRef:k.createRef(),ReactionsRef:k.createRef()});function wd(){return k.useContext(L$)}function T$(){return wd().EmojiListRef}function rp(){return wd().PickerMainRef}function e4(){return wd().AnchoredEmojiRef}function I$(){var e=e4();return function(t){t===null&&e.current!==null&&oo(e.current),e.current=t}}function lo(){return wd().BodyRef}function z1e(){return wd().ReactionsRef}function Of(){return wd().SearchInputRef}function _C(){return wd().SkinTonePickerRef}function MC(){return wd().CategoryNavigationRef}function $1e(){return wd().VariationPickerRef}function D$(e,t){t===void 0&&(t=0);var r=q$(e);r&&requestAnimationFrame(function(){r.scrollTop=t})}function U1e(e,t){var r=q$(e);r&&requestAnimationFrame(function(){r.scrollTop=r.scrollTop+t})}function W1e(){var e=lo();return k.useCallback(function(t){requestAnimationFrame(function(){e.current&&(e.current.scrollTop=t)})},[e])}function t4(e){if(!(!e||!Eve(e))&&!e.closest($o(Mr.variationPicker))){var t=J$(e),r=Y$(e);U1e(t,-(PC(Rf(e))-r))}}function r4(e){var t=BC(e);oo(t),t4(t)}function H1e(e){var t=BC(e);oo(t),t==null||t.click()}function V1e(e){oo(Z$(e))}function G1e(e){if(e){var t=eU(e);if(!t)return r4(n4(e));oo(t),t4(t)}}function q1e(e){if(e){var t=FC(e);if(!t)return V1e(a4(e));oo(t),t4(t)}}function Y1e(e,t){if(e){var r=K1e(e);if(!r)return t();oo(r),t4(r)}}function J1e(e){if(e){var t=Q1e(e);return oo(t)}}function K1e(e){if(!e)return null;var t=tU(e),r=Rf(t),a=H$(t,e),n=tm(r),s=n.indexOf(e),o=s%a;if(s===-1)return null;if(n[s-a])return n[s-a];var l=a4(r);if(!l)return null;var c=tm(l),d=c.length%a-1;if(o>d)return c.at(-1);for(var f=c.length-1;f>=0;f--)if(f%a===o)return c[f];return c.at(-1)}function Q1e(e){var t;if(!e)return null;var r=tU(e),a=Rf(r),n=H$(r,e),s=tm(a),o=s.indexOf(e);if(o===-1)return null;var l=n-o%n-1,c=o+l+1;if(s[c]){for(var d=o+n;d%n>=0;d--)if(s[d])return s[d]}var f=o%n,u=n4(a),m=tm(u);return m[f]?m[f]:(t=m.at(0))!=null?t:null}function L0(){var e=Xm(),t=e[0],r=e[1],a=Z1(),n=a[0],s=a[1],o=k.useCallback(function(){t&&r(null),n&&s(!1)},[t,n,r,s]);return o}function P$(){var e=Xm(),t=e[0],r=Z1(),a=r[0];return function(){return!!t||a}}function X1e(){var e=SC();return function(){e.current=!0}}function O$(){var e=SC();return function(){e.current=!1}}function R$(){var e=SC();return function(){return e.current}}function Z1e(){var e=lo(),t=O$(),r=R$();k.useEffect(function(){var a=e.current;a==null||a.addEventListener("mousemove",n,{passive:!0});function n(){r()&&t()}return function(){a==null||a.removeEventListener("mousemove",n)}},[e,t,r])}function T0(){var e=Of();return k.useCallback(function(){oo(e.current)},[e])}function eve(){var e=_C();return k.useCallback(function(){e.current&&M$(e.current)},[e])}function F$(){var e=MC();return k.useCallback(function(){e.current&&M$(e.current)},[e])}function tve(){var e=NC();return function t(r){if(typeof r=="function")return t(r(e.current));e.current=r}}function B$(){var e=LC(),t=Of(),r=T0();return function(){t.current&&(t.current.value=""),e(""),r()}}function rve(){var e=Of(),t=LC();return function(a){e.current?(e.current.value=""+e.current.value+a,t(nI(e.current.value))):t(nI(a))}}function ave(){var e=Of(),t=NC(),r=tve(),a=LC(),n=Qw(),s=n[0],o=cve(t.current,s);return{onChange:l,searchTerm:s,SearchInputRef:e,statusSearchResults:o};function l(c){var d=t.current,f=c.toLowerCase();if(d!=null&&d[f]||f.length<=1)return a(f);var u=lve(f,d);if(!u)return a(f);r(function(m){var h;return Object.assign(m,(h={},h[f]=nve(u,f),h))}),a(f)}}function LC(){var e=Qw(),t=e[1],r=rp();return function(n){requestAnimationFrame(function(){t(n&&(n==null?void 0:n.toLowerCase())).then(function(){D$(r.current,0)})})}}function nve(e,t){var r={};for(var a in e){var n=e[a];sve(n,t)&&(r[a]=n)}return r}function sve(e,t){return ev(e).some(function(r){return r.includes(t)})}function ive(){var e=NC(),t=e.current,r=Qw(),a=r[0];return function(n){return ove(n,t,a)}}function ove(e,t,r){var a;return!t||!r?!1:!((a=t[r])!=null&&a[e])}function lve(e,t){if(!t)return null;if(t[e])return t[e];var r=Object.keys(t).sort(function(a,n){return n.length-a.length}).find(function(a){return e.includes(a)});return r?t[r]:null}function nI(e){return!e||typeof e!="string"?"":e.trim().toLowerCase()}function cve(e,t){var r;if(!(e!=null&&e[t]))return"";var a=((r=Object.entries(e==null?void 0:e[t]))==null?void 0:r.length)||0;return F1e(a)}function z$(){var e=I$(),t=Xm(),r=t[1];return function(n){var s=DC(n),o=s[0];o&&(e(n),r(o))}}function TC(){var e=A$();return e===Zh.SEARCH}function $$(){var e=A$();return e===Zh.PREVIEW}var zn;(function(e){e.ArrowDown="ArrowDown",e.ArrowUp="ArrowUp",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.Escape="Escape",e.Enter="Enter",e.Space=" "})(zn||(zn={}));function dve(){fve(),uve(),hve(),mve(),pve()}function fve(){var e=rp(),t=B$(),r=W1e(),a=Of(),n=T0(),s=P$(),o=X1e(),l=L0(),c=k.useMemo(function(){return function(f){var u=f.key;switch(o(),u){case zn.Escape:if(f.preventDefault(),s()){l();return}t(),r(0),n();break}}},[r,t,l,n,s,o]);k.useEffect(function(){var d=e.current;if(d)return d.addEventListener("keydown",c),function(){d.removeEventListener("keydown",c)}},[e,a,r,c])}function uve(){var e=eve(),t=rp(),r=lo(),a=Of(),n=Z1(),s=n[1],o=U$(),l=TC(),c=k.useMemo(function(){return function(f){var u=f.key;switch(u){case zn.ArrowRight:if(!l)return;f.preventDefault(),s(!0),e();break;case zn.ArrowDown:f.preventDefault(),o();break;case zn.Enter:f.preventDefault(),H1e(r.current);break}}},[e,o,s,r,l]);k.useEffect(function(){var d=a.current;if(d)return d.addEventListener("keydown",c),function(){d.removeEventListener("keydown",c)}},[t,a,c])}function hve(){var e=_C(),t=T0(),r=Of(),a=U$(),n=Z1(),s=n[0],o=n[1],l=$$(),c=TC(),d=IC(),f=k.useMemo(function(){return function(m){var h=m.key;if(c)switch(h){case zn.ArrowLeft:if(m.preventDefault(),!s)return t();sI(t);break;case zn.ArrowRight:if(m.preventDefault(),!s)return t();iI();break;case zn.ArrowDown:m.preventDefault(),s&&o(!1),a();break;default:d(m);break}if(l)switch(h){case zn.ArrowUp:if(m.preventDefault(),!s)return t();sI(t);break;case zn.ArrowDown:if(m.preventDefault(),!s)return t();iI();break;default:d(m);break}}},[s,t,o,a,d,l,c]);k.useEffect(function(){var u=e.current;if(u)return u.addEventListener("keydown",f),function(){u.removeEventListener("keydown",f)}},[e,r,s,f])}function mve(){var e=T0(),t=MC(),r=lo(),a=IC(),n=k.useMemo(function(){return function(o){var l=o.key;switch(l){case zn.ArrowUp:o.preventDefault(),e();break;case zn.ArrowRight:o.preventDefault(),_$(Mx());break;case zn.ArrowLeft:o.preventDefault(),E$(Mx());break;case zn.ArrowDown:o.preventDefault(),r4(r.current);break;default:a(o);break}}},[r,e,a]);k.useEffect(function(){var s=t.current;if(s)return s.addEventListener("keydown",n),function(){s.removeEventListener("keydown",n)}},[t,r,n])}function pve(){var e=lo(),t=gve(),r=z$(),a=P$(),n=L0(),s=IC(),o=k.useMemo(function(){return function(c){var d=c.key,f=Nl(Mx());switch(d){case zn.ArrowRight:c.preventDefault(),G1e(f);break;case zn.ArrowLeft:c.preventDefault(),q1e(f);break;case zn.ArrowDown:if(c.preventDefault(),a()){n();break}J1e(f);break;case zn.ArrowUp:if(c.preventDefault(),a()){n();break}Y1e(f,t);break;case zn.Space:c.preventDefault(),r(c.target);break;default:s(c);break}}},[t,s,r,a,n]);k.useEffect(function(){var l=e.current;if(l)return l.addEventListener("keydown",o),function(){l.removeEventListener("keydown",o)}},[e,o])}function U$(){var e=F$(),t=Zw(),r=lo();return k.useCallback(function(){return t?r4(r.current):e()},[r,e,t])}function gve(){var e=T0(),t=F$(),r=Zw();return k.useCallback(function(){return r?e():t()},[e,r,t])}function sI(e){var t=Mx();t&&(Sve(t)||e(),_$(t))}function iI(){var e=Mx();e&&E$(e)}function IC(){var e=rve(),t=T0(),r=C$(),a=L0();return function(s){var o=s.key;xve(s)||r||o.match(/(^[a-zA-Z0-9]$){1}/)&&(s.preventDefault(),a(),t(),e(o))}}function xve(e){var t=e.metaKey,r=e.ctrlKey,a=e.altKey;return t||r||a}function vve(e,t,r,a,n,s,o,l){if(e&&t!==eo.NATIVE){var c=Xs(e);q3.has(c)||!s||!o||setTimeout(function(){var d=n+s.top,f=r+a,u=d>=f&&d<f+o.emojiSize*2;u&&W$(l,e,t)})}}function W$(e,t,r){if(t){var a=Xs(t);q3.has(a)||(q3.add(a),tv(t).concat(a).forEach(function(n){var s=e(n,r);yve(s)}))}}var q3=new Set;function yve(e){var t=new Image;t.src=e}function bve(){var e=lo(),t=ep(),r=tp();k.useEffect(function(){if(t===eo.NATIVE)return;var a=e.current;return a==null||a.addEventListener("focusin",n),function(){a==null||a.removeEventListener("focusin",n)};function n(s){var o=Nl(s.target);if(o){var l=DC(o),c=l[0];c&&Zm(c)&&W$(r,c,t)}}},[e,t,r])}var wve=["width","height"],Y3=40;function kve(e){var t=e.children;return k.createElement(Bxe,null,k.createElement(jve,null,t))}function jve(e){var t,r=e.children,a=M0(),n=a[0],s=_1e(),o=Zw(),l=rp(),c=T1e(),d=I1e();dve(),bve();var f=d||{},u=f.width,m=f.height,h=s$(f,wve);return k.createElement("aside",{className:wr(sg.main,sg.baseVariables,s===Ex.DARK&&sg.darkTheme,s===Ex.AUTO&&sg.autoThemeDark,(t={},t[Mr.searchActive]=o,t),n&&sg.reactionsMenu,c),ref:l,style:Wa({},h,!n&&{height:m,width:u})},r)}var oI={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)","--epr-skin-tone-outer-border-color":"var(--epr-dark-skin-tone-outer-border-color)","--epr-skin-tone-inner-border-color":"var(--epr-dark-skin-tone-inner-border-color)"},sg=Ja.create({main:{".":["epr-main",Mr.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"height 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#e5f0fa","--epr-hover-bg-color-reduced-opacity":"#e5f0fa80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-skin-tone-outer-border-color":"#555555","--epr-skin-tone-inner-border-color":"var(--epr-bg-color)","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-search-border-color":"var(--epr-highlight-color)","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":Y3+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295","--epr-dark-skin-tone-outer-border-color":"var(--epr-dark-picker-border-color)","--epr-dark-skin-tone-inner-border-color":"#00000000"}},autoThemeDark:{".":Mr.autoTheme,"@media (prefers-color-scheme: dark)":{"--":oI}},darkTheme:{".":Mr.darkTheme,"--":oI},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function H$(e,t){if(!e||!t)return 0;var r=e.getBoundingClientRect().width,a=t.getBoundingClientRect().width;return Math.floor(r/a)}function Nve(e,t,r){if(!e||!t.length)return null;var a=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom,s=a+V$(e),o=t.find(function(l){var c=l.getBoundingClientRect().top,d=l.getBoundingClientRect().bottom,f=l.clientHeight*r,u=c+f,m=d-f;return u<s?!1:u>=a&&u<=n||m>=a&&m<=n});return o||null}function Sve(e){return!!e.nextElementSibling}function V$(e){if(!e)return Y3;var t=e.querySelector($o(Mr.label));if(t){var r=t.getBoundingClientRect().height;if(r>0)return r}return Y3}var Lx="button"+$o(Mr.emoji),Cve=[Lx,$o(Mr.visible),":not("+$o(Mr.hidden)+")"].join("");function Nl(e){var t;return(t=e==null?void 0:e.closest(Lx))!=null?t:null}function DC(e){var t=K$(e),r=OC(e);if(!t)return[];var a=em(r??t);return a?[a,r]:[]}function Ave(e){var t;return!!(e!=null&&e.matches(Lx)||!(e==null||(t=e.parentElement)==null)&&t.matches(Lx))}function lI(e){var t;return(t=e==null?void 0:e.clientHeight)!=null?t:0}function G$(e){if(!e)return 0;var t=Nl(e),r=Rf(t),a=PC(r);return cI(t)+cI(r)+a}function PC(e){var t,r;if(!e)return 0;var a=e.querySelector($o(Mr.categoryContent));return((t=e==null?void 0:e.clientHeight)!=null?t:0)-((r=a==null?void 0:a.clientHeight)!=null?r:0)}function Eve(e){return e?Y$(e)<PC(Rf(e)):!1}function q$(e){return e?e.matches($o(Mr.scrollBody))?e:e.querySelector($o(Mr.scrollBody)):null}function Y$(e){var t,r;return e?G$(e)-((t=(r=J$(e))==null?void 0:r.scrollTop)!=null?t:0):0}function J$(e){var t;return e&&(t=e.closest($o(Mr.scrollBody)))!=null?t:null}function _ve(e){var t=Nl(e),r=Rf(t);return dI(t)+dI(r)}function cI(e){var t;return(t=e==null?void 0:e.offsetTop)!=null?t:0}function dI(e){var t;return(t=e==null?void 0:e.offsetLeft)!=null?t:0}function OC(e){var t;return(t=Mve(Nl(e),"unified"))!=null?t:null}function K$(e){var t=OC(e);return t?EC(t):null}function Q$(e){return e?{unified:OC(e),originalUnified:K$(e)}:{unified:null,originalUnified:null}}function Mve(e,t){var r;return(r=Lve(e)[t])!=null?r:null}function Lve(e){var t;return(t=e==null?void 0:e.dataset)!=null?t:{}}function RC(e){return e.classList.contains(Mr.visible)}function X$(e){return e?e.classList.contains(Mr.hidden):!0}function tm(e){return e?Array.from(e.querySelectorAll(Cve)):[]}function Z$(e){if(!e)return null;var t=tm(e),r=t.slice(-1),a=r[0];return a?RC(a)?a:FC(a):null}function eU(e){var t=e.nextElementSibling;return t?RC(t)?t:eU(t):BC(n4(e))}function FC(e){var t=e.previousElementSibling;return t?RC(t)?t:FC(t):Z$(a4(e))}function BC(e){if(!e)return null;var t=tm(e);return Nve(e,t,.1)}function a4(e){var t=Rf(e);if(!t)return null;var r=t.previousElementSibling;return r?X$(r)?a4(r):r:null}function n4(e){var t=Rf(e);if(!t)return null;var r=t.nextElementSibling;return r?X$(r)?n4(r):r:null}function Rf(e){return e?e.closest($o(Mr.category)):null}function tU(e){return e?e.closest($o(Mr.categoryContent)):null}function rU(e){return e.split("-").map(function(t){return String.fromCodePoint(parseInt(t,16))}).join("")}function Tve(e){return e.category===mr.CUSTOM}function aU(e){return e.imgUrl!==void 0}function nU(e,t){var r=k.useRef(),a=z$(),n=zxe(),s=Xm(),o=s[1],l=L0(),c=CC(),d=c[0],f=A1e(t),u=d$(),m=u[1],h=tp(),g=ep(),p=k.useCallback(function(y){if(!n.current){l();var w=fI(y),j=w[0],E=w[1];if(!(!j||!E)){var A=u1e(E)||d;m(),i1e(j,A),f(Ive(j,A,g,h),y)}}},[d,l,n,f,m,h,g]),x=k.useCallback(function(y){var w;r.current&&clearTimeout(r.current);var j=fI(y),E=j[0];!E||!Zm(E)||(r.current=(w=window)==null?void 0:w.setTimeout(function(){n.current=!0,r.current=void 0,l(),a(y.target),o(E)},500))},[n,l,a,o]),v=k.useCallback(function(){r.current?(clearTimeout(r.current),r.current=void 0):n.current&&requestAnimationFrame(function(){n.current=!1})},[n]);k.useEffect(function(){if(e.current){var b=e.current;return b.addEventListener("click",p,{passive:!0}),b.addEventListener("mousedown",x,{passive:!0}),b.addEventListener("mouseup",v,{passive:!0}),function(){b==null||b.removeEventListener("click",p),b==null||b.removeEventListener("mousedown",x),b==null||b.removeEventListener("mouseup",v)}}},[e,p,x,v])}function fI(e){var t=e==null?void 0:e.target;return Ave(t)?DC(t):[]}function Ive(e,t,r,a){var n=ev(e);if(aU(e)){var s=Xs(e);return{activeSkinTone:t,emoji:s,getImageUrl:function(){return e.imgUrl},imageUrl:e.imgUrl,isCustom:!0,names:n,unified:s,unifiedWithoutSkinTone:s}}var o=Xs(e,t);return{activeSkinTone:t,emoji:rU(o),getImageUrl:function(c){return c===void 0&&(c=r??eo.APPLE),a(o,c)},imageUrl:a(o,r??eo.APPLE),isCustom:!1,names:n,unified:o,unifiedWithoutSkinTone:Xs(e)}}function rv(e){return k.createElement("button",Object.assign({type:"button"},e,{className:wr(Dve.button,e.className)}),e.children)}var Dve=Ja.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function Pve(e){var t,r=e.emojiNames,a=e.unified,n=e.hidden,s=e.hiddenOnSearch,o=e.showVariations,l=o===void 0?!0:o,c=e.hasVariations,d=e.children,f=e.className,u=e.noBackground,m=u===void 0?!1:u,h=e.style;return k.createElement(rv,{className:wr(Kj.emoji,n&&jC.hidden,s&&_0.hiddenOnSearch,(t={},t[Mr.visible]=!n&&!s,t),!!(c&&l)&&Kj.hasVariations,m&&Kj.noBackground,f),"data-unified":a,"aria-label":Ove(r),"data-full-name":r,style:h},d)}function Ove(e){var t;return e[0].match("flag-")&&(t=e[1])!=null?t:e[0]}var Kj=Ja.create({emoji:{".":Mr.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":Mr.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),r2=Ja.create({external:{".":Mr.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function uI(e){var t=e.emojiName,r=e.style,a=e.lazyLoad,n=a===void 0?!1:a,s=e.imgUrl,o=e.onError,l=e.className;return k.createElement("img",{src:s,alt:t,className:wr(Rve.emojiImag,r2.external,r2.common,l),loading:n?"lazy":"eager",onError:o,style:r})}var Rve=Ja.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function Fve(e){var t=e.unified,r=e.style,a=e.className;return k.createElement("span",{className:wr(Bve.nativeEmoji,r2.common,r2.external,a),"data-unified":t,style:r},rU(t))}var Bve=Ja.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function J3(e){var t=e.emoji,r=e.unified,a=e.emojiStyle,n=e.size,s=e.lazyLoad,o=e.getEmojiUrl,l=o===void 0?g$:o,c=e.className,d=c$(),f=d[1],u={};n&&(u.width=u.height=u.fontSize=n+"px");var m=t||em(r);if(!m)return null;if(aU(m))return k.createElement(uI,{style:u,emojiName:r,emojiStyle:eo.NATIVE,lazyLoad:s,imgUrl:m.imgUrl,onError:h,className:c});return k.createElement(k.Fragment,null,a===eo.NATIVE?k.createElement(Fve,{unified:r,style:u,className:c}):k.createElement(uI,{style:u,emojiName:G3(m),emojiStyle:a,lazyLoad:s,imgUrl:l(r,a),onError:h,className:c}));function h(){f(function(g){return new Set(g).add(r)})}}function zC(e){var t=e.emoji,r=e.unified,a=e.hidden,n=e.hiddenOnSearch,s=e.emojiStyle,o=e.showVariations,l=o===void 0?!0:o,c=e.size,d=e.lazyLoad,f=e.getEmojiUrl,u=e.className,m=e.noBackground,h=m===void 0?!1:m,g=e.style,p=Zm(t);return k.createElement(Pve,{hasVariations:p,showVariations:l,hidden:a,hiddenOnSearch:n,emojiNames:ev(t),unified:r,noBackground:h,style:g},k.createElement(J3,{unified:r,emoji:t,size:c,emojiStyle:s,lazyLoad:d,getEmojiUrl:f,className:u}))}var zve="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=";function $ve(){var e=M0(),t=e[1];return k.createElement(rv,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:wr(Uve.plusSign),onClick:function(){return t(!1)}})}var Uve=Ja.create(Wa({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url("+zve+")",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},Nf("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function Wve(){var e=M0(),t=e[0],r=z1e(),a=R1e();nU(r,_x.REACTIONS);var n=ep(),s=k$(),o=tp();return t?k.createElement("ul",{className:wr(hI.list,!t&&jC.hidden),ref:r},a.map(function(l){return k.createElement("li",{key:l},k.createElement(zC,{emoji:em(l),emojiStyle:n,unified:l,showVariations:!1,className:wr(hI.emojiButton),noBackground:!0,getEmojiUrl:o}))}),s?k.createElement("li",null,k.createElement($ve,null)):null):null}var hI=Ja.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function Hve(e){var t=L0(),r=k.useState(0),a=r[0],n=r[1];return k.useEffect(function(){var s=e.current;if(!s)return;s.addEventListener("scroll",o,{passive:!0});function o(){var l;n((l=s==null?void 0:s.scrollTop)!=null?l:0),t()}return function(){s==null||s.removeEventListener("scroll",o)}},[e,t]),a}function Vve(e){var t=e.scrollTop,r=e.clientHeight,a=e.topOffset,n=e.style,s=e.dimensions;if(!n||!s)return!1;var o=a+n.top,l=o+s.emojiSize,c=l+s.emojiSize*2>=t&&o<=t+r+s.emojiSize;return!c}function Gve(e,t){return e?{top:Math.floor(t/e.emojisPerRow)*e.emojiSize,left:t%e.emojisPerRow*e.emojiSize}:void 0}var qve=32;function Yve(e){var t=T$(),r=M0(),a=r[0],n=rp(),s=k.useRef(),o=k.useState(),l=o[0],c=o[1],d=k.useCallback(function(){var f,u=t.current;if(u){var m=u.querySelector(Lx),h=m==null?void 0:m.clientHeight,g=(f=h??s.current)!=null?f:qve;s.current=g;var p=u.clientWidth;if(!(p===0||g===0)){var x=Math.max(1,Math.floor(p/g)),v=Math.ceil(e/x),b=v*g;c({categoryHeight:b,emojisPerRow:x,emojiSize:g})}}},[t,e]);return k.useEffect(function(){d()},[e,a,d]),k.useEffect(function(){var f=n.current;if(f){var u=function(h){var g=h,p=g.propertyName;(p==="width"||p==="max-width"||p==="min-width"||p==="height"||p==="max-height"||p==="min-height")&&(typeof queueMicrotask=="function"?queueMicrotask(function(){return d()}):requestAnimationFrame(function(){return d()}))};return f.addEventListener("transitionend",u,{passive:!0}),function(){f.removeEventListener("transitionend",u)}}},[n,d]),l}function Jve(){var e=c$(),t=e[0],r=ive();return function(a){var n=Xs(a),s=t.has(n),o=r(n);return{failedToLoad:s,filteredOut:o,hidden:s||o}}}function Kve(e){var t=e.categoryEmojis,r=e.topOffset,a=e.onHeightReady,n=e.scrollTop,s=Jve(),o=L1e(),l=ep(),c=CC(),d=c[0],f=Oxe(),u=tp(),m=!j$(),h=lo(),g=0,p=t.filter(function(b){var y=f(b),w=s(b),j=w.failedToLoad,E=w.filteredOut,A=w.hidden;return!j&&!E&&!A&&!y}),x=Yve(p.length);k.useEffect(function(){x&&a(x.categoryHeight)},[x,a,p.length]);var v=p.reduce(function(b,y,w){var j,E,A=Xs(y,d),C=Gve(x,w);if(x&&h.current&&Vve({scrollTop:n,clientHeight:(j=(E=h.current)==null?void 0:E.clientHeight)!=null?j:0,topOffset:r,style:C,dimensions:x})){var S,T;return g++,vve(y,l,n,(S=(T=h.current)==null?void 0:T.clientHeight)!=null?S:0,r,C,x,u),b}return b.push(k.createElement(zC,{showVariations:m,key:A,emoji:y,unified:A,emojiStyle:l,lazyLoad:o,getEmojiUrl:u,style:Wa({},C,{position:"absolute"})})),b},[]);return{virtualizedCounter:g,emojis:v,dimensions:x}}function Qve(e){var t=e.categoryConfig,r=e.children,a=e.hidden,n=e.hiddenOnSearch,s=e.height,o=AC(t),l=h$(t);return k.createElement("li",{className:wr(Qj.category,a&&jC.hidden,n&&_0.hiddenOnSearch),"data-name":o,"aria-label":l},k.createElement("h2",{className:wr(Qj.label)},l),k.createElement("div",{className:wr(Qj.categoryContent),style:{height:s}},r))}var Qj=Ja.create({category:{".":Mr.category,position:"relative"},categoryContent:{".":Mr.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":Mr.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}});function Xve(e){var t=e.scrollTop,r=N$(),a=k.useState({}),n=a[0],s=a[1],o=T$(),l=l1e(),c=V$(o.current),d=0;return k.createElement("ul",{className:wr(eye.emojiList),ref:o},r.map(function(f){var u=AC(f),m=d,h=n[u];return h&&(d+=h+c),k.createElement(k.Suspense,{key:u},k.createElement(Zve,{categoryEmojis:l(u),categoryConfig:f,topOffset:m,onHeightReady:function(p){n[u]!==p&&s(function(x){var v;return Wa({},x,(v={},v[u]=p,v))})},scrollTop:t}))}))}function Zve(e){var t=e.categoryEmojis,r=e.categoryConfig,a=e.topOffset,n=e.onHeightReady,s=e.scrollTop,o=Kve({categoryEmojis:t,topOffset:a,onHeightReady:n,scrollTop:s}),l=o.virtualizedCounter,c=o.emojis,d=o.dimensions;return k.createElement(Qve,{categoryConfig:r,height:d==null?void 0:d.categoryHeight,hidden:!c.length&&l===0},c)}var eye=Ja.create({emojiList:{".":Mr.emojiList,listStyle:"none",margin:"0",padding:"0"}}),tye="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=",Bh;(function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"})(Bh||(Bh={}));function rye(){var e=e4(),t=$1e(),r=Xm(),a=r[0],n=ep(),s=nye(t),o=s.getTop,l=s.getMenuDirection,c=I$(),d=aye(t),f=tp(),u=Nl(e.current),m=!!(a&&u&&Zm(a)&&u.classList.contains(Mr.emojiHasVariations));k.useEffect(function(){m&&r4(t.current)},[t,m,e]);var h,g;return!m&&e.current?c(null):(h=o(),g=d()),k.createElement("div",{ref:t,className:wr(jy.variationPicker,l()===Bh.Down&&jy.pointingUp,m&&jy.visible),style:{top:h}},m&&a?[Xs(a)].concat(tv(a)).slice(0,6).map(function(p){return k.createElement(zC,{key:p,emoji:a,unified:p,emojiStyle:n,showVariations:!1,getEmojiUrl:f})}):null,k.createElement("div",{className:wr(jy.pointer),style:g}))}function aye(e){var t=e4();return function(){var a={};if(!e.current)return a;if(t.current){var n=Nl(t.current),s=_ve(n);if(!n)return a;a.left=s+(n==null?void 0:n.clientWidth)/2}return a}}function nye(e){var t=e4(),r=lo(),a=Bh.Up;return{getMenuDirection:n,getTop:s};function n(){return a}function s(){a=Bh.Up;var o=0;if(!e.current)return 0;var l=lI(e.current);if(t.current){var c,d=r.current,f=Nl(t.current),u=lI(f);o=G$(f);var m=(c=d==null?void 0:d.scrollTop)!=null?c:0;m>o-l&&(a=Bh.Down,o+=u+l)}return o-l}}var jy=Ja.create(Wa({variationPicker:{".":Mr.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url("+tye+")"}},Nf("pointer",{backgroundPosition:"-25px 0"})));function sye(){var e=lo(),t=Hve(e);return nU(e,_x.PICKER),Z1e(),k.createElement("div",{className:wr(iye.body,_0.hiddenOnReactions),ref:e},k.createElement(rye,null),k.createElement(Xve,{scrollTop:t}))}var iye=Ja.create({body:{".":Mr.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function oye(e,t){if(!e||!t)return 0;var r=e.getBoundingClientRect(),a=t.getBoundingClientRect();return a.height-(r.y-a.y)}function lye(e,t){var r=lo(),a=R$(),n=O$();k.useEffect(function(){if(!e)return;var s=r.current;s==null||s.addEventListener("keydown",c,{passive:!0}),s==null||s.addEventListener("mouseover",d,!0),s==null||s.addEventListener("focus",o,!0),s==null||s.addEventListener("mouseout",l,{passive:!0}),s==null||s.addEventListener("blur",l,!0);function o(f){var u=Nl(f.target);if(!u)return l();var m=Q$(u),h=m.unified,g=m.originalUnified;if(!h||!g)return l();t({unified:h,originalUnified:g})}function l(f){if(f){var u=f.relatedTarget;if(!Nl(u))return t(null)}t(null)}function c(f){f.key==="Escape"&&t(null)}function d(f){if(!a()){var u=Nl(f.target);if(u){var m=oye(u,s),h=u.getBoundingClientRect().height;if(m<h)return cye(u,t);oo(u)}}}return function(){s==null||s.removeEventListener("mouseover",d),s==null||s.removeEventListener("mouseout",l),s==null||s.removeEventListener("focus",o,!0),s==null||s.removeEventListener("blur",l,!0),s==null||s.removeEventListener("keydown",c)}},[r,e,t,a,n])}function cye(e,t){var r,a=Q$(e),n=a.unified,s=a.originalUnified;!n||!s||((r=document.activeElement)==null||r.blur==null||r.blur(),t({unified:n,originalUnified:s}))}var Ny,Tx;(function(e){e.ROW="FlexRow",e.COLUMN="FlexColumn"})(Tx||(Tx={}));function sU(e){var t=e.children,r=e.className,a=e.style,n=a===void 0?{}:a,s=e.direction,o=s===void 0?Tx.ROW:s;return k.createElement("div",{style:Wa({},n),className:wr(mI.flex,r,mI[o])},t)}var mI=Ja.create((Ny={flex:{display:"flex"}},Ny[Tx.ROW]={flexDirection:"row"},Ny[Tx.COLUMN]={flexDirection:"column"},Ny));function dye(e){var t=e.className,r=e.style,a=r===void 0?{}:r;return k.createElement("div",{style:Wa({flex:1},a),className:wr(t)})}function fye(e){var t=e.children,r=e.className,a=e.style;return k.createElement("div",{style:Wa({},a,{position:"absolute"}),className:r},t)}function s4(e){var t=e.children,r=e.className,a=e.style;return k.createElement("div",{style:Wa({},a,{position:"relative"}),className:r},t)}function uye(e){var t=e.isOpen,r=e.onClick,a=e.isActive,n=e.skinToneVariation,s=e.style;return k.createElement(rv,{style:s,onClick:r,className:wr("epr-tone-"+n,Xj.tone,!t&&Xj.closedTone,a&&Xj.active),"aria-pressed":a,"aria-label":"Skin tone "+n1e[n]})}var Xj=Ja.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",border:"1px solid var(--epr-skin-tone-outer-border-color)",boxShadow:"inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color), inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}}),Ag=28;function hye(){return k.createElement(s4,{style:{height:Ag}},k.createElement(fye,{style:{bottom:0,right:0}},k.createElement(iU,{direction:Ix.VERTICAL})))}function iU(e){var t=e.direction,r=t===void 0?Ix.HORIZONTAL:t,a=_C(),n=j$(),s=Z1(),o=s[0],l=s[1],c=CC(),d=c[0],f=c[1],u=E1e(),m=L0(),h=T0();if(n)return null;var g=Ag*e2.length+"px",p=o?g:Ag+"px",x=r===Ix.VERTICAL;return k.createElement(s4,{className:wr(ig.skinTones,x&&ig.vertical,o&&ig.open,x&&o&&ig.verticalShadow),style:x?{flexBasis:p,height:p}:{flexBasis:p}},k.createElement("div",{className:wr(ig.select),ref:a},e2.map(function(v,b){var y=v===d;return k.createElement(uye,{key:v,skinToneVariation:v,isOpen:o,style:{transform:wr(x?"translateY(-"+b*(o?Ag:0)+"px)":"translateX(-"+b*(o?Ag:0)+"px)",o&&y&&"scale(1.3)")},isActive:y,onClick:function(){o?(f(v),u(v),h()):l(!0),m()}})})))}var Ix;(function(e){e.VERTICAL="epr-vertical",e.HORIZONTAL="epr-horizontal"})(Ix||(Ix={}));var ig=Ja.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active":{border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)"}});function mye(){var e=S$(),t=$$(),r=M0(),a=r[0];return e.showPreview?k.createElement(sU,{className:wr(Yg.preview,_0.hiddenOnReactions,a&&Yg.hideOnReactions)},k.createElement(pye,null),k.createElement(dye,null),t?k.createElement(hye,null):null):null}function pye(){var e,t=S$(),r=k.useState(null),a=r[0],n=r[1],s=ep(),o=Xm(),l=o[0],c=tp();lye(t.showPreview,n);var d=em((e=a==null?void 0:a.unified)!=null?e:a==null?void 0:a.originalUnified),f=d!=null&&a!=null;return k.createElement(u,null);function u(){var m=l??em(t.defaultEmoji);if(!m)return null;var h=l?G3(l):t.defaultCaption;return k.createElement(k.Fragment,null,k.createElement("div",null,f?k.createElement(J3,{unified:a==null?void 0:a.unified,emoji:d,emojiStyle:s,size:45,getEmojiUrl:c,className:wr(Yg.emoji)}):m?k.createElement(J3,{unified:Xs(m),emoji:m,emojiStyle:s,size:45,getEmojiUrl:c,className:wr(Yg.emoji)}):null),k.createElement("div",{className:wr(Yg.label)},f?G3(d):h))}}var Yg=Ja.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"},hideOnReactions:{opacity:"0",transition:"opacity 0.5s ease-in-out"}});function gye(e){var t;return(t=e==null?void 0:e.getAttribute("data-name"))!=null?t:null}function xye(e){var t=lo();k.useEffect(function(){var r=new Map,a=t.current,n=new IntersectionObserver(function(s){if(a){for(var o=Txe(s),l;!(l=o()).done;){var c=l.value,d=gye(c.target);r.set(d,c.intersectionRatio)}var f=Array.from(r),u=f[f.length-1];if(u[1]==1)return e(u[0]);for(var m=0,h=f;m<h.length;m++){var g=h[m],p=g[0],x=g[1];if(x){e(p);break}}}},{threshold:[0,1]});a==null||a.querySelectorAll($o(Mr.category)).forEach(function(s){n.observe(s)})},[t,e])}function vye(){var e=lo(),t=rp();return function(a){var n;if(e.current){var s=(n=e.current)==null?void 0:n.querySelector('[data-name="'+a+'"]');if(s){var o=s.offsetTop||0;D$(t.current,o)}}}}function yye(){var e=S1e();return e?e.length===0:!1}var bye="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+";function wye(e){var t,r=e.isActiveCategory,a=e.category,n=e.allowNavigation,s=e.categoryConfig,o=e.onClick;return k.createElement(rv,{tabIndex:n?0:-1,className:wr(jye.catBtn,_0.categoryBtn,"epr-icn-"+a,(t={},t[Mr.active]=r,t)),onClick:o,"aria-label":h$(s),"aria-selected":r,role:"tab","aria-controls":"epr-category-nav-id"})}var pI={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},kye={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},gI={":not(.epr-search-active)":{catBtn:{":hover":pI,"&.epr-active":pI}}},jye=Ja.create(Wa({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url("+bye+")",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},Nf("catBtn",kye),{".epr-dark-theme":Wa({},gI),".epr-auto-theme":Wa({},gI)}));function Nye(){var e=k.useState(null),t=e[0],r=e[1],a=vye();xye(r);var n=Zw(),s=N$(),o=MC(),l=yye();return k.createElement("div",{className:wr(Sye.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:o},s.map(function(c){var d=AC(c),f=d===t;if(Tve(c)&&l)return null;var u=!n&&!f;return k.createElement(wye,{key:d,category:d,isActiveCategory:f,allowNavigation:u,categoryConfig:c,onClick:function(){a(d),setTimeout(function(){r(d)},10)}})}))}var Sye=Ja.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),oU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function Cye(){var e=B$();return k.createElement(rv,{className:wr(xI.btnClearSearch,_0.visibleOnSearchOnly),onClick:e,"aria-label":"Clear",title:"Clear"},k.createElement("div",{className:wr(xI.icnClearnSearch)}))}var Aye={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},xI=Ja.create(Wa({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+oU+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},Nf("icnClearnSearch",{backgroundPositionY:"-40px"}),Nf("btnClearSearch",Aye))),Eye="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+";function _ye(){return k.createElement("div",{className:wr(Mye.icnSearch)})}var Mye=Ja.create(Wa({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url("+Eye+")"}},Nf("icnSearch",{backgroundPositionY:"-20px"})));function Lye(){var e=C$(),t=TC();return e?null:k.createElement(sU,{className:wr(pb.overlay)},k.createElement(Tye,null),t?k.createElement(iU,null):null)}function Tye(){var e=L0(),t=Of(),r=k1e(),a=N1e(),n=ave(),s=n.statusSearchResults,o=n.searchTerm,l=n.onChange,c=t==null?void 0:t.current,d=c==null?void 0:c.value;return k.createElement(s4,{className:wr(pb.searchContainer)},k.createElement("input",{autoFocus:a,"aria-label":"Type to search for an emoji",onFocus:e,className:wr(pb.search),type:"text","aria-controls":"epr-search-id",placeholder:r,onChange:function(u){var m,h;l((m=u==null||(h=u.target)==null?void 0:h.value)!=null?m:d)},ref:t}),o?k.createElement("div",{role:"status",className:wr("epr-status-search-results",pb.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},s):null,k.createElement(_ye,null),k.createElement(Cye,null))}var pb=Ja.create(Wa({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-input-bg-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+oU+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},Nf("icnClearnSearch",{backgroundPositionY:"-40px"}),Nf("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function Iye(){return k.createElement(s4,{className:wr("epr-header",_0.hiddenOnReactions)},k.createElement(Lye,null),k.createElement(Nye,null))}function Dye(e){return k.createElement(B1e,null,k.createElement(Ixe,null),k.createElement(y1e,Object.assign({},e),k.createElement(Pye,null)))}function Pye(){var e=M0(),t=e[0],r=k$(),a=k.useState(!t),n=a[0],s=a[1],o=C1e();return k.useEffect(function(){t&&!r||n||s(!0)},[n,r,t]),o?k.createElement(kve,null,k.createElement(Wve,null),k.createElement(Oye,{renderAll:n})):null}function Oye(e){var t=e.renderAll;return t?k.createElement(k.Fragment,null,k.createElement(Iye,null),k.createElement(sye,null),k.createElement(mye,null)):null}var Rye=k.memo(Dye,i$),Fye=function(e){Mxe(t,e);function t(a){var n;return n=e.call(this,a)||this,n.state={hasError:!1},n}t.getDerivedStateFromError=function(){return{hasError:!0}};var r=t.prototype;return r.componentDidCatch=function(n,s){console.error("Emoji Picker React failed to render:",n,s)},r.render=function(){return this.state.hasError?null:this.props.children},t}(k.Component);function Bye(e){var t=w1e({onEmojiClick:e.onEmojiClick,onReactionClick:e.onReactionClick,onSkinToneChange:e.onSkinToneChange});return k.createElement(Fye,null,k.createElement(b$.Provider,{value:t},k.createElement(Rye,Object.assign({},e))))}const zye=({selectedChannel:e,onChannelSelect:t})=>{const[r,a]=k.useState([]),[n,s]=k.useState(!0),[o,l]=k.useState(!1);k.useEffect(()=>{c()},[]);const c=async()=>{try{l(!0);const u=await _r.getChannels();a(u)}catch(u){console.error("Erro ao carregar canais:",u)}finally{l(!1)}},d=u=>u.replace(/^session_/,"").replace(/_/g," ").split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" "),f=u=>{switch(u==null?void 0:u.toUpperCase()){case"WORKING":return i.jsx("span",{title:"Conectado",children:i.jsx(ba,{className:"h-3 w-3 text-green-500"})});case"STARTING":return i.jsx("span",{title:"Iniciando",children:i.jsx(ka,{className:"h-3 w-3 text-yellow-500"})});case"FAILED":case"STOPPED":return i.jsx("span",{title:"Desconectado",children:i.jsx(xc,{className:"h-3 w-3 text-red-500"})});default:return i.jsx("span",{title:"Desconhecido",children:i.jsx(ka,{className:"h-3 w-3 text-gray-400"})})}};return i.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("button",{onClick:()=>s(!n),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[n?i.jsx(b0,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}):i.jsx(Sh,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),i.jsx(r3,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Canais"})]}),r.length>0&&i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.length})]}),n&&i.jsxs("div",{className:"pb-2",children:[i.jsx("button",{onClick:()=>t(null),className:`w-full px-8 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${e===null?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 font-medium":"text-gray-700 dark:text-gray-300"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Todos os canais"}),e===null&&i.jsx("div",{className:"w-2 h-2 bg-indigo-600 dark:bg-indigo-400 rounded-full"})]})}),o?i.jsx("div",{className:"px-8 py-4 text-xs text-gray-500 dark:text-gray-400",children:"Carregando..."}):r.length===0?i.jsx("div",{className:"px-8 py-4 text-xs text-gray-500 dark:text-gray-400",children:"Nenhum canal disponível"}):r.map(u=>i.jsxs("button",{onClick:()=>t(u.sessionName),className:`w-full px-8 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${e===u.sessionName?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 font-medium":"text-gray-700 dark:text-gray-300"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[f(u.status),i.jsx("span",{className:"truncate",children:u.friendlyName||d(u.sessionName)}),u.unreadCount>0&&i.jsx("span",{className:"px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:u.unreadCount})]}),e===u.sessionName&&i.jsx("div",{className:"w-2 h-2 bg-indigo-600 dark:bg-indigo-400 rounded-full"})]}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 flex items-center gap-2",children:[i.jsxs("span",{children:[u.conversationCount," conversas"]}),i.jsx("span",{className:"text-gray-400",children:"•"}),i.jsx("span",{className:"truncate",children:u.phoneNumber})]})]},u.sessionName))]})]})},$ye=({conversationId:e,selectedTags:t,onUpdate:r,onManageTags:a})=>{const[n,s]=k.useState([]),[o,l]=k.useState(!1),[c,d]=k.useState(!1);k.useEffect(()=>{f()},[]);const f=async()=>{try{l(!0);const p=await _r.getTags();s(p)}catch(p){console.error("Erro ao carregar tags:",p)}finally{l(!1)}},u=async p=>{try{await _r.addTag(e,p),Le.success("Tag adicionada"),r==null||r(),d(!1)}catch{Le.error("Erro ao adicionar tag")}},m=async p=>{try{await _r.removeTag(e,p),Le.success("Tag removida"),r==null||r()}catch{Le.error("Erro ao remover tag")}},h=p=>{const x=n.find(v=>v.name===p);return(x==null?void 0:x.color)||"#6b7280"},g=n.filter(p=>!t.includes(p.name));return i.jsxs("div",{className:"space-y-3",children:[t.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(p=>i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full text-white",style:{backgroundColor:h(p)},children:[p,i.jsx("button",{onClick:()=>m(p),className:"hover:bg-white hover:bg-opacity-20 rounded-full p-0.5",children:i.jsx(br,{className:"h-3 w-3"})})]},p))}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded-lg transition-colors",children:[i.jsx(ja,{className:"h-4 w-4"}),"Adicionar Tag"]}),c&&i.jsx("div",{className:"absolute z-10 mt-2 w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:o?i.jsx("div",{className:"p-3 text-sm text-gray-500 dark:text-gray-400",children:"Carregando..."}):g.length===0?i.jsxs("div",{className:"p-3",children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Todas as tags foram adicionadas"}),a&&i.jsx("button",{onClick:()=>{d(!1),a()},className:"w-full text-sm text-indigo-600 dark:text-indigo-400 hover:underline",children:"Gerenciar Tags"})]}):i.jsxs(i.Fragment,{children:[g.map(p=>i.jsxs("button",{onClick:()=>u(p.name),className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:p.color}}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:p.name}),p.description&&i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate ml-auto",children:p.description})]},p.id)),a&&i.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600",children:i.jsxs("button",{onClick:()=>{d(!1),a()},className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm text-indigo-600 dark:text-indigo-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:[i.jsx(D7,{className:"h-4 w-4"}),"Gerenciar Tags"]})})]})})]})]})},Zj=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899","#6b7280"],Uye=({onClose:e})=>{const[t,r]=k.useState([]),[a,n]=k.useState(!1),[s,o]=k.useState(null),[l,c]=k.useState(""),[d,f]=k.useState(Zj[0]),[u,m]=k.useState("");k.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const v=await _r.getTags();r(v)}catch{Le.error("Erro ao carregar tags")}finally{n(!1)}},g=async()=>{if(!l.trim()){Le.error("Digite um nome para a tag");return}try{const v=await _r.createTag({name:l.trim(),color:d,description:u.trim()||void 0});r([...t,v]),c(""),m(""),f(Zj[0]),Le.success("Tag criada")}catch{Le.error("Erro ao criar tag")}},p=async(v,b)=>{try{const y=await _r.updateTag(v,b);r(t.map(w=>w.id===v?y:w)),o(null),Le.success("Tag atualizada")}catch{Le.error("Erro ao atualizar tag")}},x=async v=>{if(confirm("Deseja realmente excluir esta tag?"))try{await _r.deleteTag(v),r(t.filter(b=>b.id!==v)),Le.success("Tag excluída")}catch{Le.error("Erro ao excluir tag")}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Gerenciar Tags"}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:i.jsx(br,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[i.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Nova Tag"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Nome"}),i.jsx("input",{type:"text",value:l,onChange:v=>c(v.target.value),placeholder:"Ex: VIP, Urgente, Follow-up",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",onKeyDown:v=>v.key==="Enter"&&g()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Descrição (opcional)"}),i.jsx("input",{type:"text",value:u,onChange:v=>m(v.target.value),placeholder:"Descrição da tag",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 block",children:"Cor"}),i.jsx("div",{className:"flex gap-2",children:Zj.map(v=>i.jsx("button",{onClick:()=>f(v),className:`w-8 h-8 rounded-full border-2 ${d===v?"border-gray-900 dark:border-white scale-110":"border-transparent"} transition-all`,style:{backgroundColor:v}},v))})]}),i.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[i.jsx(ja,{className:"h-4 w-4"}),"Criar Tag"]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:["Tags Existentes (",t.length,")"]}),a?i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Carregando..."}):t.length===0?i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhuma tag criada ainda"}):i.jsx("div",{className:"space-y-2",children:t.map(v=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg",children:[i.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:v.color}}),s===v.id?i.jsx("input",{type:"text",defaultValue:v.name,onBlur:b=>p(v.id,{name:b.target.value}),className:"flex-1 px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded",autoFocus:!0}):i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v.name}),v.description&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:v.description})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[s===v.id?i.jsx("button",{onClick:()=>o(null),className:"p-1.5 hover:bg-green-100 dark:hover:bg-green-900 rounded text-green-600",children:i.jsx(sd,{className:"h-4 w-4"})}):i.jsx("button",{onClick:()=>o(v.id),className:"p-1.5 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600",children:i.jsx(P7,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>x(v.id),className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-600",children:i.jsx(br,{className:"h-4 w-4"})})]})]},v.id))})]})]}),i.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:i.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-lg font-medium transition-colors",children:"Fechar"})})]})})},Wye=({conversationId:e,assignedUserId:t,onUpdate:r})=>{const[a,n]=k.useState([]),[s,o]=k.useState(!1),[l,c]=k.useState(!1),[d,f]=k.useState(null);k.useEffect(()=>{u()},[]),k.useEffect(()=>{if(t&&a.length>0){const g=a.find(p=>p.id===t);f(g||null)}else f(null)},[t,a]);const u=async()=>{try{o(!0);const g=await _w.getUsers();n(g)}catch(g){console.error("Erro ao carregar usuários:",g)}finally{o(!1)}},m=async g=>{try{await _r.assignConversation(e,g);const p=a.find(x=>x.id===g);f(p||null),Le.success(`Conversa atribuída a ${(p==null?void 0:p.name)||"usuário"}`),r==null||r(),c(!1)}catch{Le.error("Erro ao atribuir conversa")}},h=g=>g.split(" ").slice(0,2).map(p=>p[0]).join("").toUpperCase();return i.jsxs("div",{className:"space-y-3",children:[d?i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center",children:d.avatar?i.jsx("img",{src:d.avatar,alt:d.name,className:"w-full h-full rounded-full object-cover"}):i.jsx("span",{className:"text-sm font-semibold text-indigo-700 dark:text-indigo-300",children:h(d.name)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:d.name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:d.email})]}),i.jsx(sd,{className:"h-5 w-5 text-green-500 flex-shrink-0"})]}):i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:i.jsx(aa,{className:"h-5 w-5 text-gray-400"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Não atribuído"})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>c(!l),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded-lg transition-colors",children:[i.jsx(Zy,{className:"h-4 w-4"}),d?"Reatribuir conversa":"Atribuir conversa",i.jsx(b0,{className:"h-4 w-4 ml-auto"})]}),l&&i.jsx("div",{className:"absolute z-10 mt-2 w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:s?i.jsx("div",{className:"p-3 text-sm text-gray-500 dark:text-gray-400",children:"Carregando usuários..."}):a.length===0?i.jsx("div",{className:"p-3 text-sm text-gray-500 dark:text-gray-400",children:"Nenhum usuário disponível"}):i.jsx(i.Fragment,{children:a.map(g=>i.jsxs("button",{onClick:()=>m(g.id),className:`w-full flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors ${(d==null?void 0:d.id)===g.id?"bg-indigo-50 dark:bg-indigo-900/30":""}`,children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center flex-shrink-0",children:g.avatar?i.jsx("img",{src:g.avatar,alt:g.name,className:"w-full h-full rounded-full object-cover"}):i.jsx("span",{className:"text-xs font-semibold text-indigo-700 dark:text-indigo-300",children:h(g.name)})}),i.jsxs("div",{className:"flex-1 text-left min-w-0",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:g.name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:g.email})]}),(d==null?void 0:d.id)===g.id&&i.jsx(sd,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400 flex-shrink-0"})]},g.id))})})]})]})},Hye=({conversation:e,onUpdate:t})=>{var pe;const[r,a]=k.useState([{id:"actions",title:"Ações da conversa",icon:i.jsx(Zs,{className:"h-4 w-4"}),isOpen:!0},{id:"tags",title:"Tags",icon:i.jsx(D7,{className:"h-4 w-4"}),isOpen:!1},{id:"assignment",title:"Atendente",icon:i.jsx(Zy,{className:"h-4 w-4"}),isOpen:!1},{id:"info",title:"Informação da conversa",icon:i.jsx(r3,{className:"h-4 w-4"}),isOpen:!1},{id:"attributes",title:"Atributos do contato",icon:i.jsx(Zy,{className:"h-4 w-4"}),isOpen:!1},{id:"history",title:"Conversas anteriores",icon:i.jsx(ka,{className:"h-4 w-4"}),isOpen:!1},{id:"participants",title:"Participantes da conversa",icon:i.jsx(Ls,{className:"h-4 w-4"}),isOpen:!1}]),[n,s]=k.useState([]),[o,l]=k.useState([]),[c,d]=k.useState(!1),[f,u]=k.useState(!1),[m,h]=k.useState(""),[g,p]=k.useState(""),[x,v]=k.useState("medium"),[b,y]=k.useState(!1),[w,j]=k.useState(!1),[E,A]=k.useState(e.participants||[]),C=((pe=e.metadata)==null?void 0:pe.customAttributes)||{},S=e.priority||"medium";k.useEffect(()=>{v(S)},[S]),k.useEffect(()=>{const F=r.find(Te=>Te.id==="history");F!=null&&F.isOpen&&(_(),M())},[r]),k.useEffect(()=>{A(e.participants||[])},[e.participants]);const T=F=>{a(Te=>Te.map(xe=>xe.id===F?{...xe,isOpen:!xe.isOpen}:xe))},_=async()=>{try{d(!0);const F=await _r.getConversationHistory(e.phoneNumber,10);s(F.filter(Te=>Te.id!==e.id))}catch(F){console.error("Erro ao carregar histórico:",F)}finally{d(!1)}},M=async()=>{try{u(!0);const F=await fetch(`https://api.nexusatemporal.com.br/api/api/chat/conversations/recent/${e.phoneNumber}?hours=6`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(F.ok){const Te=await F.json();l(Te.filter(xe=>xe.id!==e.id))}}catch(F){console.error("Erro ao carregar conversas recentes:",F)}finally{u(!1)}},D=async(F,Te)=>{try{const xe=await fetch(`https://api.nexusatemporal.com.br/api/api/chat/conversations/${e.id}/participants`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({userId:F,userName:Te})});if(xe.ok){const se=await xe.json();A(se.participants||[]),Le.success(`${Te} adicionado como participante`),t==null||t()}}catch(xe){console.error("Erro ao adicionar participante:",xe),Le.error("Erro ao adicionar participante")}},O=async(F,Te)=>{if(confirm(`Remover ${Te} da conversa?`))try{const xe=await fetch(`https://api.nexusatemporal.com.br/api/api/chat/conversations/${e.id}/participants`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({userId:F,userName:Te})});if(xe.ok){const se=await xe.json();A(se.participants||[]),Le.success(`${Te} removido da conversa`),t==null||t()}}catch(xe){console.error("Erro ao remover participante:",xe),Le.error("Erro ao remover participante")}},B=async()=>{try{await _r.archiveConversation(e.id),Le.success("Conversa arquivada"),t==null||t()}catch{Le.error("Erro ao arquivar conversa")}},U=async()=>{try{await _r.unarchiveConversation(e.id),Le.success("Conversa desarquivada"),t==null||t()}catch{Le.error("Erro ao desarquivar conversa")}},q=async()=>{try{await _r.resolveConversation(e.id),Le.success("Conversa resolvida"),t==null||t()}catch{Le.error("Erro ao resolver conversa")}},K=async()=>{try{await _r.reopenConversation(e.id),Le.success("Conversa reaberta"),t==null||t()}catch{Le.error("Erro ao reabrir conversa")}},G=async F=>{try{await _r.setPriority(e.id,F),v(F),Le.success("Prioridade atualizada"),t==null||t()}catch{Le.error("Erro ao atualizar prioridade")}},ve=async()=>{if(!m.trim()||!g.trim()){Le.error("Preencha o nome e valor do atributo");return}try{await _r.setCustomAttribute(e.id,m,g),h(""),p(""),Le.success("Atributo adicionado"),t==null||t()}catch{Le.error("Erro ao adicionar atributo")}},fe=async F=>{try{await _r.removeCustomAttribute(e.id,F),Le.success("Atributo removido"),t==null||t()}catch{Le.error("Erro ao remover atributo")}},I=F=>{switch(F){case"high":return"text-red-700 bg-red-50";case"medium":return"text-orange-700 bg-orange-50";case"low":return"text-gray-700 bg-gray-50";case null:return"text-gray-500 bg-gray-100";default:return"text-blue-700 bg-blue-50"}},z=F=>{switch(F){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";case null:return"Sem prioridade";default:return"Média"}},H=()=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"px-3",children:[i.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 block",children:"Prioridade"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:["low","medium","high",null].map(F=>i.jsxs("button",{onClick:()=>G(F),className:`px-3 py-2 text-xs rounded-lg font-medium transition-colors ${x===F?I(F):"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200"}`,children:[i.jsx(rQ,{className:"h-3 w-3 inline mr-1"}),z(F)]},F))})]}),i.jsxs("div",{className:"space-y-2",children:[e.status==="archived"?i.jsxs("button",{onClick:U,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-colors",children:[i.jsx(aQ,{className:"h-4 w-4"}),"Desarquivar conversa"]}):i.jsxs("button",{onClick:B,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left bg-gray-50 hover:bg-gray-100 text-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-300 rounded-lg transition-colors",children:[i.jsx(nQ,{className:"h-4 w-4"}),"Arquivar conversa"]}),e.status==="closed"?i.jsxs("button",{onClick:K,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left bg-green-50 hover:bg-green-100 text-green-700 rounded-lg transition-colors",children:[i.jsx(rs,{className:"h-4 w-4"}),"Reabrir conversa"]}):i.jsxs("button",{onClick:q,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left bg-green-50 hover:bg-green-100 text-green-700 rounded-lg transition-colors",children:[i.jsx(ba,{className:"h-4 w-4"}),"Resolver conversa"]})]})]}),J=()=>i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-start gap-2 px-3",children:[i.jsx(vs,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Telefone"}),i.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.phoneNumber})]})]}),e.whatsappInstanceId&&i.jsxs("div",{className:"flex items-start gap-2 px-3",children:[i.jsx(r3,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sessão WhatsApp"}),i.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300 break-all text-xs",children:e.whatsappInstanceId})]})]}),i.jsxs("div",{className:"flex items-start gap-2 px-3",children:[i.jsx(ka,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700":e.status==="closed"?"bg-gray-100 text-gray-700":e.status==="archived"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:e.status==="active"?"Ativa":e.status==="closed"?"Fechada":e.status==="archived"?"Arquivada":e.status})]})]}),e.createdAt&&i.jsxs("div",{className:"flex items-start gap-2 px-3",children:[i.jsx(Yr,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Criada em"}),i.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300 text-xs",children:Es(new Date(e.createdAt),"dd 'de' MMMM 'de' yyyy 'às' HH:mm",{locale:_s})})]})]}),e.lastMessageAt&&i.jsxs("div",{className:"flex items-start gap-2 px-3",children:[i.jsx(s6,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Última mensagem"}),i.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300 text-xs",children:Es(new Date(e.lastMessageAt),"dd/MM/yyyy 'às' HH:mm",{locale:_s})})]})]})]}),te=()=>i.jsx("div",{className:"space-y-3 text-sm",children:i.jsxs("div",{className:"px-3",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Campos personalizados"}),Object.keys(C).length>0?i.jsx("div",{className:"space-y-2 mb-3",children:Object.entries(C).map(([F,Te])=>i.jsxs("div",{className:"flex items-start justify-between gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:F}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 break-words",children:String(Te)})]}),i.jsx("button",{onClick:()=>fe(F),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-600",title:"Remover atributo",children:i.jsx(An,{className:"h-3 w-3"})})]},F))}):i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Nenhum atributo adicionado"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"text",placeholder:"Nome do atributo",value:m,onChange:F=>h(F.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"}),i.jsx("input",{type:"text",placeholder:"Valor",value:g,onChange:F=>p(F.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"}),i.jsxs("button",{onClick:ve,className:"w-full flex items-center justify-center gap-1 px-3 py-2 text-xs text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors",children:[i.jsx(ja,{className:"h-3 w-3"}),"Adicionar atributo"]})]})]})}),W=()=>i.jsx("div",{className:"px-3",children:i.jsx($ye,{conversationId:e.id,selectedTags:e.tags||[],onUpdate:t,onManageTags:()=>y(!0)})}),Y=()=>i.jsx("div",{className:"px-3",children:i.jsx(Wye,{conversationId:e.id,assignedUserId:e.assignedUserId,onUpdate:t})}),Q=()=>i.jsxs("div",{className:"space-y-3 px-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Últimas 6 horas"}),f?i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Carregando..."}):o.length>0?i.jsx("div",{className:"space-y-2",children:o.map(F=>i.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:Es(new Date(F.lastMessageAt||F.createdAt),"HH:mm",{locale:_s})}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${F.status==="closed"?"bg-gray-200 text-gray-700":F.status==="archived"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:F.status==="closed"?"Fechada":F.status==="archived"?"Arquivada":"Ativa"})]}),F.lastMessagePreview&&i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:F.lastMessagePreview})]},F.id))}):i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Nenhuma conversa recente"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Histórico completo"}),c?i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Carregando..."}):n.length>0?i.jsx("div",{className:"space-y-2",children:n.map(F=>i.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${F.status==="closed"?"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300":F.status==="archived"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:F.status==="closed"?"Fechada":F.status==="archived"?"Arquivada":"Ativa"}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Es(new Date(F.createdAt),"dd/MM/yyyy")})]}),F.lastMessagePreview&&i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:F.lastMessagePreview})]},F.id))}):i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Nenhuma conversa anterior"})]})]}),ne=()=>i.jsxs("div",{className:"space-y-3 px-3",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Pessoas envolvidas nesta conversa"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-semibold text-indigo-700 dark:text-indigo-300",children:e.contactName.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.contactName}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cliente"})]})]}),e.assignedUserId&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:i.jsx(Zy,{className:"h-4 w-4 text-green-700 dark:text-green-300"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Atendente Principal"}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",e.assignedUserId]})]})]}),E&&E.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Outros Participantes"}),E.map(F=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:i.jsx(Ls,{className:"h-4 w-4 text-blue-700 dark:text-blue-300"})}),i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["ID: ",F]})}),i.jsx("button",{onClick:()=>O(F,`Participante ${F}`),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-600",title:"Remover participante",children:i.jsx(An,{className:"h-3 w-3"})})]},F))]}),i.jsxs("button",{onClick:()=>j(!w),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-xs text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg transition-colors",children:[i.jsx(ja,{className:"h-3 w-3"}),"Adicionar Participante"]}),w&&i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Digite o ID do usuário para adicionar:"}),i.jsx("input",{type:"text",placeholder:"ID do usuário",className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded mb-2",onKeyDown:F=>{if(F.key==="Enter"){const Te=F.target.value;Te&&(D(Te,`Usuário ${Te}`),F.target.value="",j(!1))}}}),i.jsx("p",{className:"text-xs text-gray-400",children:"Pressione Enter para adicionar"})]})]});return i.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col h-full overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-semibold text-indigo-700 dark:text-indigo-300",children:e.contactName.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.contactName}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.phoneNumber})]})]}),e.tags&&e.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:e.tags.map(F=>i.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full",children:F},F))})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:r.map(F=>i.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("button",{onClick:()=>T(F.id),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:F.icon}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:F.title})]}),F.isOpen?i.jsx(b0,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}):i.jsx(Sh,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})]}),F.isOpen&&i.jsxs("div",{className:"pb-4",children:[F.id==="actions"&&H(),F.id==="tags"&&W(),F.id==="assignment"&&Y(),F.id==="info"&&J(),F.id==="attributes"&&te(),F.id==="history"&&Q(),F.id==="participants"&&ne()]})]},F.id))}),b&&i.jsx(Uye,{onClose:()=>y(!1)})]})},vI=["Saudações","Agendamento","Informações","Despedida","Suporte","Financeiro","Outros"],Vye=({onClose:e,onSelect:t})=>{const[r,a]=k.useState([]),[n,s]=k.useState(!1),[o,l]=k.useState(null),[c,d]=k.useState(""),[f,u]=k.useState("all"),[m,h]=k.useState(""),[g,p]=k.useState(""),[x,v]=k.useState(""),[b,y]=k.useState("Outros"),[w,j]=k.useState(!1);k.useEffect(()=>{E()},[]);const E=async()=>{try{s(!0);const D=await _r.getQuickReplies({});a(D)}catch{Le.error("Erro ao carregar respostas rápidas")}finally{s(!1)}},A=async()=>{if(!m.trim()||!g.trim()){Le.error("Título e conteúdo são obrigatórios");return}try{const D=await _r.createQuickReply({title:m.trim(),content:g.trim(),shortcut:x.trim()||void 0,category:b,isGlobal:w});a([...r,D]),h(""),p(""),v(""),y("Outros"),j(!1),Le.success("Resposta rápida criada")}catch{Le.error("Erro ao criar resposta rápida")}},C=async(D,O)=>{try{const B=await _r.updateQuickReply(D,O);a(r.map(U=>U.id===D?B:U)),l(null),Le.success("Resposta rápida atualizada")}catch{Le.error("Erro ao atualizar resposta rápida")}},S=async D=>{if(confirm("Deseja realmente excluir esta resposta rápida?"))try{await _r.deleteQuickReply(D),a(r.filter(O=>O.id!==D)),Le.success("Resposta rápida excluída")}catch{Le.error("Erro ao excluir resposta rápida")}},T=D=>{t&&(t(D),e==null||e())},_=r.filter(D=>{var U;const O=c===""||D.title.toLowerCase().includes(c.toLowerCase())||D.content.toLowerCase().includes(c.toLowerCase())||((U=D.shortcut)==null?void 0:U.toLowerCase().includes(c.toLowerCase())),B=f==="all"||D.category===f;return O&&B}),M=_.reduce((D,O)=>{const B=O.category||"Outros";return D[B]||(D[B]=[]),D[B].push(O),D},{});return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Zs,{className:"h-6 w-6 text-indigo-600"}),"Respostas Rápidas"]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:i.jsx(br,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Nova Resposta Rápida"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Título *"}),i.jsx("input",{type:"text",value:m,onChange:D=>h(D.target.value),placeholder:"Ex: Saudação Inicial",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Atalho"}),i.jsx("input",{type:"text",value:x,onChange:D=>v(D.target.value),placeholder:"Ex: /oi",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsxs("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:["Conteúdo * ",i.jsxs("span",{className:"text-xs text-gray-500",children:["(Suporta variáveis: ","{","nome","}",", ","{","telefone","}",")"]})]}),i.jsx("textarea",{value:g,onChange:D=>p(D.target.value),placeholder:"Olá {nome}, tudo bem? Como posso ajudar?",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Categoria"}),i.jsx("select",{value:b,onChange:D=>y(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",children:vI.map(D=>i.jsx("option",{value:D,children:D},D))})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[i.jsx("input",{type:"checkbox",checked:w,onChange:D=>j(D.target.checked),className:"w-4 h-4 text-indigo-600 rounded focus:ring-2 focus:ring-indigo-500"}),i.jsx("span",{className:"text-xs",children:"Global (todos podem usar)"})]})}),i.jsx("div",{className:"col-span-2",children:i.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[i.jsx(ja,{className:"h-4 w-4"}),"Criar Resposta Rápida"]})})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",value:c,onChange:D=>d(D.target.value),placeholder:"Buscar por título, conteúdo ou atalho...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"})]}),i.jsxs("select",{value:f,onChange:D=>u(D.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",children:[i.jsx("option",{value:"all",children:"Todas categorias"}),vI.map(D=>i.jsx("option",{value:D,children:D},D))]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:["Respostas Existentes (",_.length,")"]}),n?i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Carregando..."}):Object.keys(M).length===0?i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhuma resposta rápida encontrada"}):i.jsx("div",{className:"space-y-4",children:Object.entries(M).map(([D,O])=>i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(sQ,{className:"h-4 w-4 text-indigo-600"}),i.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[D," (",O.length,")"]})]}),i.jsx("div",{className:"space-y-2",children:O.map(B=>i.jsx("div",{className:"p-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:B.title}),B.shortcut&&i.jsx("span",{className:"px-2 py-0.5 text-xs bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 rounded font-mono",children:B.shortcut}),B.isGlobal&&i.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded",children:"Global"})]}),o===B.id?i.jsx("textarea",{defaultValue:B.content,onBlur:U=>C(B.id,{content:U.target.value}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white rounded text-sm",rows:2,autoFocus:!0}):i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:B.content})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[t&&i.jsx("button",{onClick:()=>T(B.content),className:"p-1.5 hover:bg-indigo-100 dark:hover:bg-indigo-900 rounded text-indigo-600",title:"Usar resposta",children:i.jsx(Zs,{className:"h-4 w-4"})}),o===B.id?i.jsx("button",{onClick:()=>l(null),className:"p-1.5 hover:bg-green-100 dark:hover:bg-green-900 rounded text-green-600",children:i.jsx(sd,{className:"h-4 w-4"})}):i.jsx("button",{onClick:()=>l(B.id),className:"p-1.5 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600",children:i.jsx(P7,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>S(B.id),className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-600",children:i.jsx(br,{className:"h-4 w-4"})})]})]})},B.id))})]},D))})]})]}),i.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:i.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-lg font-medium transition-colors",children:"Fechar"})})]})})},Gye=({name:e})=>i.jsx("div",{className:"flex justify-start mb-2",children:i.jsx("div",{className:"max-w-[70%]",children:i.jsx("div",{className:"px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e||"Alguém"," está digitando"]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})})}),qye=()=>{const[e,t]=k.useState([]),[r,a]=k.useState(null),[n,s]=k.useState([]),[o,l]=k.useState(""),[c,d]=k.useState(""),[f,u]=k.useState(""),[m,h]=k.useState(""),[g,p]=k.useState(null),[x,v]=k.useState(!1),[b,y]=k.useState([]),[w,j]=k.useState(!1),[E,A]=k.useState([]),[C,S]=k.useState(!1),[T,_]=k.useState(null),[M,D]=k.useState(!1),[O,B]=k.useState(null),[U,q]=k.useState(null),[K,G]=k.useState(""),[ve,fe]=k.useState(!1),[I,z]=k.useState(null),[H,J]=k.useState(!1),[te,W]=k.useState(""),[Y,Q]=k.useState(!0),ne=k.useRef(null),pe=k.useRef(null);k.useEffect(()=>{const Ee=window.location.origin.includes("localhost")?"http://localhost:3001":"https://api.nexusatemporal.com.br";console.log("🔌 Conectando WebSocket em:",Ee);const Be=ub(Ee,{auth:{token:localStorage.getItem("token")}});return Be.on("connect",()=>{console.log("WebSocket connected");const Pe=localStorage.getItem("userId");Pe&&Be.emit("auth",{userId:Pe,token:localStorage.getItem("token")})}),Be.on("message:new",Pe=>{console.log("New message received:",Pe),r&&Pe.conversationId===r.id&&(s(it=>[...it,Pe]),F()),Te()}),Be.on("conversation:newMessage",Pe=>{console.log("New conversation message:",Pe),Te()}),Be.on("chat:new-message",Pe=>{if(console.log("📱 Nova mensagem WhatsApp recebida via WebSocket:",Pe),Te(),Pe.direction==="outgoing"){console.log("⏭️ Mensagem outgoing ignorada (já adicionada localmente)");return}const it=pe.current;if(it)if(console.log("📋 Conversa selecionada:",{id:it.id,phoneNumber:it.phoneNumber,whatsappInstanceId:it.whatsappInstanceId}),console.log("📨 Mensagem recebida de:",Pe.phoneNumber),it.phoneNumber===Pe.phoneNumber&&it.whatsappInstanceId===Pe.sessionName){console.log("✅ Mensagem pertence à conversa atual - adicionando à lista");const ft={id:Pe.id,conversationId:it.id,content:Pe.content,mediaUrl:Pe.mediaUrl,direction:Pe.direction,type:Pe.messageType||"text",status:"delivered",createdAt:Pe.createdAt};s(st=>[...st,ft]),F()}else console.log("⏭️ Mensagem de outra conversa - exibindo toast"),Le.success(`Nova mensagem de ${Pe.contactName||Pe.phoneNumber}`);else console.log("⏭️ Nenhuma conversa selecionada - exibindo toast"),Le.success(`Nova mensagem de ${Pe.contactName||Pe.phoneNumber}`)}),Be.on("chat:message-deleted",Pe=>{console.log("🗑️ Mensagem deletada no WhatsApp:",Pe),Te();const it=pe.current;it&&it.phoneNumber===Pe.phoneNumber&&it.whatsappInstanceId===Pe.sessionName&&(console.log("✅ Removendo mensagem da conversa atual:",Pe.messageId),s(ft=>ft.filter(st=>st.id!==Pe.messageId)),Le.success("Mensagem deletada no WhatsApp"))}),Be.on("chat:message-status-updated",Pe=>{console.log("✅ Status de mensagem atualizado:",Pe);const it=pe.current;it&&it.id===Pe.conversationId&&(console.log("✅ Atualizando status da mensagem na conversa atual:",{messageId:Pe.messageId,status:Pe.status,ack:Pe.ack}),s(ft=>ft.map(st=>st.id===Pe.messageId?{...st,status:Pe.status}:st)))}),Be.on("typing:start",Pe=>{const it=pe.current;it&&it.id===Pe.conversationId&&(J(!0),W(Pe.userName||"Alguém"))}),Be.on("typing:stop",Pe=>{const it=pe.current;it&&it.id===Pe.conversationId&&(J(!1),W(""))}),_(Be),()=>{Be.off("chat:new-message"),Be.off("chat:message-deleted"),Be.off("chat:message-status-updated"),Be.disconnect()}},[]),k.useEffect(()=>{pe.current=r},[r]),k.useEffect(()=>{if(T&&r)return T.emit("conversation:join",{conversationId:r.id}),()=>{T.emit("conversation:leave",{conversationId:r.id})}},[T,r]),k.useEffect(()=>{Te()},[c,f,m]),k.useEffect(()=>{r&&(xe(r.id),We(r.id))},[r]),k.useEffect(()=>{se()},[]),k.useEffect(()=>{F()},[n]);const F=()=>{var Ee;(Ee=ne.current)==null||Ee.scrollIntoView({behavior:"smooth"})},Te=async()=>{try{const Ee=await _r.getConversations({search:c,status:f});let Be=[];try{const st=await _r.getWhatsAppConversations();Be=(Array.isArray(st)?st:[]).map(At=>({id:`whatsapp-${At.sessionName}-${At.phoneNumber}`,contactName:At.contactName||At.phoneNumber,phoneNumber:At.phoneNumber,whatsappInstanceId:At.sessionName,chatType:At.chatType||"individual",status:"active",isUnread:(At.unreadCount||0)>0,unreadCount:At.unreadCount||0,lastMessageAt:At.lastMessageAt,lastMessagePreview:At.lastMessage,createdAt:At.lastMessageAt||new Date().toISOString(),updatedAt:At.lastMessageAt||new Date().toISOString()}))}catch(st){console.log("WhatsApp conversations not available:",st)}const Pe=[...Ee,...Be],it=new Map;Pe.forEach(st=>{const pt=`${st.phoneNumber}-${st.whatsappInstanceId||"default"}`;if(!it.has(pt))it.set(pt,st);else{const At=it.get(pt),St=At.lastMessageAt?new Date(At.lastMessageAt).getTime():0;(st.lastMessageAt?new Date(st.lastMessageAt).getTime():0)>St&&it.set(pt,st)}});const ft=Array.from(it.values()).sort((st,pt)=>{const At=st.lastMessageAt?new Date(st.lastMessageAt).getTime():0;return(pt.lastMessageAt?new Date(pt.lastMessageAt).getTime():0)-At});t(ft)}catch(Ee){console.error("Error loading conversations:",Ee),Le.error("Erro ao carregar conversas")}},xe=async Ee=>{try{if(console.log("🚀 INICIANDO loadMessages para:",Ee),S(!0),Ee.startsWith("whatsapp-")){if(console.log("✅ É conversa WhatsApp - buscando mensagens..."),!r)return;const Be=r.whatsappInstanceId,Pe=r.phoneNumber;console.log("🔍 Buscando mensagens:",{sessionName:Be,phoneNumber:Pe});const it=await _r.getWhatsAppMessages(Be,Pe),ft=Array.isArray(it)?it:[];console.log("📨 Total de mensagens recebidas:",ft.length);const st=ft.map(pt=>(console.log("🔍 Processando mensagem:",{id:pt.id,type:pt.messageType,hasMediaUrl:!!pt.mediaUrl,mediaUrl:pt.mediaUrl,isBase64:pt.mediaUrl?pt.mediaUrl.startsWith("data:"):!1}),{id:pt.id,conversationId:Ee,direction:pt.direction,type:pt.messageType||"text",content:pt.content,mediaUrl:pt.mediaUrl,status:pt.status||"delivered",createdAt:pt.createdAt}));s(st)}else{const Be=await _r.getMessages(Ee);s(Be)}}catch(Be){console.error("Error loading messages:",Be),Le.error("Erro ao carregar mensagens")}finally{S(!1)}},se=async()=>{try{const Ee=await _r.getQuickReplies();y(Ee)}catch(Ee){console.error("Error loading quick replies:",Ee)}},We=async Ee=>{try{if(Ee.startsWith("whatsapp-")){if(!r)return;const Be=r.whatsappInstanceId,Pe=r.phoneNumber;console.log("✅ Marcando como lido:",{sessionName:Be,phoneNumber:Pe}),await _r.markWhatsAppAsRead(Be,Pe)}else await _r.markAsRead(Ee);Te()}catch(Be){console.error("Error marking as read:",Be)}},Se=async()=>{if(console.log("🚀 FUNÇÃO sendMessage CHAMADA!",{messageInput:o,hasConversation:!!r}),!o.trim()||!r){console.log("❌ BLOQUEADO - Mensagem vazia ou sem conversa");return}try{let Ee;if(console.log("🔍 DEBUG - Conversa selecionada:",{id:r.id,phoneNumber:r.phoneNumber,whatsappInstanceId:r.whatsappInstanceId,startsWithWhatsapp:r.id.startsWith("whatsapp-")}),(r.whatsappInstanceId||r.id.startsWith("whatsapp-")||r.phoneNumber&&r.phoneNumber.startsWith("55"))&&r.phoneNumber){console.log("📤 Enviando mensagem WhatsApp:",{session:r.whatsappInstanceId,phone:r.phoneNumber,content:o});const Pe=r.whatsappInstanceId||"session_01k77wpm5edhch4b97qbgenk7p";Ee=await _r.sendWhatsAppMessage(Pe,r.phoneNumber,o)}else console.log("📧 Enviando mensagem normal (não WhatsApp)"),Ee=await _r.sendMessage(r.id,{type:"text",content:o});s(Pe=>[...Pe,Ee]),l(""),F(),T&&T.emit("typing:stop",{conversationId:r.id,userId:localStorage.getItem("userId")}),Le.success("Mensagem enviada")}catch(Ee){console.error("Error sending message:",Ee),Le.error("Erro ao enviar mensagem")}},Fe=()=>{T&&r&&T.emit("typing:start",{conversationId:r.id,userId:localStorage.getItem("userId"),userName:"Você"})},he=Ee=>{Ee.key==="Enter"&&!Ee.shiftKey&&(Ee.preventDefault(),O?ze():Se())},ie=Ee=>{l(Ee.content),v(!1)},de=async Ee=>{if(confirm("Deseja realmente excluir esta mensagem?"))try{await _r.deleteWhatsAppMessage(Ee),s(Be=>Be.filter(Pe=>Pe.id!==Ee)),Le.success("Mensagem excluída com sucesso"),Te()}catch(Be){console.error("Error deleting message:",Be),Le.error("Erro ao excluir mensagem")}},Ae=async(Ee,Be)=>{B(Ee),q(Be||null)},ze=async()=>{if(!(!O||!r))try{const Ee=await _r.fileToBase64(O);let Be="document";O.type.startsWith("image/")?Be="image":O.type.startsWith("video/")?Be="video":O.type.startsWith("audio/")&&(Be="audio");const Pe=r.whatsappInstanceId||"session_01k77wpm5edhch4b97qbgenk7p",it=await _r.sendWhatsAppMedia(Pe,r.phoneNumber,Ee,Be,K||void 0,I==null?void 0:I.id);s(ft=>[...ft,it]),B(null),q(null),G(""),z(null),Le.success("Mídia enviada")}catch(Ee){console.error("Erro ao enviar mídia:",Ee),Le.error("Erro ao enviar mídia")}},Ce=async Ee=>{if(r)try{const Be=await new Promise(ft=>{const st=new FileReader;st.onload=()=>ft(st.result),st.readAsDataURL(Ee)}),Pe=r.whatsappInstanceId||"session_01k77wpm5edhch4b97qbgenk7p",it=await _r.sendWhatsAppMedia(Pe,r.phoneNumber,Be,"audio",void 0,I==null?void 0:I.id);s(ft=>[...ft,it]),z(null),Le.success("Áudio enviado")}catch(Be){console.error("Erro ao enviar áudio:",Be),Le.error("Erro ao enviar áudio")}},_e=Ee=>{l(Be=>Be+Ee.emoji),fe(!1)},Ve=Ee=>{const Be=n.find(Pe=>Pe.id===Ee);Be&&z(Be)},Ie=Ee=>Ee?fZ(new Date(Ee),{addSuffix:!0,locale:_s}):"",Re=e.filter(Ee=>!(c&&!Ee.contactName.toLowerCase().includes(c.toLowerCase())||f&&Ee.status!==f||m&&Ee.chatType!==m||g&&Ee.whatsappInstanceId!==g));return i.jsxs(i.Fragment,{children:[M&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between sticky top-0 bg-white dark:bg-gray-800",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Conectar WhatsApp"}),i.jsx("button",{onClick:()=>D(!1),className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg",children:i.jsx(br,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"p-6",children:i.jsx(pxe,{socket:T,onConnectionSuccess:()=>{D(!1),Te()},onClose:()=>D(!1)})})]})}),i.jsxs("div",{className:"h-screen flex bg-gray-50 dark:bg-gray-900",children:[i.jsxs("div",{className:"w-96 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col relative",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Chat"})}),i.jsxs("div",{className:"relative",children:[i.jsx(Ml,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400 dark:text-gray-500"}),i.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:c,onChange:Ee=>d(Ee.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx("button",{onClick:()=>u(""),className:`px-3 py-1.5 text-sm rounded-lg ${f===""?"bg-indigo-100 text-indigo-700":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 dark:text-gray-500"}`,children:"Todas"}),i.jsx("button",{onClick:()=>u("active"),className:`px-3 py-1.5 text-sm rounded-lg ${f==="active"?"bg-indigo-100 text-indigo-700":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 dark:text-gray-500"}`,children:"Ativas"}),i.jsx("button",{onClick:()=>u("waiting"),className:`px-3 py-1.5 text-sm rounded-lg ${f==="waiting"?"bg-indigo-100 text-indigo-700":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 dark:text-gray-500"}`,children:"Aguardando"})]}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsx("button",{onClick:()=>h(""),className:`px-3 py-1.5 text-sm rounded-lg ${m===""?"bg-green-100 text-green-700":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 dark:text-gray-500"}`,children:"Todos"}),i.jsx("button",{onClick:()=>h("individual"),className:`px-3 py-1.5 text-sm rounded-lg ${m==="individual"?"bg-green-100 text-green-700":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 dark:text-gray-500"}`,children:"Individuais"}),i.jsx("button",{onClick:()=>h("group"),className:`px-3 py-1.5 text-sm rounded-lg ${m==="group"?"bg-green-100 text-green-700":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 dark:text-gray-500"}`,children:"Grupos"})]}),i.jsxs("button",{onClick:()=>D(!0),className:"mt-3 w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center gap-2",children:[i.jsx(ZN,{className:"h-4 w-4"}),"Conectar WhatsApp"]})]}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[i.jsx(zye,{selectedChannel:g,onChannelSelect:p}),i.jsxs("div",{className:"flex-1",children:[Re.map(Ee=>i.jsx("div",{onClick:()=>a(Ee),className:`p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 dark:bg-gray-900 ${(r==null?void 0:r.id)===Ee.id?"bg-indigo-50":""}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:i.jsx(aa,{className:"h-6 w-6 text-indigo-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:Ee.contactName}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 dark:text-gray-500",children:Ie(Ee.lastMessageAt)})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500 truncate",children:Ee.lastMessagePreview}),Ee.tags&&Ee.tags.length>0&&i.jsx("div",{className:"flex gap-1 mt-1",children:Ee.tags.slice(0,2).map(Be=>i.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded",children:Be},Be))})]}),Ee.isUnread&&Ee.unreadCount>0&&i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:Ee.unreadCount})]})},Ee.id)),Re.length===0&&i.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 dark:text-gray-500",children:i.jsx("p",{children:"Nenhuma conversa encontrada"})})]})]})]}),r?i.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-800",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:i.jsx(aa,{className:"h-5 w-5 text-indigo-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:r.contactName}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 dark:text-gray-500",children:r.phoneNumber})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg",children:i.jsx(vs,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 dark:text-gray-500"})}),i.jsx("button",{className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg",children:i.jsx(T7,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 dark:text-gray-500"})}),i.jsx("button",{onClick:()=>Q(!Y),className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg",title:Y?"Ocultar painel lateral":"Mostrar painel lateral",children:Y?i.jsx(iQ,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}):i.jsx(oQ,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),i.jsx("button",{className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg",children:i.jsx(lQ,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 dark:text-gray-500"})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900",children:C?i.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 dark:text-gray-500",children:"Carregando mensagens..."}):i.jsxs(i.Fragment,{children:[n.map(Ee=>i.jsx(xxe,{message:Ee,onReply:Ve,onDelete:de},Ee.id)),H&&i.jsx(Gye,{name:te}),i.jsx("div",{ref:ne})]})}),x&&i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-3 max-h-48 overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Respostas Rápidas"}),i.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:text-gray-500",children:i.jsx(br,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:b.slice(0,6).map(Ee=>i.jsx("button",{onClick:()=>ie(Ee),className:"text-left p-2 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:bg-gray-700 rounded-lg truncate",children:Ee.title},Ee.id))})]}),i.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[I&&i.jsxs("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500 dark:border-blue-400 flex items-center justify-between rounded",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300",children:"Respondendo:"}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200 truncate",children:I.content})]}),i.jsx("button",{onClick:()=>z(null),className:"ml-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:i.jsx(br,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2 relative",children:[i.jsx("button",{onClick:()=>v(!x),className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg",title:"Respostas Rápidas",children:i.jsx(Zs,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 dark:text-gray-500"})}),i.jsx("button",{onClick:()=>j(!0),className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg",title:"Gerenciar Respostas Rápidas",children:i.jsx(nd,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 dark:text-gray-500"})}),i.jsx(Jj,{type:"document",onFileSelect:Ae}),i.jsx(Jj,{type:"image",onFileSelect:Ae}),i.jsx(Jj,{type:"video",onFileSelect:Ae}),i.jsx("input",{type:"text",placeholder:"Digite uma mensagem ou / para respostas rápidas...",value:o,onChange:Ee=>{const Be=Ee.target.value;if(l(Be),Fe(),Be.startsWith("/")&&Be.length>1){const Pe=Be.slice(1).toLowerCase(),it=b.filter(ft=>{var st;return((st=ft.shortcut)==null?void 0:st.toLowerCase().includes(Pe))||ft.title.toLowerCase().includes(Pe)});A(it.slice(0,5))}else A([])},onKeyDown:he,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),E.length>0&&i.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto z-10",children:E.map(Ee=>i.jsxs("button",{onClick:()=>{l(Ee.content),A([])},className:"w-full flex items-start gap-3 px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors border-b border-gray-100 dark:border-gray-600 last:border-0",children:[i.jsx(Zs,{className:"h-4 w-4 text-indigo-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Ee.title}),Ee.shortcut&&i.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 rounded font-mono",children:Ee.shortcut})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:Ee.content})]})]},Ee.id))}),i.jsx("button",{onClick:()=>fe(!ve),className:"p-2 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-700 rounded-lg",title:"Emojis",children:i.jsx(cQ,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 dark:text-gray-500"})}),o.trim()?i.jsx("button",{onClick:Se,className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg",children:i.jsx(_u,{className:"h-5 w-5"})}):i.jsx(yxe,{onAudioReady:Ce}),ve&&i.jsx("div",{className:"absolute bottom-full right-0 mb-2 z-50",children:i.jsx(Bye,{onEmojiClick:_e})})]})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-full mx-auto mb-4 flex items-center justify-center",children:i.jsx(aa,{className:"h-12 w-12 text-gray-400 dark:text-gray-500"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Selecione uma conversa"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 dark:text-gray-500",children:"Escolha uma conversa para começar a conversar"})]})}),r&&Y&&i.jsx(Hye,{conversation:r,onUpdate:()=>{Te(),r&&xe(r.id)}})]}),O&&i.jsx(vxe,{file:O,preview:U||"",caption:K,onCaptionChange:G,onSend:ze,onCancel:()=>{B(null),q(null),G("")}}),w&&i.jsx(Vye,{onClose:()=>{j(!1),se()},onSelect:Ee=>{l(Ee)}})]})};function Yye(e,t){if(yr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(yr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lU(e){var t=Yye(e,"string");return yr(t)=="symbol"?t:t+""}function wu(e,t,r){return(t=lU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(a){wu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function i4(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function yc(e,t){if(e==null)return{};var r,a,n=i4(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lU(a.key),a)}}function is(e,t,r){return t&&bI(e.prototype,t),r&&bI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a2(e){return a2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a2(e)}function cU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cU=function(){return!!e})()}function Jye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kye(e,t){if(t&&(yr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jye(e)}function ai(e,t,r){return t=a2(t),Kye(e,cU()?Reflect.construct(t,r||[],a2(e).constructor):t.apply(e,r))}function n2(e,t){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},n2(e,t)}function ni(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n2(e,t)}function dU(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=dU(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function fn(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=dU(e))&&(a&&(a+=" "),a+=t);return a}function ln(){return ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ln.apply(null,arguments)}var Qye=function(e,t,r,a,n,s,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,a,n,s,o,l],f=0;c=new Error(t.replace(/%s/g,function(){return d[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Xye=Qye;const Dx=Lr(Xye);var Zye=function(){};function ebe(e,t){var r={};return Object.keys(e).forEach(function(a){r[gb(a)]=Zye}),r}function wI(e,t){return e[t]!==void 0}function gb(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function tbe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function rbe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n2(e,t)}function fU(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function uU(e){function t(r){var a=this.constructor.getDerivedStateFromProps(e,r);return a??null}this.setState(t.bind(this))}function hU(e,t){try{var r=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}fU.__suppressDeprecationWarning=!0;uU.__suppressDeprecationWarning=!0;hU.__suppressDeprecationWarning=!0;function abe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,a=null,n=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?n="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(n="UNSAFE_componentWillUpdate"),r!==null||a!==null||n!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(n!==null?`
  `+n:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=fU,t.componentWillReceiveProps=uU),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=hU;var l=t.componentDidUpdate;t.componentDidUpdate=function(d,f,u){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:u;l.call(this,d,f,m)}}return e}var nbe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function mU(e,t,r){r===void 0&&(r=[]);var a=e.displayName||e.name||"Component",n=tbe(e),s=Object.keys(t),o=s.map(gb);n||!r.length||Dx(!1);var l=function(d){rbe(f,d);function f(){for(var m,h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];m=d.call.apply(d,[this].concat(g))||this,m.handlers=Object.create(null),s.forEach(function(v){var b=t[v],y=function(j){if(m.props[b]){var E;m._notifying=!0;for(var A=arguments.length,C=new Array(A>1?A-1:0),S=1;S<A;S++)C[S-1]=arguments[S];(E=m.props)[b].apply(E,[j].concat(C)),m._notifying=!1}m.unmounted||m.setState(function(T){var _,M=T.values;return{values:ln(Object.create(null),M,(_={},_[v]=j,_))}})};m.handlers[b]=y}),r.length&&(m.attachRef=function(v){m.inner=v});var x=Object.create(null);return s.forEach(function(v){x[v]=m.props[gb(v)]}),m.state={values:x,prevProps:{}},m}var u=f.prototype;return u.shouldComponentUpdate=function(){return!this._notifying},f.getDerivedStateFromProps=function(h,g){var p=g.values,x=g.prevProps,v={values:ln(Object.create(null),p),prevProps:{}};return s.forEach(function(b){v.prevProps[b]=h[b],!wI(h,b)&&wI(x,b)&&(v.values[b]=h[gb(b)])}),v},u.componentWillUnmount=function(){this.unmounted=!0},u.render=function(){var h=this,g=this.props,p=g.innerRef,x=i4(g,["innerRef"]);o.forEach(function(b){delete x[b]});var v={};return s.forEach(function(b){var y=h.props[b];v[b]=y!==void 0?y:h.state.values[b]}),Z.createElement(e,ln({},x,v,this.handlers,{ref:p||this.attachRef}))},f}(Z.Component);abe(l),l.displayName="Uncontrolled("+a+")",l.propTypes=ln({innerRef:function(){}},ebe(t)),r.forEach(function(d){l.prototype[d]=function(){var u;return(u=this.inner)[d].apply(u,arguments)}});var c=l;return Z.forwardRef&&(c=Z.forwardRef(function(d,f){return Z.createElement(l,ln({},d,{innerRef:f,__source:{fileName:nbe,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(d,f,u){return f===void 0&&(f={}),mU(d,ln({},t,f),u)},c}var pU={exports:{}},sbe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ibe=sbe,obe=ibe;function gU(){}function xU(){}xU.resetWarningCache=gU;var lbe=function(){function e(a,n,s,o,l,c){if(c!==obe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xU,resetWarningCache:gU};return r.PropTypes=r,r};pU.exports=lbe();var cbe=pU.exports;const Qe=Lr(cbe);var s2="milliseconds",Px="seconds",Ox="minutes",Rx="hours",Zu="day",rm="week",Fx="month",e0="year",t0="decade",r0="century",vU={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},dbe={month:1,year:12,decade:10*12,century:100*12};function fbe(e){return[31,ube(e),31,30,31,30,31,31,30,31,30,31]}function ube(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Al(e,t,r){switch(e=new Date(e),r){case s2:case Px:case Ox:case Rx:case Zu:case rm:return hbe(e,t*vU[r]);case Fx:case e0:case t0:case r0:return mbe(e,t*dbe[r])}throw new TypeError('Invalid units: "'+r+'"')}function hbe(e,t){var r=new Date(+e+t);return pbe(e,r)}function mbe(e,t){var r=e.getFullYear(),a=e.getMonth(),n=e.getDate(),s=r*12+a+t,o=Math.trunc(s/12),l=s%12,c=Math.min(n,fbe(o)[l]),d=new Date(e);return d.setFullYear(o),d.setDate(1),d.setMonth(l),d.setDate(c),d}function pbe(e,t){var r=e.getTimezoneOffset(),a=t.getTimezoneOffset(),n=a-r;return new Date(+t+n*vU.minutes)}function Bx(e,t,r){return Al(e,-t,r)}function Ts(e,t,r){switch(e=new Date(e),t){case r0:case t0:case e0:e=o2(e,0);case Fx:e=jU(e,1);case rm:case Zu:e=Ux(e,0);case Rx:e=am(e,0);case Ox:e=$x(e,0);case Px:e=zx(e,0)}return t===t0&&(e=Bx(e,a0(e)%10,"year")),t===r0&&(e=Bx(e,a0(e)%100,"year")),t===rm&&(e=NU(e,0,r)),e}function i2(e,t,r){switch(e=new Date(e),e=Ts(e,t,r),t){case r0:case t0:case e0:case Fx:case rm:e=Al(e,1,t),e=Bx(e,1,Zu),e.setHours(23,59,59,999);break;case Zu:e.setHours(23,59,59,999);break;case Rx:case Ox:case Px:e=Al(e,1,t),e=Bx(e,1,s2)}return e}var ap=sp(function(e,t){return e===t}),$C=sp(function(e,t){return e!==t}),o4=sp(function(e,t){return e>t}),av=sp(function(e,t){return e>=t}),UC=sp(function(e,t){return e<t}),np=sp(function(e,t){return e<=t});function yU(){return new Date(Math.min.apply(Math,arguments))}function bU(){return new Date(Math.max.apply(Math,arguments))}function wU(e,t,r,a){return a=a||"day",(!t||av(e,t,a))&&(!r||np(e,r,a))}var zx=Ff("Milliseconds"),$x=Ff("Seconds"),am=Ff("Minutes"),Ux=Ff("Hours"),kU=Ff("Day"),jU=Ff("Date"),o2=Ff("Month"),a0=Ff("FullYear");function gbe(e,t){return t===void 0?a0(Ts(e,t0)):Al(e,t+10,e0)}function xbe(e,t){return t===void 0?a0(Ts(e,r0)):Al(e,t+100,e0)}function NU(e,t,r){var a=(kU(e)+7-(r||0))%7;return t===void 0?a:Al(e,t-a,Zu)}function vbe(e,t,r,a){var n,s,o;switch(r){case s2:case Px:case Ox:case Rx:case Zu:case rm:n=t.getTime()-e.getTime();break;case Fx:case e0:case t0:case r0:n=(a0(t)-a0(e))*12+o2(t)-o2(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case s2:s=1;break;case Px:s=1e3;break;case Ox:s=1e3*60;break;case Rx:s=1e3*60*60;break;case Zu:s=1e3*60*60*24;break;case rm:s=1e3*60*60*24*7;break;case Fx:s=1;break;case e0:s=12;break;case t0:s=120;break;case r0:s=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=n/s,a?o:Math.round(o)}function Ff(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,a){if(a===void 0)return r["get"+e]();var n=new Date(r);return n["set"+e](a),t&&n["get"+e]()!=a&&(e==="Hours"||a>=t&&n.getHours()-r.getHours()<Math.floor(a/t))&&n["set"+e](a+t),n}}function sp(e){return function(t,r,a){return e(+Ts(t,a),+Ts(r,a))}}const kI=Object.freeze(Object.defineProperty({__proto__:null,add:Al,century:xbe,date:jU,day:kU,decade:gbe,diff:vbe,endOf:i2,eq:ap,gt:o4,gte:av,hours:Ux,inRange:wU,lt:UC,lte:np,max:bU,milliseconds:zx,min:yU,minutes:am,month:o2,neq:$C,seconds:$x,startOf:Ts,subtract:Bx,weekday:NU,year:a0},Symbol.toStringTag,{value:"Module"}));function ybe(e){if(Array.isArray(e))return h3(e)}function SU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xb(e){return ybe(e)||SU(e)||S6(e)||bbe()}function wbe(e,t,r){var a=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(n);++a<n;)s[a]=e[a+t];return s}var WC=wbe;function kbe(e,t){return e===t||e!==e&&t!==t}var nv=kbe,jbe=typeof ms=="object"&&ms&&ms.Object===Object&&ms,CU=jbe,Nbe=CU,Sbe=typeof self=="object"&&self&&self.Object===Object&&self,Cbe=Nbe||Sbe||Function("return this")(),Dl=Cbe,Abe=Dl,Ebe=Abe.Symbol,ip=Ebe,jI=ip,AU=Object.prototype,_be=AU.hasOwnProperty,Mbe=AU.toString,og=jI?jI.toStringTag:void 0;function Lbe(e){var t=_be.call(e,og),r=e[og];try{e[og]=void 0;var a=!0}catch{}var n=Mbe.call(e);return a&&(t?e[og]=r:delete e[og]),n}var Tbe=Lbe,Ibe=Object.prototype,Dbe=Ibe.toString;function Pbe(e){return Dbe.call(e)}var Obe=Pbe,NI=ip,Rbe=Tbe,Fbe=Obe,Bbe="[object Null]",zbe="[object Undefined]",SI=NI?NI.toStringTag:void 0;function $be(e){return e==null?e===void 0?zbe:Bbe:SI&&SI in Object(e)?Rbe(e):Fbe(e)}var kd=$be;function Ube(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yo=Ube;const op=Lr(Yo);var Wbe=kd,Hbe=Yo,Vbe="[object AsyncFunction]",Gbe="[object Function]",qbe="[object GeneratorFunction]",Ybe="[object Proxy]";function Jbe(e){if(!Hbe(e))return!1;var t=Wbe(e);return t==Gbe||t==qbe||t==Vbe||t==Ybe}var l4=Jbe;const fr=Lr(l4);var Kbe=9007199254740991;function Qbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Kbe}var HC=Qbe,Xbe=l4,Zbe=HC;function e2e(e){return e!=null&&Zbe(e.length)&&!Xbe(e)}var lp=e2e,t2e=9007199254740991,r2e=/^(?:0|[1-9]\d*)$/;function a2e(e,t){var r=typeof e;return t=t??t2e,!!t&&(r=="number"||r!="symbol"&&r2e.test(e))&&e>-1&&e%1==0&&e<t}var VC=a2e,n2e=nv,s2e=lp,i2e=VC,o2e=Yo;function l2e(e,t,r){if(!o2e(r))return!1;var a=typeof t;return(a=="number"?s2e(r)&&i2e(t,r.length):a=="string"&&t in r)?n2e(r[t],e):!1}var cp=l2e,c2e=/\s/;function d2e(e){for(var t=e.length;t--&&c2e.test(e.charAt(t)););return t}var f2e=d2e,u2e=f2e,h2e=/^\s+/;function m2e(e){return e&&e.slice(0,u2e(e)+1).replace(h2e,"")}var p2e=m2e;function g2e(e){return e!=null&&typeof e=="object"}var Pl=g2e,x2e=kd,v2e=Pl,y2e="[object Symbol]";function b2e(e){return typeof e=="symbol"||v2e(e)&&x2e(e)==y2e}var dp=b2e,w2e=p2e,CI=Yo,k2e=dp,AI=NaN,j2e=/^[-+]0x[0-9a-f]+$/i,N2e=/^0b[01]+$/i,S2e=/^0o[0-7]+$/i,C2e=parseInt;function A2e(e){if(typeof e=="number")return e;if(k2e(e))return AI;if(CI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=CI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=w2e(e);var r=N2e.test(e);return r||S2e.test(e)?C2e(e.slice(2),r?2:8):j2e.test(e)?AI:+e}var EU=A2e,E2e=EU,EI=1/0,_2e=17976931348623157e292;function M2e(e){if(!e)return e===0?e:0;if(e=E2e(e),e===EI||e===-EI){var t=e<0?-1:1;return t*_2e}return e===e?e:0}var _U=M2e,L2e=_U;function T2e(e){var t=L2e(e),r=t%1;return t===t?r?t-r:t:0}var MU=T2e,I2e=WC,D2e=cp,P2e=MU,O2e=Math.ceil,R2e=Math.max;function F2e(e,t,r){(r?D2e(e,t,r):t===void 0)?t=1:t=R2e(P2e(t),0);var a=e==null?0:e.length;if(!a||t<1)return[];for(var n=0,s=0,o=Array(O2e(a/t));n<a;)o[s++]=I2e(e,n,n+=t);return o}var B2e=F2e;const z2e=Lr(B2e);function sv(e){return e&&e.ownerDocument||document}function $2e(e){var t=sv(e);return t&&t.defaultView||window}function U2e(e,t){return $2e(e).getComputedStyle(e,t)}var W2e=/([A-Z])/g;function H2e(e){return e.replace(W2e,"-$1").toLowerCase()}var V2e=/^ms-/;function Sy(e){return H2e(e).replace(V2e,"-ms-")}var G2e=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function q2e(e){return!!(e&&G2e.test(e))}function mh(e,t){var r="",a="";if(typeof t=="string")return e.style.getPropertyValue(Sy(t))||U2e(e).getPropertyValue(Sy(t));Object.keys(t).forEach(function(n){var s=t[n];!s&&s!==0?e.style.removeProperty(Sy(n)):q2e(n)?a+=n+"("+s+") ":r+=Sy(n)+": "+s+";"}),a&&(r+="transform: "+a+";"),e.style.cssText+=";"+r}function Wx(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Y2e(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function GC(e){return"window"in e&&e.window===e?e:Y2e(e)&&e.defaultView||!1}function LU(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(a,n){var s=GC(a);if(n===void 0)return s?s[e]:a[t];s?s.scrollTo(s[e],n):a[t]=n}return r}const TU=LU("pageXOffset"),IU=LU("pageYOffset");function Pu(e){var t=sv(e),r={top:0,left:0,height:0,width:0},a=t&&t.documentElement;return!a||!Wx(a,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+IU(a)-(a.clientTop||0),left:r.left+TU(a)-(a.clientLeft||0),width:r.width,height:r.height}),r}var J2e=function(t){return!!t&&"offsetParent"in t};function K2e(e){for(var t=sv(e),r=e&&e.offsetParent;J2e(r)&&r.nodeName!=="HTML"&&mh(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var Q2e=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function DU(e,t){var r={top:0,left:0},a;if(mh(e,"position")==="fixed")a=e.getBoundingClientRect();else{var n=t||K2e(e);a=Pu(e),Q2e(n)!=="html"&&(r=Pu(n));var s=String(mh(n,"borderTopWidth")||0);r.top+=parseInt(s,10)-IU(n)||0;var o=String(mh(n,"borderLeftWidth")||0);r.left+=parseInt(o,10)-TU(n)||0}var l=String(mh(e,"marginTop")||0),c=String(mh(e,"marginLeft")||0);return ln({},a,{top:a.top-r.top-(parseInt(l,10)||0),left:a.left-r.left-(parseInt(c,10)||0)})}const qC=!!(typeof window<"u"&&window.document&&window.document.createElement);var _I=new Date().getTime();function X2e(e){var t=new Date().getTime(),r=Math.max(0,16-(t-_I)),a=setTimeout(e,r);return _I=t,a}var Z2e=["","webkit","moz","o","ms"],K3="clearTimeout",Q3=X2e,MI=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};qC&&Z2e.some(function(e){var t=MI(e,"request");return t in window&&(K3=MI(e,"cancel"),Q3=function(a){return window[t](a)}),!!Q3});var LI=function(t){typeof window[K3]=="function"&&window[K3](t)},PU=Q3,eN;function ewe(e,t){if(!eN){var r=document.body,a=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;eN=function(s,o){return a.call(s,o)}}return eN(e,t)}var twe=Function.prototype.bind.call(Function.prototype.call,[].slice);function rwe(e,t){return twe(e.querySelectorAll(t))}var X3=!1,Z3=!1;try{var tN={get passive(){return X3=!0},get once(){return Z3=X3=!0}};qC&&(window.addEventListener("test",tN,tN),window.removeEventListener("test",tN,!0))}catch{}function awe(e,t,r,a){if(a&&typeof a!="boolean"&&!Z3){var n=a.once,s=a.capture,o=r;!Z3&&n&&(o=r.__once||function l(c){this.removeEventListener(t,l,s),r.call(this,c)},r.__once=o),e.addEventListener(t,o,X3?a:s)}e.addEventListener(t,r,a)}function nwe(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e},[e]),t}function TI(e){const t=nwe(e);return k.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function II(){return k.useState(null)}function swe(){const e=k.useRef(!0),t=k.useRef(()=>e.current);return k.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function iwe(e){const t=swe();return[e[0],k.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var _i="top",Uo="bottom",Wo="right",Mi="left",YC="auto",iv=[_i,Uo,Wo,Mi],nm="start",Hx="end",owe="clippingParents",OU="viewport",lg="popper",lwe="reference",DI=iv.reduce(function(e,t){return e.concat([t+"-"+nm,t+"-"+Hx])},[]),JC=[].concat(iv,[YC]).reduce(function(e,t){return e.concat([t,t+"-"+nm,t+"-"+Hx])},[]),cwe="beforeRead",dwe="read",fwe="afterRead",uwe="beforeMain",hwe="main",mwe="afterMain",pwe="beforeWrite",gwe="write",xwe="afterWrite",vwe=[cwe,dwe,fwe,uwe,hwe,mwe,pwe,gwe,xwe];function fc(e){return e.split("-")[0]}function no(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function n0(e){var t=no(e).Element;return e instanceof t||e instanceof Element}function uc(e){var t=no(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function KC(e){if(typeof ShadowRoot>"u")return!1;var t=no(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Ou=Math.max,l2=Math.min,sm=Math.round;function e5(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function RU(){return!/^((?!chrome|android).)*safari/i.test(e5())}function im(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var a=e.getBoundingClientRect(),n=1,s=1;t&&uc(e)&&(n=e.offsetWidth>0&&sm(a.width)/e.offsetWidth||1,s=e.offsetHeight>0&&sm(a.height)/e.offsetHeight||1);var o=n0(e)?no(e):window,l=o.visualViewport,c=!RU()&&r,d=(a.left+(c&&l?l.offsetLeft:0))/n,f=(a.top+(c&&l?l.offsetTop:0))/s,u=a.width/n,m=a.height/s;return{width:u,height:m,top:f,right:d+u,bottom:f+m,left:d,x:d,y:f}}function QC(e){var t=im(e),r=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:a}}function FU(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&KC(r)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Sf(e){return e?(e.nodeName||"").toLowerCase():null}function dd(e){return no(e).getComputedStyle(e)}function ywe(e){return["table","td","th"].indexOf(Sf(e))>=0}function Bf(e){return((n0(e)?e.ownerDocument:e.document)||window.document).documentElement}function c4(e){return Sf(e)==="html"?e:e.assignedSlot||e.parentNode||(KC(e)?e.host:null)||Bf(e)}function PI(e){return!uc(e)||dd(e).position==="fixed"?null:e.offsetParent}function bwe(e){var t=/firefox/i.test(e5()),r=/Trident/i.test(e5());if(r&&uc(e)){var a=dd(e);if(a.position==="fixed")return null}var n=c4(e);for(KC(n)&&(n=n.host);uc(n)&&["html","body"].indexOf(Sf(n))<0;){var s=dd(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function ov(e){for(var t=no(e),r=PI(e);r&&ywe(r)&&dd(r).position==="static";)r=PI(r);return r&&(Sf(r)==="html"||Sf(r)==="body"&&dd(r).position==="static")?t:r||bwe(e)||t}function XC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jg(e,t,r){return Ou(e,l2(t,r))}function wwe(e,t,r){var a=Jg(e,t,r);return a>r?r:a}function BU(){return{top:0,right:0,bottom:0,left:0}}function zU(e){return Object.assign({},BU(),e)}function $U(e,t){return t.reduce(function(r,a){return r[a]=e,r},{})}var kwe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,zU(typeof t!="number"?t:$U(t,iv))};function jwe(e){var t,r=e.state,a=e.name,n=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,l=fc(r.placement),c=XC(l),d=[Mi,Wo].indexOf(l)>=0,f=d?"height":"width";if(!(!s||!o)){var u=kwe(n.padding,r),m=QC(s),h=c==="y"?_i:Mi,g=c==="y"?Uo:Wo,p=r.rects.reference[f]+r.rects.reference[c]-o[c]-r.rects.popper[f],x=o[c]-r.rects.reference[c],v=ov(s),b=v?c==="y"?v.clientHeight||0:v.clientWidth||0:0,y=p/2-x/2,w=u[h],j=b-m[f]-u[g],E=b/2-m[f]/2+y,A=Jg(w,E,j),C=c;r.modifiersData[a]=(t={},t[C]=A,t.centerOffset=A-E,t)}}function Nwe(e){var t=e.state,r=e.options,a=r.element,n=a===void 0?"[data-popper-arrow]":a;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||FU(t.elements.popper,n)&&(t.elements.arrow=n))}const Swe={name:"arrow",enabled:!0,phase:"main",fn:jwe,effect:Nwe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function om(e){return e.split("-")[1]}var Cwe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Awe(e,t){var r=e.x,a=e.y,n=t.devicePixelRatio||1;return{x:sm(r*n)/n||0,y:sm(a*n)/n||0}}function OI(e){var t,r=e.popper,a=e.popperRect,n=e.placement,s=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,f=e.roundOffsets,u=e.isFixed,m=o.x,h=m===void 0?0:m,g=o.y,p=g===void 0?0:g,x=typeof f=="function"?f({x:h,y:p}):{x:h,y:p};h=x.x,p=x.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),y=Mi,w=_i,j=window;if(d){var E=ov(r),A="clientHeight",C="clientWidth";if(E===no(r)&&(E=Bf(r),dd(E).position!=="static"&&l==="absolute"&&(A="scrollHeight",C="scrollWidth")),E=E,n===_i||(n===Mi||n===Wo)&&s===Hx){w=Uo;var S=u&&E===j&&j.visualViewport?j.visualViewport.height:E[A];p-=S-a.height,p*=c?1:-1}if(n===Mi||(n===_i||n===Uo)&&s===Hx){y=Wo;var T=u&&E===j&&j.visualViewport?j.visualViewport.width:E[C];h-=T-a.width,h*=c?1:-1}}var _=Object.assign({position:l},d&&Cwe),M=f===!0?Awe({x:h,y:p},no(r)):{x:h,y:p};if(h=M.x,p=M.y,c){var D;return Object.assign({},_,(D={},D[w]=b?"0":"",D[y]=v?"0":"",D.transform=(j.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",D))}return Object.assign({},_,(t={},t[w]=b?p+"px":"",t[y]=v?h+"px":"",t.transform="",t))}function Ewe(e){var t=e.state,r=e.options,a=r.gpuAcceleration,n=a===void 0?!0:a,s=r.adaptive,o=s===void 0?!0:s,l=r.roundOffsets,c=l===void 0?!0:l,d={placement:fc(t.placement),variation:om(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,OI(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,OI(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const _we={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ewe,data:{}};var Cy={passive:!0};function Mwe(e){var t=e.state,r=e.instance,a=e.options,n=a.scroll,s=n===void 0?!0:n,o=a.resize,l=o===void 0?!0:o,c=no(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach(function(f){f.addEventListener("scroll",r.update,Cy)}),l&&c.addEventListener("resize",r.update,Cy),function(){s&&d.forEach(function(f){f.removeEventListener("scroll",r.update,Cy)}),l&&c.removeEventListener("resize",r.update,Cy)}}const Lwe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mwe,data:{}};var Twe={left:"right",right:"left",bottom:"top",top:"bottom"};function vb(e){return e.replace(/left|right|bottom|top/g,function(t){return Twe[t]})}var Iwe={start:"end",end:"start"};function RI(e){return e.replace(/start|end/g,function(t){return Iwe[t]})}function ZC(e){var t=no(e),r=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:r,scrollTop:a}}function eA(e){return im(Bf(e)).left+ZC(e).scrollLeft}function Dwe(e,t){var r=no(e),a=Bf(e),n=r.visualViewport,s=a.clientWidth,o=a.clientHeight,l=0,c=0;if(n){s=n.width,o=n.height;var d=RU();(d||!d&&t==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:s,height:o,x:l+eA(e),y:c}}function Pwe(e){var t,r=Bf(e),a=ZC(e),n=(t=e.ownerDocument)==null?void 0:t.body,s=Ou(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Ou(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-a.scrollLeft+eA(e),c=-a.scrollTop;return dd(n||r).direction==="rtl"&&(l+=Ou(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:l,y:c}}function tA(e){var t=dd(e),r=t.overflow,a=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+a)}function UU(e){return["html","body","#document"].indexOf(Sf(e))>=0?e.ownerDocument.body:uc(e)&&tA(e)?e:UU(c4(e))}function Kg(e,t){var r;t===void 0&&(t=[]);var a=UU(e),n=a===((r=e.ownerDocument)==null?void 0:r.body),s=no(a),o=n?[s].concat(s.visualViewport||[],tA(a)?a:[]):a,l=t.concat(o);return n?l:l.concat(Kg(c4(o)))}function t5(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Owe(e,t){var r=im(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function FI(e,t,r){return t===OU?t5(Dwe(e,r)):n0(t)?Owe(t,r):t5(Pwe(Bf(e)))}function Rwe(e){var t=Kg(c4(e)),r=["absolute","fixed"].indexOf(dd(e).position)>=0,a=r&&uc(e)?ov(e):e;return n0(a)?t.filter(function(n){return n0(n)&&FU(n,a)&&Sf(n)!=="body"}):[]}function Fwe(e,t,r,a){var n=t==="clippingParents"?Rwe(e):[].concat(t),s=[].concat(n,[r]),o=s[0],l=s.reduce(function(c,d){var f=FI(e,d,a);return c.top=Ou(f.top,c.top),c.right=l2(f.right,c.right),c.bottom=l2(f.bottom,c.bottom),c.left=Ou(f.left,c.left),c},FI(e,o,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function WU(e){var t=e.reference,r=e.element,a=e.placement,n=a?fc(a):null,s=a?om(a):null,o=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(n){case _i:c={x:o,y:t.y-r.height};break;case Uo:c={x:o,y:t.y+t.height};break;case Wo:c={x:t.x+t.width,y:l};break;case Mi:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var d=n?XC(n):null;if(d!=null){var f=d==="y"?"height":"width";switch(s){case nm:c[d]=c[d]-(t[f]/2-r[f]/2);break;case Hx:c[d]=c[d]+(t[f]/2-r[f]/2);break}}return c}function Vx(e,t){t===void 0&&(t={});var r=t,a=r.placement,n=a===void 0?e.placement:a,s=r.strategy,o=s===void 0?e.strategy:s,l=r.boundary,c=l===void 0?owe:l,d=r.rootBoundary,f=d===void 0?OU:d,u=r.elementContext,m=u===void 0?lg:u,h=r.altBoundary,g=h===void 0?!1:h,p=r.padding,x=p===void 0?0:p,v=zU(typeof x!="number"?x:$U(x,iv)),b=m===lg?lwe:lg,y=e.rects.popper,w=e.elements[g?b:m],j=Fwe(n0(w)?w:w.contextElement||Bf(e.elements.popper),c,f,o),E=im(e.elements.reference),A=WU({reference:E,element:y,placement:n}),C=t5(Object.assign({},y,A)),S=m===lg?C:E,T={top:j.top-S.top+v.top,bottom:S.bottom-j.bottom+v.bottom,left:j.left-S.left+v.left,right:S.right-j.right+v.right},_=e.modifiersData.offset;if(m===lg&&_){var M=_[n];Object.keys(T).forEach(function(D){var O=[Wo,Uo].indexOf(D)>=0?1:-1,B=[_i,Uo].indexOf(D)>=0?"y":"x";T[D]+=M[B]*O})}return T}function Bwe(e,t){t===void 0&&(t={});var r=t,a=r.placement,n=r.boundary,s=r.rootBoundary,o=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,d=c===void 0?JC:c,f=om(a),u=f?l?DI:DI.filter(function(g){return om(g)===f}):iv,m=u.filter(function(g){return d.indexOf(g)>=0});m.length===0&&(m=u);var h=m.reduce(function(g,p){return g[p]=Vx(e,{placement:p,boundary:n,rootBoundary:s,padding:o})[fc(p)],g},{});return Object.keys(h).sort(function(g,p){return h[g]-h[p]})}function zwe(e){if(fc(e)===YC)return[];var t=vb(e);return[RI(e),t,RI(t)]}function $we(e){var t=e.state,r=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,l=o===void 0?!0:o,c=r.fallbackPlacements,d=r.padding,f=r.boundary,u=r.rootBoundary,m=r.altBoundary,h=r.flipVariations,g=h===void 0?!0:h,p=r.allowedAutoPlacements,x=t.options.placement,v=fc(x),b=v===x,y=c||(b||!g?[vb(x)]:zwe(x)),w=[x].concat(y).reduce(function(H,J){return H.concat(fc(J)===YC?Bwe(t,{placement:J,boundary:f,rootBoundary:u,padding:d,flipVariations:g,allowedAutoPlacements:p}):J)},[]),j=t.rects.reference,E=t.rects.popper,A=new Map,C=!0,S=w[0],T=0;T<w.length;T++){var _=w[T],M=fc(_),D=om(_)===nm,O=[_i,Uo].indexOf(M)>=0,B=O?"width":"height",U=Vx(t,{placement:_,boundary:f,rootBoundary:u,altBoundary:m,padding:d}),q=O?D?Wo:Mi:D?Uo:_i;j[B]>E[B]&&(q=vb(q));var K=vb(q),G=[];if(s&&G.push(U[M]<=0),l&&G.push(U[q]<=0,U[K]<=0),G.every(function(H){return H})){S=_,C=!1;break}A.set(_,G)}if(C)for(var ve=g?3:1,fe=function(J){var te=w.find(function(W){var Y=A.get(W);if(Y)return Y.slice(0,J).every(function(Q){return Q})});if(te)return S=te,"break"},I=ve;I>0;I--){var z=fe(I);if(z==="break")break}t.placement!==S&&(t.modifiersData[a]._skip=!0,t.placement=S,t.reset=!0)}}const Uwe={name:"flip",enabled:!0,phase:"main",fn:$we,requiresIfExists:["offset"],data:{_skip:!1}};function BI(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function zI(e){return[_i,Wo,Uo,Mi].some(function(t){return e[t]>=0})}function Wwe(e){var t=e.state,r=e.name,a=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,o=Vx(t,{elementContext:"reference"}),l=Vx(t,{altBoundary:!0}),c=BI(o,a),d=BI(l,n,s),f=zI(c),u=zI(d);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":u})}const Hwe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Wwe};function Vwe(e,t,r){var a=fc(e),n=[Mi,_i].indexOf(a)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],l=s[1];return o=o||0,l=(l||0)*n,[Mi,Wo].indexOf(a)>=0?{x:l,y:o}:{x:o,y:l}}function Gwe(e){var t=e.state,r=e.options,a=e.name,n=r.offset,s=n===void 0?[0,0]:n,o=JC.reduce(function(f,u){return f[u]=Vwe(u,t.rects,s),f},{}),l=o[t.placement],c=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[a]=o}const qwe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Gwe};function Ywe(e){var t=e.state,r=e.name;t.modifiersData[r]=WU({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Jwe={name:"popperOffsets",enabled:!0,phase:"read",fn:Ywe,data:{}};function Kwe(e){return e==="x"?"y":"x"}function Qwe(e){var t=e.state,r=e.options,a=e.name,n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,l=o===void 0?!1:o,c=r.boundary,d=r.rootBoundary,f=r.altBoundary,u=r.padding,m=r.tether,h=m===void 0?!0:m,g=r.tetherOffset,p=g===void 0?0:g,x=Vx(t,{boundary:c,rootBoundary:d,padding:u,altBoundary:f}),v=fc(t.placement),b=om(t.placement),y=!b,w=XC(v),j=Kwe(w),E=t.modifiersData.popperOffsets,A=t.rects.reference,C=t.rects.popper,S=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,T=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(E){if(s){var D,O=w==="y"?_i:Mi,B=w==="y"?Uo:Wo,U=w==="y"?"height":"width",q=E[w],K=q+x[O],G=q-x[B],ve=h?-C[U]/2:0,fe=b===nm?A[U]:C[U],I=b===nm?-C[U]:-A[U],z=t.elements.arrow,H=h&&z?QC(z):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:BU(),te=J[O],W=J[B],Y=Jg(0,A[U],H[U]),Q=y?A[U]/2-ve-Y-te-T.mainAxis:fe-Y-te-T.mainAxis,ne=y?-A[U]/2+ve+Y+W+T.mainAxis:I+Y+W+T.mainAxis,pe=t.elements.arrow&&ov(t.elements.arrow),F=pe?w==="y"?pe.clientTop||0:pe.clientLeft||0:0,Te=(D=_==null?void 0:_[w])!=null?D:0,xe=q+Q-Te-F,se=q+ne-Te,We=Jg(h?l2(K,xe):K,q,h?Ou(G,se):G);E[w]=We,M[w]=We-q}if(l){var Se,Fe=w==="x"?_i:Mi,he=w==="x"?Uo:Wo,ie=E[j],de=j==="y"?"height":"width",Ae=ie+x[Fe],ze=ie-x[he],Ce=[_i,Mi].indexOf(v)!==-1,_e=(Se=_==null?void 0:_[j])!=null?Se:0,Ve=Ce?Ae:ie-A[de]-C[de]-_e+T.altAxis,Ie=Ce?ie+A[de]+C[de]-_e-T.altAxis:ze,Re=h&&Ce?wwe(Ve,ie,Ie):Jg(h?Ve:Ae,ie,h?Ie:ze);E[j]=Re,M[j]=Re-ie}t.modifiersData[a]=M}}const Xwe={name:"preventOverflow",enabled:!0,phase:"main",fn:Qwe,requiresIfExists:["offset"]};function Zwe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function e4e(e){return e===no(e)||!uc(e)?ZC(e):Zwe(e)}function t4e(e){var t=e.getBoundingClientRect(),r=sm(t.width)/e.offsetWidth||1,a=sm(t.height)/e.offsetHeight||1;return r!==1||a!==1}function r4e(e,t,r){r===void 0&&(r=!1);var a=uc(t),n=uc(t)&&t4e(t),s=Bf(t),o=im(e,n,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!r)&&((Sf(t)!=="body"||tA(s))&&(l=e4e(t)),uc(t)?(c=im(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=eA(s))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function a4e(e){var t=new Map,r=new Set,a=[];e.forEach(function(s){t.set(s.name,s)});function n(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&n(c)}}),a.push(s)}return e.forEach(function(s){r.has(s.name)||n(s)}),a}function n4e(e){var t=a4e(e);return vwe.reduce(function(r,a){return r.concat(t.filter(function(n){return n.phase===a}))},[])}function s4e(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function i4e(e){var t=e.reduce(function(r,a){var n=r[a.name];return r[a.name]=n?Object.assign({},n,a,{options:Object.assign({},n.options,a.options),data:Object.assign({},n.data,a.data)}):a,r},{});return Object.keys(t).map(function(r){return t[r]})}var $I={placement:"bottom",modifiers:[],strategy:"absolute"};function UI(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function o4e(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,a=r===void 0?[]:r,n=t.defaultOptions,s=n===void 0?$I:n;return function(l,c,d){d===void 0&&(d=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},$I,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},u=[],m=!1,h={state:f,setOptions:function(v){var b=typeof v=="function"?v(f.options):v;p(),f.options=Object.assign({},s,f.options,b),f.scrollParents={reference:n0(l)?Kg(l):l.contextElement?Kg(l.contextElement):[],popper:Kg(c)};var y=n4e(i4e([].concat(a,f.options.modifiers)));return f.orderedModifiers=y.filter(function(w){return w.enabled}),g(),h.update()},forceUpdate:function(){if(!m){var v=f.elements,b=v.reference,y=v.popper;if(UI(b,y)){f.rects={reference:r4e(b,ov(y),f.options.strategy==="fixed"),popper:QC(y)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(T){return f.modifiersData[T.name]=Object.assign({},T.data)});for(var w=0;w<f.orderedModifiers.length;w++){if(f.reset===!0){f.reset=!1,w=-1;continue}var j=f.orderedModifiers[w],E=j.fn,A=j.options,C=A===void 0?{}:A,S=j.name;typeof E=="function"&&(f=E({state:f,options:C,name:S,instance:h})||f)}}}},update:s4e(function(){return new Promise(function(x){h.forceUpdate(),x(f)})}),destroy:function(){p(),m=!0}};if(!UI(l,c))return h;h.setOptions(d).then(function(x){!m&&d.onFirstUpdate&&d.onFirstUpdate(x)});function g(){f.orderedModifiers.forEach(function(x){var v=x.name,b=x.options,y=b===void 0?{}:b,w=x.effect;if(typeof w=="function"){var j=w({state:f,name:v,instance:h,options:y}),E=function(){};u.push(j||E)}})}function p(){u.forEach(function(x){return x()}),u=[]}return h}}var l4e=o4e({defaultModifiers:[Hwe,Jwe,_we,Lwe,qwe,Uwe,Xwe,Swe]}),WI=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},c4e={name:"applyStyles",enabled:!1},d4e={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var a=r.elements,n=a.reference,s=a.popper;if("removeAttribute"in n){var o=(n.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==s.id});o.length?n.setAttribute("aria-describedby",o.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(t){var r,a=t.state,n=a.elements,s=n.popper,o=n.reference,l=(r=s.getAttribute("role"))==null?void 0:r.toLowerCase();if(s.id&&l==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+s.id:s.id)}}},f4e=[];function u4e(e,t,r){var a=r===void 0?{}:r,n=a.enabled,s=n===void 0?!0:n,o=a.placement,l=o===void 0?"bottom":o,c=a.strategy,d=c===void 0?"absolute":c,f=a.modifiers,u=f===void 0?f4e:f,m=i4(a,["enabled","placement","strategy","modifiers"]),h=k.useRef(),g=k.useCallback(function(){var w;(w=h.current)==null||w.update()},[]),p=k.useCallback(function(){var w;(w=h.current)==null||w.forceUpdate()},[]),x=iwe(k.useState({placement:l,update:g,forceUpdate:p,attributes:{},styles:{popper:WI(d),arrow:{}}})),v=x[0],b=x[1],y=k.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(j){var E=j.state,A={},C={};Object.keys(E.elements).forEach(function(S){A[S]=E.styles[S],C[S]=E.attributes[S]}),b({state:E,styles:A,attributes:C,update:g,forceUpdate:p,placement:E.placement})}}},[g,p,b]);return k.useEffect(function(){!h.current||!s||h.current.setOptions({placement:l,strategy:d,modifiers:[].concat(u,[y,c4e])})},[d,l,y,s]),k.useEffect(function(){if(!(!s||e==null||t==null))return h.current=l4e(e,t,ln({},m,{placement:l,strategy:d,modifiers:[].concat(u,[d4e,y])})),function(){h.current!=null&&(h.current.destroy(),h.current=void 0,b(function(w){return ln({},w,{attributes:{},styles:{popper:WI(d)}})}))}},[s,e,t]),v}function h4e(e,t,r,a){var n=a&&typeof a!="boolean"?a.capture:a;e.removeEventListener(t,r,n),r.__once&&e.removeEventListener(t,r.__once,n)}function Eg(e,t,r,a){return awe(e,t,r,a),function(){h4e(e,t,r,a)}}var m4e=function(){},p4e=m4e;const g4e=Lr(p4e);function x4e(e){return e&&"setState"in e?n6.findDOMNode(e):e??null}const v4e=function(e){return sv(x4e(e))};var y4e=27,HI=function(){};function b4e(e){return e.button===0}function w4e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var VI=function(t){return t&&("current"in t?t.current:t)};function k4e(e,t,r){var a=r===void 0?{}:r,n=a.disabled,s=a.clickTrigger,o=s===void 0?"click":s,l=k.useRef(!1),c=t||HI,d=k.useCallback(function(m){var h,g=VI(e);g4e(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!g||w4e(m)||!b4e(m)||!!Wx(g,(h=m.composedPath==null?void 0:m.composedPath()[0])!=null?h:m.target)},[e]),f=TI(function(m){l.current||c(m)}),u=TI(function(m){m.keyCode===y4e&&c(m)});k.useEffect(function(){if(!(n||e==null)){var m=window.event,h=v4e(VI(e)),g=Eg(h,o,d,!0),p=Eg(h,o,function(b){if(b===m){m=void 0;return}f(b)}),x=Eg(h,"keyup",function(b){if(b===m){m=void 0;return}u(b)}),v=[];return"ontouchstart"in h.documentElement&&(v=[].slice.call(h.body.children).map(function(b){return Eg(b,"mousemove",HI)})),function(){g(),p(),x(),v.forEach(function(b){return b()})}}},[e,n,o,d,f,u])}function j4e(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function N4e(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function S4e(e){var t,r,a,n,s=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,d=e.offset,f=e.fixed,u=e.containerPadding,m=e.arrowElement,h=e.popperConfig,g=h===void 0?{}:h,p=j4e(g.modifiers);return ln({},g,{placement:l,enabled:s,strategy:f?"fixed":g.strategy,modifiers:N4e(ln({},p,{eventListeners:{enabled:o},preventOverflow:ln({},p.preventOverflow,{options:u?ln({padding:u},(t=p.preventOverflow)==null?void 0:t.options):(r=p.preventOverflow)==null?void 0:r.options}),offset:{options:ln({offset:d},(a=p.offset)==null?void 0:a.options)},arrow:ln({},p.arrow,{enabled:!!m,options:ln({},(n=p.arrow)==null?void 0:n.options,{element:m})}),flip:ln({enabled:!!c},p.flip)}))})}function C4e(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function A4e(e,t){e.classList?e.classList.add(t):C4e(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function GI(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function E4e(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=GI(e.className,t):e.setAttribute("class",GI(e.className&&e.className.baseVal||"",t))}var Ay;function rA(e){if((!Ay&&Ay!==0||e)&&qC){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ay=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ay}var rN=function(t){var r;return typeof document>"u"?null:t==null?sv().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function qI(e,t){var r=k.useState(function(){return rN(e)}),a=r[0],n=r[1];if(!a){var s=rN(e);s&&n(s)}return k.useEffect(function(){},[t,a]),k.useEffect(function(){var o=rN(e);o!==a&&n(o)},[e,a]),a}const YI=e=>!e||typeof e=="function"?e:t=>{e.current=t};function _4e(e,t){const r=YI(e),a=YI(t);return n=>{r&&r(n),a&&a(n)}}function M4e(e,t){return k.useMemo(()=>_4e(e,t),[e,t])}var aA=Z.forwardRef(function(e,t){var r=e.flip,a=e.offset,n=e.placement,s=e.containerPadding,o=s===void 0?5:s,l=e.popperConfig,c=l===void 0?{}:l,d=e.transition,f=II(),u=f[0],m=f[1],h=II(),g=h[0],p=h[1],x=M4e(m,t),v=qI(e.container),b=qI(e.target),y=k.useState(!e.show),w=y[0],j=y[1],E=u4e(b,u,S4e({placement:n,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:a,arrowElement:g,popperConfig:c})),A=E.styles,C=E.attributes,S=i4(E,["styles","attributes"]);e.show?w&&j(!1):!e.transition&&!w&&j(!0);var T=function(){j(!0),e.onExited&&e.onExited.apply(e,arguments)},_=e.show||d&&!w;if(k4e(u,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!_)return null;var M=e.children(ln({},S,{show:!!e.show,props:ln({},C.popper,{style:A.popper,ref:x}),arrowProps:ln({},C.arrow,{style:A.arrow,ref:p})}));if(d){var D=e.onExit,O=e.onExiting,B=e.onEnter,U=e.onEntering,q=e.onEntered;M=Z.createElement(d,{in:e.show,appear:!0,onExit:D,onExiting:O,onExited:T,onEnter:B,onEntering:U,onEntered:q},M)}return v?n6.createPortal(M,v):null});aA.displayName="Overlay";aA.propTypes={show:Qe.bool,placement:Qe.oneOf(JC),target:Qe.any,container:Qe.any,flip:Qe.bool,children:Qe.func.isRequired,containerPadding:Qe.number,popperConfig:Qe.object,rootClose:Qe.bool,rootCloseEvent:Qe.oneOf(["click","mousedown"]),rootCloseDisabled:Qe.bool,onHide:function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];if(t.rootClose){var s;return(s=Qe.func).isRequired.apply(s,[t].concat(a))}return Qe.func.apply(Qe,[t].concat(a))},transition:Qe.elementType,onEnter:Qe.func,onEntering:Qe.func,onEntered:Qe.func,onExit:Qe.func,onExiting:Qe.func,onExited:Qe.func};function L4e(){this.__data__=[],this.size=0}var T4e=L4e,I4e=nv;function D4e(e,t){for(var r=e.length;r--;)if(I4e(e[r][0],t))return r;return-1}var d4=D4e,P4e=d4,O4e=Array.prototype,R4e=O4e.splice;function F4e(e){var t=this.__data__,r=P4e(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():R4e.call(t,r,1),--this.size,!0}var B4e=F4e,z4e=d4;function $4e(e){var t=this.__data__,r=z4e(t,e);return r<0?void 0:t[r][1]}var U4e=$4e,W4e=d4;function H4e(e){return W4e(this.__data__,e)>-1}var V4e=H4e,G4e=d4;function q4e(e,t){var r=this.__data__,a=G4e(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var Y4e=q4e,J4e=T4e,K4e=B4e,Q4e=U4e,X4e=V4e,Z4e=Y4e;function fp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}fp.prototype.clear=J4e;fp.prototype.delete=K4e;fp.prototype.get=Q4e;fp.prototype.has=X4e;fp.prototype.set=Z4e;var f4=fp,eke=f4;function tke(){this.__data__=new eke,this.size=0}var rke=tke;function ake(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var nke=ake;function ske(e){return this.__data__.get(e)}var ike=ske;function oke(e){return this.__data__.has(e)}var lke=oke,cke=Dl,dke=cke["__core-js_shared__"],fke=dke,aN=fke,JI=function(){var e=/[^.]+$/.exec(aN&&aN.keys&&aN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uke(e){return!!JI&&JI in e}var hke=uke,mke=Function.prototype,pke=mke.toString;function gke(e){if(e!=null){try{return pke.call(e)}catch{}try{return e+""}catch{}}return""}var HU=gke,xke=l4,vke=hke,yke=Yo,bke=HU,wke=/[\\^$.*+?()[\]{}|]/g,kke=/^\[object .+?Constructor\]$/,jke=Function.prototype,Nke=Object.prototype,Ske=jke.toString,Cke=Nke.hasOwnProperty,Ake=RegExp("^"+Ske.call(Cke).replace(wke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Eke(e){if(!yke(e)||vke(e))return!1;var t=xke(e)?Ake:kke;return t.test(bke(e))}var _ke=Eke;function Mke(e,t){return e==null?void 0:e[t]}var Lke=Mke,Tke=_ke,Ike=Lke;function Dke(e,t){var r=Ike(e,t);return Tke(r)?r:void 0}var I0=Dke,Pke=I0,Oke=Dl,Rke=Pke(Oke,"Map"),nA=Rke,Fke=I0,Bke=Fke(Object,"create"),u4=Bke,KI=u4;function zke(){this.__data__=KI?KI(null):{},this.size=0}var $ke=zke;function Uke(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Wke=Uke,Hke=u4,Vke="__lodash_hash_undefined__",Gke=Object.prototype,qke=Gke.hasOwnProperty;function Yke(e){var t=this.__data__;if(Hke){var r=t[e];return r===Vke?void 0:r}return qke.call(t,e)?t[e]:void 0}var Jke=Yke,Kke=u4,Qke=Object.prototype,Xke=Qke.hasOwnProperty;function Zke(e){var t=this.__data__;return Kke?t[e]!==void 0:Xke.call(t,e)}var eje=Zke,tje=u4,rje="__lodash_hash_undefined__";function aje(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tje&&t===void 0?rje:t,this}var nje=aje,sje=$ke,ije=Wke,oje=Jke,lje=eje,cje=nje;function up(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}up.prototype.clear=sje;up.prototype.delete=ije;up.prototype.get=oje;up.prototype.has=lje;up.prototype.set=cje;var dje=up,QI=dje,fje=f4,uje=nA;function hje(){this.size=0,this.__data__={hash:new QI,map:new(uje||fje),string:new QI}}var mje=hje;function pje(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gje=pje,xje=gje;function vje(e,t){var r=e.__data__;return xje(t)?r[typeof t=="string"?"string":"hash"]:r.map}var h4=vje,yje=h4;function bje(e){var t=yje(this,e).delete(e);return this.size-=t?1:0,t}var wje=bje,kje=h4;function jje(e){return kje(this,e).get(e)}var Nje=jje,Sje=h4;function Cje(e){return Sje(this,e).has(e)}var Aje=Cje,Eje=h4;function _je(e,t){var r=Eje(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var Mje=_je,Lje=mje,Tje=wje,Ije=Nje,Dje=Aje,Pje=Mje;function hp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}hp.prototype.clear=Lje;hp.prototype.delete=Tje;hp.prototype.get=Ije;hp.prototype.has=Dje;hp.prototype.set=Pje;var sA=hp,Oje=f4,Rje=nA,Fje=sA,Bje=200;function zje(e,t){var r=this.__data__;if(r instanceof Oje){var a=r.__data__;if(!Rje||a.length<Bje-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Fje(a)}return r.set(e,t),this.size=r.size,this}var $je=zje,Uje=f4,Wje=rke,Hje=nke,Vje=ike,Gje=lke,qje=$je;function mp(e){var t=this.__data__=new Uje(e);this.size=t.size}mp.prototype.clear=Wje;mp.prototype.delete=Hje;mp.prototype.get=Vje;mp.prototype.has=Gje;mp.prototype.set=qje;var iA=mp,Yje="__lodash_hash_undefined__";function Jje(e){return this.__data__.set(e,Yje),this}var Kje=Jje;function Qje(e){return this.__data__.has(e)}var Xje=Qje,Zje=sA,eNe=Kje,tNe=Xje;function c2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Zje;++t<r;)this.add(e[t])}c2.prototype.add=c2.prototype.push=eNe;c2.prototype.has=tNe;var VU=c2;function rNe(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var GU=rNe;function aNe(e,t){return e.has(t)}var qU=aNe,nNe=VU,sNe=GU,iNe=qU,oNe=1,lNe=2;function cNe(e,t,r,a,n,s){var o=r&oNe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var u=-1,m=!0,h=r&lNe?new nNe:void 0;for(s.set(e,t),s.set(t,e);++u<l;){var g=e[u],p=t[u];if(a)var x=o?a(p,g,u,t,e,s):a(g,p,u,e,t,s);if(x!==void 0){if(x)continue;m=!1;break}if(h){if(!sNe(t,function(v,b){if(!iNe(h,b)&&(g===v||n(g,v,r,a,s)))return h.push(b)})){m=!1;break}}else if(!(g===p||n(g,p,r,a,s))){m=!1;break}}return s.delete(e),s.delete(t),m}var YU=cNe,dNe=Dl,fNe=dNe.Uint8Array,JU=fNe;function uNe(e){var t=-1,r=Array(e.size);return e.forEach(function(a,n){r[++t]=[n,a]}),r}var hNe=uNe;function mNe(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var oA=mNe,XI=ip,ZI=JU,pNe=nv,gNe=YU,xNe=hNe,vNe=oA,yNe=1,bNe=2,wNe="[object Boolean]",kNe="[object Date]",jNe="[object Error]",NNe="[object Map]",SNe="[object Number]",CNe="[object RegExp]",ANe="[object Set]",ENe="[object String]",_Ne="[object Symbol]",MNe="[object ArrayBuffer]",LNe="[object DataView]",eD=XI?XI.prototype:void 0,nN=eD?eD.valueOf:void 0;function TNe(e,t,r,a,n,s,o){switch(r){case LNe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case MNe:return!(e.byteLength!=t.byteLength||!s(new ZI(e),new ZI(t)));case wNe:case kNe:case SNe:return pNe(+e,+t);case jNe:return e.name==t.name&&e.message==t.message;case CNe:case ENe:return e==t+"";case NNe:var l=xNe;case ANe:var c=a&yNe;if(l||(l=vNe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;a|=bNe,o.set(e,t);var f=gNe(l(e),l(t),a,n,s,o);return o.delete(e),f;case _Ne:if(nN)return nN.call(e)==nN.call(t)}return!1}var INe=TNe;function DNe(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}var lA=DNe,PNe=Array.isArray,si=PNe,ONe=lA,RNe=si;function FNe(e,t,r){var a=t(e);return RNe(e)?a:ONe(a,r(e))}var KU=FNe;function BNe(e,t){for(var r=-1,a=e==null?0:e.length,n=0,s=[];++r<a;){var o=e[r];t(o,r,e)&&(s[n++]=o)}return s}var zNe=BNe;function $Ne(){return[]}var QU=$Ne,UNe=zNe,WNe=QU,HNe=Object.prototype,VNe=HNe.propertyIsEnumerable,tD=Object.getOwnPropertySymbols,GNe=tD?function(e){return e==null?[]:(e=Object(e),UNe(tD(e),function(t){return VNe.call(e,t)}))}:WNe,cA=GNe;function qNe(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var YNe=qNe,JNe=kd,KNe=Pl,QNe="[object Arguments]";function XNe(e){return KNe(e)&&JNe(e)==QNe}var ZNe=XNe,rD=ZNe,e3e=Pl,XU=Object.prototype,t3e=XU.hasOwnProperty,r3e=XU.propertyIsEnumerable,a3e=rD(function(){return arguments}())?rD:function(e){return e3e(e)&&t3e.call(e,"callee")&&!r3e.call(e,"callee")},dA=a3e,d2={exports:{}};function n3e(){return!1}var s3e=n3e;d2.exports;(function(e,t){var r=Dl,a=s3e,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===n,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||a;e.exports=d})(d2,d2.exports);var m4=d2.exports,i3e=kd,o3e=HC,l3e=Pl,c3e="[object Arguments]",d3e="[object Array]",f3e="[object Boolean]",u3e="[object Date]",h3e="[object Error]",m3e="[object Function]",p3e="[object Map]",g3e="[object Number]",x3e="[object Object]",v3e="[object RegExp]",y3e="[object Set]",b3e="[object String]",w3e="[object WeakMap]",k3e="[object ArrayBuffer]",j3e="[object DataView]",N3e="[object Float32Array]",S3e="[object Float64Array]",C3e="[object Int8Array]",A3e="[object Int16Array]",E3e="[object Int32Array]",_3e="[object Uint8Array]",M3e="[object Uint8ClampedArray]",L3e="[object Uint16Array]",T3e="[object Uint32Array]",Pa={};Pa[N3e]=Pa[S3e]=Pa[C3e]=Pa[A3e]=Pa[E3e]=Pa[_3e]=Pa[M3e]=Pa[L3e]=Pa[T3e]=!0;Pa[c3e]=Pa[d3e]=Pa[k3e]=Pa[f3e]=Pa[j3e]=Pa[u3e]=Pa[h3e]=Pa[m3e]=Pa[p3e]=Pa[g3e]=Pa[x3e]=Pa[v3e]=Pa[y3e]=Pa[b3e]=Pa[w3e]=!1;function I3e(e){return l3e(e)&&o3e(e.length)&&!!Pa[i3e(e)]}var D3e=I3e;function P3e(e){return function(t){return e(t)}}var p4=P3e,f2={exports:{}};f2.exports;(function(e,t){var r=CU,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,s=n&&n.exports===a,o=s&&r.process,l=function(){try{var c=n&&n.require&&n.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(f2,f2.exports);var fA=f2.exports,O3e=D3e,R3e=p4,aD=fA,nD=aD&&aD.isTypedArray,F3e=nD?R3e(nD):O3e,uA=F3e,B3e=YNe,z3e=dA,$3e=si,U3e=m4,W3e=VC,H3e=uA,V3e=Object.prototype,G3e=V3e.hasOwnProperty;function q3e(e,t){var r=$3e(e),a=!r&&z3e(e),n=!r&&!a&&U3e(e),s=!r&&!a&&!n&&H3e(e),o=r||a||n||s,l=o?B3e(e.length,String):[],c=l.length;for(var d in e)(t||G3e.call(e,d))&&!(o&&(d=="length"||n&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||W3e(d,c)))&&l.push(d);return l}var ZU=q3e,Y3e=Object.prototype;function J3e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Y3e;return e===r}var hA=J3e;function K3e(e,t){return function(r){return e(t(r))}}var eW=K3e,Q3e=eW,X3e=Q3e(Object.keys,Object),Z3e=X3e,e5e=hA,t5e=Z3e,r5e=Object.prototype,a5e=r5e.hasOwnProperty;function n5e(e){if(!e5e(e))return t5e(e);var t=[];for(var r in Object(e))a5e.call(e,r)&&r!="constructor"&&t.push(r);return t}var s5e=n5e,i5e=ZU,o5e=s5e,l5e=lp;function c5e(e){return l5e(e)?i5e(e):o5e(e)}var pp=c5e,d5e=KU,f5e=cA,u5e=pp;function h5e(e){return d5e(e,u5e,f5e)}var tW=h5e,sD=tW,m5e=1,p5e=Object.prototype,g5e=p5e.hasOwnProperty;function x5e(e,t,r,a,n,s){var o=r&m5e,l=sD(e),c=l.length,d=sD(t),f=d.length;if(c!=f&&!o)return!1;for(var u=c;u--;){var m=l[u];if(!(o?m in t:g5e.call(t,m)))return!1}var h=s.get(e),g=s.get(t);if(h&&g)return h==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var x=o;++u<c;){m=l[u];var v=e[m],b=t[m];if(a)var y=o?a(b,v,m,t,e,s):a(v,b,m,e,t,s);if(!(y===void 0?v===b||n(v,b,r,a,s):y)){p=!1;break}x||(x=m=="constructor")}if(p&&!x){var w=e.constructor,j=t.constructor;w!=j&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof j=="function"&&j instanceof j)&&(p=!1)}return s.delete(e),s.delete(t),p}var v5e=x5e,y5e=I0,b5e=Dl,w5e=y5e(b5e,"DataView"),k5e=w5e,j5e=I0,N5e=Dl,S5e=j5e(N5e,"Promise"),C5e=S5e,A5e=I0,E5e=Dl,_5e=A5e(E5e,"Set"),rW=_5e,M5e=I0,L5e=Dl,T5e=M5e(L5e,"WeakMap"),I5e=T5e,r5=k5e,a5=nA,n5=C5e,s5=rW,i5=I5e,aW=kd,gp=HU,iD="[object Map]",D5e="[object Object]",oD="[object Promise]",lD="[object Set]",cD="[object WeakMap]",dD="[object DataView]",P5e=gp(r5),O5e=gp(a5),R5e=gp(n5),F5e=gp(s5),B5e=gp(i5),mu=aW;(r5&&mu(new r5(new ArrayBuffer(1)))!=dD||a5&&mu(new a5)!=iD||n5&&mu(n5.resolve())!=oD||s5&&mu(new s5)!=lD||i5&&mu(new i5)!=cD)&&(mu=function(e){var t=aW(e),r=t==D5e?e.constructor:void 0,a=r?gp(r):"";if(a)switch(a){case P5e:return dD;case O5e:return iD;case R5e:return oD;case F5e:return lD;case B5e:return cD}return t});var g4=mu,sN=iA,z5e=YU,$5e=INe,U5e=v5e,fD=g4,uD=si,hD=m4,W5e=uA,H5e=1,mD="[object Arguments]",pD="[object Array]",Ey="[object Object]",V5e=Object.prototype,gD=V5e.hasOwnProperty;function G5e(e,t,r,a,n,s){var o=uD(e),l=uD(t),c=o?pD:fD(e),d=l?pD:fD(t);c=c==mD?Ey:c,d=d==mD?Ey:d;var f=c==Ey,u=d==Ey,m=c==d;if(m&&hD(e)){if(!hD(t))return!1;o=!0,f=!1}if(m&&!f)return s||(s=new sN),o||W5e(e)?z5e(e,t,r,a,n,s):$5e(e,t,c,r,a,n,s);if(!(r&H5e)){var h=f&&gD.call(e,"__wrapped__"),g=u&&gD.call(t,"__wrapped__");if(h||g){var p=h?e.value():e,x=g?t.value():t;return s||(s=new sN),n(p,x,r,a,s)}}return m?(s||(s=new sN),U5e(e,t,r,a,n,s)):!1}var q5e=G5e,Y5e=q5e,xD=Pl;function nW(e,t,r,a,n){return e===t?!0:e==null||t==null||!xD(e)&&!xD(t)?e!==e&&t!==t:Y5e(e,t,r,a,nW,n)}var mA=nW,J5e=mA;function K5e(e,t){return J5e(e,t)}var Q5e=K5e;const lv=Lr(Q5e);function iN(e,t){var r=GC(e);return r?r.innerHeight:Pu(e).height}function sW(e,t,r){e.closest&&!r&&e.closest(t);var a=e;do{if(ewe(a,t))return a;a=a.parentElement}while(a&&a!==r&&a.nodeType===document.ELEMENT_NODE);return null}function X5e(e,t,r,a){for(var n=e.length,s=r+(a?1:-1);a?s--:++s<n;)if(t(e[s],s,e))return s;return-1}var iW=X5e,Z5e=iA,eSe=mA,tSe=1,rSe=2;function aSe(e,t,r,a){var n=r.length,s=n,o=!a;if(e==null)return!s;for(e=Object(e);n--;){var l=r[n];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++n<s;){l=r[n];var c=l[0],d=e[c],f=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var u=new Z5e;if(a)var m=a(d,f,c,e,t,u);if(!(m===void 0?eSe(f,d,tSe|rSe,a,u):m))return!1}}return!0}var nSe=aSe,sSe=Yo;function iSe(e){return e===e&&!sSe(e)}var oW=iSe,oSe=oW,lSe=pp;function cSe(e){for(var t=lSe(e),r=t.length;r--;){var a=t[r],n=e[a];t[r]=[a,n,oSe(n)]}return t}var dSe=cSe;function fSe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var lW=fSe,uSe=nSe,hSe=dSe,mSe=lW;function pSe(e){var t=hSe(e);return t.length==1&&t[0][2]?mSe(t[0][0],t[0][1]):function(r){return r===e||uSe(r,e,t)}}var gSe=pSe,xSe=si,vSe=dp,ySe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bSe=/^\w*$/;function wSe(e,t){if(xSe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||vSe(e)?!0:bSe.test(e)||!ySe.test(e)||t!=null&&e in Object(t)}var pA=wSe,cW=sA,kSe="Expected a function";function gA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(kSe);var r=function(){var a=arguments,n=t?t.apply(this,a):a[0],s=r.cache;if(s.has(n))return s.get(n);var o=e.apply(this,a);return r.cache=s.set(n,o)||s,o};return r.cache=new(gA.Cache||cW),r}gA.Cache=cW;var dW=gA;const jSe=Lr(dW);var NSe=dW,SSe=500;function CSe(e){var t=NSe(e,function(a){return r.size===SSe&&r.clear(),a}),r=t.cache;return t}var ASe=CSe,ESe=ASe,_Se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MSe=/\\(\\)?/g,LSe=ESe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_Se,function(r,a,n,s){t.push(n?s.replace(MSe,"$1"):a||r)}),t}),TSe=LSe;function ISe(e,t){for(var r=-1,a=e==null?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}var x4=ISe,vD=ip,DSe=x4,PSe=si,OSe=dp,yD=vD?vD.prototype:void 0,bD=yD?yD.toString:void 0;function fW(e){if(typeof e=="string")return e;if(PSe(e))return DSe(e,fW)+"";if(OSe(e))return bD?bD.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var RSe=fW,FSe=RSe;function BSe(e){return e==null?"":FSe(e)}var uW=BSe,zSe=si,$Se=pA,USe=TSe,WSe=uW;function HSe(e,t){return zSe(e)?e:$Se(e,t)?[e]:USe(WSe(e))}var v4=HSe,VSe=dp;function GSe(e){if(typeof e=="string"||VSe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var cv=GSe,qSe=v4,YSe=cv;function JSe(e,t){t=qSe(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[YSe(t[r++])];return r&&r==a?e:void 0}var y4=JSe,KSe=y4;function QSe(e,t,r){var a=e==null?void 0:KSe(e,t);return a===void 0?r:a}var hW=QSe;const Oo=Lr(hW);function XSe(e,t){return e!=null&&t in Object(e)}var ZSe=XSe,e6e=v4,t6e=dA,r6e=si,a6e=VC,n6e=HC,s6e=cv;function i6e(e,t,r){t=e6e(t,e);for(var a=-1,n=t.length,s=!1;++a<n;){var o=s6e(t[a]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++a!=n?s:(n=e==null?0:e.length,!!n&&n6e(n)&&a6e(o,n)&&(r6e(e)||t6e(e)))}var o6e=i6e,l6e=ZSe,c6e=o6e;function d6e(e,t){return e!=null&&c6e(e,t,l6e)}var f6e=d6e,u6e=mA,h6e=hW,m6e=f6e,p6e=pA,g6e=oW,x6e=lW,v6e=cv,y6e=1,b6e=2;function w6e(e,t){return p6e(e)&&g6e(t)?x6e(v6e(e),t):function(r){var a=h6e(r,e);return a===void 0&&a===t?m6e(r,e):u6e(t,a,y6e|b6e)}}var k6e=w6e;function j6e(e){return e}var xp=j6e;function N6e(e){return function(t){return t==null?void 0:t[e]}}var S6e=N6e,C6e=y4;function A6e(e){return function(t){return C6e(t,e)}}var E6e=A6e,_6e=S6e,M6e=E6e,L6e=pA,T6e=cv;function I6e(e){return L6e(e)?_6e(T6e(e)):M6e(e)}var D6e=I6e,P6e=gSe,O6e=k6e,R6e=xp,F6e=si,B6e=D6e;function z6e(e){return typeof e=="function"?e:e==null?R6e:typeof e=="object"?F6e(e)?O6e(e[0],e[1]):P6e(e):B6e(e)}var jd=z6e,$6e=iW,U6e=jd,W6e=MU,H6e=Math.max;function V6e(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var n=r==null?0:W6e(r);return n<0&&(n=H6e(a+n,0)),$6e(e,U6e(t),n)}var mW=V6e;const G6e=Lr(mW);var q6e=Math.ceil,Y6e=Math.max;function J6e(e,t,r,a){for(var n=-1,s=Y6e(q6e((t-e)/(r||1)),0),o=Array(s);s--;)o[a?s:++n]=e,e+=r;return o}var K6e=J6e,Q6e=K6e,X6e=cp,oN=_U;function Z6e(e){return function(t,r,a){return a&&typeof a!="number"&&X6e(t,r,a)&&(r=a=void 0),t=oN(t),r===void 0?(r=t,t=0):r=oN(r),a=a===void 0?t<r?1:-1:oN(a),Q6e(t,r,a,e)}}var eCe=Z6e,tCe=eCe,rCe=tCe(),aCe=rCe;const Gx=Lr(aCe);var wD=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function nCe(e,t){return!!(e===t||wD(e)&&wD(t))}function sCe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!nCe(e[r],t[r]))return!1;return!0}function pW(e,t){t===void 0&&(t=sCe);var r=null;function a(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var o=e.apply(this,n);return r={lastResult:o,lastArgs:n,lastThis:this},o}return a.clear=function(){r=null},a}function o5(e,t){var r=GC(e);return r?r.innerWidth:Pu(e).width}var kD=ip,iCe=dA,oCe=si,jD=kD?kD.isConcatSpreadable:void 0;function lCe(e){return oCe(e)||iCe(e)||!!(jD&&e&&e[jD])}var cCe=lCe,dCe=lA,fCe=cCe;function gW(e,t,r,a,n){var s=-1,o=e.length;for(r||(r=fCe),n||(n=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?gW(l,t-1,r,a,n):dCe(n,l):a||(n[n.length]=l)}return n}var xA=gW;function uCe(e){return function(t,r,a){for(var n=-1,s=Object(t),o=a(t),l=o.length;l--;){var c=o[e?l:++n];if(r(s[c],c,s)===!1)break}return t}}var hCe=uCe,mCe=hCe,pCe=mCe(),gCe=pCe,xCe=gCe,vCe=pp;function yCe(e,t){return e&&xCe(e,t,vCe)}var vA=yCe,bCe=lp;function wCe(e,t){return function(r,a){if(r==null)return r;if(!bCe(r))return e(r,a);for(var n=r.length,s=t?n:-1,o=Object(r);(t?s--:++s<n)&&a(o[s],s,o)!==!1;);return r}}var kCe=wCe,jCe=vA,NCe=kCe,SCe=NCe(jCe),yA=SCe,CCe=yA,ACe=lp;function ECe(e,t){var r=-1,a=ACe(e)?Array(e.length):[];return CCe(e,function(n,s,o){a[++r]=t(n,s,o)}),a}var xW=ECe;function _Ce(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var MCe=_Ce,ND=dp;function LCe(e,t){if(e!==t){var r=e!==void 0,a=e===null,n=e===e,s=ND(e),o=t!==void 0,l=t===null,c=t===t,d=ND(t);if(!l&&!d&&!s&&e>t||s&&o&&c&&!l&&!d||a&&o&&c||!r&&c||!n)return 1;if(!a&&!s&&!d&&e<t||d&&r&&n&&!a&&!s||l&&r&&n||!o&&n||!c)return-1}return 0}var TCe=LCe,ICe=TCe;function DCe(e,t,r){for(var a=-1,n=e.criteria,s=t.criteria,o=n.length,l=r.length;++a<o;){var c=ICe(n[a],s[a]);if(c){if(a>=l)return c;var d=r[a];return c*(d=="desc"?-1:1)}}return e.index-t.index}var PCe=DCe,lN=x4,OCe=y4,RCe=jd,FCe=xW,BCe=MCe,zCe=p4,$Ce=PCe,UCe=xp,WCe=si;function HCe(e,t,r){t.length?t=lN(t,function(s){return WCe(s)?function(o){return OCe(o,s.length===1?s[0]:s)}:s}):t=[UCe];var a=-1;t=lN(t,zCe(RCe));var n=FCe(e,function(s,o,l){var c=lN(t,function(d){return d(s)});return{criteria:c,index:++a,value:s}});return BCe(n,function(s,o){return $Ce(s,o,r)})}var VCe=HCe;function GCe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qCe=GCe,YCe=qCe,SD=Math.max;function JCe(e,t,r){return t=SD(t===void 0?e.length-1:t,0),function(){for(var a=arguments,n=-1,s=SD(a.length-t,0),o=Array(s);++n<s;)o[n]=a[t+n];n=-1;for(var l=Array(t+1);++n<t;)l[n]=a[n];return l[t]=r(o),YCe(e,this,l)}}var vW=JCe;function KCe(e){return function(){return e}}var QCe=KCe,XCe=I0,ZCe=function(){try{var e=XCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yW=ZCe,eAe=QCe,CD=yW,tAe=xp,rAe=CD?function(e,t){return CD(e,"toString",{configurable:!0,enumerable:!1,value:eAe(t),writable:!0})}:tAe,aAe=rAe,nAe=800,sAe=16,iAe=Date.now;function oAe(e){var t=0,r=0;return function(){var a=iAe(),n=sAe-(a-r);if(r=a,n>0){if(++t>=nAe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var lAe=oAe,cAe=aAe,dAe=lAe,fAe=dAe(cAe),bW=fAe,uAe=xp,hAe=vW,mAe=bW;function pAe(e,t){return mAe(hAe(e,t,uAe),e+"")}var wW=pAe,gAe=xA,xAe=VCe,vAe=wW,AD=cp,yAe=vAe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&AD(e,t[0],t[1])?t=[]:r>2&&AD(t[0],t[1],t[2])&&(t=[t[0]]),xAe(e,gAe(t,1),[])}),bAe=yAe;const b4=Lr(bAe);function kW(e){return jR(e)||SU(e)||S6(e)||NR()}function wAe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var kAe=wAe,jAe=Yo,NAe=hA,SAe=kAe,CAe=Object.prototype,AAe=CAe.hasOwnProperty;function EAe(e){if(!jAe(e))return SAe(e);var t=NAe(e),r=[];for(var a in e)a=="constructor"&&(t||!AAe.call(e,a))||r.push(a);return r}var _Ae=EAe,MAe=ZU,LAe=_Ae,TAe=lp;function IAe(e){return TAe(e)?MAe(e,!0):LAe(e)}var w4=IAe,DAe=wW,PAe=nv,OAe=cp,RAe=w4,jW=Object.prototype,FAe=jW.hasOwnProperty,BAe=DAe(function(e,t){e=Object(e);var r=-1,a=t.length,n=a>2?t[2]:void 0;for(n&&OAe(t[0],t[1],n)&&(a=1);++r<a;)for(var s=t[r],o=RAe(s),l=-1,c=o.length;++l<c;){var d=o[l],f=e[d];(f===void 0||PAe(f,jW[d])&&!FAe.call(e,d))&&(e[d]=s[d])}return e}),zAe=BAe;const $Ae=Lr(zAe);var ED=yW;function UAe(e,t,r){t=="__proto__"&&ED?ED(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var bA=UAe,WAe=bA,HAe=vA,VAe=jd;function GAe(e,t){var r={};return t=VAe(t),HAe(e,function(a,n,s){WAe(r,n,t(a,n,s))}),r}var qAe=GAe;const NW=Lr(qAe);function YAe(e,t){for(var r=-1,a=e==null?0:e.length;++r<a&&t(e[r],r,e)!==!1;);return e}var SW=YAe,JAe=bA,KAe=nv,QAe=Object.prototype,XAe=QAe.hasOwnProperty;function ZAe(e,t,r){var a=e[t];(!(XAe.call(e,t)&&KAe(a,r))||r===void 0&&!(t in e))&&JAe(e,t,r)}var CW=ZAe,eEe=CW,tEe=bA;function rEe(e,t,r,a){var n=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var l=t[s],c=a?a(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),n?tEe(r,l,c):eEe(r,l,c)}return r}var dv=rEe,aEe=dv,nEe=pp;function sEe(e,t){return e&&aEe(t,nEe(t),e)}var iEe=sEe,oEe=dv,lEe=w4;function cEe(e,t){return e&&oEe(t,lEe(t),e)}var dEe=cEe,u2={exports:{}};u2.exports;(function(e,t){var r=Dl,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,s=n&&n.exports===a,o=s?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var u=d.length,m=l?l(u):new d.constructor(u);return d.copy(m),m}e.exports=c})(u2,u2.exports);var fEe=u2.exports;function uEe(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}var hEe=uEe,mEe=dv,pEe=cA;function gEe(e,t){return mEe(e,pEe(e),t)}var xEe=gEe,vEe=eW,yEe=vEe(Object.getPrototypeOf,Object),k4=yEe,bEe=lA,wEe=k4,kEe=cA,jEe=QU,NEe=Object.getOwnPropertySymbols,SEe=NEe?function(e){for(var t=[];e;)bEe(t,kEe(e)),e=wEe(e);return t}:jEe,AW=SEe,CEe=dv,AEe=AW;function EEe(e,t){return CEe(e,AEe(e),t)}var _Ee=EEe,MEe=KU,LEe=AW,TEe=w4;function IEe(e){return MEe(e,TEe,LEe)}var EW=IEe,DEe=Object.prototype,PEe=DEe.hasOwnProperty;function OEe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&PEe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var REe=OEe,_D=JU;function FEe(e){var t=new e.constructor(e.byteLength);return new _D(t).set(new _D(e)),t}var wA=FEe,BEe=wA;function zEe(e,t){var r=t?BEe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var $Ee=zEe,UEe=/\w*$/;function WEe(e){var t=new e.constructor(e.source,UEe.exec(e));return t.lastIndex=e.lastIndex,t}var HEe=WEe,MD=ip,LD=MD?MD.prototype:void 0,TD=LD?LD.valueOf:void 0;function VEe(e){return TD?Object(TD.call(e)):{}}var GEe=VEe,qEe=wA;function YEe(e,t){var r=t?qEe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var JEe=YEe,KEe=wA,QEe=$Ee,XEe=HEe,ZEe=GEe,e_e=JEe,t_e="[object Boolean]",r_e="[object Date]",a_e="[object Map]",n_e="[object Number]",s_e="[object RegExp]",i_e="[object Set]",o_e="[object String]",l_e="[object Symbol]",c_e="[object ArrayBuffer]",d_e="[object DataView]",f_e="[object Float32Array]",u_e="[object Float64Array]",h_e="[object Int8Array]",m_e="[object Int16Array]",p_e="[object Int32Array]",g_e="[object Uint8Array]",x_e="[object Uint8ClampedArray]",v_e="[object Uint16Array]",y_e="[object Uint32Array]";function b_e(e,t,r){var a=e.constructor;switch(t){case c_e:return KEe(e);case t_e:case r_e:return new a(+e);case d_e:return QEe(e,r);case f_e:case u_e:case h_e:case m_e:case p_e:case g_e:case x_e:case v_e:case y_e:return e_e(e,r);case a_e:return new a;case n_e:case o_e:return new a(e);case s_e:return XEe(e);case i_e:return new a;case l_e:return ZEe(e)}}var w_e=b_e,k_e=Yo,ID=Object.create,j_e=function(){function e(){}return function(t){if(!k_e(t))return{};if(ID)return ID(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),_W=j_e,N_e=_W,S_e=k4,C_e=hA;function A_e(e){return typeof e.constructor=="function"&&!C_e(e)?N_e(S_e(e)):{}}var E_e=A_e,__e=g4,M_e=Pl,L_e="[object Map]";function T_e(e){return M_e(e)&&__e(e)==L_e}var I_e=T_e,D_e=I_e,P_e=p4,DD=fA,PD=DD&&DD.isMap,O_e=PD?P_e(PD):D_e,R_e=O_e,F_e=g4,B_e=Pl,z_e="[object Set]";function $_e(e){return B_e(e)&&F_e(e)==z_e}var U_e=$_e,W_e=U_e,H_e=p4,OD=fA,RD=OD&&OD.isSet,V_e=RD?H_e(RD):W_e,G_e=V_e,q_e=iA,Y_e=SW,J_e=CW,K_e=iEe,Q_e=dEe,X_e=fEe,Z_e=hEe,eMe=xEe,tMe=_Ee,rMe=tW,aMe=EW,nMe=g4,sMe=REe,iMe=w_e,oMe=E_e,lMe=si,cMe=m4,dMe=R_e,fMe=Yo,uMe=G_e,hMe=pp,mMe=w4,pMe=1,gMe=2,xMe=4,MW="[object Arguments]",vMe="[object Array]",yMe="[object Boolean]",bMe="[object Date]",wMe="[object Error]",LW="[object Function]",kMe="[object GeneratorFunction]",jMe="[object Map]",NMe="[object Number]",TW="[object Object]",SMe="[object RegExp]",CMe="[object Set]",AMe="[object String]",EMe="[object Symbol]",_Me="[object WeakMap]",MMe="[object ArrayBuffer]",LMe="[object DataView]",TMe="[object Float32Array]",IMe="[object Float64Array]",DMe="[object Int8Array]",PMe="[object Int16Array]",OMe="[object Int32Array]",RMe="[object Uint8Array]",FMe="[object Uint8ClampedArray]",BMe="[object Uint16Array]",zMe="[object Uint32Array]",Aa={};Aa[MW]=Aa[vMe]=Aa[MMe]=Aa[LMe]=Aa[yMe]=Aa[bMe]=Aa[TMe]=Aa[IMe]=Aa[DMe]=Aa[PMe]=Aa[OMe]=Aa[jMe]=Aa[NMe]=Aa[TW]=Aa[SMe]=Aa[CMe]=Aa[AMe]=Aa[EMe]=Aa[RMe]=Aa[FMe]=Aa[BMe]=Aa[zMe]=!0;Aa[wMe]=Aa[LW]=Aa[_Me]=!1;function yb(e,t,r,a,n,s){var o,l=t&pMe,c=t&gMe,d=t&xMe;if(r&&(o=n?r(e,a,n,s):r(e)),o!==void 0)return o;if(!fMe(e))return e;var f=lMe(e);if(f){if(o=sMe(e),!l)return Z_e(e,o)}else{var u=nMe(e),m=u==LW||u==kMe;if(cMe(e))return X_e(e,l);if(u==TW||u==MW||m&&!n){if(o=c||m?{}:oMe(e),!l)return c?tMe(e,Q_e(o,e)):eMe(e,K_e(o,e))}else{if(!Aa[u])return n?e:{};o=iMe(e,u,l)}}s||(s=new q_e);var h=s.get(e);if(h)return h;s.set(e,o),uMe(e)?e.forEach(function(x){o.add(yb(x,t,r,x,e,s))}):dMe(e)&&e.forEach(function(x,v){o.set(v,yb(x,t,r,v,e,s))});var g=d?c?aMe:rMe:c?mMe:hMe,p=f?void 0:g(e);return Y_e(p||e,function(x,v){p&&(v=x,x=e[v]),J_e(o,v,yb(x,t,r,v,e,s))}),o}var $Me=yb;function UMe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var IW=UMe;const WMe=Lr(IW);var HMe=y4,VMe=WC;function GMe(e,t){return t.length<2?e:HMe(e,VMe(t,0,-1))}var qMe=GMe,YMe=v4,JMe=IW,KMe=qMe,QMe=cv;function XMe(e,t){return t=YMe(t,e),e=KMe(e,t),e==null||delete e[QMe(JMe(t))]}var ZMe=XMe,eLe=kd,tLe=k4,rLe=Pl,aLe="[object Object]",nLe=Function.prototype,sLe=Object.prototype,DW=nLe.toString,iLe=sLe.hasOwnProperty,oLe=DW.call(Object);function lLe(e){if(!rLe(e)||eLe(e)!=aLe)return!1;var t=tLe(e);if(t===null)return!0;var r=iLe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&DW.call(r)==oLe}var PW=lLe;const cLe=Lr(PW);var dLe=PW;function fLe(e){return dLe(e)?void 0:e}var uLe=fLe,hLe=xA;function mLe(e){var t=e==null?0:e.length;return t?hLe(e,1):[]}var pLe=mLe,gLe=pLe,xLe=vW,vLe=bW;function yLe(e){return vLe(xLe(e,void 0,gLe),e+"")}var bLe=yLe,wLe=x4,kLe=$Me,jLe=ZMe,NLe=v4,SLe=dv,CLe=uLe,ALe=bLe,ELe=EW,_Le=1,MLe=2,LLe=4,TLe=ALe(function(e,t){var r={};if(e==null)return r;var a=!1;t=wLe(t,function(s){return s=NLe(s,e),a||(a=s.length>1),s}),SLe(e,ELe(e),r),a&&(r=kLe(r,_Le|MLe|LLe,CLe));for(var n=t.length;n--;)jLe(r,t[n]);return r}),ILe=TLe;const DLe=Lr(ILe);var PLe=SW,OLe=_W,RLe=vA,FLe=jd,BLe=k4,zLe=si,$Le=m4,ULe=l4,WLe=Yo,HLe=uA;function VLe(e,t,r){var a=zLe(e),n=a||$Le(e)||HLe(e);if(t=FLe(t),r==null){var s=e&&e.constructor;n?r=a?new s:[]:WLe(e)?r=ULe(s)?OLe(BLe(e)):{}:r={}}return(n?PLe:RLe)(e,function(o,l,c){return t(r,o,l,c)}),r}var GLe=VLe;const qLe=Lr(GLe);var YLe={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(ms,function(){return function(r,a,n){a.prototype.isBetween=function(s,o,l,c){var d=n(s),f=n(o),u=(c=c||"()")[0]==="(",m=c[1]===")";return(u?this.isAfter(d,l):!this.isBefore(d,l))&&(m?this.isBefore(f,l):!this.isAfter(f,l))||(u?this.isBefore(d,l):!this.isAfter(d,l))&&(m?this.isAfter(f,l):!this.isBefore(f,l))}}})})(YLe);var JLe={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(ms,function(){return function(r,a){a.prototype.isSameOrAfter=function(n,s){return this.isSame(n,s)||this.isAfter(n,s)}}})})(JLe);var KLe={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(ms,function(){return function(r,a){a.prototype.isSameOrBefore=function(n,s){return this.isSame(n,s)||this.isBefore(n,s)}}})})(KLe);var QLe={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(ms,function(){return function(r,a,n){var s=a.prototype,o=function(u){return u&&(u.indexOf?u:u.s)},l=function(u,m,h,g,p){var x=u.name?u:u.$locale(),v=o(x[m]),b=o(x[h]),y=v||b.map(function(j){return j.slice(0,g)});if(!p)return y;var w=x.weekStart;return y.map(function(j,E){return y[(E+(w||0))%7]})},c=function(){return n.Ls[n.locale()]},d=function(u,m){return u.formats[m]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,p,x){return p||x.slice(1)})}(u.formats[m.toUpperCase()])},f=function(){var u=this;return{months:function(m){return m?m.format("MMMM"):l(u,"months")},monthsShort:function(m){return m?m.format("MMM"):l(u,"monthsShort","months",3)},firstDayOfWeek:function(){return u.$locale().weekStart||0},weekdays:function(m){return m?m.format("dddd"):l(u,"weekdays")},weekdaysMin:function(m){return m?m.format("dd"):l(u,"weekdaysMin","weekdays",2)},weekdaysShort:function(m){return m?m.format("ddd"):l(u,"weekdaysShort","weekdays",3)},longDateFormat:function(m){return d(u.$locale(),m)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return f.bind(this)()},n.localeData=function(){var u=c();return{firstDayOfWeek:function(){return u.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(m){return d(u,m)},meridiem:u.meridiem,ordinal:u.ordinal}},n.months=function(){return l(c(),"months")},n.monthsShort=function(){return l(c(),"monthsShort","months",3)},n.weekdays=function(u){return l(c(),"weekdays",null,null,u)},n.weekdaysShort=function(u){return l(c(),"weekdaysShort","weekdays",3,u)},n.weekdaysMin=function(u){return l(c(),"weekdaysMin","weekdays",2,u)}}})})(QLe);var XLe={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(ms,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,n,s){var o=n.prototype,l=o.format;s.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,f=function(u,m){return u.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,g,p){var x=p&&p.toUpperCase();return g||m[p]||r[p]||m[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,b,y){return b||y.slice(1)})})}(c,d===void 0?{}:d);return l.call(this,f)}}})})(XLe);var ZLe={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(ms,function(){return function(r,a,n){var s=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(f){return f}))[0];for(var d=1;d<l.length;d+=1)l[d].isValid()&&!l[d][o](c)||(c=l[d]);return c};n.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},n.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(ZLe);var eTe={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(ms,function(){var r="minute",a=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(s,o,l){var c=o.prototype;l.utc=function(p){var x={date:p,utc:!0,args:arguments};return new o(x)},c.utc=function(p){var x=l(this.toDate(),{locale:this.$L,utc:!0});return p?x.add(this.utcOffset(),r):x},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var d=c.parse;c.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),d.call(this,p)};var f=c.init;c.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else f.call(this)};var u=c.utcOffset;c.utcOffset=function(p,x){var v=this.$utils().u;if(v(p))return this.$u?0:v(this.$offset)?u.call(this):this.$offset;if(typeof p=="string"&&(p=function(j){j===void 0&&(j="");var E=j.match(a);if(!E)return null;var A=(""+E[0]).match(n)||["-",0,0],C=A[0],S=60*+A[1]+ +A[2];return S===0?0:C==="+"?S:-S}(p),p===null))return this;var b=Math.abs(p)<=16?60*p:p;if(b===0)return this.utc(x);var y=this.clone();if(x)return y.$offset=b,y.$u=!1,y;var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(y=this.local().add(b+w,r)).$offset=b,y.$x.$localOffset=w,y};var m=c.format;c.format=function(p){var x=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,x)},c.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var h=c.toDate;c.toDate=function(p){return p==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var g=c.diff;c.diff=function(p,x,v){if(p&&this.$u===p.$u)return g.call(this,p,x,v);var b=this.local(),y=l(p).local();return g.call(b,y,x,v)}}})})(eTe);var tTe={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(ms,function(){return function(r,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(tTe);function Kl(e){return e.children}var Li={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},pi={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},FD=Object.keys(pi).map(function(e){return pi[e]});Qe.oneOfType([Qe.string,Qe.func]);Qe.any;Qe.func;Qe.oneOfType([Qe.arrayOf(Qe.oneOf(FD)),Qe.objectOf(function(e,t){var r=FD.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var a=arguments.length,n=new Array(a>2?a-2:0),s=2;s<a;s++)n[s-2]=arguments[s];return Qe.elementType.apply(Qe,[e,t].concat(n))})]);Qe.oneOfType([Qe.oneOf(["overlap","no-overlap"]),Qe.func]);var BD={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function OW(e,t){var r=Ts(e,"month");return Ts(r,"week",t.startOfWeek())}function RW(e,t){var r=i2(e,"month");return i2(r,"week",t.startOfWeek())}function rTe(e,t){for(var r=OW(e,t),a=RW(e,t),n=[];np(r,a,"day");)n.push(r),r=Al(r,1,"day");return n}function aTe(e,t){var r=Ts(e,t);return ap(r,e)?r:Al(r,1,t)}function nTe(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",a=e,n=[];np(a,t,r);)n.push(a),a=Al(a,1,r);return n}function sTe(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Ts(e,"day"),e=Ux(e,Ux(t)),e=am(e,am(t)),e=$x(e,$x(t)),zx(e,zx(t)))}function zD(e){return Ux(e)===0&&am(e)===0&&$x(e)===0&&zx(e)===0}function iTe(e,t,r,a){return r==="day"&&(r="date"),Math.abs(kI[r](e,void 0,a)-kI[r](t,void 0,a))}function kA(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Ts(e,r)/BD[r]-+Ts(t,r)/BD[r]))}var oTe=Qe.oneOfType([Qe.string,Qe.func]);function lTe(e,t,r,a,n){var s=typeof a=="function"?a(r,n,e):t.call(e,r,a,n);return Dx(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function cTe(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function jA(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function dTe(e,t){return kA(e,t,"minutes")+jA(e,t)}function fTe(e){var t=Ts(e,"day");return kA(t,e,"minutes")+jA(t,e)}function uTe(e,t){return UC(e,t,"day")}function hTe(e,t,r){var a=ap(e,t,"minutes");return a?av(t,r,"minutes"):o4(t,r,"minutes")}function l5(e,t){return iTe(e,t,"day")}function mTe(e){var t=e.evtA,r=t.start,a=t.end,n=t.allDay,s=e.evtB,o=s.start,l=s.end,c=s.allDay,d=+Ts(r,"day")-+Ts(o,"day"),f=l5(r,a),u=l5(o,l);return d||u-f||!!c-!!n||+r-+o||+a-+l}function pTe(e){var t=e.event,r=t.start,a=t.end,n=e.range,s=n.start,o=n.end,l=Ts(r,"day"),c=np(l,o,"day"),d=$C(l,a,"minutes"),f=d?o4(a,s,"minutes"):av(a,s,"minutes");return c&&f}function gTe(e,t){return ap(e,t,"day")}function xTe(e,t){return zD(e)&&zD(t)}var vTe=is(function e(t){var r=this;ss(this,e),Dx(typeof t.format=="function","date localizer `format(..)` must be a function"),Dx(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||oTe,this.formats=t.formats,this.format=function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return lTe.apply(void 0,[r,t.format].concat(n))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||sTe,this.inRange=t.inRange||wU,this.lt=t.lt||UC,this.lte=t.lte||np,this.gt=t.gt||o4,this.gte=t.gte||av,this.eq=t.eq||ap,this.neq=t.neq||$C,this.startOf=t.startOf||Ts,this.endOf=t.endOf||i2,this.add=t.add||Al,this.range=t.range||nTe,this.diff=t.diff||kA,this.ceil=t.ceil||aTe,this.min=t.min||yU,this.max=t.max||bU,this.minutes=t.minutes||am,this.daySpan=t.daySpan||l5,this.firstVisibleDay=t.firstVisibleDay||OW,this.lastVisibleDay=t.lastVisibleDay||RW,this.visibleDays=t.visibleDays||rTe,this.getSlotDate=t.getSlotDate||cTe,this.getTimezoneOffset=t.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||jA,this.getTotalMin=t.getTotalMin||dTe,this.getMinutesFromMidnight=t.getMinutesFromMidnight||fTe,this.continuesPrior=t.continuesPrior||uTe,this.continuesAfter=t.continuesAfter||hTe,this.sortEvents=t.sortEvents||mTe,this.inEventRange=t.inEventRange||pTe,this.isSameDate=t.isSameDate||gTe,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||xTe,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function yTe(e,t,r,a){var n=ya(ya({},e.formats),r);return ya(ya({},e),{},{messages:a,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,l){return e.format(o,n[l]||l,t)}})}var bTe=function(e){function t(){var r;ss(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=ai(this,t,[].concat(n)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return ni(t,e),is(t,[{key:"render",value:function(){var a=this.props,n=a.localizer.messages,s=a.label;return Z.createElement("div",{className:"rbc-toolbar"},Z.createElement("span",{className:"rbc-btn-group"},Z.createElement("button",{type:"button",onClick:this.navigate.bind(null,Li.TODAY)},n.today),Z.createElement("button",{type:"button",onClick:this.navigate.bind(null,Li.PREVIOUS)},n.previous),Z.createElement("button",{type:"button",onClick:this.navigate.bind(null,Li.NEXT)},n.next)),Z.createElement("span",{className:"rbc-toolbar-label"},s),Z.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(n)))}},{key:"viewNamesGroup",value:function(a){var n=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(l){return Z.createElement("button",{type:"button",key:l,className:fn({"rbc-active":o===l}),onClick:n.view.bind(null,l)},a[l])})}}])}(Z.Component);function Fa(e,t){e&&e.apply(null,[].concat(t))}var wTe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function kTe(e){return ya(ya({},wTe),e)}function jTe(e){var t=e.ref,r=e.callback;k.useEffect(function(){var a=function(s){t.current&&!t.current.contains(s.target)&&r()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[t,r])}var NTe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],FW=function(e){function t(){return ss(this,t),ai(this,t,arguments)}return ni(t,e),is(t,[{key:"render",value:function(){var a=this.props,n=a.style,s=a.className,o=a.event,l=a.selected,c=a.isAllDay,d=a.onSelect,f=a.onDoubleClick,u=a.onKeyPress,m=a.localizer,h=a.continuesPrior,g=a.continuesAfter,p=a.accessors,x=a.getters,v=a.children,b=a.components,y=b.event,w=b.eventWrapper,j=a.slotStart,E=a.slotEnd,A=yc(a,NTe);delete A.resizable;var C=p.title(o),S=p.tooltip(o),T=p.end(o),_=p.start(o),M=p.allDay(o),D=c||M||m.diff(_,m.ceil(T,"day"),"day")>1,O=x.eventProp(o,_,T,l),B=Z.createElement("div",{className:"rbc-event-content",title:S||void 0},y?Z.createElement(y,{event:o,continuesPrior:h,continuesAfter:g,title:C,isAllDay:M,localizer:m,slotStart:j,slotEnd:E}):C);return Z.createElement(w,Object.assign({},this.props,{type:"date"}),Z.createElement("div",Object.assign({},A,{style:ya(ya({},O.style),n),className:fn("rbc-event",s,O.className,{"rbc-selected":l,"rbc-event-allday":D,"rbc-event-continues-prior":h,"rbc-event-continues-after":g}),onClick:function(q){return d&&d(o,q)},onDoubleClick:function(q){return f&&f(o,q)},onKeyDown:function(q){return u&&u(o,q)}}),typeof v=="function"?v(B):B))}}])}(Z.Component);function j4(e,t){return!e||t==null?!1:lv(e,t)}function BW(e,t){var r=e.right-e.left,a=r/t;return a}function zW(e,t,r,a){var n=BW(e,a);return r?a-1-Math.floor((t-e.left)/n):Math.floor((t-e.left)/n)}function STe(e,t){var r=t.x,a=t.y;return a>=e.top&&a<=e.bottom&&r>=e.left&&r<=e.right}function CTe(e,t,r,a,n){var s=-1,o=-1,l=a-1,c=BW(t,a),d=zW(t,r.x,n,a),f=t.top<r.y&&t.bottom>r.y,u=t.top<e.y&&t.bottom>e.y,m=e.y>t.bottom,h=t.top>e.y,g=r.top<t.top&&r.bottom>t.bottom;return g&&(s=0,o=l),f&&(h?(s=0,o=d):m&&(s=d,o=l)),u&&(s=o=n?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),f?d<s?s=d:o=d:e.y<r.y?o=l:s=0),{startIdx:s,endIdx:o}}function ATe(e){var t=e.target,r=e.offset,a=e.container,n=e.box,s=Pu(t),o=s.top,l=s.left,c=s.width,d=s.height,f=Pu(a),u=f.top,m=f.left,h=f.width,g=f.height,p=Pu(n),x=p.width,v=p.height,b=u+g,y=m+h,w=o+v,j=l+x,E=r.x,A=r.y,C=w>b?o-v-A:o+A+d,S=j>y?l+E-x+c:l+E;return{topOffset:C,leftOffset:S}}function ETe(e){var t=e.containerRef,r=e.accessors,a=e.getters,n=e.selected,s=e.components,o=e.localizer,l=e.position,c=e.show,d=e.events,f=e.slotStart,u=e.slotEnd,m=e.onSelect,h=e.onDoubleClick,g=e.onKeyPress,p=e.handleDragStart,x=e.popperRef,v=e.target,b=e.offset;jTe({ref:x,callback:c}),k.useLayoutEffect(function(){var j=ATe({target:v,offset:b,container:t.current,box:x.current}),E=j.topOffset,A=j.leftOffset;x.current.style.top="".concat(E,"px"),x.current.style.left="".concat(A,"px")},[b.x,b.y,v]);var y=l.width,w={minWidth:y+y/2};return Z.createElement("div",{style:w,className:"rbc-overlay",ref:x},Z.createElement("div",{className:"rbc-overlay-header"},o.format(f,"dayHeaderFormat")),d.map(function(j,E){return Z.createElement(FW,{key:E,type:"popup",localizer:o,event:j,getters:a,onSelect:m,accessors:r,components:s,onDoubleClick:h,onKeyPress:g,continuesPrior:o.lt(r.end(j),f,"day"),continuesAfter:o.gte(r.start(j),u,"day"),slotStart:f,slotEnd:u,selected:j4(j,n),draggable:!0,onDragStart:function(){return p(j)},onDragEnd:function(){return c()}})}))}var $W=Z.forwardRef(function(e,t){return Z.createElement(ETe,Object.assign({},e,{popperRef:t}))});$W.propTypes={accessors:Qe.object.isRequired,getters:Qe.object.isRequired,selected:Qe.object,components:Qe.object.isRequired,localizer:Qe.object.isRequired,position:Qe.object.isRequired,show:Qe.func.isRequired,events:Qe.array.isRequired,slotStart:Qe.instanceOf(Date).isRequired,slotEnd:Qe.instanceOf(Date),onSelect:Qe.func,onDoubleClick:Qe.func,onKeyPress:Qe.func,handleDragStart:Qe.func,style:Qe.object,offset:Qe.shape({x:Qe.number,y:Qe.number})};function _Te(e){var t=e.containerRef,r=e.popupOffset,a=r===void 0?5:r,n=e.overlay,s=e.accessors,o=e.localizer,l=e.components,c=e.getters,d=e.selected,f=e.handleSelectEvent,u=e.handleDoubleClickEvent,m=e.handleKeyPressEvent,h=e.handleDragStart,g=e.onHide,p=e.overlayDisplay,x=k.useRef(null);if(!n.position)return null;var v=a;isNaN(a)||(v={x:a,y:a});var b=n.position,y=n.events,w=n.date,j=n.end;return Z.createElement(aA,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:n.target},function(E){var A=E.props;return Z.createElement($W,Object.assign({},A,{containerRef:t,ref:x,target:n.target,offset:v,accessors:s,getters:c,selected:d,components:l,localizer:o,position:b,show:p,events:y,slotStart:w,slotEnd:j,onSelect:f,onDoubleClick:u,onKeyPress:m,handleDragStart:h}))})}var NA=Z.forwardRef(function(e,t){return Z.createElement(_Te,Object.assign({},e,{containerRef:t}))});NA.propTypes={popupOffset:Qe.oneOfType([Qe.number,Qe.shape({x:Qe.number,y:Qe.number})]),overlay:Qe.shape({position:Qe.object,events:Qe.array,date:Qe.instanceOf(Date),end:Qe.instanceOf(Date)}),accessors:Qe.object.isRequired,localizer:Qe.object.isRequired,components:Qe.object.isRequired,getters:Qe.object.isRequired,selected:Qe.object,handleSelectEvent:Qe.func,handleDoubleClickEvent:Qe.func,handleKeyPressEvent:Qe.func,handleDragStart:Qe.func,onHide:Qe.func,overlayDisplay:Qe.func};function $s(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Eg(r,e,t,{passive:!1})}function MTe(e,t,r){return!e||Wx(e,document.elementFromPoint(t,r))}function LTe(e,t){var r=t.clientX,a=t.clientY,n=document.elementFromPoint(r,a);return sW(n,".rbc-event",e)}function TTe(e,t){var r=t.clientX,a=t.clientY,n=document.elementFromPoint(r,a);return sW(n,".rbc-show-more",e)}function h2(e,t){return!!LTe(e,t)}function ITe(e,t){return!!TTe(e,t)}function cg(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var $D=5,DTe=250,UW=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.global,n=a===void 0?!1:a,s=r.longPressThreshold,o=s===void 0?250:s,l=r.validContainers,c=l===void 0?[]:l;ss(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||n,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=$s("touchmove",function(){},window),this._removeKeyDownListener=$s("keydown",this._keyListener),this._removeKeyUpListener=$s("keyup",this._keyListener),this._removeDropFromOutsideListener=$s("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=$s("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return is(e,[{key:"on",value:function(r,a){var n=this._listeners[r]||(this._listeners[r]=[]);return n.push(a),{remove:function(){var o=n.indexOf(a);o!==-1&&n.splice(o,1)}}}},{key:"emit",value:function(r){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];var o,l=this._listeners[r]||[];return l.forEach(function(c){o===void 0&&(o=c.apply(void 0,n))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var a=this._selectRect;return!a||!this.selecting?!1:UD(a,s0(r))}},{key:"filter",value:function(r){var a=this._selectRect;return!a||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,a){var n=this,s=null,o=null,l=null,c=function(m){s=setTimeout(function(){f(),r(m)},n.longPressThreshold),o=$s("touchmove",function(){return f()}),l=$s("touchend",function(){return f()})},d=$s("touchstart",c),f=function(){s&&clearTimeout(s),o&&o(),l&&l(),s=null,o=null,l=null};return a&&c(a),function(){f(),d()}}},{key:"_addInitialEventListener",value:function(){var r=this,a=$s("mousedown",function(s){r._removeInitialEventListener(),r._handleInitialEvent(s),r._removeInitialEventListener=$s("mousedown",r._handleInitialEvent)}),n=$s("touchstart",function(s){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,s)});this._removeInitialEventListener=function(){a(),n()}}},{key:"_dropFromOutsideListener",value:function(r){var a=cg(r),n=a.pageX,s=a.pageY,o=a.clientX,l=a.clientY;this.emit("dropFromOutside",{x:n,y:s,clientX:o,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var a=cg(r),n=a.pageX,s=a.pageY,o=a.clientX,l=a.clientY;this.emit("dragOverFromOutside",{x:n,y:s,clientX:o,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var a=cg(r),n=a.clientX,s=a.clientY,o=a.pageX,l=a.pageY,c=this.container(),d,f;if(!(r.which===3||r.button===2||!MTe(c,n,s))){if(!this.globalMouse&&c&&!Wx(c,r.target)){var u=PTe(0),m=u.top,h=u.left,g=u.bottom,p=u.right;if(f=s0(c),d=UD({top:f.top-m,left:f.left-h,bottom:f.bottom+g,right:f.right+p},{top:l,left:o}),!d)return}var x=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:l,clientX:n,clientY:s});if(x!==!1)switch(r.type){case"mousedown":this._removeEndListener=$s("mouseup",this._handleTerminatingEvent),this._onEscListener=$s("keydown",this._handleTerminatingEvent),this._removeMoveListener=$s("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=$s("touchend",this._handleTerminatingEvent),this._removeMoveListener=$s("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var a=r.target,n=this.validContainers;return!n||!n.length||!a?!0:n.some(function(s){return!!a.closest(s)})}},{key:"_handleTerminatingEvent",value:function(r){var a=this.selecting,n=this._selectRect;if(!a&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var s=!this.container||Wx(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!a&&s?this._handleClickEvent(r):a?this.emit("select",n):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var a=cg(r),n=a.pageX,s=a.pageY,o=a.clientX,l=a.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<DTe?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:s,clientX:o,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:n,y:s,clientX:o,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var a=this._initialEventData,n=a.x,s=a.y,o=cg(r),l=o.pageX,c=o.pageY,d=Math.abs(n-l),f=Math.abs(s-c),u=Math.min(l,n),m=Math.min(c,s),h=this.selecting,g=this.isClick(l,c);g&&!h&&!(d||f)||(!h&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:m,left:u,x:l,y:c,right:u+d,bottom:m+f},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,a){var n=this._initialEventData,s=n.x,o=n.y,l=n.isTouch;return!l&&Math.abs(r-s)<=$D&&Math.abs(a-o)<=$D}}])}();function PTe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return yr(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function UD(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=s0(e),n=a.top,s=a.left,o=a.right,l=o===void 0?s:o,c=a.bottom,d=c===void 0?n:c,f=s0(t),u=f.top,m=f.left,h=f.right,g=h===void 0?m:h,p=f.bottom,x=p===void 0?u:p;return!(d-r<u||n+r>x||l-r<m||s+r>g)}function s0(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+WD("left"),a=t.top+WD("top");return{top:a,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+a}}function WD(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var OTe=function(e){function t(r,a){var n;return ss(this,t),n=ai(this,t,[r,a]),n.state={selecting:!1},n.containerRef=k.createRef(),n}return ni(t,e),is(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,n=a.range,s=a.getNow,o=a.getters,l=a.date,c=a.components.dateCellWrapper,d=a.localizer,f=this.state,u=f.selecting,m=f.startIdx,h=f.endIdx,g=s();return Z.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},n.map(function(p,x){var v=u&&x>=m&&x<=h,b=o.dayProp(p),y=b.className,w=b.style;return Z.createElement(c,{key:x,value:p,range:n},Z.createElement("div",{style:w,className:fn("rbc-day-bg",y,v&&"rbc-selected-cell",d.isSameDate(p,g)&&"rbc-today",l&&d.neq(l,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,n=this.containerRef.current,s=this._selector=new UW(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,d){if(!h2(n,c)&&!ITe(n,c)){var f=s0(n),u=a.props,m=u.range,h=u.rtl;if(STe(f,c)){var g=zW(f,c.x,h,m.length);a._selectSlot({startIdx:g,endIdx:g,action:d,box:c})}}a._initial={},a.setState({selecting:!1})};s.on("selecting",function(l){var c=a.props,d=c.range,f=c.rtl,u=-1,m=-1;if(a.state.selecting||(Fa(a.props.onSelectStart,[l]),a._initial={x:l.x,y:l.y}),s.isSelected(n)){var h=s0(n),g=CTe(a._initial,h,l,d.length,f);u=g.startIdx,m=g.endIdx}a.setState({selecting:!0,startIdx:u,endIdx:m})}),s.on("beforeSelect",function(l){if(a.props.selectable==="ignoreEvents")return!h2(a.containerRef.current,l)}),s.on("click",function(l){return o(l,"click")}),s.on("doubleClick",function(l){return o(l,"doubleClick")}),s.on("select",function(l){a._selectSlot(ya(ya({},a.state),{},{action:"select",bounds:l})),a._initial={},a.setState({selecting:!1}),Fa(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var n=a.endIdx,s=a.startIdx,o=a.action,l=a.bounds,c=a.box;n!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:n,action:o,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(Z.Component),_o={propTypes:{slotMetrics:Qe.object.isRequired,selected:Qe.object,isAllDay:Qe.bool,accessors:Qe.object.isRequired,localizer:Qe.object.isRequired,components:Qe.object.isRequired,getters:Qe.object.isRequired,onSelect:Qe.func,onDoubleClick:Qe.func,onKeyPress:Qe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var a=t.selected;t.isAllDay;var n=t.accessors,s=t.getters,o=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,d=t.localizer,f=t.slotMetrics,u=t.components,m=t.resizable,h=f.continuesPrior(r),g=f.continuesAfter(r);return Z.createElement(FW,{event:r,getters:s,localizer:d,accessors:n,components:u,onSelect:o,onDoubleClick:l,onKeyPress:c,continuesPrior:h,continuesAfter:g,slotStart:f.first,slotEnd:f.last,selected:j4(r,a),resizable:m})},renderSpan:function(t,r,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(r)/t*100+"%";return Z.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},n)}},WW=function(e){function t(){return ss(this,t),ai(this,t,arguments)}return ni(t,e),is(t,[{key:"render",value:function(){var a=this,n=this.props,s=n.segments,o=n.slotMetrics.slots,l=n.className,c=1;return Z.createElement("div",{className:fn(l,"rbc-row")},s.reduce(function(d,f,u){var m=f.event,h=f.left,g=f.right,p=f.span,x="_lvl_"+u,v=h-c,b=_o.renderEvent(a.props,m);return v&&d.push(_o.renderSpan(o,v,"".concat(x,"_gap"))),d.push(_o.renderSpan(o,p,x,b)),c=g+1,d},[]))}}])}(Z.Component);WW.defaultProps=ya({},_o.defaultProps);function HW(e){var t=e.dateRange,r=e.unit,a=r===void 0?"day":r,n=e.localizer;return{first:t[0],last:n.add(t[t.length-1],1,a)}}function RTe(e,t,r,a){var n=HW({dateRange:t,localizer:a}),s=n.first,o=n.last,l=a.diff(s,o,"day"),c=a.max(a.startOf(r.start(e),"day"),s),d=a.min(a.ceil(r.end(e),"day"),o),f=G6e(t,function(m){return a.isSameDate(m,c)}),u=a.diff(c,d,"day");return u=Math.min(u,l),u=Math.max(u-a.segmentOffset,1),{event:e,span:u,left:f+1,right:Math.max(f+u,1)}}function c5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,a,n,s=[],o=[];for(r=0;r<e.length;r++){for(n=e[r],a=0;a<s.length&&FTe(n,s[a]);a++);a>=t?o.push(n):(s[a]||(s[a]=[])).push(n)}for(r=0;r<s.length;r++)s[r].sort(function(l,c){return l.left-c.left});return{levels:s,extra:o}}function qx(e,t,r,a,n){var s={start:a.start(e),end:a.end(e)},o={start:t,end:r};return n.inEventRange({event:s,range:o})}function FTe(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function BTe(e,t,r){var a=xb(e),n=[],s=[];a.forEach(function(c){var d=t.start(c),f=t.end(c);r.daySpan(d,f)>1?n.push(c):s.push(c)});var o=n.sort(function(c,d){return d5(c,d,t,r)}),l=s.sort(function(c,d){return d5(c,d,t,r)});return[].concat(xb(o),xb(l))}function d5(e,t,r,a){var n={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},s={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return a.sortEvents({evtA:n,evtB:s})}var f5=function(t,r){return t.left<=r&&t.right>=r},cN=function(t,r){return t.filter(function(a){return f5(a,r)}).map(function(a){return a.event})},VW=function(e){function t(){return ss(this,t),ai(this,t,arguments)}return ni(t,e),is(t,[{key:"render",value:function(){for(var a=this.props,n=a.segments,s=a.slotMetrics.slots,o=c5(n).levels[0],l=1,c=1,d=[];l<=s;){var f="_lvl_"+l,u=o.filter(function(w){return f5(w,l)})[0]||{},m=u.event,h=u.left,g=u.right,p=u.span;if(!m){var x=this.getHiddenEventsForSlot(n,l);if(x.length>0){var v=l-c;v&&d.push(_o.renderSpan(s,v,f+"_gap")),d.push(_o.renderSpan(s,1,f,this.renderShowMore(n,l))),c=l=l+1;continue}l++;continue}var b=Math.max(0,h-c);if(this.canRenderSlotEvent(h,p)){var y=_o.renderEvent(this.props,m);b&&d.push(_o.renderSpan(s,b,f+"_gap")),d.push(_o.renderSpan(s,p,f,y)),c=l=g+1}else b&&d.push(_o.renderSpan(s,b,f+"_gap")),d.push(_o.renderSpan(s,1,f,this.renderShowMore(n,l))),c=l=l+1}return Z.createElement("div",{className:"rbc-row"},d)}},{key:"getHiddenEventsForSlot",value:function(a,n){var s=cN(a,n),o=c5(a).levels[0],l=o.filter(function(c){return f5(c,n)}).map(function(c){return c.event});return s.filter(function(c){return!l.some(function(d){return d===c})})}},{key:"canRenderSlotEvent",value:function(a,n){var s=this.props.segments;return Gx(a,a+n).every(function(o){var l=cN(s,o).length;return l===1})}},{key:"renderShowMore",value:function(a,n){var s=this,o=this.props,l=o.localizer,c=o.slotMetrics,d=o.components,f=c.getEventsForSlot(n),u=cN(a,n),m=u.length;if(d!=null&&d.showMore){var h=d.showMore,g=c.getDateForSlot(n-1);return m?Z.createElement(h,{localizer:l,slotDate:g,slot:n,count:m,events:f,remainingEvents:u}):!1}return m?Z.createElement("button",{type:"button",key:"sm_"+n,className:fn("rbc-button-link","rbc-show-more"),onClick:function(x){return s.showMore(n,x)}},l.messages.showMore(m,u,f)):!1}},{key:"showMore",value:function(a,n){n.preventDefault(),n.stopPropagation(),this.props.onShowMore(a,n.target)}}])}(Z.Component);VW.defaultProps=ya({},_o.defaultProps);var zTe=function(t){var r=t.children;return Z.createElement("div",{className:"rbc-row-content-scroll-container"},r)},$Te=function(t,r){return t.left<=r&&t.right>=r},UTe=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function GW(){return pW(function(e){for(var t=e.range,r=e.events,a=e.maxRows,n=e.minRows,s=e.accessors,o=e.localizer,l=HW({dateRange:t,localizer:o}),c=l.first,d=l.last,f=r.map(function(p){return RTe(p,t,s,o)}),u=c5(f,Math.max(a-1,1)),m=u.levels,h=u.extra,g=h.length>0?n-1:n;m.length<g;)m.push([]);return{first:c,last:d,levels:m,extra:h,range:t,slots:t.length,clone:function(x){var v=GW();return v(ya(ya({},e),x))},getDateForSlot:function(x){return t[x]},getSlotForDate:function(x){return t.find(function(v){return o.isSameDate(v,x)})},getEventsForSlot:function(x){return f.filter(function(v){return $Te(v,x)}).map(function(v){return v.event})},continuesPrior:function(x){return o.continuesPrior(s.start(x),c)},continuesAfter:function(x){var v=s.start(x),b=s.end(x);return o.continuesAfter(v,b,d)}}},UTe)}var Yx=function(e){function t(){var r;ss(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=ai(this,t,[].concat(n)),r.handleSelectSlot=function(o){var l=r.props,c=l.range,d=l.onSelectSlot;d(c.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,l){var c=r.props,d=c.range,f=c.onShowMore,u=r.slotMetrics(r.props),m=rwe(r.containerRef.current,".rbc-row-bg")[0],h;m&&(h=m.children[o-1]);var g=u.getEventsForSlot(o);f(g,d[o-1],h,o,l)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,l){var c=r.props,d=c.renderHeader,f=c.getNow,u=c.localizer;return d({date:o,key:"header_".concat(l),className:fn("rbc-date-cell",u.isSameDate(o,f())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,l=o.className,c=o.range,d=o.renderHeader,f=o.showAllEvents;return Z.createElement("div",{className:l,ref:r.containerRef},Z.createElement("div",{className:fn("rbc-row-content",f&&"rbc-row-content-scrollable")},d&&Z.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),Z.createElement("div",{className:"rbc-row",ref:r.eventRowRef},Z.createElement("div",{className:"rbc-row-segment"},Z.createElement("div",{className:"rbc-event"},Z.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=k.createRef(),r.headingRowRef=k.createRef(),r.eventRowRef=k.createRef(),r.slotMetrics=GW(),r}return ni(t,e),is(t,[{key:"getRowLimit",value:function(){var a,n=iN(this.eventRowRef.current),s=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?iN(this.headingRowRef.current):0,o=iN(this.containerRef.current)-s;return Math.max(Math.floor(o/n),1)}},{key:"render",value:function(){var a=this.props,n=a.date,s=a.rtl,o=a.range,l=a.className,c=a.selected,d=a.selectable,f=a.renderForMeasure,u=a.accessors,m=a.getters,h=a.components,g=a.getNow,p=a.renderHeader,x=a.onSelect,v=a.localizer,b=a.onSelectStart,y=a.onSelectEnd,w=a.onDoubleClick,j=a.onKeyPress,E=a.resourceId,A=a.longPressThreshold,C=a.isAllDay,S=a.resizable,T=a.showAllEvents;if(f)return this.renderDummy();var _=this.slotMetrics(this.props),M=_.levels,D=_.extra,O=T?zTe:Kl,B=h.weekWrapper,U={selected:c,accessors:u,getters:m,localizer:v,components:h,onSelect:x,onDoubleClick:w,onKeyPress:j,resourceId:E,slotMetrics:_,resizable:S};return Z.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},Z.createElement(OTe,{localizer:v,date:n,getNow:g,rtl:s,range:o,selectable:d,container:this.getContainer,getters:m,onSelectStart:b,onSelectEnd:y,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:A,resourceId:E}),Z.createElement("div",{className:fn("rbc-row-content",T&&"rbc-row-content-scrollable"),role:"row"},p&&Z.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),Z.createElement(O,null,Z.createElement(B,Object.assign({isAllDay:C},U,{rtl:this.props.rtl}),M.map(function(q,K){return Z.createElement(WW,Object.assign({key:K,segments:q},U))}),!!D.length&&Z.createElement(VW,Object.assign({segments:D,onShowMore:this.handleShowMore},U))))))}}])}(Z.Component);Yx.defaultProps={minRows:0,maxRows:1/0};var SA=function(t){var r=t.label;return Z.createElement("span",{role:"columnheader","aria-sort":"none"},r)},WTe=function(t){var r=t.label,a=t.drilldownView,n=t.onDrillDown;return a?Z.createElement("button",{type:"button",className:"rbc-button-link",onClick:n},r):Z.createElement("span",null,r)},HTe=["date","className"],VTe=function(t,r,a,n,s){return t.filter(function(o){return qx(o,r,a,n,s)})},N4=function(e){function t(){var r;ss(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=ai(this,t,[].concat(n)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,l){var c=r.props,d=c.events,f=c.components,u=c.selectable,m=c.getNow,h=c.selected,g=c.date,p=c.localizer,x=c.longPressThreshold,v=c.accessors,b=c.getters,y=c.showAllEvents,w=r.state,j=w.needLimitMeasure,E=w.rowLimit,A=VTe(xb(d),o[0],o[o.length-1],v,p),C=BTe(A,v,p);return Z.createElement(Yx,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:m,date:g,range:o,events:C,maxRows:y?1/0:E,selected:h,selectable:u,components:f,accessors:v,getters:b,localizer:p,renderHeader:r.readerDateHeading,renderForMeasure:j,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:x,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:y})},r.readerDateHeading=function(o){var l=o.date,c=o.className,d=yc(o,HTe),f=r.props,u=f.date,m=f.getDrilldownView,h=f.localizer,g=h.neq(u,l,"month"),p=h.isSameDate(l,u),x=m(l),v=h.format(l,"dateFormat"),b=r.props.components.dateHeader||WTe;return Z.createElement("div",Object.assign({},d,{className:fn(c,g&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),Z.createElement(b,{label:v,date:l,drilldownView:x,isOffRange:g,onDrillDown:function(w){return r.handleHeadingClick(l,x,w)}}))},r.handleSelectSlot=function(o,l){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(o,l,c){c.preventDefault(),r.clearSelection(),Fa(r.props.onDrillDown,[o,l])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Fa(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Fa(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Fa(r.props.onKeyPressEvent,l)},r.handleShowMore=function(o,l,c,d,f){var u=r.props,m=u.popup,h=u.onDrillDown,g=u.onShowMore,p=u.getDrilldownView,x=u.doShowMoreDrillDown;if(r.clearSelection(),m){var v=DU(c,r.containerRef.current);r.setState({overlay:{date:l,events:o,position:v,target:f}})}else x&&Fa(h,[l,p(l)||pi.DAY]);Fa(g,[o,l,d])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=k.createRef(),r.slotRowRef=k.createRef(),r._bgRows=[],r._pendingSelection=[],r}return ni(t,e),is(t,[{key:"componentDidMount",value:function(){var a=this,n;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){n||PU(function(){n=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,n=a.date,s=a.localizer,o=a.className,l=s.visibleDays(n,s),c=z2e(l,7);return this._weekCount=c.length,Z.createElement("div",{className:fn("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},Z.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var n=this.props,s=n.localizer,o=n.components,l=a[0],c=a[a.length-1],d=o.header||SA;return s.range(l,c,"day").map(function(f,u){return Z.createElement("div",{key:"header_"+u,className:"rbc-header"},Z.createElement(d,{date:f,localizer:s,label:s.format(f,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,n,s=this,o=(a=(n=this.state)===null||n===void 0?void 0:n.overlay)!==null&&a!==void 0?a:{},l=this.props,c=l.accessors,d=l.localizer,f=l.components,u=l.getters,m=l.selected,h=l.popupOffset,g=l.handleDragStart,p=function(){return s.setState({overlay:null})};return Z.createElement(NA,{overlay:o,accessors:c,localizer:d,components:f,getters:u,selected:m,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var n=this._pendingSelection.slice();this._pendingSelection=[],n.sort(function(l,c){return+l-+c});var s=new Date(n[0]),o=new Date(n[n.length-1]);o.setDate(n[n.length-1].getDate()+1),Fa(this.props.onSelectSlot,{slots:n,start:s,end:o,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,n){var s=a.date,o=a.localizer;return{date:s,needLimitMeasure:o.neq(s,n.date,"month")}}}])}(Z.Component);N4.range=function(e,t){var r=t.localizer,a=r.firstVisibleDay(e,r),n=r.lastVisibleDay(e,r);return{start:a,end:n}};N4.navigate=function(e,t,r){var a=r.localizer;switch(t){case Li.PREVIOUS:return a.add(e,-1,"month");case Li.NEXT:return a.add(e,1,"month");default:return e}};N4.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var HD=function(t){var r=t.min,a=t.max,n=t.step,s=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(a,"minutes"))+"".concat(n,"-").concat(s)};function CA(e){for(var t=e.min,r=e.max,a=e.step,n=e.timeslots,s=e.localizer,o=HD({step:a,localizer:s}),l=1+s.getTotalMin(t,r),c=s.getMinutesFromMidnight(t),d=Math.ceil((l-1)/(a*n)),f=d*n,u=new Array(d),m=new Array(f),h=0;h<d;h++){u[h]=new Array(n);for(var g=0;g<n;g++){var p=h*n+g,x=p*a;m[p]=u[h][g]=s.getSlotDate(t,c,x)}}var v=m.length*a;m.push(s.getSlotDate(t,c,v));function b(y){var w=s.diff(t,y,"minutes")+s.getDstOffset(t,y);return Math.min(w,l)}return{groups:u,update:function(w){return HD(w)!==o?CA(w):this},dateIsInGroup:function(w,j){var E=u[j+1];return s.inRange(w,u[j][0],E?E[0]:r,"minutes")},nextSlot:function(w){var j=m[Math.min(m.findIndex(function(E){return E===w||s.eq(E,w)})+1,m.length-1)];return s.eq(j,w)&&(j=s.add(w,a,"minutes")),j},closestSlotToPosition:function(w){var j=Math.min(m.length-1,Math.max(0,Math.floor(w*f)));return m[j]},closestSlotFromPoint:function(w,j){var E=Math.abs(j.top-j.bottom);return this.closestSlotToPosition((w.y-j.top)/E)},closestSlotFromDate:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(w,t,"minutes"))return m[0];if(s.gt(w,r,"minutes"))return m[m.length-1];var E=s.diff(t,w,"minutes");return m[(E-E%a)/a+j]},startsBeforeDay:function(w){return s.lt(w,t,"day")},startsAfterDay:function(w){return s.gt(w,r,"day")},startsBefore:function(w){return s.lt(s.merge(t,w),t,"minutes")},startsAfter:function(w){return s.gt(s.merge(r,w),r,"minutes")},getRange:function(w,j,E,A){E||(w=s.min(r,s.max(t,w))),A||(j=s.min(r,s.max(t,j)));var C=b(w),S=b(j),T=S>a*f&&!s.eq(r,j)?(C-a)/(a*f)*100:C/(a*f)*100;return{top:T,height:S/(a*f)*100-T,start:b(w),startDate:w,end:b(j),endDate:j}},getCurrentTimePosition:function(w){var j=b(w),E=j/(a*f)*100;return E}}}var GTe=function(){function e(t,r){var a=r.accessors,n=r.slotMetrics;ss(this,e);var s=n.getRange(a.start(t),a.end(t)),o=s.start,l=s.startDate,c=s.end,d=s.endDate,f=s.top,u=s.height;this.start=o,this.end=c,this.startMs=+l,this.endMs=+d,this.top=f,this.height=u,this.data=t}return is(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(n,s){return Math.max(n,s.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var a=100-this.container._width;return a/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,a=Math.min(100,this._width*1.7);if(this.rows)return a;if(this.leaves)return this.leaves.length>0?a:r;var n=this.row.leaves,s=n.indexOf(this);return s===n.length-1?r:a}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,a=r.leaves,n=r.xOffset,s=r._width,o=a.indexOf(this)+1;return n+o*s}}])}();function qTe(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function YTe(e){for(var t=b4(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var a=t.shift();r.push(a);for(var n=0;n<t.length;n++){var s=t[n];if(!(a.endMs>s.startMs)){if(n>0){var o=t.splice(n,1)[0];r.push(o)}break}}}return r}function qW(e){for(var t=e.events,r=e.minimumStartDifference,a=e.slotMetrics,n=e.accessors,s=t.map(function(f){return new GTe(f,{slotMetrics:a,accessors:n})}),o=YTe(s),l=[],c=function(){var u=o[d],m=l.find(function(p){return p.end>u.start||Math.abs(u.start-p.start)<r});if(!m)return u.rows=[],l.push(u),1;u.container=m;for(var h=null,g=m.rows.length-1;!h&&g>=0;g--)qTe(m.rows[g],u,r)&&(h=m.rows[g]);h?(h.leaves.push(u),u.row=h):(u.leaves=[],m.rows.push(u))},d=0;d<o.length;d++)c();return o.map(function(f){return{event:f.data,style:{top:f.top,height:f.height,width:f.width,xOffset:Math.max(0,f.xOffset)}}})}function YW(e,t,r){for(var a=0;a<e.friends.length;++a)if(!(r.indexOf(e.friends[a])>-1)){t=t>e.friends[a].idx?t:e.friends[a].idx,r.push(e.friends[a]);var n=YW(e.friends[a],t,r);t=t>n?t:n}return t}function JTe(e){var t=e.events,r=e.minimumStartDifference,a=e.slotMetrics,n=e.accessors,s=qW({events:t,minimumStartDifference:r,slotMetrics:a,accessors:n});s.sort(function(B,U){return B=B.style,U=U.style,B.top!==U.top?B.top>U.top?1:-1:B.height!==U.height?B.top+B.height<U.top+U.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var l=0;l<s.length-1;++l)for(var c=s[l],d=c.style.top,f=c.style.top+c.style.height,u=l+1;u<s.length;++u){var m=s[u],h=m.style.top,g=m.style.top+m.style.height;(h>=d&&g<=f||g>d&&g<=f||h>=d&&h<f)&&(c.friends.push(m),m.friends.push(c))}for(var p=0;p<s.length;++p){for(var x=s[p],v=[],b=0;b<100;++b)v.push(1);for(var y=0;y<x.friends.length;++y)x.friends[y].idx!==void 0&&(v[x.friends[y].idx]=0);x.idx=v.indexOf(1)}for(var w=0;w<s.length;++w){var j=0;if(!s[w].size){var E=[],A=YW(s[w],0,E);j=100/(A+1),s[w].size=j;for(var C=0;C<E.length;++C)E[C].size=j}}for(var S=0;S<s.length;++S){var T=s[S];T.style.left=T.idx*T.size;for(var _=0,M=0;M<T.friends.length;++M){var D=T.friends[M].idx;_=_>D?_:D}_<=T.idx&&(T.size=100-T.idx*T.size);var O=T.idx===0?0:3;T.style.width="calc(".concat(T.size,"% - ").concat(O,"px)"),T.style.height="calc(".concat(T.style.height,"% - 2px)"),T.style.xOffset="calc(".concat(T.style.left,"% + ").concat(O,"px)")}return s}var VD={overlap:qW,"no-overlap":JTe};function KTe(e){return!!(e&&e.constructor&&e.call&&e.apply)}function QTe(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in VD&&(r=VD[t]),KTe(r)?r.apply(this,arguments):[]}var JW=function(e){function t(){return ss(this,t),ai(this,t,arguments)}return ni(t,e),is(t,[{key:"render",value:function(){var a=this.props,n=a.renderSlot,s=a.resource,o=a.group,l=a.getters,c=a.components,d=c===void 0?{}:c,f=d.timeSlotWrapper,u=f===void 0?Kl:f,m=l?l.slotGroupProp(o):{};return Z.createElement("div",Object.assign({className:"rbc-timeslot-group"},m),o.map(function(h,g){var p=l?l.slotProp(h,s):{};return Z.createElement(u,{key:g,value:h,resource:s},Z.createElement("div",Object.assign({},p,{className:fn("rbc-time-slot",p.className)}),n&&n(h,g)))}))}}])}(k.Component);function _y(e){return typeof e=="string"?e:e+"%"}function XTe(e){var t=e.style,r=e.className,a=e.event,n=e.accessors,s=e.rtl,o=e.selected,l=e.label,c=e.continuesPrior,d=e.continuesAfter,f=e.getters,u=e.onClick,m=e.onDoubleClick,h=e.isBackgroundEvent,g=e.onKeyPress,p=e.components,x=p.event,v=p.eventWrapper,b=n.title(a),y=n.tooltip(a),w=n.end(a),j=n.start(a),E=f.eventProp(a,j,w,o),A=[Z.createElement("div",{key:"1",className:"rbc-event-label"},l),Z.createElement("div",{key:"2",className:"rbc-event-content"},x?Z.createElement(x,{event:a,title:b}):b)],C=t.height,S=t.top,T=t.width,_=t.xOffset,M=ya(ya({},E.style),{},wu({top:_y(S),height:_y(C),width:_y(T)},s?"right":"left",_y(_)));return Z.createElement(v,Object.assign({type:"time"},e),Z.createElement("div",{role:"button",tabIndex:0,onClick:u,onDoubleClick:m,style:M,onKeyDown:g,title:y?(typeof l=="string"?l+": ":"")+y:void 0,className:fn(h?"rbc-background-event":"rbc-event",r,E.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":d})},A))}var ZTe=function(t){var r=t.children,a=t.className,n=t.style,s=t.innerRef;return Z.createElement("div",{className:a,style:n,ref:s},r)},eIe=Z.forwardRef(function(e,t){return Z.createElement(ZTe,Object.assign({},e,{innerRef:t}))}),tIe=["dayProp"],rIe=["eventContainerWrapper","timeIndicatorWrapper"],KW=function(e){function t(){var r;ss(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=ai(this,t,[].concat(n)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var l=o.events,c=o.isBackgroundEvent,d=r.props,f=d.rtl,u=d.selected,m=d.accessors,h=d.localizer,g=d.getters,p=d.components,x=d.step,v=d.timeslots,b=d.dayLayoutAlgorithm,y=d.resizable,w=r,j=w.slotMetrics,E=h.messages,A=QTe({events:l,accessors:m,slotMetrics:j,minimumStartDifference:Math.ceil(x*v/2),dayLayoutAlgorithm:b});return A.map(function(C,S){var T,_=C.event,M=C.style,D=m.end(_),O=m.start(_),B=(T=m.eventId(_))!==null&&T!==void 0?T:"evt_"+S,U="eventTimeRangeFormat",q,K=j.startsBeforeDay(O),G=j.startsAfterDay(D);K?U="eventTimeRangeEndFormat":G&&(U="eventTimeRangeStartFormat"),K&&G?q=E.allDay:q=h.format({start:O,end:D},U);var ve=K||j.startsBefore(O),fe=G||j.startsAfter(D);return Z.createElement(XTe,{style:M,event:_,label:q,key:B,getters:g,rtl:f,components:p,continuesPrior:ve,continuesAfter:fe,accessors:m,resource:r.props.resource,selected:j4(_,u),onClick:function(z){return r._select(ya(ya(ya({},_),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),z)},onDoubleClick:function(z){return r._doubleClick(_,z)},isBackgroundEvent:c,onKeyPress:function(z){return r._keyPress(_,z)},resizable:y})})},r._selectable=function(){var o=r.containerRef.current,l=r.props,c=l.longPressThreshold,d=l.localizer,f=r._selector=new UW(function(){return o},{longPressThreshold:c}),u=function(p){var x=r.props.onSelecting,v=r.state||{},b=m(p),y=b.startDate,w=b.endDate;x&&(d.eq(v.startDate,y,"minutes")&&d.eq(v.endDate,w,"minutes")||x({start:y,end:w,resourceId:r.props.resource})===!1)||(r.state.start!==b.start||r.state.end!==b.end||r.state.selecting!==b.selecting)&&r.setState(b)},m=function(p){var x=r.slotMetrics.closestSlotFromPoint(p,s0(o));r.state.selecting||(r._initialSlot=x);var v=r._initialSlot;d.lte(v,x)?x=r.slotMetrics.nextSlot(x):d.gt(v,x)&&(v=r.slotMetrics.nextSlot(v));var b=r.slotMetrics.getRange(d.min(v,x),d.max(v,x));return ya(ya({},b),{},{selecting:!0,top:"".concat(b.top,"%"),height:"".concat(b.height,"%")})},h=function(p,x){if(!h2(r.containerRef.current,p)){var v=m(p),b=v.startDate,y=v.endDate;r._selectSlot({startDate:b,endDate:y,action:x,box:p})}r.setState({selecting:!1})};f.on("selecting",u),f.on("selectStart",u),f.on("beforeSelect",function(g){if(r.props.selectable==="ignoreEvents")return!h2(r.containerRef.current,g)}),f.on("click",function(g){return h(g,"click")}),f.on("doubleClick",function(g){return h(g,"doubleClick")}),f.on("select",function(g){r.state.selecting&&(r._selectSlot(ya(ya({},r.state),{},{action:"select",bounds:g})),r.setState({selecting:!1}))}),f.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var l=o.startDate,c=o.endDate,d=o.action,f=o.bounds,u=o.box,m=l,h=[];r.props.localizer.lte(m,c);)h.push(m),m=new Date(+m+r.props.step*60*1e3);Fa(r.props.onSelectSlot,{slots:h,start:l,end:c,resourceId:r.props.resource,action:d,bounds:f,box:u})},r._select=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Fa(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Fa(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Fa(r.props.onKeyPressEvent,l)},r.slotMetrics=CA(r.props),r.containerRef=k.createRef(),r}return ni(t,e),is(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(a,n){this.props.selectable&&!a.selectable&&this._selectable(),!this.props.selectable&&a.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,l=s.isNow,c=s.localizer,d=s.date,f=s.min,u=s.max,m=c.neq(a.getNow(),o(),"minutes");if(a.isNow!==l||m){if(this.clearTimeIndicatorInterval(),l){var h=!m&&c.eq(a.date,d,"minutes")&&n.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else l&&(c.neq(a.min,f,"minutes")||c.neq(a.max,u,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!n&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,n=a.min,s=a.max,o=a.getNow,l=o();if(l>=n&&l<=s){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,n=a.date,s=a.max,o=a.rtl,l=a.isNow,c=a.resource,d=a.accessors,f=a.localizer,u=a.getters,m=u.dayProp,h=yc(u,tIe),g=a.components,p=g.eventContainerWrapper,x=g.timeIndicatorWrapper,v=yc(g,rIe);this.slotMetrics=this.slotMetrics.update(this.props);var b=this.slotMetrics,y=this.state,w=y.selecting,j=y.top,E=y.height,A=y.startDate,C=y.endDate,S={start:A,end:C},T=m(s,c),_=T.className,M=T.style,D={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},O=v.dayColumnWrapper||eIe;return Z.createElement(O,{ref:this.containerRef,date:n,style:M,className:fn(_,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",w&&"rbc-slot-selecting"),slotMetrics:b,resource:c},b.groups.map(function(B,U){return Z.createElement(JW,{key:U,group:B,resource:c,getters:h,components:v})}),Z.createElement(p,{localizer:f,resource:c,accessors:d,getters:h,components:v,slotMetrics:b},Z.createElement("div",{className:fn("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),w&&Z.createElement("div",{className:"rbc-slot-selection",style:{top:j,height:E}},Z.createElement("span",null,f.format(S,"selectRangeFormat"))),l&&this.intervalTriggered&&Z.createElement(x,D,Z.createElement("div",D)))}}])}(Z.Component);KW.defaultProps={dragThroughEvents:!0,timeslots:2};var QW=function(t){var r=t.label;return Z.createElement(Z.Fragment,null,r)},aIe=function(e){function t(){var r;ss(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=ai(this,t,[].concat(n)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),Fa(r.props.onDrillDown,[o,l])},r.renderRow=function(o){var l=r.props,c=l.events,d=l.rtl,f=l.selectable,u=l.getNow,m=l.range,h=l.getters,g=l.localizer,p=l.accessors,x=l.components,v=l.resizable,b=p.resourceId(o),y=o?c.filter(function(w){return p.resource(w)===b}):c;return Z.createElement(Yx,{isAllDay:!0,rtl:d,getNow:u,minRows:2,maxRows:r.props.allDayMaxRows+1,range:m,events:y,resourceId:b,className:"rbc-allday-cell",selectable:f,selected:r.props.selected,components:x,accessors:p,getters:h,localizer:g,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:v})},r}return ni(t,e),is(t,[{key:"renderHeaderCells",value:function(a){var n=this,s=this.props,o=s.localizer,l=s.getDrilldownView,c=s.getNow,d=s.getters.dayProp,f=s.components.header,u=f===void 0?SA:f,m=c();return a.map(function(h,g){var p=l(h),x=o.format(h,"dayFormat"),v=d(h),b=v.className,y=v.style,w=Z.createElement(u,{date:h,label:x,localizer:o});return Z.createElement("div",{key:g,style:y,className:fn("rbc-header",b,o.isSameDate(h,m)&&"rbc-today")},p?Z.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(E){return n.handleHeaderClick(h,p,E)}},w):Z.createElement("span",null,w))})}},{key:"render",value:function(){var a=this,n=this.props,s=n.width,o=n.rtl,l=n.resources,c=n.range,d=n.events,f=n.getNow,u=n.accessors,m=n.selectable,h=n.components,g=n.getters,p=n.scrollRef,x=n.localizer,v=n.isOverflowing,b=n.components,y=b.timeGutterHeader,w=b.resourceHeader,j=w===void 0?QW:w,E=n.resizable,A={};v&&(A[o?"marginLeft":"marginRight"]="".concat(rA()-1,"px"));var C=l.groupEvents(d);return Z.createElement("div",{style:A,ref:p,className:fn("rbc-time-header",v&&"rbc-overflowing")},Z.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},y&&Z.createElement(y,null)),l.map(function(S,T){var _=od(S,2),M=_[0],D=_[1];return Z.createElement("div",{className:"rbc-time-header-content",key:M||T},D&&Z.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(T)},Z.createElement("div",{className:"rbc-header"},Z.createElement(j,{index:T,label:u.resourceTitle(D),resource:D}))),Z.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(c)),Z.createElement(Yx,{isAllDay:!0,rtl:o,getNow:f,minRows:2,maxRows:a.props.allDayMaxRows+1,range:c,events:C.get(M)||[],resourceId:D&&M,className:"rbc-allday-cell",selectable:m,selected:a.props.selected,components:h,accessors:u,getters:g,localizer:x,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:E}))}))}}])}(Z.Component),nIe=function(e){function t(){var r;ss(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=ai(this,t,[].concat(n)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),Fa(r.props.onDrillDown,[o,l])},r}return ni(t,e),is(t,[{key:"renderHeaderCells",value:function(a){var n=this,s=this.props,o=s.localizer,l=s.getDrilldownView,c=s.getNow,d=s.getters.dayProp,f=s.components,u=f.header,m=u===void 0?SA:u,h=f.resourceHeader,g=h===void 0?QW:h,p=s.resources,x=s.accessors,v=s.events,b=s.rtl,y=s.selectable,w=s.components,j=s.getters,E=s.resizable,A=c(),C=p.groupEvents(v);return a.map(function(S,T){var _=l(S),M=o.format(S,"dayFormat"),D=d(S),O=D.className,B=D.style,U=Z.createElement(m,{date:S,label:M,localizer:o});return Z.createElement("div",{key:T,className:"rbc-time-header-content rbc-resource-grouping"},Z.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},Z.createElement("div",{style:B,className:fn("rbc-header",O,o.isSameDate(S,A)&&"rbc-today")},_?Z.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(K){return n.handleHeaderClick(S,_,K)}},U):Z.createElement("span",null,U))),Z.createElement("div",{className:"rbc-row"},p.map(function(q,K){var G=od(q,2),ve=G[0],fe=G[1];return Z.createElement("div",{key:"resource_".concat(ve,"_").concat(K),className:fn("rbc-header",O,o.isSameDate(S,A)&&"rbc-today")},Z.createElement(g,{index:K,label:x.resourceTitle(fe),resource:fe}))})),Z.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},p.map(function(q,K){var G=od(q,2),ve=G[0],fe=G[1],I=(C.get(ve)||[]).filter(function(z){return o.isSameDate(z.start,S)||o.isSameDate(z.end,S)});return Z.createElement(Yx,{key:"resource_".concat(ve,"_").concat(K),isAllDay:!0,rtl:b,getNow:c,minRows:2,maxRows:n.props.allDayMaxRows+1,range:[S],events:I,resourceId:fe&&ve,className:"rbc-allday-cell",selectable:y,selected:n.props.selected,components:w,accessors:x,getters:j,localizer:o,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:E})})))})}},{key:"render",value:function(){var a=this.props,n=a.width,s=a.rtl,o=a.range,l=a.scrollRef,c=a.isOverflowing,d=a.components.timeGutterHeader,f={};return c&&(f[s?"marginLeft":"marginRight"]="".concat(rA()-1,"px")),Z.createElement("div",{style:f,ref:l,className:fn("rbc-time-header",c&&"rbc-overflowing")},Z.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:n,minWidth:n,maxWidth:n}},d&&Z.createElement(d,null)),this.renderHeaderCells(o))}}])}(Z.Component);function sIe(e){var t=e.min,r=e.max,a=e.localizer;return a.getTimezoneOffset(t)!==a.getTimezoneOffset(r)?{start:a.add(t,-1,"day"),end:a.add(r,-1,"day")}:{start:t,end:r}}var iIe=function(t){var r=t.min,a=t.max,n=t.timeslots,s=t.step,o=t.localizer,l=t.getNow,c=t.resource,d=t.components,f=t.getters,u=t.gutterRef,m=d.timeGutterWrapper,h=k.useMemo(function(){return sIe({min:r,max:a,localizer:o})},[r==null?void 0:r.toISOString(),a==null?void 0:a.toISOString(),o]),g=h.start,p=h.end,x=k.useState(CA({min:g,max:p,timeslots:n,step:s,localizer:o})),v=od(x,2),b=v[0],y=v[1];k.useEffect(function(){b&&y(b.update({min:g,max:p,timeslots:n,step:s,localizer:o}))},[g==null?void 0:g.toISOString(),p==null?void 0:p.toISOString(),n,s]);var w=k.useCallback(function(j,E){if(E)return null;var A=b.dateIsInGroup(l(),E);return Z.createElement("span",{className:fn("rbc-label",A&&"rbc-now")},o.format(j,"timeGutterFormat"))},[b,o,l]);return Z.createElement(m,{slotMetrics:b},Z.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:u},b.groups.map(function(j,E){return Z.createElement(JW,{key:E,group:j,resource:c,components:d,renderSlot:w,getters:f})})))},oIe=Z.forwardRef(function(e,t){return Z.createElement(iIe,Object.assign({gutterRef:t},e))}),dN={};function lIe(e,t){return{map:function(a){return e?e.map(function(n,s){return a([t.resourceId(n),n],s)}):[a([dN,null],0)]},groupEvents:function(a){var n=new Map;return e?(a.forEach(function(s){var o=t.resource(s)||dN;if(Array.isArray(o))o.forEach(function(c){var d=n.get(c)||[];d.push(s),n.set(c,d)});else{var l=n.get(o)||[];l.push(s),n.set(o,l)}}),n):(n.set(dN,a),n)}}}var vp=function(e){function t(r){var a;return ss(this,t),a=ai(this,t,[r]),a.handleScroll=function(n){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=n.target.scrollLeft)},a.handleResize=function(){LI(a.rafHandle),a.rafHandle=PU(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];Fa(a.props.onKeyPressEvent,s)},a.handleSelectEvent=function(){a.clearSelection();for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];Fa(a.props.onSelectEvent,s)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];Fa(a.props.onDoubleClickEvent,s)},a.handleShowMore=function(n,s,o,l,c){var d=a.props,f=d.popup,u=d.onDrillDown,m=d.onShowMore,h=d.getDrilldownView,g=d.doShowMoreDrillDown;if(a.clearSelection(),f){var p=DU(o,a.containerRef.current);a.setState({overlay:{date:s,events:n,position:ya(ya({},p),{},{width:"200px"}),target:c}})}else g&&Fa(u,[s,h(s)||pi.DAY]);Fa(m,[n,s,l])},a.handleSelectAllDaySlot=function(n,s){var o=a.props.onSelectSlot,l=new Date(n[0]),c=new Date(n[n.length-1]);c.setDate(n[n.length-1].getDate()+1),Fa(o,{slots:n,start:l,end:c,action:s.action,resourceId:s.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var n=a.contentRef.current;if(n!=null&&n.scrollHeight){var s=n.scrollHeight>n.clientHeight;a.state.isOverflowing!==s&&(a._updatingOverflow=!0,a.setState({isOverflowing:s},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=pW(function(n,s){return lIe(n,s)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=Z.createRef(),a.contentRef=Z.createRef(),a.containerRef=Z.createRef(),a._scrollRatio=null,a.gutterRef=k.createRef(),a}return ni(t,e),is(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),LI(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(a,n,s,o,l,c,d,f,u,m){var h=this.props,g=h.min,p=h.max,x=(o.get(n)||[]).filter(function(b){return c.inRange(a,d.start(b),d.end(b),"day")}),v=(l.get(n)||[]).filter(function(b){return c.inRange(a,d.start(b),d.end(b),"day")});return Z.createElement(KW,Object.assign({},this.props,{localizer:c,min:c.merge(a,g),max:c.merge(a,p),resource:s&&n,components:f,isNow:c.isSameDate(a,m),key:"".concat(n,"-").concat(a),date:a,events:x,backgroundEvents:v,dayLayoutAlgorithm:u}))}},{key:"renderResourcesFirst",value:function(a,n,s,o,l,c,d,f,u){var m=this;return n.map(function(h){var g=od(h,2),p=g[0],x=g[1];return a.map(function(v){return m.renderDayColumn(v,p,x,s,o,l,c,f,u,d)})})}},{key:"renderRangeFirst",value:function(a,n,s,o,l,c,d,f,u){var m=this;return a.map(function(h){return Z.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:h},n.map(function(g){var p=od(g,2),x=p[0],v=p[1];return Z.createElement("div",{style:{flex:1},key:c.resourceId(v)},m.renderDayColumn(h,x,v,s,o,l,c,f,u,d))}))})}},{key:"renderEvents",value:function(a,n,s,o){var l=this.props,c=l.accessors,d=l.localizer,f=l.resourceGroupingLayout,u=l.components,m=l.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,c),g=h.groupEvents(n),p=h.groupEvents(s);return f?this.renderRangeFirst(a,h,g,p,d,c,o,u,m):this.renderResourcesFirst(a,h,g,p,d,c,o,u,m)}},{key:"render",value:function(){var a,n=this.props,s=n.events,o=n.backgroundEvents,l=n.range,c=n.width,d=n.rtl,f=n.selected,u=n.getNow,m=n.resources,h=n.components,g=n.accessors,p=n.getters,x=n.localizer,v=n.min,b=n.max,y=n.showMultiDayTimes,w=n.longPressThreshold,j=n.resizable,E=n.resourceGroupingLayout;c=c||this.state.gutterWidth;var A=l[0],C=l[l.length-1];this.slots=l.length;var S=[],T=[],_=[];s.forEach(function(D){if(qx(D,A,C,g,x)){var O=g.start(D),B=g.end(D);g.allDay(D)||x.startAndEndAreDateOnly(O,B)||!y&&!x.isSameDate(O,B)?S.push(D):T.push(D)}}),o.forEach(function(D){qx(D,A,C,g,x)&&_.push(D)}),S.sort(function(D,O){return d5(D,O,g,x)});var M={range:l,events:S,width:c,rtl:d,getNow:u,localizer:x,selected:f,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(m,g),selectable:this.props.selectable,accessors:g,getters:p,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:w,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:j};return Z.createElement("div",{className:fn("rbc-time-view",m&&"rbc-time-view-resources"),ref:this.containerRef},m&&m.length>1&&E?Z.createElement(nIe,M):Z.createElement(aIe,M),this.props.popup&&this.renderOverlay(),Z.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Z.createElement(oIe,{date:A,ref:this.gutterRef,localizer:x,min:x.merge(A,v),max:x.merge(A,b),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:p}),this.renderEvents(l,T,_,u())))}},{key:"renderOverlay",value:function(){var a,n,s=this,o=(a=(n=this.state)===null||n===void 0?void 0:n.overlay)!==null&&a!==void 0?a:{},l=this.props,c=l.accessors,d=l.localizer,f=l.components,u=l.getters,m=l.selected,h=l.popupOffset,g=l.handleDragStart,p=function(){return s.setState({overlay:null})};return Z.createElement(NA,{overlay:o,accessors:c,localizer:d,components:f,getters:u,selected:m,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var n,s=(n=a.gutterRef)!==null&&n!==void 0&&n.current?o5(a.gutterRef.current):void 0;s&&a.state.gutterWidth!==s&&a.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,n=a.min,s=a.max,o=a.scrollToTime,l=a.localizer,c=l.diff(l.merge(o,n),o,"milliseconds"),d=l.diff(n,s,"milliseconds");this._scrollRatio=c/d}}])}(k.Component);vp.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var cIe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],S4=function(e){function t(){return ss(this,t),ai(this,t,arguments)}return ni(t,e),is(t,[{key:"render",value:function(){var a=this.props,n=a.date,s=a.localizer,o=a.min,l=o===void 0?s.startOf(new Date,"day"):o,c=a.max,d=c===void 0?s.endOf(new Date,"day"):c,f=a.scrollToTime,u=f===void 0?s.startOf(new Date,"day"):f,m=a.enableAutoScroll,h=m===void 0?!0:m,g=yc(a,cIe),p=t.range(n,{localizer:s});return Z.createElement(vp,Object.assign({},g,{range:p,eventOffset:10,localizer:s,min:l,max:d,scrollToTime:u,enableAutoScroll:h}))}}])}(Z.Component);S4.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};S4.navigate=function(e,t,r){var a=r.localizer;switch(t){case Li.PREVIOUS:return a.add(e,-1,"day");case Li.NEXT:return a.add(e,1,"day");default:return e}};S4.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var dIe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Cf=function(e){function t(){return ss(this,t),ai(this,t,arguments)}return ni(t,e),is(t,[{key:"render",value:function(){var a=this.props,n=a.date,s=a.localizer,o=a.min,l=o===void 0?s.startOf(new Date,"day"):o,c=a.max,d=c===void 0?s.endOf(new Date,"day"):c,f=a.scrollToTime,u=f===void 0?s.startOf(new Date,"day"):f,m=a.enableAutoScroll,h=m===void 0?!0:m,g=yc(a,dIe),p=t.range(n,this.props);return Z.createElement(vp,Object.assign({},g,{range:p,eventOffset:15,localizer:s,min:l,max:d,scrollToTime:u,enableAutoScroll:h}))}}])}(Z.Component);Cf.defaultProps=vp.defaultProps;Cf.navigate=function(e,t,r){var a=r.localizer;switch(t){case Li.PREVIOUS:return a.add(e,-1,"week");case Li.NEXT:return a.add(e,1,"week");default:return e}};Cf.range=function(e,t){var r=t.localizer,a=r.startOfWeek(),n=r.startOf(e,"week",a),s=r.endOf(e,"week",a);return r.range(n,s)};Cf.title=function(e,t){var r=t.localizer,a=Cf.range(e,{localizer:r}),n=kW(a),s=n[0],o=n.slice(1);return r.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var fIe=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function AA(e,t){return Cf.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var fv=function(e){function t(){return ss(this,t),ai(this,t,arguments)}return ni(t,e),is(t,[{key:"render",value:function(){var a=this.props,n=a.date,s=a.localizer,o=a.min,l=o===void 0?s.startOf(new Date,"day"):o,c=a.max,d=c===void 0?s.endOf(new Date,"day"):c,f=a.scrollToTime,u=f===void 0?s.startOf(new Date,"day"):f,m=a.enableAutoScroll,h=m===void 0?!0:m,g=yc(a,fIe),p=AA(n,this.props);return Z.createElement(vp,Object.assign({},g,{range:p,eventOffset:15,localizer:s,min:l,max:d,scrollToTime:u,enableAutoScroll:h}))}}])}(Z.Component);fv.defaultProps=vp.defaultProps;fv.range=AA;fv.navigate=Cf.navigate;fv.title=function(e,t){var r=t.localizer,a=AA(e,{localizer:r}),n=kW(a),s=n[0],o=n.slice(1);return r.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var C4=30;function A4(e){var t=e.accessors,r=e.components,a=e.date,n=e.events,s=e.getters,o=e.length,l=o===void 0?C4:o,c=e.localizer,d=e.onDoubleClickEvent,f=e.onSelectEvent,u=e.selected,m=k.useRef(null),h=k.useRef(null),g=k.useRef(null),p=k.useRef(null),x=k.useRef(null);k.useEffect(function(){y()});var v=function(C,S,T){var _=r.event,M=r.date;return S=S.filter(function(D){return qx(D,c.startOf(C,"day"),c.endOf(C,"day"),t,c)}),S.map(function(D,O){var B=t.title(D),U=t.end(D),q=t.start(D),K=s.eventProp(D,q,U,j4(D,u)),G=O===0&&c.format(C,"agendaDateFormat"),ve=O===0?Z.createElement("td",{rowSpan:S.length,className:"rbc-agenda-date-cell"},M?Z.createElement(M,{day:C,label:G}):G):!1;return Z.createElement("tr",{key:T+"_"+O,className:K.className,style:K.style},ve,Z.createElement("td",{className:"rbc-agenda-time-cell"},b(C,D)),Z.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(I){return f&&f(D,I)},onDoubleClick:function(I){return d&&d(D,I)}},_?Z.createElement(_,{event:D,title:B}):B))},[])},b=function(C,S){var T="",_=r.time,M=c.messages.allDay,D=t.end(S),O=t.start(S);return t.allDay(S)||(c.eq(O,D)?M=c.format(O,"agendaTimeFormat"):c.isSameDate(O,D)?M=c.format({start:O,end:D},"agendaTimeRangeFormat"):c.isSameDate(C,O)?M=c.format(O,"agendaTimeFormat"):c.isSameDate(C,D)&&(M=c.format(D,"agendaTimeFormat"))),c.gt(C,O,"day")&&(T="rbc-continues-prior"),c.lt(C,D,"day")&&(T+=" rbc-continues-after"),Z.createElement("span",{className:T.trim()},_?Z.createElement(_,{event:S,day:C,label:M}):M)},y=function(){if(x.current){var C=m.current,S=x.current.firstChild;if(S){var T=p.current.scrollHeight>p.current.clientHeight,_=[],M=_;_=[o5(S.children[0]),o5(S.children[1])],(M[0]!==_[0]||M[1]!==_[1])&&(h.current.style.width=_[0]+"px",g.current.style.width=_[1]+"px"),T?(A4e(C,"rbc-header-overflowing"),C.style.marginRight=rA()+"px"):E4e(C,"rbc-header-overflowing")}}},w=c.messages,j=c.add(a,l,"day"),E=c.range(a,j,"day");return n=n.filter(function(A){return qx(A,c.startOf(a,"day"),c.endOf(j,"day"),t,c)}),n.sort(function(A,C){return+t.start(A)-+t.start(C)}),Z.createElement("div",{className:"rbc-agenda-view"},n.length!==0?Z.createElement(Z.Fragment,null,Z.createElement("table",{ref:m,className:"rbc-agenda-table"},Z.createElement("thead",null,Z.createElement("tr",null,Z.createElement("th",{className:"rbc-header",ref:h},w.date),Z.createElement("th",{className:"rbc-header",ref:g},w.time),Z.createElement("th",{className:"rbc-header"},w.event)))),Z.createElement("div",{className:"rbc-agenda-content",ref:p},Z.createElement("table",{className:"rbc-agenda-table"},Z.createElement("tbody",{ref:x},E.map(function(A,C){return v(A,n,C)}))))):Z.createElement("span",{className:"rbc-agenda-empty"},w.noEventsInRange))}A4.range=function(e,t){var r=t.length,a=r===void 0?C4:r,n=t.localizer,s=n.add(e,a,"day");return{start:e,end:s}};A4.navigate=function(e,t,r){var a=r.length,n=a===void 0?C4:a,s=r.localizer;switch(t){case Li.PREVIOUS:return s.add(e,-n,"day");case Li.NEXT:return s.add(e,n,"day");default:return e}};A4.title=function(e,t){var r=t.length,a=r===void 0?C4:r,n=t.localizer,s=n.add(e,a,"day");return n.format({start:e,end:s},"agendaHeaderFormat")};var bb=wu(wu(wu(wu(wu({},pi.MONTH,N4),pi.WEEK,Cf),pi.WORK_WEEK,fv),pi.DAY,S4),pi.AGENDA,A4),uIe=["action","date","today"];function hIe(e,t){var r=t.action,a=t.date,n=t.today,s=yc(t,uIe);switch(e=typeof e=="string"?bb[e]:e,r){case Li.TODAY:a=n||new Date;break;case Li.DATE:break;default:Dx(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),a=e.navigate(a,r,s)}return a}function mIe(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&yr(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var zc=function(t){return function(r){return mIe(r,t)}},pIe=["view","date","getNow","onNavigate"],gIe=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function XW(e){if(Array.isArray(e))return e;for(var t=[],r=0,a=Object.entries(e);r<a.length;r++){var n=od(a[r],2),s=n[0],o=n[1];o&&t.push(s)}return t}function xIe(e,t){var r=t.views,a=XW(r);return a.indexOf(e)!==-1}var ZW=function(e){function t(){var r;ss(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=ai(this,t,[].concat(n)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?qLe(o,function(l,c){return l[c]=bb[c]},{}):yr(o)==="object"?NW(o,function(l,c){return l===!0?bb[c]:l}):bb},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var l=r.props,c=l.view,d=l.drilldownView,f=l.getDrilldownView;return f?f(o,c,Object.keys(r.getViews())):d},r.handleRangeChange=function(o,l,c){var d=r.props,f=d.onRangeChange,u=d.localizer;f&&l.range&&f(l.range(o,{localizer:u}),c)},r.handleNavigate=function(o,l){var c=r.props,d=c.view,f=c.date,u=c.getNow,m=c.onNavigate,h=yc(c,pIe),g=r.getView(),p=u();f=hIe(g,ya(ya({},h),{},{action:o,date:l||f||p,today:p})),m(f,d,o),r.handleRangeChange(f,g)},r.handleViewChange=function(o){o!==r.props.view&&xIe(o,r.props)&&r.props.onView(o);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Fa(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Fa(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Fa(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(o){Fa(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,l){var c=r.props.onDrillDown;if(c){c(o,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(Li.DATE,o)},r.state={context:t.getContext(r.props)},r}return ni(t,e),is(t,[{key:"render",value:function(){var a=this.props,n=a.view,s=a.toolbar,o=a.events,l=a.backgroundEvents,c=a.resourceGroupingLayout,d=a.style,f=a.className,u=a.elementProps,m=a.date,h=a.getNow,g=a.length,p=a.showMultiDayTimes,x=a.onShowMore,v=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var b=yc(a,gIe);m=m||h();var y=this.getView(),w=this.state.context,j=w.accessors,E=w.components,A=w.getters,C=w.localizer,S=w.viewNames,T=E.toolbar||bTe,_=y.title(m,{localizer:C,length:g});return Z.createElement("div",Object.assign({},u,{className:fn(f,"rbc-calendar",b.rtl&&"rbc-rtl"),style:d}),s&&Z.createElement(T,{date:m,view:n,views:S,label:_,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:C}),Z.createElement(y,Object.assign({},b,{events:o,backgroundEvents:l,date:m,getNow:h,length:g,localizer:C,getters:A,components:E,accessors:j,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:x,doShowMoreDrillDown:v,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:t.getContext(a)}}},{key:"getContext",value:function(a){var n=a.startAccessor,s=a.endAccessor,o=a.allDayAccessor,l=a.tooltipAccessor,c=a.titleAccessor,d=a.resourceAccessor,f=a.resourceIdAccessor,u=a.resourceTitleAccessor,m=a.eventIdAccessor,h=a.eventPropGetter,g=a.backgroundEventPropGetter,p=a.slotPropGetter,x=a.slotGroupPropGetter,v=a.dayPropGetter,b=a.view,y=a.views,w=a.localizer,j=a.culture,E=a.messages,A=E===void 0?{}:E,C=a.components,S=C===void 0?{}:C,T=a.formats,_=T===void 0?{}:T,M=XW(y),D=kTe(A);return{viewNames:M,localizer:yTe(w,j,_,D),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return g&&g.apply(void 0,arguments)||{}},slotProp:function(){return p&&p.apply(void 0,arguments)||{}},slotGroupProp:function(){return x&&x.apply(void 0,arguments)||{}},dayProp:function(){return v&&v.apply(void 0,arguments)||{}}},components:$Ae(S[b]||{},DLe(S,M),{eventWrapper:Kl,backgroundEventWrapper:Kl,eventContainerWrapper:Kl,dateCellWrapper:Kl,weekWrapper:Kl,timeSlotWrapper:Kl,timeGutterWrapper:Kl,timeIndicatorWrapper:Kl}),accessors:{start:zc(n),end:zc(s),allDay:zc(o),tooltip:zc(l),title:zc(c),resource:zc(d),resourceId:zc(f),resourceTitle:zc(u),eventId:zc(m)}}}}])}(Z.Component);ZW.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:pi.MONTH,views:[pi.MONTH,pi.WEEK,pi.DAY,pi.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:pi.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var eH=mU(ZW,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),vIe=function(t,r,a){var n=t.start,s=t.end;return"".concat(a.format(n,"P",r)," – ").concat(a.format(s,"P",r))},fN=function(t,r,a){var n=t.start,s=t.end;return"".concat(a.format(n,"p",r)," – ").concat(a.format(s,"p",r))},yIe=function(t,r,a){var n=t.start;return"".concat(a.format(n,"h:mma",r)," – ")},bIe=function(t,r,a){var n=t.end;return" – ".concat(a.format(n,"h:mma",r))},wIe=function(t,r,a){var n=t.start,s=t.end;return"".concat(a.format(n,"MMMM dd",r)," – ").concat(a.format(s,ap(n,s,"month")?"dd":"MMMM dd",r))},kIe={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:fN,eventTimeRangeFormat:fN,eventTimeRangeStartFormat:yIe,eventTimeRangeEndFormat:bIe,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:wIe,agendaHeaderFormat:vIe,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:fN},tH=function(t){var r=t.startOfWeek,a=t.getDay,n=t.format,s=t.locales;return new vTe({formats:kIe,firstOfWeek:function(l){return a(r(new Date,{locale:s[l]}))},format:function(l,c,d){return n(new Date(l),c,{locale:s[d]})}})};const jIe={"pt-BR":_s},NIe=tH({format:Es,startOfWeek:Hu,getDay:K7,locales:jIe}),SIe=({appointments:e,onSelectSlot:t,onSelectEvent:r,onNavigate:a})=>{const n=k.useMemo(()=>e.map(l=>{var u,m,h;const c=new Date(l.scheduledDate),d=l.estimatedDuration||((u=l.procedure)==null?void 0:u.duration)||60,f=new Date(c.getTime()+d*6e4);return{id:l.id,title:`${((m=l.lead)==null?void 0:m.name)||"Sem nome"} - ${((h=l.procedure)==null?void 0:h.name)||"Procedimento"}`,start:c,end:f,resource:l,status:l.status}}),[e]),s=l=>{const c={aguardando_pagamento:{backgroundColor:"#FEF3C7",color:"#92400E"},pagamento_confirmado:{backgroundColor:"#DBEAFE",color:"#1E40AF"},aguardando_confirmacao:{backgroundColor:"#FED7AA",color:"#9A3412"},confirmado:{backgroundColor:"#D1FAE5",color:"#065F46"},em_atendimento:{backgroundColor:"#E9D5FF",color:"#6B21A8"},finalizado:{backgroundColor:"#E5E7EB",color:"#374151"},cancelado:{backgroundColor:"#FEE2E2",color:"#991B1B"},reagendado:{backgroundColor:"#DBEAFE",color:"#1E40AF"}};return{style:{...c[l.status]||c.confirmado,borderRadius:"6px",border:"none",padding:"4px 8px",fontSize:"0.875rem",fontWeight:"500"}}},o={allDay:"Dia inteiro",previous:"Anterior",next:"Próximo",today:"Hoje",month:"Mês",week:"Semana",day:"Dia",agenda:"Agenda",date:"Data",time:"Hora",event:"Evento",noEventsInRange:"Nenhum agendamento neste período.",showMore:l=>`+ ${l} mais`};return i.jsx("div",{className:"calendar-container",children:i.jsx(eH,{localizer:NIe,events:n,startAccessor:"start",endAccessor:"end",style:{height:"100%",minHeight:600},culture:"pt-BR",messages:o,onSelectSlot:t,onSelectEvent:r,onNavigate:a,selectable:!0,eventPropGetter:s,views:["month","week","day","agenda"],defaultView:"week",step:5,timeslots:12,min:new Date(2025,0,1,7,0,0),max:new Date(2025,0,1,20,0,0),scrollToTime:new Date(2025,0,1,8,0,0)})})},zh="America/Sao_Paulo";function rH(){const t=new Date().toLocaleString("en-US",{timeZone:zh,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return new Date(t)}function Jx(){const e=rH(),t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${a}`}function xrt(e){if(typeof e=="string"){const[n,s,o]=e.split("T")[0].split("-");return`${o}/${s}/${n}`}const t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${t}/${r}/${a}`}function vrt(e){return(typeof e=="string"?new Date(e):e).toLocaleString("pt-BR",{timeZone:zh,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function m2(e,t){const[r,a]=t.split(":").map(Number),n=`${e}T${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}:00.000-03:00`;return new Date(n)}function CIe(e,t){if(!e||!t)return!1;const r=m2(e,t),a=rH();return r<a}function aH(e){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${a}`}const AIe=({selectedDate:e,selectedTime:t,occupiedSlots:r=[],onTimeSelect:a,startHour:n=7,endHour:s=20,interval:o=5,location:l})=>{const[c,d]=k.useState([]);k.useEffect(()=>{f()},[e,r,n,s,o]);const f=()=>{const y=[],w=(s-n)*60,j=Math.floor(w/o);for(let E=0;E<=j;E++){const A=n*60+E*o,C=Math.floor(A/60),S=A%60;if(C>=s&&S>0||C>s)break;const T=`${C.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`,_=r.includes(T),M=CIe(e,T);y.push({time:T,available:!_&&!M})}d(y)},u=y=>{y.available&&a(y.time)},m=y=>{const w="px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all cursor-pointer text-center";return y.available?y.time===t?`${w} bg-blue-600 text-white border-blue-600 shadow-md`:`${w} bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20`:`${w} bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 border-gray-200 dark:border-gray-600 cursor-not-allowed opacity-50`},h=y=>{const w=parseInt(y.split(":")[0]);return w<12?"Manhã":w<18?"Tarde":"Noite"},g=y=>({moema:"Moema",av_paulista:"Av. Paulista",perdizes:"Perdizes",online:"Online",a_domicilio:"A Domicílio"})[y]||y,p=c.reduce((y,w)=>{const j=h(w.time);return y[j]||(y[j]=[]),y[j].push(w),y},{}),x=["Manhã","Tarde","Noite"];if(!e)return i.jsx("div",{className:"flex items-center justify-center p-8 bg-gray-50 dark:bg-gray-900 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-700",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ka,{className:"mx-auto mb-2 text-gray-400 dark:text-gray-600",size:32}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Selecione uma data para ver os horários disponíveis"})]})});const v=c.filter(y=>y.available).length,b=c.filter(y=>!y.available).length;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Horários para ",new Date(e+"T00:00:00").toLocaleDateString("pt-BR")]}),l&&i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Local: ",g(l)]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:v})," disponíveis"," • ",i.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:b})," ocupados"]})})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400 px-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded"}),i.jsx("span",{children:"Disponível"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-600 border-2 border-blue-600 rounded"}),i.jsx("span",{children:"Selecionado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-100 dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded opacity-50"}),i.jsx("span",{children:"Ocupado"})]})]}),x.map(y=>{const w=p[y]||[];return w.length===0?null:i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 px-2",children:y}),i.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2",children:w.map(j=>i.jsx("button",{type:"button",onClick:()=>u(j),disabled:!j.available,className:m(j),title:j.available?"Horário disponível":"Horário ocupado",children:j.time},j.time))})]},y)}),v===0&&i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[i.jsx(rs,{className:"text-yellow-600 dark:text-yellow-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Nenhum horário disponível nesta data"}),i.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-400 mt-1",children:"Todos os horários já estão ocupados ou já passaram. Por favor, selecione outra data."})]})]})]})},EIe=({appointment:e,onClose:t})=>{var m,h,g,p,x;const[r,a]=k.useState([]),[n,s]=k.useState(!0);k.useEffect(()=>{o()},[e.id]);const o=async()=>{try{if(s(!0),e.leadId)try{const v=await bn.getByLead(e.leadId);a(v.filter(b=>b.id!==e.id))}catch(v){console.error("Erro ao carregar histórico:",v)}}catch(v){console.error("Erro ao carregar detalhes:",v)}finally{s(!1)}},l=v=>new Date(v).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),c=v=>new Date(v).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),d=v=>({aguardando_pagamento:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pagamento_confirmado:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",aguardando_confirmacao:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",confirmado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",em_atendimento:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",finalizado:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[v]||"bg-gray-100 text-gray-800",f=v=>({aguardando_pagamento:"Aguardando Pagamento",pagamento_confirmado:"Pagamento Confirmado",aguardando_confirmacao:"Aguardando Confirmação",confirmado:"Confirmado",reagendado:"Reagendado",em_atendimento:"Em Atendimento",finalizado:"Finalizado",cancelado:"Cancelado",nao_compareceu:"Não Compareceu"})[v]||v,u=v=>({moema:"Moema",av_paulista:"Av. Paulista"})[v]||v;return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b dark:border-gray-700 p-6 flex justify-between items-start z-10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Detalhes do Agendamento"}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(e.status)}`,children:f(e.status)})]}),i.jsx("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(br,{size:24})})]}),n?i.jsx("div",{className:"p-6 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(aa,{size:20}),"Informações do Paciente"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nome"}),i.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:((m=e.lead)==null?void 0:m.name)||"Não informado"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Telefone"}),i.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(vs,{size:16}),((h=e.lead)==null?void 0:h.phone)||"Não informado"]})]}),((g=e.lead)==null?void 0:g.whatsapp)&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"WhatsApp"}),i.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.lead.whatsapp})]})]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(Yr,{size:20}),"Informações do Agendamento"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Procedimento"}),i.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:((p=e.procedure)==null?void 0:p.name)||"Não informado"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data e Horário"}),i.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(ka,{size:16}),l(e.scheduledDate)," às ",c(e.scheduledDate)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Local"}),i.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Go,{size:16}),u(e.location)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Duração"}),i.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:[e.estimatedDuration||((x=e.procedure)==null?void 0:x.duration)||60," minutos"]})]}),e.paymentAmount&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor"}),i.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ba,{size:16}),"R$ ",typeof e.paymentAmount=="number"?e.paymentAmount.toFixed(2):parseFloat(e.paymentAmount).toFixed(2)]})]}),e.paymentMethod&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Forma de Pagamento"}),i.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.paymentMethod.toUpperCase()})]})]})]}),e.notes&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(qa,{size:20}),"Observações"]}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:e.notes})]}),r.length>0&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(dQ,{size:20}),"Histórico de Agendamentos"]}),i.jsxs("div",{className:"space-y-2",children:[r.slice(0,5).map(v=>{var b;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded border dark:border-gray-600",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(b=v.procedure)==null?void 0:b.name}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[l(v.scheduledDate)," - ",u(v.location)]})]}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${d(v.status)}`,children:f(v.status)})]},v.id)}),r.length>5&&i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:["+ ",r.length-5," agendamentos anteriores"]})]})]})]}),i.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t dark:border-gray-700 p-6 flex justify-end gap-3",children:i.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Fechar"})})]})})},_Ie=({value:e,onChange:t,placeholder:r="Buscar por nome, CPF ou RG...",selectedPatientName:a})=>{const[n,s]=k.useState(""),[o,l]=k.useState([]),[c,d]=k.useState(!1),[f,u]=k.useState(!1),[m,h]=k.useState("all"),g=k.useRef(),p=k.useRef(null);k.useEffect(()=>{const A=C=>{p.current&&!p.current.contains(C.target)&&u(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),k.useEffect(()=>(n.length>=2?(g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{x()},300)):(l([]),u(!1)),()=>{g.current&&clearTimeout(g.current)}),[n,m]);const x=async()=>{try{d(!0);const A=await me.get("/appointments/search-patients",{params:{q:n,type:m}});l(A.data.data||[]),u(!0)}catch(A){console.error("Erro ao buscar pacientes:",A),l([])}finally{d(!1)}},v=A=>{t(A.id,A),s(""),l([]),u(!1)},b=()=>{t("",{}),s(""),l([])},y=A=>{const C=A.replace(/\D/g,"");return C.length===11?"cpf":C.length>=7&&C.length<=9?"rg":"name"},w=A=>{if(s(A),A.length>=2){const C=y(A);h(C)}},j=A=>A?A.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):"",E=A=>A==="lead"?i.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded",children:"Lead"}):i.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded",children:"Paciente"});return i.jsx("div",{ref:p,className:"relative",children:e&&a?i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-500 dark:border-blue-400 rounded-lg",children:[i.jsx(aa,{className:"text-blue-600 dark:text-blue-400",size:20}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:a})}),i.jsx("button",{type:"button",onClick:b,className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-800 rounded",title:"Remover seleção",children:i.jsx(br,{size:16,className:"text-gray-600 dark:text-gray-400"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:c?i.jsx(ec,{className:"animate-spin",size:20}):i.jsx(Ml,{size:20})}),i.jsx("input",{type:"text",value:n,onChange:A=>w(A.target.value),onFocus:()=>{o.length>0&&u(!0)},placeholder:r,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),m!=="all"&&n.length>=2&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:i.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded",children:m==="cpf"?"CPF":m==="rg"?"RG":"Nome"})})]}),f&&o.length>0&&i.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:[i.jsxs("div",{className:"p-2 border-b dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400",children:[o.length," resultado",o.length!==1?"s":""," encontrado",o.length!==1?"s":""]}),o.map(A=>i.jsx("button",{type:"button",onClick:()=>v(A),className:"w-full p-3 hover:bg-gray-50 dark:hover:bg-gray-700 text-left border-b dark:border-gray-700 last:border-b-0 transition-colors",children:i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:A.name}),E(A.source)]}),i.jsxs("div",{className:"space-y-0.5",children:[A.phone&&i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["📱 ",A.phone]}),A.cpf&&i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["CPF: ",j(A.cpf)]}),A.rg&&i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["RG: ",A.rg]}),A.email&&i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:["✉️ ",A.email]})]})]})})},`${A.source}-${A.id}`))]}),f&&!c&&n.length>=2&&o.length===0&&i.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg p-4 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:['Nenhum paciente encontrado para "',n,'"']})})]})})},MIe=({appointments:e,onRefresh:t})=>{const[r,a]=k.useState(!1),[n,s]=k.useState(!1),[o,l]=k.useState(null),[c,d]=k.useState(""),[f,u]=k.useState([]),[m,h]=k.useState([]),[g,p]=k.useState({leadId:"",procedureId:"",scheduledDate:"",scheduledTime:"09:00",location:"moema",paymentAmount:"",paymentMethod:"pix",hasReturn:!1,returnCount:0,returnFrequency:30,notes:""});k.useEffect(()=>{x()},[]),k.useEffect(()=>{g.scheduledDate&&g.location&&v()},[g.scheduledDate,g.location]);const x=async()=>{try{const A=await Qn.getProcedures();h(A)}catch(A){console.error("Erro ao carregar procedimentos:",A)}},v=async()=>{try{const A=await bn.getOccupiedSlots(g.scheduledDate,g.location);u(A)}catch(A){console.error("Erro ao carregar slots ocupados:",A)}},b=A=>{const C=aH(A.start),S=A.start.toLocaleTimeString("pt-BR",{timeZone:zh,hour:"2-digit",minute:"2-digit",hour12:!1});p({...g,scheduledDate:C,scheduledTime:S}),a(!0)},y=A=>{A.resource&&(l(A.resource),s(!0))},w=A=>{},j=A=>{p({...g,scheduledTime:A})},E=async A=>{var _,M;A.preventDefault();const C=m2(g.scheduledDate,g.scheduledTime),S=m.find(D=>D.id===g.procedureId),T=(S==null?void 0:S.duration)||60;try{const D=await bn.checkAvailability(C.toISOString(),T,g.location);if(!D.available){Le.error(`Horário indisponível! Há ${D.conflicts.length} conflito(s) neste horário.`);return}await bn.create({leadId:g.leadId,procedureId:g.procedureId,scheduledDate:C.toISOString(),location:g.location,paymentAmount:g.paymentAmount?parseFloat(g.paymentAmount):void 0,paymentMethod:g.paymentMethod,hasReturn:g.hasReturn,returnCount:g.hasReturn?g.returnCount:void 0,returnFrequency:g.hasReturn?g.returnFrequency:void 0,notes:g.notes||void 0}),Le.success("Agendamento criado com sucesso!"),a(!1),t(),p({leadId:"",procedureId:"",scheduledDate:"",scheduledTime:"09:00",location:"moema",paymentAmount:"",paymentMethod:"pix",hasReturn:!1,returnCount:0,returnFrequency:30,notes:""}),d("")}catch(D){Le.error("Erro ao criar agendamento: "+(((M=(_=D.response)==null?void 0:_.data)==null?void 0:M.message)||D.message))}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Yr,{size:24}),"Calendário de Agendamentos"]}),i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(ja,{size:20}),"Novo Agendamento"]})]}),i.jsx(SIe,{appointments:e,onSelectSlot:b,onSelectEvent:y,onNavigate:w})]}),n&&o&&i.jsx(EIe,{appointment:o,onClose:()=>{s(!1),l(null)},onRefresh:t}),r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Novo Agendamento"}),i.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(br,{size:24})})]}),i.jsxs("form",{onSubmit:E,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Paciente *"}),i.jsx(_Ie,{value:g.leadId,selectedPatientName:c,onChange:(A,C)=>{p({...g,leadId:A}),d(C.name)},placeholder:"Buscar por nome, CPF ou RG..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Procedimento *"}),i.jsxs("select",{required:!0,value:g.procedureId,onChange:A=>p({...g,procedureId:A.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg",children:[i.jsx("option",{value:"",children:"Selecione um procedimento"}),m.map(A=>i.jsxs("option",{value:A.id,children:[A.name," - R$ ",A.price," (",A.duration,"min)"]},A.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data *"}),i.jsx("input",{type:"date",required:!0,min:Jx(),value:g.scheduledDate,onChange:A=>p({...g,scheduledDate:A.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Local *"}),i.jsxs("select",{value:g.location,onChange:A=>p({...g,location:A.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg",children:[i.jsx("option",{value:"moema",children:"Moema"}),i.jsx("option",{value:"av_paulista",children:"Av. Paulista"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),i.jsx("textarea",{value:g.notes,onChange:A=>p({...g,notes:A.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg",rows:3,placeholder:"Observações sobre o agendamento..."})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Horário Disponível *"}),i.jsx(AIe,{selectedDate:g.scheduledDate,selectedTime:g.scheduledTime,occupiedSlots:f,onTimeSelect:j,location:g.location})]})]}),i.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:!g.leadId||!g.procedureId||!g.scheduledDate||!g.scheduledTime,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Criar Agendamento"})]})]})]})})})]})},LIe=()=>{var te;const{user:e}=kc(),[t,r]=k.useState([]),[a,n]=k.useState([]),[s,o]=k.useState(!0),[l,c]=k.useState(!1),[d,f]=k.useState(!1),[u,m]=k.useState(!1),[h,g]=k.useState(null),[p,x]=k.useState("today"),[v,b]=k.useState("calendar"),[y,w]=k.useState({search:"",status:"all",location:"all",procedureId:"all",dateFrom:"",dateTo:""}),j=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestor",[E,A]=k.useState([]),[C,S]=k.useState([]),[T,_]=k.useState({leadId:"",procedureId:"",scheduledDate:"",scheduledTime:"09:00",location:"moema",paymentAmount:"",paymentMethod:"pix",hasReturn:!1,returnCount:0,returnFrequency:30,notes:""}),[M,D]=k.useState({scheduledDate:"",scheduledTime:"09:00",location:"moema",notes:""});k.useEffect(()=>{U(),q(),K()},[]),k.useEffect(()=>{U()},[p]),k.useEffect(()=>{O()},[t,y]);const O=()=>{let W=[...t];y.search&&(W=W.filter(Y=>{var Q,ne;return(ne=(Q=Y.lead)==null?void 0:Q.name)==null?void 0:ne.toLowerCase().includes(y.search.toLowerCase())})),y.status&&y.status!=="all"&&(W=W.filter(Y=>Y.status===y.status)),y.location&&y.location!=="all"&&(W=W.filter(Y=>Y.location===y.location)),y.procedureId&&y.procedureId!=="all"&&(W=W.filter(Y=>Y.procedureId===y.procedureId)),y.dateFrom&&(W=W.filter(Y=>new Date(Y.scheduledDate).toISOString().split("T")[0]>=y.dateFrom)),y.dateTo&&(W=W.filter(Y=>new Date(Y.scheduledDate).toISOString().split("T")[0]<=y.dateTo)),n(W)},B=()=>{w({search:"",status:"all",location:"all",procedureId:"all",dateFrom:"",dateTo:""})},U=async()=>{try{o(!0);let W;p==="today"?W=await bn.getToday():W=(await bn.getAll()).data,W.sort((Y,Q)=>new Date(Y.scheduledDate).getTime()-new Date(Q.scheduledDate).getTime()),r(W)}catch(W){console.error("Erro ao carregar agendamentos:",W)}finally{o(!1)}},q=async()=>{try{const W=await Qn.getLeads();A(W)}catch(W){console.error("Erro ao carregar leads:",W)}},K=async()=>{try{const W=await Qn.getProcedures();S(W)}catch(W){console.error("Erro ao carregar procedimentos:",W)}},G=async W=>{var Y,Q;W.preventDefault();try{const ne=m2(T.scheduledDate,T.scheduledTime);await bn.create({leadId:T.leadId,procedureId:T.procedureId,scheduledDate:ne.toISOString(),location:T.location,paymentAmount:T.paymentAmount?parseFloat(T.paymentAmount):void 0,paymentMethod:T.paymentMethod,hasReturn:T.hasReturn,returnCount:T.hasReturn?T.returnCount:void 0,returnFrequency:T.hasReturn?T.returnFrequency:void 0,notes:T.notes||void 0}),alert("Agendamento criado com sucesso!"),c(!1),U(),_({leadId:"",procedureId:"",scheduledDate:"",scheduledTime:"09:00",location:"moema",paymentAmount:"",paymentMethod:"pix",hasReturn:!1,returnCount:0,returnFrequency:30,notes:""})}catch(ne){alert("Erro ao criar agendamento: "+(((Q=(Y=ne.response)==null?void 0:Y.data)==null?void 0:Q.message)||ne.message))}},ve=W=>{g(W);const Y=new Date(W.scheduledDate);D({scheduledDate:aH(Y),scheduledTime:Y.toLocaleTimeString("pt-BR",{timeZone:zh,hour:"2-digit",minute:"2-digit",hour12:!1}),location:W.location,notes:W.notes||""}),f(!0)},fe=async W=>{var Y,Q;if(W.preventDefault(),!!h)try{const pe={scheduledDate:m2(M.scheduledDate,M.scheduledTime).toISOString(),location:M.location,notes:M.notes||void 0};await bn.update(h.id,pe),alert("Agendamento atualizado com sucesso!"),f(!1),g(null),U()}catch(ne){alert("Erro ao atualizar agendamento: "+(((Q=(Y=ne.response)==null?void 0:Y.data)==null?void 0:Q.message)||ne.message))}},I=async W=>{var ne;if(!j){Le.error("Você não tem permissão para excluir agendamentos");return}const Y=((ne=W.lead)==null?void 0:ne.name)||"este agendamento";if(!window.confirm(`Tem certeza que deseja excluir o agendamento de "${Y}"?

Esta ação não pode ser desfeita.`))return;const Q=prompt("Motivo do cancelamento (opcional):");try{await bn.cancel(W.id,Q||"Cancelado pelo sistema"),Le.success("Agendamento excluído com sucesso!"),U()}catch(pe){console.error("Erro ao excluir agendamento:",pe),Le.error("Erro ao excluir agendamento")}},z=W=>({aguardando_pagamento:"bg-yellow-100 text-yellow-800",pagamento_confirmado:"bg-blue-100 text-blue-800",aguardando_confirmacao:"bg-orange-100 text-orange-800",confirmado:"bg-green-100 text-green-800",em_atendimento:"bg-purple-100 text-purple-800",finalizado:"bg-gray-100 text-gray-800",cancelado:"bg-red-100 text-red-800"})[W]||"bg-gray-100 text-gray-800",H=W=>({aguardando_pagamento:"Aguardando Pagamento",pagamento_confirmado:"Pagamento Confirmado",aguardando_confirmacao:"Aguardando Confirmação",confirmado:"Confirmado",reagendado:"Reagendado",em_atendimento:"Em Atendimento",finalizado:"Finalizado",cancelado:"Cancelado",nao_compareceu:"Não Compareceu"})[W]||W,J=W=>({moema:"Moema",av_paulista:"Av. Paulista"})[W]||W;return s?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Agenda"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gerencie os agendamentos da clínica"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[i.jsxs("button",{onClick:()=>b("calendar"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${v==="calendar"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i.jsx(L7,{size:18}),"Calendário"]}),i.jsxs("button",{onClick:()=>b("list"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${v==="list"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i.jsx(i6,{size:18}),"Lista"]})]}),v==="list"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>m(!u),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${u?"bg-blue-50 dark:bg-blue-900/20 border-blue-500 dark:border-blue-400 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[i.jsx(Cw,{size:20}),"Filtros"]}),i.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>x("today"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${p==="today"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:"Hoje"}),i.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${p==="all"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:"Todos"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(ja,{size:20}),"Novo Agendamento"]})]})]})]}),u&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filtrar Agendamentos"}),i.jsxs("button",{onClick:B,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 flex items-center gap-1",children:[i.jsx(br,{size:16}),"Limpar Filtros"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Buscar Paciente"}),i.jsx("input",{type:"text",value:y.search,onChange:W=>w({...y,search:W.target.value}),placeholder:"Nome do paciente...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),i.jsxs("select",{value:y.status,onChange:W=>w({...y,status:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"aguardando_pagamento",children:"Aguardando Pagamento"}),i.jsx("option",{value:"aguardando_confirmacao",children:"Aguardando Confirmação"}),i.jsx("option",{value:"confirmado",children:"Confirmado"}),i.jsx("option",{value:"em_atendimento",children:"Em Atendimento"}),i.jsx("option",{value:"finalizado",children:"Finalizado"}),i.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Local"}),i.jsxs("select",{value:y.location,onChange:W=>w({...y,location:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"moema",children:"Moema"}),i.jsx("option",{value:"av_paulista",children:"Av. Paulista"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Procedimento"}),i.jsxs("select",{value:y.procedureId,onChange:W=>w({...y,procedureId:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Todos"}),C.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data Inicial"}),i.jsx("input",{type:"date",value:y.dateFrom,onChange:W=>w({...y,dateFrom:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data Final"}),i.jsx("input",{type:"date",value:y.dateTo,onChange:W=>w({...y,dateTo:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),v==="list"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:p==="today"?"Hoje":"Total"}),i.jsx("p",{className:"text-2xl font-bold dark:text-white",children:a.length})]}),i.jsx(Yr,{className:"text-blue-600",size:32})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Confirmados"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.filter(W=>W.status==="confirmado").length})]}),i.jsx(ba,{className:"text-green-600",size:32})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Aguardando"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.filter(W=>W.status==="aguardando_confirmacao").length})]}),i.jsx(rs,{className:"text-orange-600",size:32})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Em Atendimento"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.filter(W=>W.status==="em_atendimento").length})]}),i.jsx(ka,{className:"text-purple-600",size:32})]})})]}),v==="calendar"&&i.jsx(MIe,{appointments:t,onRefresh:U}),v==="list"&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[i.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:i.jsx("h2",{className:"text-xl font-semibold dark:text-gray-100",children:p==="today"?"Agendamentos de Hoje":"Todos os Agendamentos"})}),i.jsx("div",{className:"divide-y dark:divide-gray-700",children:a.length===0?i.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(Yr,{size:48,className:"mx-auto mb-2 opacity-50"}),i.jsx("p",{children:t.length===0?p==="today"?"Nenhum agendamento para hoje":"Nenhum agendamento cadastrado":"Nenhum agendamento encontrado com os filtros aplicados"})]}):a.map(W=>{var Y,Q,ne;return i.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-gray-100",children:((Y=W.lead)==null?void 0:Y.name)||"Lead não encontrado"}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(W.status)}`,children:H(W.status)})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 dark:text-gray-300",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ka,{size:16}),p==="all"&&i.jsx("span",{className:"font-medium mr-1",children:new Date(W.scheduledDate).toLocaleDateString("pt-BR",{timeZone:zh,day:"2-digit",month:"2-digit"})}),new Date(W.scheduledDate).toLocaleTimeString("pt-BR",{timeZone:zh,hour:"2-digit",minute:"2-digit"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(aa,{size:16}),((Q=W.procedure)==null?void 0:Q.name)||"Procedimento"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Go,{size:16}),J(W.location)]}),((ne=W.lead)==null?void 0:ne.phone)&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"📱"}),W.lead.phone]})]}),W.notes&&i.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:W.notes})]}),i.jsxs("div",{className:"flex gap-2 ml-4 flex-wrap",children:[i.jsxs("button",{onClick:()=>ve(W),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 flex items-center gap-1",children:[i.jsx(Tf,{size:14}),"Editar"]}),j&&i.jsxs("button",{onClick:()=>I(W),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 flex items-center gap-1",title:"Excluir agendamento",children:[i.jsx(An,{size:14}),"Excluir"]}),j&&W.status==="aguardando_pagamento"&&i.jsx("button",{onClick:async()=>{const pe=prompt("Link do comprovante:");if(pe)try{await bn.confirmPayment(W.id,pe,"pix"),Le.success("Pagamento confirmado!"),U()}catch{Le.error("Erro ao confirmar pagamento")}},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Confirmar Pagamento"}),j&&(W.status==="pagamento_confirmado"||W.status==="aguardando_confirmacao")&&i.jsxs("button",{onClick:async()=>{try{await bn.confirm(W.id,!0),Le.success("Agendamento confirmado!"),U()}catch{Le.error("Erro ao confirmar agendamento")}},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 flex items-center gap-1",children:[i.jsx(ba,{size:14}),"Confirmar Agendamento"]}),W.status==="confirmado"&&i.jsx("button",{onClick:()=>bn.checkIn(W.id).then(U),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Check-in"}),(W.status==="check_in"||W.status==="confirmado")&&i.jsxs("button",{onClick:()=>bn.startAttendance(W.id).then(U),className:"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700 flex items-center gap-1",children:[i.jsx(ka,{size:14}),"Iniciar Atendimento"]}),W.status==="em_atendimento"&&i.jsxs("button",{onClick:()=>{const pe=window.confirm("Agendar retorno automático?");bn.finalizeAttendance(W.id,{hasReturn:pe,returnCount:pe?1:void 0,returnFrequency:pe?30:void 0}).then(U)},className:"px-3 py-1 bg-indigo-600 text-white rounded text-sm hover:bg-indigo-700 flex items-center gap-1",children:[i.jsx(ba,{size:14}),"Finalizar Atendimento"]})]})]})},W.id)})})]}),l&&v==="list"&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Novo Agendamento"}),i.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(xc,{size:24})})]}),i.jsxs("form",{onSubmit:G,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Paciente *"}),i.jsxs("select",{required:!0,value:T.leadId,onChange:W=>_({...T,leadId:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",children:[i.jsx("option",{value:"",children:"Selecione um paciente"}),E.map(W=>i.jsxs("option",{value:W.id,children:[W.name," - ",W.phone]},W.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Procedimento *"}),i.jsxs("select",{required:!0,value:T.procedureId,onChange:W=>_({...T,procedureId:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",children:[i.jsx("option",{value:"",children:"Selecione um procedimento"}),C.map(W=>i.jsxs("option",{value:W.id,children:[W.name," - R$ ",W.price," (",W.duration,"min)"]},W.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data *"}),i.jsx("input",{type:"date",required:!0,min:Jx(),value:T.scheduledDate,onChange:W=>_({...T,scheduledDate:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Horário *"}),i.jsx("input",{type:"time",required:!0,value:T.scheduledTime,onChange:W=>_({...T,scheduledTime:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Local *"}),i.jsxs("select",{value:T.location,onChange:W=>_({...T,location:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",children:[i.jsx("option",{value:"moema",children:"Moema"}),i.jsx("option",{value:"av_paulista",children:"Av. Paulista"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor"}),i.jsx("input",{type:"number",step:"0.01",value:T.paymentAmount,onChange:W=>_({...T,paymentAmount:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",placeholder:"0.00"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Forma de Pagamento"}),i.jsxs("select",{value:T.paymentMethod,onChange:W=>_({...T,paymentMethod:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",children:[i.jsx("option",{value:"pix",children:"PIX"}),i.jsx("option",{value:"cartao",children:"Cartão"}),i.jsx("option",{value:"dinheiro",children:"Dinheiro"}),i.jsx("option",{value:"boleto",children:"Boleto"})]})]})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:T.hasReturn,onChange:W=>_({...T,hasReturn:W.target.checked})}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Agendar retornos automáticos"})]})}),T.hasReturn&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantidade de retornos"}),i.jsx("input",{type:"number",min:"1",max:"12",value:T.returnCount,onChange:W=>_({...T,returnCount:parseInt(W.target.value)}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"A cada (dias)"}),i.jsx("input",{type:"number",min:"1",value:T.returnFrequency,onChange:W=>_({...T,returnFrequency:parseInt(W.target.value)}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),i.jsx("textarea",{value:T.notes,onChange:W=>_({...T,notes:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",rows:3,placeholder:"Observações sobre o agendamento..."})]}),i.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[i.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Criar Agendamento"})]})]})]})})}),d&&h&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Editar Agendamento"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Paciente: ",i.jsx("span",{className:"font-medium",children:(te=h.lead)==null?void 0:te.name})]})]}),i.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(xc,{size:24})})]}),i.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data *"}),i.jsx("input",{type:"date",required:!0,min:Jx(),value:M.scheduledDate,onChange:W=>D({...M,scheduledDate:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Horário *"}),i.jsx("input",{type:"time",required:!0,value:M.scheduledTime,onChange:W=>D({...M,scheduledTime:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Local *"}),i.jsxs("select",{value:M.location,onChange:W=>D({...M,location:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",children:[i.jsx("option",{value:"moema",children:"Moema"}),i.jsx("option",{value:"av_paulista",children:"Av. Paulista"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),i.jsx("textarea",{value:M.notes,onChange:W=>D({...M,notes:W.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded",rows:3,placeholder:"Observações sobre o agendamento..."})]}),i.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[i.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Salvar Alterações"})]})]})]})})})]})};class TIe{async createMedicalRecord(t){return(await me.post("/medical-records",t)).data.data}async getAllMedicalRecords(){return(await me.get("/medical-records")).data.data}async getMedicalRecordById(t){return(await me.get(`/medical-records/${t}`)).data.data}async getMedicalRecordComplete(t){return(await me.get(`/medical-records/${t}/complete`)).data.data}async getMedicalRecordByLeadId(t){return(await me.get(`/medical-records/lead/${t}`)).data.data}async updateMedicalRecord(t,r){return(await me.put(`/medical-records/${t}`,r)).data.data}async deleteMedicalRecord(t){await me.delete(`/medical-records/${t}`)}async createAnamnesis(t){return(await me.post("/medical-records/anamnesis",t)).data.data}async getAnamnesisListByMedicalRecord(t){return(await me.get(`/medical-records/${t}/anamnesis`)).data.data}async getAnamnesisById(t){return(await me.get(`/medical-records/anamnesis/${t}`)).data.data}async createProcedureHistory(t){return(await me.post("/medical-records/procedure-history",t)).data.data}async getProcedureHistoryByMedicalRecord(t){return(await me.get(`/medical-records/${t}/procedure-history`)).data.data}async getProcedureHistoryById(t){return(await me.get(`/medical-records/procedure-history/${t}`)).data.data}}const Qg=new TIe;function IIe(){const[e,t]=k.useState(!1),[r,a]=k.useState(null),[n,s]=k.useState(null),o=k.useCallback(async c=>{var f,u;const d=c.replace(/\D/g,"");if(d.length!==8)return a("CEP deve conter 8 dígitos"),Le.error("CEP deve conter 8 dígitos"),null;t(!0),a(null);try{const m=await me.get(`/data/cep/${d}`);return s(m.data),Le.success("CEP encontrado com sucesso!"),m.data}catch(m){const h=((u=(f=m.response)==null?void 0:f.data)==null?void 0:u.message)||"Erro ao buscar CEP";return a(h),Le.error(h),s(null),null}finally{t(!1)}},[]),l=k.useCallback(()=>{s(null),a(null)},[]);return{loading:e,error:r,data:n,fetchCep:o,clearData:l}}function DIe(e){const t=e.replace(/\D/g,"");return t.length<=5?t:`${t.slice(0,5)}-${t.slice(5,8)}`}function uN(e){return e.replace(/\D/g,"").length===8}const PIe=({value:e,onChange:t,onAddressFound:r,disabled:a=!1,className:n="",label:s="CEP",required:o=!1,autoFetch:l=!0})=>{const{fetchCep:c,loading:d,data:f}=IIe(),[u,m]=k.useState(e);k.useEffect(()=>{m(e)},[e]);const h=x=>{const v=x.target.value,b=DIe(v);m(b),t(b),l&&uN(b)&&g(b)},g=async x=>{const v=await c(x);v&&r&&r({cep:v.cep,street:v.street,neighborhood:v.neighborhood,city:v.city,state:v.state,complement:v.complement})},p=()=>{uN(u)&&g(u)};return i.jsxs("div",{className:n,children:[s&&i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s," ",o&&i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Go,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",value:u,onChange:h,disabled:a||d,placeholder:"00000-000",maxLength:9,className:`
            w-full pl-10 pr-10 py-2 border rounded-lg
            focus:ring-2 focus:ring-primary-500 focus:border-transparent
            disabled:bg-gray-100 disabled:cursor-not-allowed
            dark:bg-gray-700 dark:border-gray-600 dark:text-white
            ${d?"bg-gray-50":""}
          `}),!l&&i.jsx("button",{type:"button",onClick:p,disabled:a||d||!uN(u),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-primary-600 hover:text-primary-700 disabled:text-gray-400 disabled:cursor-not-allowed",children:d?i.jsx(Uu,{className:"h-5 w-5 animate-spin"}):i.jsx(Ml,{className:"h-5 w-5"})}),l&&d&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx(Uu,{className:"h-5 w-5 animate-spin text-primary-600"})})]}),f&&!d&&i.jsxs("p",{className:"mt-1 text-sm text-green-600 dark:text-green-400",children:["✓ CEP encontrado: ",f.city," - ",f.state]})]})},OIe=({onClose:e,onSuccess:t})=>{var A,C,S,T;const[r,a]=k.useState([]),[n,s]=k.useState(null),[o,l]=k.useState(""),[c,d]=k.useState(!1),[f,u]=k.useState(""),[m,h]=k.useState("pessoal"),[g,p]=k.useState({fullName:"",birthDate:"",cpf:"",rg:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",bloodType:"",allergies:[],chronicDiseases:[],currentMedications:[],previousSurgeries:[],familyHistory:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:"",generalNotes:""});k.useEffect(()=>{x()},[]),k.useEffect(()=>{n&&p(_=>({..._,leadId:n.id,fullName:n.name,phone:n.phone||"",email:n.email||"",city:n.city||"",state:n.state||""}))},[n]);const x=async()=>{try{const _=await Qn.getLeads();a(_)}catch(_){console.error("Erro ao carregar leads:",_)}},v=r.filter(_=>{var M,D;return _.name.toLowerCase().includes(o.toLowerCase())||((M=_.email)==null?void 0:M.toLowerCase().includes(o.toLowerCase()))||((D=_.phone)==null?void 0:D.includes(o))}),b=(_,M)=>{p(D=>({...D,[_]:M}))},y=(_,M)=>{if(M.trim()){const D=M.split(",").map(O=>O.trim()).filter(O=>O);p(O=>({...O,[_]:D}))}},w=_=>{p(M=>({...M,zipCode:_.cep,address:_.street,city:_.city,state:_.state}))},j=async _=>{var M,D;if(_.preventDefault(),!g.leadId){u("Selecione um lead para criar o prontuário");return}if(!g.fullName){u("Nome completo é obrigatório");return}d(!0),u("");try{await Qg.createMedicalRecord(g),t()}catch(O){console.error("Erro ao criar prontuário:",O),u(((D=(M=O.response)==null?void 0:M.data)==null?void 0:D.message)||"Erro ao criar prontuário")}finally{d(!1)}},E=[{id:"pessoal",label:"Dados Pessoais",icon:aa},{id:"endereco",label:"Endereço",icon:Go},{id:"medico",label:"Informações Médicas",icon:l6},{id:"emergencia",label:"Emergência",icon:vs},{id:"obs",label:"Observações",icon:qa}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Novo Prontuário Médico"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition",children:i.jsx(br,{size:24})})]}),i.jsxs("div",{className:"p-6 border-b dark:border-gray-700 bg-purple-50 dark:bg-purple-900/20",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Selecionar Paciente (Lead) *"}),i.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail ou telefone...",value:o,onChange:_=>l(_.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),o&&i.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800",children:v.length===0?i.jsx("div",{className:"p-4 text-gray-500 dark:text-gray-400 text-sm",children:"Nenhum lead encontrado"}):v.map(_=>i.jsxs("button",{onClick:()=>{s(_),l("")},className:"w-full p-3 text-left hover:bg-purple-50 dark:hover:bg-purple-900/30 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:_.name}),i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.email&&i.jsx("span",{children:_.email}),_.phone&&i.jsx("span",{className:"ml-2",children:_.phone})]})]},_.id))}),n&&i.jsxs("div",{className:"mt-3 p-3 bg-white dark:bg-gray-800 border border-purple-200 dark:border-purple-700 rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:n.name}),i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.email," • ",n.phone]})]}),i.jsx("button",{onClick:()=>s(null),className:"text-red-500 hover:text-red-700 dark:hover:text-red-400",children:i.jsx(br,{size:20})})]})]}),i.jsx("div",{className:"border-b dark:border-gray-700",children:i.jsx("div",{className:"flex overflow-x-auto",children:E.map(_=>{const M=_.icon;return i.jsxs("button",{onClick:()=>h(_.id),className:`flex items-center gap-2 px-6 py-3 border-b-2 transition whitespace-nowrap ${m===_.id?"border-purple-600 text-purple-600 dark:text-purple-400 font-medium":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[i.jsx(M,{size:18}),_.label]},_.id)})})}),i.jsxs("form",{onSubmit:j,className:"flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"p-6 space-y-6",children:[f&&i.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-2",children:[i.jsx(rs,{className:"text-red-500 dark:text-red-400 flex-shrink-0 mt-0.5",size:20}),i.jsx("span",{className:"text-red-700 dark:text-red-400 text-sm",children:f})]}),m==="pessoal"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Nome Completo *"}),i.jsx("input",{type:"text",value:g.fullName,onChange:_=>b("fullName",_.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Data de Nascimento"}),i.jsx("input",{type:"date",value:g.birthDate,onChange:_=>b("birthDate",_.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"CPF"}),i.jsx("input",{type:"text",value:g.cpf,onChange:_=>b("cpf",_.target.value),placeholder:"000.000.000-00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"RG"}),i.jsx("input",{type:"text",value:g.rg,onChange:_=>b("rg",_.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Telefone"}),i.jsx("input",{type:"tel",value:g.phone,onChange:_=>b("phone",_.target.value),placeholder:"(00) 00000-0000",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"E-mail"}),i.jsx("input",{type:"email",value:g.email,onChange:_=>b("email",_.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})}),m==="endereco"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(PIe,{value:g.zipCode||"",onChange:_=>b("zipCode",_),onAddressFound:w,label:"CEP",className:"md:col-span-1",autoFetch:!0}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Cidade"}),i.jsx("input",{type:"text",value:g.city,onChange:_=>b("city",_.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Estado"}),i.jsx("input",{type:"text",value:g.state,onChange:_=>b("state",_.target.value),placeholder:"SP",maxLength:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent uppercase"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Endereço Completo (Rua, número)"}),i.jsx("textarea",{value:g.address,onChange:_=>b("address",_.target.value),rows:3,placeholder:"Rua, número, complemento",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),m==="medico"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo Sanguíneo"}),i.jsxs("select",{value:g.bloodType,onChange:_=>b("bloodType",_.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"A+",children:"A+"}),i.jsx("option",{value:"A-",children:"A-"}),i.jsx("option",{value:"B+",children:"B+"}),i.jsx("option",{value:"B-",children:"B-"}),i.jsx("option",{value:"AB+",children:"AB+"}),i.jsx("option",{value:"AB-",children:"AB-"}),i.jsx("option",{value:"O+",children:"O+"}),i.jsx("option",{value:"O-",children:"O-"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Alergias ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"(separar por vírgula)"})]}),i.jsx("textarea",{value:(A=g.allergies)==null?void 0:A.join(", "),onChange:_=>y("allergies",_.target.value),rows:2,placeholder:"Ex: Dipirona, Penicilina, Látex",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Doenças Crônicas ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"(separar por vírgula)"})]}),i.jsx("textarea",{value:(C=g.chronicDiseases)==null?void 0:C.join(", "),onChange:_=>y("chronicDiseases",_.target.value),rows:2,placeholder:"Ex: Diabetes, Hipertensão",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Medicações Atuais ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"(separar por vírgula)"})]}),i.jsx("textarea",{value:(S=g.currentMedications)==null?void 0:S.join(", "),onChange:_=>y("currentMedications",_.target.value),rows:2,placeholder:"Ex: Losartana 50mg, Metformina 500mg",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cirurgias Anteriores ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"(separar por vírgula)"})]}),i.jsx("textarea",{value:(T=g.previousSurgeries)==null?void 0:T.join(", "),onChange:_=>y("previousSurgeries",_.target.value),rows:2,placeholder:"Ex: Apendicectomia (2015), Cesariana (2018)",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Histórico Familiar"}),i.jsx("textarea",{value:g.familyHistory,onChange:_=>b("familyHistory",_.target.value),rows:3,placeholder:"Doenças relevantes na família...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),m==="emergencia"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato de Emergência"}),i.jsx("input",{type:"text",value:g.emergencyContactName,onChange:_=>b("emergencyContactName",_.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone do Contato de Emergência"}),i.jsx("input",{type:"tel",value:g.emergencyContactPhone,onChange:_=>b("emergencyContactPhone",_.target.value),placeholder:"(00) 00000-0000",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relacionamento"}),i.jsx("input",{type:"text",value:g.emergencyContactRelationship,onChange:_=>b("emergencyContactRelationship",_.target.value),placeholder:"Ex: Mãe, Cônjuge, Filho(a)",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),m==="obs"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações Gerais"}),i.jsx("textarea",{value:g.generalNotes,onChange:_=>b("generalNotes",_.target.value),rows:8,placeholder:"Informações adicionais relevantes...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})})]}),i.jsxs("div",{className:"p-6 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:c||!n,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Criando..."]}):"Criar Prontuário"})]})]})]})})},RIe=({record:e,onClose:t,onSuccess:r})=>{var p,x,v,b;const[a,n]=k.useState(!1),[s,o]=k.useState(""),[l,c]=k.useState("pessoal"),[d,f]=k.useState({leadId:e.leadId,fullName:e.fullName,birthDate:e.birthDate?new Date(e.birthDate).toISOString().split("T")[0]:"",cpf:e.cpf||"",rg:e.rg||"",phone:e.phone||"",email:e.email||"",address:e.address||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",bloodType:e.bloodType||"",allergies:e.allergies||[],chronicDiseases:e.chronicDiseases||[],currentMedications:e.currentMedications||[],previousSurgeries:e.previousSurgeries||[],familyHistory:e.familyHistory||"",emergencyContactName:e.emergencyContactName||"",emergencyContactPhone:e.emergencyContactPhone||"",emergencyContactRelationship:e.emergencyContactRelationship||"",generalNotes:e.generalNotes||""}),u=(y,w)=>{f(j=>({...j,[y]:w}))},m=(y,w)=>{if(w.trim()){const j=w.split(",").map(E=>E.trim()).filter(E=>E);f(E=>({...E,[y]:j}))}else f(j=>({...j,[y]:[]}))},h=async y=>{var w,j;if(y.preventDefault(),!d.fullName){o("Nome completo é obrigatório");return}n(!0),o("");try{await Qg.updateMedicalRecord(e.id,d),r()}catch(E){console.error("Erro ao atualizar prontuário:",E),o(((j=(w=E.response)==null?void 0:w.data)==null?void 0:j.message)||"Erro ao atualizar prontuário")}finally{n(!1)}},g=[{id:"pessoal",label:"Dados Pessoais",icon:aa},{id:"endereco",label:"Endereço",icon:Go},{id:"medico",label:"Informações Médicas",icon:l6},{id:"emergencia",label:"Emergência",icon:vs},{id:"obs",label:"Observações",icon:qa}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex items-center justify-between bg-blue-50 dark:bg-blue-900/20",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Editar Prontuário"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Nº ",e.recordNumber]})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition",children:i.jsx(br,{size:24})})]}),i.jsx("div",{className:"border-b dark:border-gray-700",children:i.jsx("div",{className:"flex overflow-x-auto",children:g.map(y=>{const w=y.icon;return i.jsxs("button",{onClick:()=>c(y.id),className:`flex items-center gap-2 px-6 py-3 border-b-2 transition whitespace-nowrap ${l===y.id?"border-blue-600 text-blue-600 dark:text-blue-400 font-medium":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[i.jsx(w,{size:18}),y.label]},y.id)})})}),i.jsxs("form",{onSubmit:h,className:"flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"p-6 space-y-6",children:[s&&i.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-2",children:[i.jsx(rs,{className:"text-red-500 dark:text-red-400 flex-shrink-0 mt-0.5",size:20}),i.jsx("span",{className:"text-red-700 dark:text-red-400 text-sm",children:s})]}),l==="pessoal"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Nome Completo *"}),i.jsx("input",{type:"text",value:d.fullName,onChange:y=>u("fullName",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Data de Nascimento"}),i.jsx("input",{type:"date",value:d.birthDate,onChange:y=>u("birthDate",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"CPF"}),i.jsx("input",{type:"text",value:d.cpf,onChange:y=>u("cpf",y.target.value),placeholder:"000.000.000-00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"RG"}),i.jsx("input",{type:"text",value:d.rg,onChange:y=>u("rg",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Telefone"}),i.jsx("input",{type:"tel",value:d.phone,onChange:y=>u("phone",y.target.value),placeholder:"(00) 00000-0000",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"E-mail"}),i.jsx("input",{type:"email",value:d.email,onChange:y=>u("email",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})}),l==="endereco"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço Completo"}),i.jsx("textarea",{value:d.address,onChange:y=>u("address",y.target.value),rows:3,placeholder:"Rua, número, complemento",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Cidade"}),i.jsx("input",{type:"text",value:d.city,onChange:y=>u("city",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"Estado"}),i.jsx("input",{type:"text",value:d.state,onChange:y=>u("state",y.target.value),placeholder:"SP",maxLength:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-1",children:"CEP"}),i.jsx("input",{type:"text",value:d.zipCode,onChange:y=>u("zipCode",y.target.value),placeholder:"00000-000",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),l==="medico"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo Sanguíneo"}),i.jsxs("select",{value:d.bloodType,onChange:y=>u("bloodType",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"A+",children:"A+"}),i.jsx("option",{value:"A-",children:"A-"}),i.jsx("option",{value:"B+",children:"B+"}),i.jsx("option",{value:"B-",children:"B-"}),i.jsx("option",{value:"AB+",children:"AB+"}),i.jsx("option",{value:"AB-",children:"AB-"}),i.jsx("option",{value:"O+",children:"O+"}),i.jsx("option",{value:"O-",children:"O-"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Alergias ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"(separar por vírgula)"})]}),i.jsx("textarea",{value:((p=d.allergies)==null?void 0:p.join(", "))||"",onChange:y=>m("allergies",y.target.value),rows:2,placeholder:"Ex: Dipirona, Penicilina, Látex",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Doenças Crônicas ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"(separar por vírgula)"})]}),i.jsx("textarea",{value:((x=d.chronicDiseases)==null?void 0:x.join(", "))||"",onChange:y=>m("chronicDiseases",y.target.value),rows:2,placeholder:"Ex: Diabetes, Hipertensão",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Medicações Atuais ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"(separar por vírgula)"})]}),i.jsx("textarea",{value:((v=d.currentMedications)==null?void 0:v.join(", "))||"",onChange:y=>m("currentMedications",y.target.value),rows:2,placeholder:"Ex: Losartana 50mg, Metformina 500mg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cirurgias Anteriores ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"(separar por vírgula)"})]}),i.jsx("textarea",{value:((b=d.previousSurgeries)==null?void 0:b.join(", "))||"",onChange:y=>m("previousSurgeries",y.target.value),rows:2,placeholder:"Ex: Apendicectomia (2015), Cesariana (2018)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Histórico Familiar"}),i.jsx("textarea",{value:d.familyHistory,onChange:y=>u("familyHistory",y.target.value),rows:3,placeholder:"Doenças relevantes na família...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l==="emergencia"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato de Emergência"}),i.jsx("input",{type:"text",value:d.emergencyContactName,onChange:y=>u("emergencyContactName",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone do Contato de Emergência"}),i.jsx("input",{type:"tel",value:d.emergencyContactPhone,onChange:y=>u("emergencyContactPhone",y.target.value),placeholder:"(00) 00000-0000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relacionamento"}),i.jsx("input",{type:"text",value:d.emergencyContactRelationship,onChange:y=>u("emergencyContactRelationship",y.target.value),placeholder:"Ex: Mãe, Cônjuge, Filho(a)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l==="obs"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações Gerais"}),i.jsx("textarea",{value:d.generalNotes,onChange:y=>u("generalNotes",y.target.value),rows:8,placeholder:"Informações adicionais relevantes...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),i.jsxs("div",{className:"p-6 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Salvando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(c6,{size:18}),"Salvar Alterações"]})})]})]})]})})},FIe=({record:e,onBack:t,onEdit:r})=>{const a=({label:o,value:l,icon:c})=>l?i.jsxs("div",{className:"flex items-start gap-3 py-2",children:[c&&i.jsx(c,{className:"text-gray-400 dark:text-gray-500 flex-shrink-0 mt-0.5",size:18}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o}),i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:l})]})]}):null,n=({children:o,color:l="blue"})=>{const c={blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800",green:"bg-green-100 text-green-800",yellow:"bg-yellow-100 text-yellow-800",purple:"bg-purple-100 text-purple-800"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${c[l]||c.blue}`,children:o})},s=({title:o,icon:l,children:c})=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 mb-4 text-gray-800 dark:text-white border-b dark:border-gray-700 pb-3",children:[i.jsx(l,{className:"text-purple-600 dark:text-purple-400",size:22}),o]}),c]});return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[i.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:[i.jsx(Aw,{size:20}),"Voltar"]}),r&&i.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[i.jsx(Tf,{size:18}),"Editar Prontuário"]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-full",children:i.jsx(aa,{className:"text-purple-600 dark:text-purple-400",size:32})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.fullName}),i.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Prontuário: ",e.recordNumber]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[e.birthDate&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Yr,{className:"text-gray-400 dark:text-gray-500",size:16}),i.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Nascimento: ",new Date(e.birthDate).toLocaleDateString("pt-BR")]})]}),e.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(vs,{className:"text-gray-400 dark:text-gray-500",size:16}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e.phone})]}),e.email&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(ro,{className:"text-gray-400 dark:text-gray-500",size:16}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e.email})]}),e.bloodType&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(fQ,{className:"text-red-500 dark:text-red-400",size:16}),i.jsx(n,{color:"red",children:e.bloodType})]})]})]})]})}),i.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(s,{title:"Dados Pessoais",icon:aa,children:i.jsxs("div",{className:"space-y-1",children:[i.jsx(a,{label:"CPF",value:e.cpf}),i.jsx(a,{label:"RG",value:e.rg}),i.jsx(a,{label:"Telefone",value:e.phone,icon:vs}),i.jsx(a,{label:"E-mail",value:e.email,icon:ro})]})}),i.jsxs(s,{title:"Endereço",icon:Go,children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(a,{label:"Endereço Completo",value:e.address}),i.jsx(a,{label:"Cidade",value:e.city}),i.jsx(a,{label:"Estado",value:e.state}),i.jsx(a,{label:"CEP",value:e.zipCode})]}),!e.address&&!e.city&&i.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm italic",children:"Nenhum endereço cadastrado"})]}),i.jsx(s,{title:"Informações Médicas",icon:l6,children:i.jsxs("div",{className:"space-y-4",children:[e.bloodType&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Tipo Sanguíneo"}),i.jsx(n,{color:"red",children:e.bloodType})]}),e.allergies&&e.allergies.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm text-gray-500 mb-2 flex items-center gap-1",children:[i.jsx($u,{className:"text-red-500",size:16}),"Alergias"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.allergies.map((o,l)=>i.jsx(n,{color:"red",children:o},l))})]}),e.chronicDiseases&&e.chronicDiseases.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Doenças Crônicas"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.chronicDiseases.map((o,l)=>i.jsx(n,{color:"yellow",children:o},l))})]}),e.currentMedications&&e.currentMedications.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Medicações Atuais"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.currentMedications.map((o,l)=>i.jsx(n,{color:"blue",children:o},l))})]}),e.previousSurgeries&&e.previousSurgeries.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Cirurgias Anteriores"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.previousSurgeries.map((o,l)=>i.jsx(n,{color:"purple",children:o},l))})]}),e.familyHistory&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Histórico Familiar"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:e.familyHistory})]})]})}),i.jsxs(s,{title:"Contato de Emergência",icon:Ls,children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(a,{label:"Nome",value:e.emergencyContactName,icon:aa}),i.jsx(a,{label:"Telefone",value:e.emergencyContactPhone,icon:vs}),i.jsx(a,{label:"Relacionamento",value:e.emergencyContactRelationship})]}),!e.emergencyContactName&&i.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm italic",children:"Nenhum contato de emergência cadastrado"})]}),e.generalNotes&&i.jsx("div",{className:"lg:col-span-2",children:i.jsx(s,{title:"Observações Gerais",icon:qa,children:i.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.generalNotes})})}),i.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(s,{title:"Anamneses",icon:qa,children:e.anamnesisList&&e.anamnesisList.length>0?i.jsx("div",{className:"space-y-3",children:e.anamnesisList.map(o=>i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(o.createdAt).toLocaleDateString("pt-BR")}),o.complaintMain&&i.jsx("div",{className:"mt-1 text-gray-900 dark:text-white font-medium",children:o.complaintMain})]},o.id))}):i.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm italic",children:"Nenhuma anamnese cadastrada"})}),i.jsx(s,{title:"Histórico de Procedimentos",icon:Qc,children:e.procedureHistory&&e.procedureHistory.length>0?i.jsx("div",{className:"space-y-3",children:e.procedureHistory.map(o=>i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(o.procedureDate).toLocaleDateString("pt-BR")}),o.resultsDescription&&i.jsx("div",{className:"mt-1 text-gray-900 dark:text-white",children:o.resultsDescription})]},o.id))}):i.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm italic",children:"Nenhum procedimento registrado"})})]}),i.jsx("div",{className:"lg:col-span-2",children:i.jsx(s,{title:"Informações do Sistema",icon:Qc,children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Criado em"}),i.jsx("div",{className:"font-medium text-gray-900",children:new Date(e.createdAt).toLocaleString("pt-BR")})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Última atualização"}),i.jsx("div",{className:"font-medium text-gray-900",children:new Date(e.updatedAt).toLocaleString("pt-BR")})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Status"}),i.jsx("div",{children:i.jsx(n,{color:e.isActive?"green":"red",children:e.isActive?"Ativo":"Inativo"})})]})]})})})]})]})},BIe=()=>{const[e,t]=k.useState([]),[r,a]=k.useState([]),[n,s]=k.useState(!0),[o,l]=k.useState(""),[c,d]=k.useState(!1),[f,u]=k.useState(null),[m,h]=k.useState("list");k.useEffect(()=>{g()},[]),k.useEffect(()=>{p()},[o,e]);const g=async()=>{try{s(!0);const w=await Qg.getAllMedicalRecords();t(w)}catch(w){console.error("Erro ao carregar prontuários:",w)}finally{s(!1)}},p=()=>{if(!o.trim()){a(e);return}const w=o.toLowerCase(),j=e.filter(E=>{var A,C,S;return E.fullName.toLowerCase().includes(w)||E.recordNumber.toLowerCase().includes(w)||((A=E.cpf)==null?void 0:A.toLowerCase().includes(w))||((C=E.phone)==null?void 0:C.toLowerCase().includes(w))||((S=E.email)==null?void 0:S.toLowerCase().includes(w))});a(j)},x=async w=>{try{const j=await Qg.getMedicalRecordComplete(w.id);u(j),h("view")}catch(j){console.error("Erro ao carregar prontuário completo:",j)}},v=w=>{u(w),h("edit")},b=async w=>{if(window.confirm(`Deseja realmente excluir o prontuário de ${w.fullName}?`))try{await Qg.deleteMedicalRecord(w.id),await g()}catch(j){console.error("Erro ao excluir prontuário:",j),alert("Erro ao excluir prontuário")}},y=()=>{h("list"),u(null)};return m==="view"&&f?i.jsx(FIe,{record:f,onBack:y,onEdit:()=>h("edit")}):m==="edit"&&f?i.jsx(RIe,{record:f,onSuccess:async()=>{await g(),y()},onClose:y}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2 dark:text-gray-100",children:[i.jsx(qa,{className:"text-purple-600"}),"Prontuários Médicos"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie os prontuários médicos dos pacientes"})]}),i.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[i.jsx(ja,{size:20}),"Novo Prontuário"]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),i.jsx("input",{type:"text",placeholder:"Buscar por nome, CPF, telefone, e-mail ou número do prontuário...",value:o,onChange:w=>l(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total de Prontuários"}),i.jsx("p",{className:"text-2xl font-bold dark:text-white",children:e.length})]}),i.jsx(qa,{className:"text-purple-600",size:32})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Prontuários Ativos"}),i.jsx("p",{className:"text-2xl font-bold dark:text-white",children:e.filter(w=>w.isActive).length})]}),i.jsx(aa,{className:"text-green-600",size:32})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Com Anamnese"}),i.jsx("p",{className:"text-2xl font-bold dark:text-white",children:e.filter(w=>w.anamnesisList&&w.anamnesisList.length>0).length})]}),i.jsx(uQ,{className:"text-blue-600",size:32})]})})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nº Prontuário"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Paciente"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contato"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Data Criação"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"Carregando prontuários..."})}):r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"Nenhum prontuário encontrado"})}):r.map(w=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:w.recordNumber})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.fullName}),w.cpf&&i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["CPF: ",w.cpf]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-300",children:[w.phone&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(vs,{size:14}),w.phone]}),w.email&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ro,{size:14}),w.email]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(Yr,{size:14}),new Date(w.createdAt).toLocaleDateString("pt-BR")]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>x(w),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"Visualizar",children:i.jsx(Wm,{size:18})}),i.jsx("button",{onClick:()=>v(w),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Editar",children:i.jsx(Tf,{size:18})}),i.jsx("button",{onClick:()=>b(w),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Excluir",children:i.jsx(An,{size:18})})]})})]},w.id))})]})}),c&&i.jsx(OIe,{onClose:()=>d(!1),onSuccess:()=>{d(!1),g()}})]})},GD={receita:[{value:"procedimento",label:"Procedimento"},{value:"consulta",label:"Consulta"},{value:"retorno",label:"Retorno"},{value:"produto",label:"Produto"},{value:"outros_receitas",label:"Outras Receitas"}],despesa:[{value:"salario",label:"Salário"},{value:"fornecedor",label:"Fornecedor"},{value:"aluguel",label:"Aluguel"},{value:"energia",label:"Energia"},{value:"agua",label:"Água"},{value:"internet",label:"Internet"},{value:"telefone",label:"Telefone"},{value:"impostos",label:"Impostos"},{value:"marketing",label:"Marketing"},{value:"material_escritorio",label:"Material de Escritório"},{value:"material_medico",label:"Material Médico"},{value:"manutencao",label:"Manutenção"},{value:"contabilidade",label:"Contabilidade"},{value:"software",label:"Software"},{value:"limpeza",label:"Limpeza"},{value:"seguranca",label:"Segurança"},{value:"outros_despesas",label:"Outras Despesas"}],transferencia:[{value:"outros_receitas",label:"Transferência Entre Contas"}]},zIe=[{value:"pix",label:"PIX"},{value:"dinheiro",label:"Dinheiro"},{value:"cartao_credito",label:"Cartão de Crédito"},{value:"cartao_debito",label:"Cartão de Débito"},{value:"link_pagamento",label:"Link de Pagamento"},{value:"transferencia_bancaria",label:"Transferência Bancária"},{value:"boleto",label:"Boleto"},{value:"cheque",label:"Cheque"}];function $Ie({transaction:e,onClose:t,onSuccess:r}){const[a,n]=k.useState(!1),[s,o]=k.useState(!1),[l,c]=k.useState({type:(e==null?void 0:e.type)||"receita",category:(e==null?void 0:e.category)||"procedimento",amount:(e==null?void 0:e.amount)||0,description:(e==null?void 0:e.description)||"",paymentMethod:(e==null?void 0:e.paymentMethod)||"",status:(e==null?void 0:e.status)||"pendente",dueDate:e!=null&&e.dueDate?String(e.dueDate).split("T")[0]:"",paymentDate:e!=null&&e.paymentDate?String(e.paymentDate).split("T")[0]:"",referenceDate:e!=null&&e.referenceDate?String(e.referenceDate).split("T")[0]:Jx(),notes:(e==null?void 0:e.notes)||"",leadId:(e==null?void 0:e.leadId)||"",appointmentId:(e==null?void 0:e.appointmentId)||"",supplierId:(e==null?void 0:e.supplierId)||"",totalInstallments:1}),d=(u,m)=>{c(h=>{const g={...h,[u]:m};return u==="type"&&(g.category=GD[m][0].value),g})},f=async u=>{if(u.preventDefault(),!l.type){wn.error("Selecione o tipo de transação");return}if(!l.category){wn.error("Selecione a categoria");return}if(l.amount<=0){wn.error("O valor deve ser maior que zero");return}if(!l.description.trim()){wn.error("Informe a descrição");return}if(!l.dueDate){wn.error("Informe a data de vencimento");return}try{n(!0),s&&l.totalInstallments>1?(await Ci.createInstallmentTransactions({type:l.type,category:l.category,totalAmount:l.amount,description:l.description,paymentMethod:l.paymentMethod||void 0,totalInstallments:l.totalInstallments,firstDueDate:l.dueDate,leadId:l.leadId||void 0,appointmentId:l.appointmentId||void 0,supplierId:l.supplierId||void 0,referenceDate:l.referenceDate}),wn.success(`${l.totalInstallments} transações criadas com sucesso!`)):e?(await Ci.updateTransaction(e.id,{type:l.type,category:l.category,amount:l.amount,description:l.description,paymentMethod:l.paymentMethod||void 0,status:l.status,dueDate:l.dueDate,paymentDate:l.paymentDate||void 0,referenceDate:l.referenceDate,notes:l.notes||void 0,leadId:l.leadId||void 0,appointmentId:l.appointmentId||void 0,supplierId:l.supplierId||void 0}),wn.success("Transação atualizada com sucesso!")):(await Ci.createTransaction({type:l.type,category:l.category,amount:l.amount,description:l.description,paymentMethod:l.paymentMethod||void 0,status:l.status,dueDate:l.dueDate,paymentDate:l.paymentDate||void 0,referenceDate:l.referenceDate,notes:l.notes||void 0,leadId:l.leadId||void 0,appointmentId:l.appointmentId||void 0,supplierId:l.supplierId||void 0}),wn.success("Transação criada com sucesso!")),r(),t()}catch(m){wn.error("Erro ao salvar transação: "+m.message)}finally{n(!1)}};return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),i.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900",children:i.jsx(Ba,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e?"Editar Transação":"Nova Transação"})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:i.jsx(br,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo *"}),i.jsxs("select",{value:l.type,onChange:u=>d("type",u.target.value),disabled:!!e,className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 dark:disabled:bg-gray-900 disabled:cursor-not-allowed",children:[i.jsx("option",{value:"receita",children:"Receita"}),i.jsx("option",{value:"despesa",children:"Despesa"}),i.jsx("option",{value:"transferencia",children:"Transferência"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Categoria *"}),i.jsx("select",{value:l.category,onChange:u=>d("category",u.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:GD[l.type].map(u=>i.jsx("option",{value:u.value,children:u.label},u.value))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor *"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:"R$"}),i.jsx("input",{type:"number",step:"0.01",min:"0",value:l.amount,onChange:u=>d("amount",parseFloat(u.target.value)||0),className:"pl-10 w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0,00"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrição *"}),i.jsx("textarea",{value:l.description,onChange:u=>d("description",u.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Descreva a transação..."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Vencimento *"}),i.jsx("input",{type:"date",value:l.dueDate,onChange:u=>d("dueDate",u.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Pagamento"}),i.jsx("input",{type:"date",value:l.paymentDate,onChange:u=>d("paymentDate",u.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Referência *"}),i.jsx("input",{type:"date",value:l.referenceDate,onChange:u=>d("referenceDate",u.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Método de Pagamento"}),i.jsxs("select",{value:l.paymentMethod,onChange:u=>d("paymentMethod",u.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Selecione..."}),zIe.map(u=>i.jsx("option",{value:u.value,children:u.label},u.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),i.jsxs("select",{value:l.status,onChange:u=>d("status",u.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[i.jsx("option",{value:"pendente",children:"Pendente"}),i.jsx("option",{value:"confirmada",children:"Confirmada"}),i.jsx("option",{value:"cancelada",children:"Cancelada"}),i.jsx("option",{value:"estornada",children:"Estornada"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i.jsx(aa,{className:"w-4 h-4 inline mr-1"}),"Lead (ID)"]}),i.jsx("input",{type:"text",value:l.leadId,onChange:u=>d("leadId",u.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"UUID do lead..."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i.jsx(Yr,{className:"w-4 h-4 inline mr-1"}),"Agendamento (ID)"]}),i.jsx("input",{type:"text",value:l.appointmentId,onChange:u=>d("appointmentId",u.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"UUID do agendamento..."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i.jsx(d6,{className:"w-4 h-4 inline mr-1"}),"Fornecedor (ID)"]}),i.jsx("input",{type:"text",value:l.supplierId,onChange:u=>d("supplierId",u.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"UUID do fornecedor..."})]})]}),!e&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("input",{type:"checkbox",id:"installments",checked:s,onChange:u=>o(u.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"installments",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Parcelar transação"})]}),s&&i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Número de Parcelas"}),i.jsx("input",{type:"number",min:"2",max:"48",value:l.totalInstallments,onChange:u=>d("totalInstallments",parseInt(u.target.value)||1),className:"w-full md:w-32 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Valor por parcela: R$ ",(l.amount/l.totalInstallments).toFixed(2)]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),i.jsx("textarea",{value:l.notes,onChange:u=>d("notes",u.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Informações adicionais..."})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",disabled:a,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):e?"Atualizar":"Criar"})]})]})]})]})})}function UIe({supplier:e,onClose:t,onSuccess:r}){var f,u,m,h,g;const[a,n]=k.useState(!1),[s,o]=k.useState({name:(e==null?void 0:e.name)||"",cnpj:(e==null?void 0:e.cnpj)||"",cpf:(e==null?void 0:e.cpf)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",phone2:(e==null?void 0:e.phone2)||"",contactName:(e==null?void 0:e.contactName)||"",address:(e==null?void 0:e.address)||"",addressNumber:(e==null?void 0:e.addressNumber)||"",complement:(e==null?void 0:e.complement)||"",neighborhood:(e==null?void 0:e.neighborhood)||"",city:(e==null?void 0:e.city)||"",state:(e==null?void 0:e.state)||"",zipCode:(e==null?void 0:e.zipCode)||"",website:(e==null?void 0:e.website)||"",notes:(e==null?void 0:e.notes)||"",bankName:((f=e==null?void 0:e.bankInfo)==null?void 0:f.bankName)||"",agency:((u=e==null?void 0:e.bankInfo)==null?void 0:u.agency)||"",account:((m=e==null?void 0:e.bankInfo)==null?void 0:m.account)||"",accountType:((h=e==null?void 0:e.bankInfo)==null?void 0:h.accountType)||"",pixKey:((g=e==null?void 0:e.bankInfo)==null?void 0:g.pixKey)||""}),l=(p,x)=>{o(v=>({...v,[p]:x}))},c=async p=>{if(p.preventDefault(),!s.name.trim()){wn.error("Informe o nome do fornecedor");return}try{n(!0);const x={name:s.name,cnpj:s.cnpj||void 0,cpf:s.cpf||void 0,email:s.email||void 0,phone:s.phone||void 0,phone2:s.phone2||void 0,contactName:s.contactName||void 0,address:s.address||void 0,addressNumber:s.addressNumber||void 0,complement:s.complement||void 0,neighborhood:s.neighborhood||void 0,city:s.city||void 0,state:s.state||void 0,zipCode:s.zipCode||void 0,website:s.website||void 0,notes:s.notes||void 0,bankInfo:{bankName:s.bankName||void 0,agency:s.agency||void 0,account:s.account||void 0,accountType:s.accountType||void 0,pixKey:s.pixKey||void 0}};e?(await Ci.updateSupplier(e.id,x),wn.success("Fornecedor atualizado com sucesso!")):(await Ci.createSupplier(x),wn.success("Fornecedor criado com sucesso!")),r(),t()}catch(x){wn.error("Erro ao salvar: "+x.message)}finally{n(!1)}},d=[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amapá"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Ceará"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Espírito Santo"},{value:"GO",label:"Goiás"},{value:"MA",label:"Maranhão"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Pará"},{value:"PB",label:"Paraíba"},{value:"PR",label:"Paraná"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piauí"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rondônia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"São Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}];return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),i.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900",children:i.jsx(d6,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e?"Editar Fornecedor":"Novo Fornecedor"})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:i.jsx(br,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Dados Principais"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome *"}),i.jsx("input",{type:"text",value:s.name,onChange:p=>l("name",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"CNPJ"}),i.jsx("input",{type:"text",value:s.cnpj,onChange:p=>l("cnpj",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"00.000.000/0000-00"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"CPF"}),i.jsx("input",{type:"text",value:s.cpf,onChange:p=>l("cpf",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"000.000.000-00"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(vs,{className:"w-4 h-4 mr-2"}),"Contato"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),i.jsx("input",{type:"tel",value:s.phone,onChange:p=>l("phone",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone 2"}),i.jsx("input",{type:"tel",value:s.phone2,onChange:p=>l("phone2",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i.jsx(ro,{className:"w-4 h-4 inline mr-1"}),"Email"]}),i.jsx("input",{type:"email",value:s.email,onChange:p=>l("email",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"contato@fornecedor.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pessoa de Contato"}),i.jsx("input",{type:"text",value:s.contactName,onChange:p=>l("contactName",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Nome do responsável"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Website"}),i.jsx("input",{type:"url",value:s.website,onChange:p=>l("website",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"https://fornecedor.com"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(Go,{className:"w-4 h-4 mr-2"}),"Endereço"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Logradouro"}),i.jsx("input",{type:"text",value:s.address,onChange:p=>l("address",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Rua, Avenida..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Número"}),i.jsx("input",{type:"text",value:s.addressNumber,onChange:p=>l("addressNumber",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"123"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Complemento"}),i.jsx("input",{type:"text",value:s.complement,onChange:p=>l("complement",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Sala, Bloco..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bairro"}),i.jsx("input",{type:"text",value:s.neighborhood,onChange:p=>l("neighborhood",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cidade"}),i.jsx("input",{type:"text",value:s.city,onChange:p=>l("city",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estado"}),i.jsxs("select",{value:s.state,onChange:p=>l("state",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Selecione..."}),d.map(p=>i.jsx("option",{value:p.value,children:p.label},p.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"CEP"}),i.jsx("input",{type:"text",value:s.zipCode,onChange:p=>l("zipCode",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"00000-000"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(xf,{className:"w-4 h-4 mr-2"}),"Dados Bancários"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Banco"}),i.jsx("input",{type:"text",value:s.bankName,onChange:p=>l("bankName",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Agência"}),i.jsx("input",{type:"text",value:s.agency,onChange:p=>l("agency",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Conta"}),i.jsx("input",{type:"text",value:s.account,onChange:p=>l("account",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"00000-0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Conta"}),i.jsxs("select",{value:s.accountType,onChange:p=>l("accountType",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"corrente",children:"Conta Corrente"}),i.jsx("option",{value:"poupanca",children:"Poupança"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Chave PIX"}),i.jsx("input",{type:"text",value:s.pixKey,onChange:p=>l("pixKey",p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Email, telefone, CPF/CNPJ ou chave aleatória"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),i.jsx("textarea",{value:s.notes,onChange:p=>l("notes",p.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Informações adicionais sobre o fornecedor..."})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900",disabled:a,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 disabled:bg-gray-400",disabled:a,children:a?"Salvando...":e?"Atualizar":"Criar"})]})]})]})]})})}function WIe({invoice:e,onClose:t,onSuccess:r}){const[a,n]=k.useState(!1),[s,o]=k.useState([]),[l,c]=k.useState({invoiceNumber:(e==null?void 0:e.invoiceNumber)||"",type:(e==null?void 0:e.type)||"recibo",transactionId:(e==null?void 0:e.transactionId)||"",leadId:(e==null?void 0:e.leadId)||"",description:(e==null?void 0:e.description)||"",issueDate:e!=null&&e.issueDate?String(e.issueDate).split("T")[0]:Jx(),dueDate:e!=null&&e.dueDate?String(e.dueDate).split("T")[0]:""}),[d,f]=k.useState((e==null?void 0:e.items)||[{description:"",quantity:1,unitPrice:0,totalPrice:0}]);k.useEffect(()=>{u(),e||m()},[]);const u=async()=>{try{const w=await Ci.getTransactions({status:"confirmada"});o(w.slice(0,50))}catch(w){console.error("Erro ao carregar transações:",w)}},m=()=>{const w=new Date,j=w.getFullYear(),E=String(w.getMonth()+1).padStart(2,"0"),A=Math.floor(Math.random()*1e4).toString().padStart(4,"0");c(C=>({...C,invoiceNumber:`${j}${E}-${A}`}))},h=(w,j)=>{c(E=>({...E,[w]:j}))},g=(w,j,E)=>{f(A=>{const C=[...A];if(C[w]={...C[w],[j]:E},j==="quantity"||j==="unitPrice"){const S=j==="quantity"?Number(E):C[w].quantity,T=j==="unitPrice"?Number(E):C[w].unitPrice;C[w].totalPrice=S*T}return C})},p=()=>{f(w=>[...w,{description:"",quantity:1,unitPrice:0,totalPrice:0}])},x=w=>{if(d.length===1){wn.error("Deve haver pelo menos um item");return}f(j=>j.filter((E,A)=>A!==w))},v=()=>d.reduce((w,j)=>w+j.totalPrice,0),b=async w=>{if(w.preventDefault(),!l.invoiceNumber.trim()){wn.error("Informe o número do recibo/NF");return}if(!l.transactionId&&d.every(j=>!j.description.trim())){wn.error("Adicione pelo menos um item ou selecione uma transação");return}try{n(!0);const j=v(),E=d.filter(C=>C.description.trim()!==""),A={invoiceNumber:l.invoiceNumber,type:l.type,transactionId:l.transactionId||void 0,leadId:l.leadId||void 0,amount:j,description:l.description||void 0,items:E.length>0?E:void 0,issueDate:l.issueDate,dueDate:l.dueDate||void 0};e?(await Ci.updateInvoice(e.id,A),wn.success("Recibo/NF atualizado com sucesso!")):(await Ci.createInvoice(A),wn.success("Recibo/NF criado com sucesso!")),r(),t()}catch(j){wn.error("Erro ao salvar: "+j.message)}finally{n(!1)}},y=w=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w);return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),i.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900",children:i.jsx(qa,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e?"Editar Recibo/NF":"Novo Recibo/NF"})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:i.jsx(br,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Dados do Documento"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Número *"}),i.jsx("input",{type:"text",value:l.invoiceNumber,onChange:w=>h("invoiceNumber",w.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,placeholder:"2025-0001"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo *"}),i.jsxs("select",{value:l.type,onChange:w=>h("type",w.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"recibo",children:"Recibo"}),i.jsx("option",{value:"nota_fiscal",children:"Nota Fiscal"}),i.jsx("option",{value:"nota_servico",children:"Nota de Serviço"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Emissão *"}),i.jsx("input",{type:"date",value:l.issueDate,onChange:w=>h("issueDate",w.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Vinculação (Opcional)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Transação"}),i.jsxs("select",{value:l.transactionId,onChange:w=>h("transactionId",w.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Nenhuma"}),s.map(w=>i.jsxs("option",{value:w.id,children:[w.description," - ",y(Number(w.amount))]},w.id))]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Vincule a uma transação existente"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Vencimento"}),i.jsx("input",{type:"date",value:l.dueDate,onChange:w=>h("dueDate",w.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Itens do Recibo/NF"}),i.jsxs("button",{type:"button",onClick:p,className:"inline-flex items-center px-3 py-1 text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400",children:[i.jsx(ja,{className:"w-4 h-4 mr-1"}),"Adicionar Item"]})]}),i.jsx("div",{className:"space-y-3",children:d.map((w,j)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[i.jsx("div",{className:"col-span-12 md:col-span-5",children:i.jsx("input",{type:"text",value:w.description,onChange:E=>g(j,"description",E.target.value),placeholder:"Descrição do item",className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),i.jsx("div",{className:"col-span-4 md:col-span-2",children:i.jsx("input",{type:"number",value:w.quantity,onChange:E=>g(j,"quantity",E.target.value),placeholder:"Qtd",min:"1",step:"1",className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),i.jsx("div",{className:"col-span-4 md:col-span-2",children:i.jsx("input",{type:"number",value:w.unitPrice,onChange:E=>g(j,"unitPrice",E.target.value),placeholder:"Preço",min:"0",step:"0.01",className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),i.jsx("div",{className:"col-span-3 md:col-span-2 flex items-center justify-end",children:i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y(w.totalPrice)})}),i.jsx("div",{className:"col-span-1 flex items-center justify-end",children:i.jsx("button",{type:"button",onClick:()=>x(j),className:"text-red-600 hover:text-red-800 dark:text-red-400",disabled:d.length===1,children:i.jsx(An,{className:"w-4 h-4"})})})]},j))}),i.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ba,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Valor Total:"})]}),i.jsx("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:y(v())})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrição/Observações"}),i.jsx("textarea",{value:l.description,onChange:w=>h("description",w.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Informações adicionais sobre o recibo/NF..."})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900",disabled:a,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 disabled:bg-gray-400",disabled:a,children:a?"Salvando...":e?"Atualizar":"Criar"})]})]})]})]})})}const HIe=k.lazy(()=>as(()=>import("./TransactionList-UZLGbNTW.js"),__vite__mapDeps([4,2,1,3]))),VIe=k.lazy(()=>as(()=>import("./SupplierList-BsmaS1ox.js"),__vite__mapDeps([5,2,1,3]))),GIe=k.lazy(()=>as(()=>import("./InvoiceList-BXDxv5Kl.js"),__vite__mapDeps([6,2,1,3]))),qIe=k.lazy(()=>as(()=>import("./CashFlowView-CCXb0sg1.js"),__vite__mapDeps([7,2,1,3]))),YIe=k.lazy(()=>as(()=>import("./PurchaseOrderView-CR8Gb4QG.js"),__vite__mapDeps([8,2,1,3]))),JIe=k.lazy(()=>as(()=>import("./FinancialReports-DtHA2vFr.js"),__vite__mapDeps([9,2,1,3,10])));function qD(){const e=$m(),t=vi(),[r,a]=k.useState(!0),[n,s]=k.useState(()=>{const Y=e.pathname;return Y.includes("/transacoes")||Y.includes("/transactions")?"transactions":Y.includes("/contas-receber")||Y.includes("/accounts-receivable")?"accounts-receivable":Y.includes("/contas-pagar")||Y.includes("/accounts-payable")?"accounts-payable":Y.includes("/fornecedores")||Y.includes("/suppliers")?"suppliers":Y.includes("/recibos")||Y.includes("/invoices")?"invoices":Y.includes("/fluxo-caixa")||Y.includes("/cash-flow")?"cash-flow":Y.includes("/ordens-compra")||Y.includes("/purchase-orders")?"purchase-orders":Y.includes("/relatorios")||Y.includes("/reports")?"reports":"dashboard"}),[o,l]=k.useState({totalIncome:0,totalExpense:0,balance:0,accountsReceivable:0,accountsPayable:0,overdueCount:0}),[c,d]=k.useState([]),[f,u]=k.useState([]),[m,h]=k.useState([]),[g,p]=k.useState(!1),[x,v]=k.useState(),[b,y]=k.useState(!1),[w,j]=k.useState(),[E,A]=k.useState(!1),[C,S]=k.useState();k.useEffect(()=>{const Y=e.pathname;Y.includes("/transacoes")||Y.includes("/transactions")?s("transactions"):Y.includes("/contas-receber")||Y.includes("/accounts-receivable")?s("accounts-receivable"):Y.includes("/contas-pagar")||Y.includes("/accounts-payable")?s("accounts-payable"):Y.includes("/fornecedores")||Y.includes("/suppliers")?s("suppliers"):Y.includes("/recibos")||Y.includes("/invoices")?s("invoices"):Y.includes("/fluxo-caixa")||Y.includes("/cash-flow")?s("cash-flow"):Y.includes("/ordens-compra")||Y.includes("/purchase-orders")?s("purchase-orders"):Y.includes("/relatorios")||Y.includes("/reports")?s("reports"):(Y==="/financeiro"||Y==="/financeiro/dashboard")&&s("dashboard")},[e]),k.useEffect(()=>{T()},[]);const T=async()=>{try{a(!0);const Y=new Date,Q=new Date(Y.getFullYear(),Y.getMonth(),1),ne=new Date(Y.getFullYear(),Y.getMonth()+1,0),[pe,F,Te,xe,se]=await Promise.all([Ci.getTransactionStats(Q.toISOString().split("T")[0],ne.toISOString().split("T")[0]),Ci.getTransactions({status:"confirmada",dateFrom:Q.toISOString().split("T")[0],dateTo:ne.toISOString().split("T")[0]}),Ci.getAccountsReceivable(),Ci.getAccountsPayable(),Ci.getOverdueTransactions()]);l({totalIncome:Zd(pe.totalIncome),totalExpense:Zd(pe.totalExpense),balance:Zd(pe.balance),accountsReceivable:Te.reduce((We,Se)=>We+Zd(Se.amount),0),accountsPayable:xe.reduce((We,Se)=>We+Zd(Se.amount),0),overdueCount:se.length}),d(F.slice(0,10)),u(Te.slice(0,5)),h(xe.slice(0,5))}catch(Y){console.error("Erro ao carregar dados financeiros:",Y),Le.error("Erro ao carregar dados financeiros")}finally{a(!1)}},_=JQ,M=Y=>new Date(Y).toLocaleDateString("pt-BR"),D=Y=>{switch(Y){case"receita":return i.jsx(eb,{className:"text-green-600",size:20});case"despesa":return i.jsx(ej,{className:"text-red-600",size:20});default:return i.jsx(Ba,{className:"text-gray-600",size:20})}},O=Y=>({procedimento:"Procedimento",consulta:"Consulta",retorno:"Retorno",produto:"Produto",salario:"Salário",fornecedor:"Fornecedor",aluguel:"Aluguel",energia:"Energia",agua:"Água",internet:"Internet",telefone:"Telefone",marketing:"Marketing",material_escritorio:"Material de Escritório",material_medico:"Material Médico",impostos:"Impostos",manutencao:"Manutenção",contabilidade:"Contabilidade",software:"Software",limpeza:"Limpeza",seguranca:"Segurança",outros_receitas:"Outras Receitas",outros_despesas:"Outras Despesas"})[Y]||Y,B=()=>{v(void 0),p(!0)},U=Y=>{v(Y),p(!0)},q=()=>{p(!1),v(void 0)},K=()=>{T()},G=()=>{j(void 0),y(!0)},ve=Y=>{j(Y),y(!0)},fe=()=>{y(!1),j(void 0)},I=()=>{T()},z=()=>{S(void 0),A(!0)},H=Y=>{S(Y),A(!0)},J=()=>{A(!1),S(void 0)},te=()=>{T()},W=()=>i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});return r?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Financeiro"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gestão financeira completa da clínica"})]}),i.jsxs("button",{onClick:B,className:"btn-primary flex items-center gap-2",children:[i.jsx(ja,{size:20}),"Nova Transação"]})]}),i.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:i.jsxs("nav",{className:"-mb-px flex space-x-8",children:[i.jsx("button",{onClick:()=>t("/financeiro/dashboard"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="dashboard"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Dashboard"}),i.jsx("button",{onClick:()=>t("/financeiro/transacoes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="transactions"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Transações"}),i.jsx("button",{onClick:()=>t("/financeiro/contas-receber"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="accounts-receivable"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Contas a Receber"}),i.jsx("button",{onClick:()=>t("/financeiro/contas-pagar"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="accounts-payable"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Contas a Pagar"}),i.jsx("button",{onClick:()=>t("/financeiro/fornecedores"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="suppliers"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Fornecedores"}),i.jsx("button",{onClick:()=>t("/financeiro/recibos"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="invoices"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Recibos/NF"}),i.jsx("button",{onClick:()=>t("/financeiro/fluxo-caixa"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="cash-flow"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Fluxo de Caixa"}),i.jsx("button",{onClick:()=>t("/financeiro/ordens-compra"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="purchase-orders"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Ordens de Compra"}),i.jsx("button",{onClick:()=>t("/financeiro/relatorios"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="reports"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Relatórios"})]})}),n==="dashboard"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Receitas do Mês"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:_(o.totalIncome)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date().toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})]}),i.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/20",children:i.jsx(Do,{className:"text-green-600",size:24})})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Despesas do Mês"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:_(o.totalExpense)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date().toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})]}),i.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/20",children:i.jsx(zu,{className:"text-red-600",size:24})})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Saldo do Mês"}),i.jsx("p",{className:`text-2xl font-bold ${o.balance>=0?"text-green-600":"text-red-600"}`,children:_(o.balance)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Receitas - Despesas"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900/20",children:i.jsx(hQ,{className:"text-blue-600",size:24})})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Contas em Atraso"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:o.overdueCount}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Transações vencidas"})]}),i.jsx("div",{className:"p-3 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:i.jsx(rs,{className:"text-orange-600",size:24})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(eb,{className:"text-green-600",size:24}),"Contas a Receber"]}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:_(o.accountsReceivable)})]}),i.jsx("div",{className:"space-y-3",children:f.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx(ba,{className:"mx-auto mb-2 text-green-600",size:40}),i.jsx("p",{children:"Nenhuma conta a receber"})]}):f.map(Y=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Y.description}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Vence em ",M(Y.dueDate)]})]}),i.jsx("span",{className:"font-bold text-green-600",children:_(Y.amount)})]},Y.id))})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(ej,{className:"text-red-600",size:24}),"Contas a Pagar"]}),i.jsx("span",{className:"text-sm font-medium text-red-600",children:_(o.accountsPayable)})]}),i.jsx("div",{className:"space-y-3",children:m.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx(ba,{className:"mx-auto mb-2 text-green-600",size:40}),i.jsx("p",{children:"Nenhuma conta a pagar"})]}):m.map(Y=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Y.description}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Vence em ",M(Y.dueDate)]})]}),i.jsx("span",{className:"font-bold text-red-600",children:_(Y.amount)})]},Y.id))})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Transações Recentes"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:c.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"Nenhuma transação recente"})}):c.map(Y=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:M(Y.paymentDate||Y.dueDate)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:Y.description}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:O(Y.category)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[D(Y.type),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:Y.type})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsxs("span",{className:`text-sm font-bold ${Y.type==="receita"?"text-green-600":"text-red-600"}`,children:[Y.type==="receita"?"+":"-",_(Y.amount)]})})]},Y.id))})]})})]})]}),n==="transactions"&&i.jsx(k.Suspense,{fallback:i.jsx(W,{}),children:i.jsx(HIe,{onEditTransaction:U,onCreateTransaction:B})}),n==="accounts-receivable"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(eb,{className:"text-green-600",size:28}),"Contas a Receber"]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Valores pendentes de recebimento"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total a Receber"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:_(o.accountsReceivable)})]})]}),i.jsx("div",{className:"card",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:f.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[i.jsx(ba,{className:"mx-auto mb-3 text-green-600",size:48}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-medium",children:"Nenhuma conta a receber"}),i.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-1",children:"Todos os recebimentos estão em dia!"})]})}):f.map(Y=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Y.description})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:O(Y.category)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:M(Y.dueDate)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsx("span",{className:"text-sm font-bold text-green-600",children:_(Y.amount)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsx("button",{onClick:()=>U(Y),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Ver detalhes"})})]},Y.id))})]})})})]}),n==="accounts-payable"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(ej,{className:"text-red-600",size:28}),"Contas a Pagar"]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Valores pendentes de pagamento"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total a Pagar"}),i.jsx("p",{className:"text-3xl font-bold text-red-600",children:_(o.accountsPayable)})]})]}),i.jsx("div",{className:"card",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:m.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[i.jsx(ba,{className:"mx-auto mb-3 text-green-600",size:48}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-medium",children:"Nenhuma conta a pagar"}),i.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-1",children:"Todos os pagamentos estão em dia!"})]})}):m.map(Y=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Y.description})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:O(Y.category)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:M(Y.dueDate)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsx("span",{className:"text-sm font-bold text-red-600",children:_(Y.amount)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsx("button",{onClick:()=>U(Y),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Ver detalhes"})})]},Y.id))})]})})})]}),n==="suppliers"&&i.jsx(k.Suspense,{fallback:i.jsx(W,{}),children:i.jsx(VIe,{onEditSupplier:ve,onCreateSupplier:G})}),n==="invoices"&&i.jsx(k.Suspense,{fallback:i.jsx(W,{}),children:i.jsx(GIe,{onEditInvoice:H,onCreateInvoice:z})}),n==="cash-flow"&&i.jsx(k.Suspense,{fallback:i.jsx(W,{}),children:i.jsx(qIe,{})}),n==="purchase-orders"&&i.jsx(k.Suspense,{fallback:i.jsx(W,{}),children:i.jsx(YIe,{})}),n==="reports"&&i.jsx(k.Suspense,{fallback:i.jsx(W,{}),children:i.jsx(JIe,{})}),g&&i.jsx($Ie,{transaction:x,onClose:q,onSuccess:K}),b&&i.jsx(UIe,{supplier:w,onClose:fe,onSuccess:I}),E&&i.jsx(WIe,{invoice:C,onClose:J,onSuccess:te})]})}function Nr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function KIe(e,t){const r=k.createContext(t),a=s=>{const{children:o,...l}=s,c=k.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};a.displayName=e+"Provider";function n(s){const o=k.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[a,n]}function D0(e,t=[]){let r=[];function a(s,o){const l=k.createContext(o),c=r.length;r=[...r,o];const d=u=>{var v;const{scope:m,children:h,...g}=u,p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=k.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:x,children:h})};d.displayName=s+"Provider";function f(u,m){var p;const h=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,g=k.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[d,f]}const n=()=>{const s=r.map(o=>k.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return k.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return n.scopeName=e,[a,QIe(n,...t)]}function QIe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(s){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const u=c(s)[`__scope${d}`];return{...l,...u}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function YD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nH(...e){return t=>{let r=!1;const a=e.map(n=>{const s=YD(n,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let n=0;n<a.length;n++){const s=a[n];typeof s=="function"?s():YD(e[n],null)}}}}function Ya(...e){return k.useCallback(nH(...e),e)}function Kx(e){const t=XIe(e),r=k.forwardRef((a,n)=>{const{children:s,...o}=a,l=k.Children.toArray(s),c=l.find(eDe);if(c){const d=c.props.children,f=l.map(u=>u===c?k.Children.count(d)>1?k.Children.only(null):k.isValidElement(d)?d.props.children:null:u);return i.jsx(t,{...o,ref:n,children:k.isValidElement(d)?k.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:n,children:s})});return r.displayName=`${e}.Slot`,r}function XIe(e){const t=k.forwardRef((r,a)=>{const{children:n,...s}=r;if(k.isValidElement(n)){const o=rDe(n),l=tDe(s,n.props);return n.type!==k.Fragment&&(l.ref=a?nH(a,o):o),k.cloneElement(n,l)}return k.Children.count(n)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZIe=Symbol("radix.slottable");function eDe(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZIe}function tDe(e,t){const r={...t};for(const a in t){const n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...l)=>{const c=s(...l);return n(...l),c}:n&&(r[a]=n):a==="style"?r[a]={...n,...s}:a==="className"&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}function rDe(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function sH(e){const t=e+"CollectionProvider",[r,a]=D0(t),[n,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:v}=p,b=Z.useRef(null),y=Z.useRef(new Map).current;return i.jsx(n,{scope:x,itemMap:y,collectionRef:b,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=Kx(l),d=Z.forwardRef((p,x)=>{const{scope:v,children:b}=p,y=s(l,v),w=Ya(x,y.collectionRef);return i.jsx(c,{ref:w,children:b})});d.displayName=l;const f=e+"CollectionItemSlot",u="data-radix-collection-item",m=Kx(f),h=Z.forwardRef((p,x)=>{const{scope:v,children:b,...y}=p,w=Z.useRef(null),j=Ya(x,w),E=s(f,v);return Z.useEffect(()=>(E.itemMap.set(w,{ref:w,...y}),()=>void E.itemMap.delete(w))),i.jsx(m,{[u]:"",ref:j,children:b})});h.displayName=f;function g(p){const x=s(e+"CollectionConsumer",p);return Z.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((E,A)=>y.indexOf(E.ref.current)-y.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:h},g,a]}var ti=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},aDe=E7[" useId ".trim().toString()]||(()=>{}),nDe=0;function uf(e){const[t,r]=k.useState(aDe());return ti(()=>{r(a=>a??String(nDe++))},[e]),t?`radix-${t}`:""}var sDe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ar=sDe.reduce((e,t)=>{const r=Kx(`Primitive.${t}`),a=k.forwardRef((n,s)=>{const{asChild:o,...l}=n,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function iDe(e,t){e&&gl.flushSync(()=>e.dispatchEvent(t))}function Af(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}var oDe=E7[" useInsertionEffect ".trim().toString()]||ti;function lm({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[n,s,o]=lDe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:n;{const f=k.useRef(e!==void 0);k.useEffect(()=>{const u=f.current;u!==l&&console.warn(`${a} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,a])}const d=k.useCallback(f=>{var u;if(l){const m=cDe(f)?f(e):f;m!==e&&((u=o.current)==null||u.call(o,m))}else s(f)},[l,e,s,o]);return[c,d]}function lDe({defaultProp:e,onChange:t}){const[r,a]=k.useState(e),n=k.useRef(r),s=k.useRef(t);return oDe(()=>{s.current=t},[t]),k.useEffect(()=>{var o;n.current!==r&&((o=s.current)==null||o.call(s,r),n.current=r)},[r,n]),[r,a,s]}function cDe(e){return typeof e=="function"}var dDe=k.createContext(void 0);function EA(e){const t=k.useContext(dDe);return e||t||"ltr"}var hN="rovingFocusGroup.onEntryFocus",fDe={bubbles:!1,cancelable:!0},uv="RovingFocusGroup",[u5,iH,uDe]=sH(uv),[hDe,oH]=D0(uv,[uDe]),[mDe,pDe]=hDe(uv),lH=k.forwardRef((e,t)=>i.jsx(u5.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(u5.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(gDe,{...e,ref:t})})}));lH.displayName=uv;var gDe=k.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:n=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...u}=e,m=k.useRef(null),h=Ya(t,m),g=EA(s),[p,x]=lm({prop:o,defaultProp:l??null,onChange:c,caller:uv}),[v,b]=k.useState(!1),y=Af(d),w=iH(r),j=k.useRef(!1),[E,A]=k.useState(0);return k.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(hN,y),()=>C.removeEventListener(hN,y)},[y]),i.jsx(mDe,{scope:r,orientation:a,dir:g,loop:n,currentTabStopId:p,onItemFocus:k.useCallback(C=>x(C),[x]),onItemShiftTab:k.useCallback(()=>b(!0),[]),onFocusableItemAdd:k.useCallback(()=>A(C=>C+1),[]),onFocusableItemRemove:k.useCallback(()=>A(C=>C-1),[]),children:i.jsx(Ar.div,{tabIndex:v||E===0?-1:0,"data-orientation":a,...u,ref:h,style:{outline:"none",...e.style},onMouseDown:Nr(e.onMouseDown,()=>{j.current=!0}),onFocus:Nr(e.onFocus,C=>{const S=!j.current;if(C.target===C.currentTarget&&S&&!v){const T=new CustomEvent(hN,fDe);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const _=w().filter(U=>U.focusable),M=_.find(U=>U.active),D=_.find(U=>U.id===p),B=[M,D,..._].filter(Boolean).map(U=>U.ref.current);fH(B,f)}}j.current=!1}),onBlur:Nr(e.onBlur,()=>b(!1))})})}),cH="RovingFocusGroupItem",dH=k.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:n=!1,tabStopId:s,children:o,...l}=e,c=uf(),d=s||c,f=pDe(cH,r),u=f.currentTabStopId===d,m=iH(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:p}=f;return k.useEffect(()=>{if(a)return h(),()=>g()},[a,h,g]),i.jsx(u5.ItemSlot,{scope:r,id:d,focusable:a,active:n,children:i.jsx(Ar.span,{tabIndex:u?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Nr(e.onMouseDown,x=>{a?f.onItemFocus(d):x.preventDefault()}),onFocus:Nr(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:Nr(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=yDe(x,f.orientation,f.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=m().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const w=y.indexOf(x.currentTarget);y=f.loop?bDe(y,w+1):y.slice(w+1)}setTimeout(()=>fH(y))}}),children:typeof o=="function"?o({isCurrentTabStop:u,hasTabStop:p!=null}):o})})});dH.displayName=cH;var xDe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vDe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yDe(e,t,r){const a=vDe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return xDe[a]}function fH(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function bDe(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var wDe=lH,kDe=dH;function jDe(e,t){return k.useReducer((r,a)=>t[r][a]??r,e)}var hv=e=>{const{present:t,children:r}=e,a=NDe(t),n=typeof r=="function"?r({present:a.isPresent}):k.Children.only(r),s=Ya(a.ref,SDe(n));return typeof r=="function"||a.isPresent?k.cloneElement(n,{ref:s}):null};hv.displayName="Presence";function NDe(e){const[t,r]=k.useState(),a=k.useRef(null),n=k.useRef(e),s=k.useRef("none"),o=e?"mounted":"unmounted",[l,c]=jDe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const d=My(a.current);s.current=l==="mounted"?d:"none"},[l]),ti(()=>{const d=a.current,f=n.current;if(f!==e){const m=s.current,h=My(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==h?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,c]),ti(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,u=h=>{const p=My(a.current).includes(CSS.escape(h.animationName));if(h.target===t&&p&&(c("ANIMATION_END"),!n.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=h=>{h.target===t&&(s.current=My(a.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:k.useCallback(d=>{a.current=d?getComputedStyle(d):null,r(d)},[])}}function My(e){return(e==null?void 0:e.animationName)||"none"}function SDe(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var E4="Tabs",[CDe]=D0(E4,[oH]),uH=oH(),[ADe,_A]=CDe(E4),hH=k.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:n,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=EA(l),[u,m]=lm({prop:a,onChange:n,defaultProp:s??"",caller:E4});return i.jsx(ADe,{scope:r,baseId:uf(),value:u,onValueChange:m,orientation:o,dir:f,activationMode:c,children:i.jsx(Ar.div,{dir:f,"data-orientation":o,...d,ref:t})})});hH.displayName=E4;var mH="TabsList",pH=k.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...n}=e,s=_A(mH,r),o=uH(r);return i.jsx(wDe,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:a,children:i.jsx(Ar.div,{role:"tablist","aria-orientation":s.orientation,...n,ref:t})})});pH.displayName=mH;var gH="TabsTrigger",xH=k.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:n=!1,...s}=e,o=_A(gH,r),l=uH(r),c=bH(o.baseId,a),d=wH(o.baseId,a),f=a===o.value;return i.jsx(kDe,{asChild:!0,...l,focusable:!n,active:f,children:i.jsx(Ar.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...s,ref:t,onMouseDown:Nr(e.onMouseDown,u=>{!n&&u.button===0&&u.ctrlKey===!1?o.onValueChange(a):u.preventDefault()}),onKeyDown:Nr(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(a)}),onFocus:Nr(e.onFocus,()=>{const u=o.activationMode!=="manual";!f&&!n&&u&&o.onValueChange(a)})})})});xH.displayName=gH;var vH="TabsContent",yH=k.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:n,children:s,...o}=e,l=_A(vH,r),c=bH(l.baseId,a),d=wH(l.baseId,a),f=a===l.value,u=k.useRef(f);return k.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(hv,{present:n||f,children:({present:m})=>i.jsx(Ar.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:m&&s})})});yH.displayName=vH;function bH(e,t){return`${e}-trigger-${t}`}function wH(e,t){return`${e}-content-${t}`}var kH=hH,MA=pH,Ql=xH,Xl=yH;function jH(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=jH(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Cr(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=jH(e))&&(a&&(a+=" "),a+=t);return a}const LA="-",EDe=e=>{const t=MDe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(LA);return l[0]===""&&l.length!==1&&l.shift(),NH(l,t)||_De(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},NH=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),n=a?NH(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const s=e.join(LA);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},JD=/^\[(.+)\]$/,_De=e=>{if(JD.test(e)){const t=JD.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},MDe=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return TDe(Object.entries(e.classGroups),r).forEach(([s,o])=>{h5(o,a,s,t)}),a},h5=(e,t,r,a)=>{e.forEach(n=>{if(typeof n=="string"){const s=n===""?t:KD(t,n);s.classGroupId=r;return}if(typeof n=="function"){if(LDe(n)){h5(n(a),t,r,a);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([s,o])=>{h5(o,KD(t,s),r,a)})})},KD=(e,t)=>{let r=e;return t.split(LA).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},LDe=e=>e.isThemeGetter,TDe=(e,t)=>t?e.map(([r,a])=>{const n=a.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,n]}):e,IDe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const n=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,a=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=a.get(s))!==void 0)return n(s,o),o},set(s,o){r.has(s)?r.set(s,o):n(s,o)}}},SH="!",DDe=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,n=t[0],s=t.length,o=l=>{const c=[];let d=0,f=0,u;for(let x=0;x<l.length;x++){let v=l[x];if(d===0){if(v===n&&(a||l.slice(x,x+s)===t)){c.push(l.slice(f,x)),f=x+s;continue}if(v==="/"){u=x;continue}}v==="["?d++:v==="]"&&d--}const m=c.length===0?l:l.substring(f),h=m.startsWith(SH),g=h?m.substring(1):m,p=u&&u>f?u-f:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},PDe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},ODe=e=>({cache:IDe(e.cacheSize),parseClassName:DDe(e),...EDe(e)}),RDe=/\s+/,FDe=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n}=t,s=[],o=e.trim().split(RDe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:h}=r(d);let g=!!h,p=a(g?m.substring(0,h):m);if(!p){if(!g){l=d+(l.length>0?" "+l:l);continue}if(p=a(m),!p){l=d+(l.length>0?" "+l:l);continue}g=!1}const x=PDe(f).join(":"),v=u?x+SH:x,b=v+p;if(s.includes(b))continue;s.push(b);const y=n(p,g);for(let w=0;w<y.length;++w){const j=y[w];s.push(v+j)}l=d+(l.length>0?" "+l:l)}return l};function BDe(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=CH(t))&&(a&&(a+=" "),a+=r);return a}const CH=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=CH(e[a]))&&(r&&(r+=" "),r+=t);return r};function zDe(e,...t){let r,a,n,s=o;function o(c){const d=t.reduce((f,u)=>u(f),e());return r=ODe(d),a=r.cache.get,n=r.cache.set,s=l,l(c)}function l(c){const d=a(c);if(d)return d;const f=FDe(c,r);return n(c,f),f}return function(){return s(BDe.apply(null,arguments))}}const Ta=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},AH=/^\[(?:([a-z-]+):)?(.+)\]$/i,$De=/^\d+\/\d+$/,UDe=new Set(["px","full","screen"]),WDe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HDe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VDe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GDe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qDe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$c=e=>$h(e)||UDe.has(e)||$De.test(e),Gd=e=>yp(e,"length",tPe),$h=e=>!!e&&!Number.isNaN(Number(e)),mN=e=>yp(e,"number",$h),dg=e=>!!e&&Number.isInteger(Number(e)),YDe=e=>e.endsWith("%")&&$h(e.slice(0,-1)),cr=e=>AH.test(e),qd=e=>WDe.test(e),JDe=new Set(["length","size","percentage"]),KDe=e=>yp(e,JDe,EH),QDe=e=>yp(e,"position",EH),XDe=new Set(["image","url"]),ZDe=e=>yp(e,XDe,aPe),ePe=e=>yp(e,"",rPe),fg=()=>!0,yp=(e,t,r)=>{const a=AH.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},tPe=e=>HDe.test(e)&&!VDe.test(e),EH=()=>!1,rPe=e=>GDe.test(e),aPe=e=>qDe.test(e),nPe=()=>{const e=Ta("colors"),t=Ta("spacing"),r=Ta("blur"),a=Ta("brightness"),n=Ta("borderColor"),s=Ta("borderRadius"),o=Ta("borderSpacing"),l=Ta("borderWidth"),c=Ta("contrast"),d=Ta("grayscale"),f=Ta("hueRotate"),u=Ta("invert"),m=Ta("gap"),h=Ta("gradientColorStops"),g=Ta("gradientColorStopPositions"),p=Ta("inset"),x=Ta("margin"),v=Ta("opacity"),b=Ta("padding"),y=Ta("saturate"),w=Ta("scale"),j=Ta("sepia"),E=Ta("skew"),A=Ta("space"),C=Ta("translate"),S=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",cr,t],M=()=>[cr,t],D=()=>["",$c,Gd],O=()=>["auto",$h,cr],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",cr],ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[$h,cr];return{cacheSize:500,separator:":",theme:{colors:[fg],spacing:[$c,Gd],blur:["none","",qd,cr],brightness:fe(),borderColor:[e],borderRadius:["none","","full",qd,cr],borderSpacing:M(),borderWidth:D(),contrast:fe(),grayscale:G(),hueRotate:fe(),invert:G(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[YDe,Gd],inset:_(),margin:_(),opacity:fe(),padding:M(),saturate:fe(),scale:fe(),sepia:G(),skew:fe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",cr]}],container:["container"],columns:[{columns:[qd]}],"break-after":[{"break-after":ve()}],"break-before":[{"break-before":ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),cr]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dg,cr]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",cr]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",dg,cr]}],"grid-cols":[{"grid-cols":[fg]}],"col-start-end":[{col:["auto",{span:["full",dg,cr]},cr]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[fg]}],"row-start-end":[{row:["auto",{span:[dg,cr]},cr]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",cr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",cr]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",cr,t]}],"min-w":[{"min-w":[cr,t,"min","max","fit"]}],"max-w":[{"max-w":[cr,t,"none","full","min","max","fit","prose",{screen:[qd]},qd]}],h:[{h:[cr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[cr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[cr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[cr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qd,Gd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mN]}],"font-family":[{font:[fg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",cr]}],"line-clamp":[{"line-clamp":["none",$h,mN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$c,cr]}],"list-image":[{"list-image":["none",cr]}],"list-style-type":[{list:["none","disc","decimal",cr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$c,Gd]}],"underline-offset":[{"underline-offset":["auto",$c,cr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",cr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",cr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),QDe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KDe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZDe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[$c,cr]}],"outline-w":[{outline:[$c,Gd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[$c,Gd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qd,ePe]}],"shadow-color":[{shadow:[fg]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qd,cr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",cr]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",cr]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",cr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[dg,cr]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",cr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",cr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",cr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$c,Gd,mN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sPe=zDe(nPe);function Hr(...e){return sPe(Cr(e))}const _H=kH,TA=k.forwardRef(({className:e,...t},r)=>i.jsx(MA,{ref:r,className:Hr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));TA.displayName=MA.displayName;const sf=k.forwardRef(({className:e,...t},r)=>i.jsx(Ql,{ref:r,className:Hr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));sf.displayName=Ql.displayName;const of=k.forwardRef(({className:e,...t},r)=>i.jsx(Xl,{ref:r,className:Hr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));of.displayName=Xl.displayName;const MH=async e=>(await me.post("/vendas/vendedores",e)).data,LH=async()=>(await me.get("/vendas/vendedores")).data,iPe=async e=>(await me.get(`/vendas/vendedores/${e}`)).data,TH=async(e,t)=>(await me.put(`/vendas/vendedores/${e}`,t)).data,IH=async e=>{await me.delete(`/vendas/vendedores/${e}`)},oPe=async(e,t)=>(await me.get(`/vendas/vendedores/${e}/vendas`,{params:t})).data,lPe=async e=>(await me.post("/vendas",e)).data,DH=async e=>(await me.get("/vendas",{params:e})).data,cPe=async e=>(await me.get(`/vendas/${e}`)).data,PH=async e=>(await me.post(`/vendas/${e}/confirmar`)).data,OH=async(e,t)=>(await me.post(`/vendas/${e}/cancelar`,{motivo:t})).data,RH=async e=>(await me.get("/vendas/stats",{params:e?{vendedorId:e}:{}})).data,FH=async e=>(await me.get("/vendas/comissoes",{params:e})).data,dPe=async e=>(await me.get(`/vendas/comissoes/${e}`)).data,BH=async(e,t)=>(await me.post(`/vendas/comissoes/${e}/pagar`,{transactionId:t})).data,zH=async(e,t,r)=>(await me.get("/vendas/comissoes/relatorio",{params:{vendedorId:e,mes:t,ano:r}})).data,$H=async e=>(await me.get("/vendas/comissoes/stats",{params:e?{vendedorId:e}:{}})).data,UH=async(e,t)=>(await me.get("/vendas/ranking",{params:{mes:e,ano:t}})).data,WH=Object.freeze(Object.defineProperty({__proto__:null,cancelarVenda:OH,confirmarVenda:PH,createVenda:lPe,createVendedor:MH,deleteVendedor:IH,getComissao:dPe,getComissoesStats:$H,getRankingVendedores:UH,getRelatorioComissoes:zH,getVenda:cPe,getVendasByVendedor:oPe,getVendasStats:RH,getVendedor:iPe,listComissoes:FH,listVendas:DH,listVendedores:LH,pagarComissao:BH,updateVendedor:TH},Symbol.toStringTag,{value:"Module"})),QD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,XD=Cr,IA=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return XD(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:s}=t,o=Object.keys(n).map(d=>{const f=r==null?void 0:r[d],u=s==null?void 0:s[d];if(f===null)return null;const m=QD(f)||QD(u);return n[d][m]}),l=r&&Object.entries(r).reduce((d,f)=>{let[u,m]=f;return m===void 0||(d[u]=m),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,f)=>{let{class:u,className:m,...h}=f;return Object.entries(h).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...s,...l}[p]):{...s,...l}[p]===x})?[...d,u,m]:d},[]);return XD(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},fPe=IA("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Wr=k.forwardRef(({className:e,variant:t,size:r,...a},n)=>i.jsx("button",{className:Hr(fPe({variant:t,size:r,className:e})),ref:n,...a}));Wr.displayName="Button";const la=k.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Hr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));la.displayName="Card";const va=k.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Hr("flex flex-col space-y-1.5 p-6",e),...t}));va.displayName="CardHeader";const _a=k.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Hr("text-2xl font-semibold leading-none tracking-tight",e),...t}));_a.displayName="CardTitle";const hf=k.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Hr("text-sm text-muted-foreground",e),...t}));hf.displayName="CardDescription";const ca=k.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Hr("p-6 pt-0",e),...t}));ca.displayName="CardContent";const uPe=k.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Hr("flex items-center p-6 pt-0",e),...t}));uPe.displayName="CardFooter";const cm=k.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:`w-full caption-bottom text-sm ${e||""}`,...t})}));cm.displayName="Table";const dm=k.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:`[&_tr]:border-b ${e||""}`,...t}));dm.displayName="TableHeader";const fm=k.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:`[&_tr:last-child]:border-0 ${e||""}`,...t}));fm.displayName="TableBody";const Zn=k.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:`border-b transition-colors hover:bg-gray-50 dark:hover:bg-gray-800 data-[state=selected]:bg-gray-100 dark:data-[state=selected]:bg-gray-800 ${e||""}`,...t}));Zn.displayName="TableRow";const ur=k.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:`h-12 px-4 text-left align-middle font-medium text-gray-500 dark:text-gray-400 [&:has([role=checkbox])]:pr-0 ${e||""}`,...t}));ur.displayName="TableHead";const Xt=k.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:`p-4 align-middle [&:has([role=checkbox])]:pr-0 ${e||""}`,...t}));Xt.displayName="TableCell";function hPe(e,t=globalThis==null?void 0:globalThis.document){const r=Af(e);k.useEffect(()=>{const a=n=>{n.key==="Escape"&&r(n)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var mPe="DismissableLayer",m5="dismissableLayer.update",pPe="dismissableLayer.pointerDownOutside",gPe="dismissableLayer.focusOutside",ZD,HH=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DA=k.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,d=k.useContext(HH),[f,u]=k.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=k.useState({}),g=Ya(t,A=>u(A)),p=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),b=f?p.indexOf(f):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,w=b>=v,j=yPe(A=>{const C=A.target,S=[...d.branches].some(T=>T.contains(C));!w||S||(n==null||n(A),o==null||o(A),A.defaultPrevented||l==null||l())},m),E=bPe(A=>{const C=A.target;[...d.branches].some(T=>T.contains(C))||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},m);return hPe(A=>{b===d.layers.size-1&&(a==null||a(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},m),k.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ZD=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),eP(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ZD)}},[f,m,r,d]),k.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),eP())},[f,d]),k.useEffect(()=>{const A=()=>h({});return document.addEventListener(m5,A),()=>document.removeEventListener(m5,A)},[]),i.jsx(Ar.div,{...c,ref:g,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:Nr(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Nr(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Nr(e.onPointerDownCapture,j.onPointerDownCapture)})});DA.displayName=mPe;var xPe="DismissableLayerBranch",vPe=k.forwardRef((e,t)=>{const r=k.useContext(HH),a=k.useRef(null),n=Ya(t,a);return k.useEffect(()=>{const s=a.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(Ar.div,{...e,ref:n})});vPe.displayName=xPe;function yPe(e,t=globalThis==null?void 0:globalThis.document){const r=Af(e),a=k.useRef(!1),n=k.useRef(()=>{});return k.useEffect(()=>{const s=l=>{if(l.target&&!a.current){let c=function(){VH(pPe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=c,t.addEventListener("click",n.current,{once:!0})):c()}else t.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function bPe(e,t=globalThis==null?void 0:globalThis.document){const r=Af(e),a=k.useRef(!1);return k.useEffect(()=>{const n=s=>{s.target&&!a.current&&VH(gPe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function eP(){const e=new CustomEvent(m5);document.dispatchEvent(e)}function VH(e,t,r,{discrete:a}){const n=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),a?iDe(n,s):n.dispatchEvent(s)}var pN="focusScope.autoFocusOnMount",gN="focusScope.autoFocusOnUnmount",tP={bubbles:!1,cancelable:!0},wPe="FocusScope",PA=k.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:s,...o}=e,[l,c]=k.useState(null),d=Af(n),f=Af(s),u=k.useRef(null),m=Ya(t,p=>c(p)),h=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(a){let p=function(y){if(h.paused||!l)return;const w=y.target;l.contains(w)?u.current=w:Yd(u.current,{select:!0})},x=function(y){if(h.paused||!l)return;const w=y.relatedTarget;w!==null&&(l.contains(w)||Yd(u.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const j of y)j.removedNodes.length>0&&Yd(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),b.disconnect()}}},[a,l,h.paused]),k.useEffect(()=>{if(l){aP.add(h);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(pN,tP);l.addEventListener(pN,d),l.dispatchEvent(v),v.defaultPrevented||(kPe(APe(GH(l)),{select:!0}),document.activeElement===p&&Yd(l))}return()=>{l.removeEventListener(pN,d),setTimeout(()=>{const v=new CustomEvent(gN,tP);l.addEventListener(gN,f),l.dispatchEvent(v),v.defaultPrevented||Yd(p??document.body,{select:!0}),l.removeEventListener(gN,f),aP.remove(h)},0)}}},[l,d,f,h]);const g=k.useCallback(p=>{if(!r&&!a||h.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const b=p.currentTarget,[y,w]=jPe(b);y&&w?!p.shiftKey&&v===w?(p.preventDefault(),r&&Yd(y,{select:!0})):p.shiftKey&&v===y&&(p.preventDefault(),r&&Yd(w,{select:!0})):v===b&&p.preventDefault()}},[r,a,h.paused]);return i.jsx(Ar.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});PA.displayName=wPe;function kPe(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Yd(a,{select:t}),document.activeElement!==r)return}function jPe(e){const t=GH(e),r=rP(t,e),a=rP(t.reverse(),e);return[r,a]}function GH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rP(e,t){for(const r of e)if(!NPe(r,{upTo:t}))return r}function NPe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function SPe(e){return e instanceof HTMLInputElement&&"select"in e}function Yd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&SPe(e)&&t&&e.select()}}var aP=CPe();function CPe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=nP(e,t),e.unshift(t)},remove(t){var r;e=nP(e,t),(r=e[0])==null||r.resume()}}}function nP(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function APe(e){return e.filter(t=>t.tagName!=="A")}var EPe="Portal",OA=k.forwardRef((e,t)=>{var l;const{container:r,...a}=e,[n,s]=k.useState(!1);ti(()=>s(!0),[]);const o=r||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?n6.createPortal(i.jsx(Ar.div,{...a,ref:t}),o):null});OA.displayName=EPe;var xN=0;function qH(){k.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sP()),document.body.insertAdjacentElement("beforeend",e[1]??sP()),xN++,()=>{xN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xN--}},[])}function sP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ac=function(){return ac=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ac.apply(this,arguments)};function YH(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function P0(e,t,r,a){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{d(a.next(f))}catch(u){o(u)}}function c(f){try{d(a.throw(f))}catch(u){o(u)}}function d(f){f.done?s(f.value):n(f.value).then(l,c)}d((a=a.apply(e,t||[])).next())})}function _Pe(e,t,r){if(r||arguments.length===2)for(var a=0,n=t.length,s;a<n;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}var wb="right-scroll-bar-position",kb="width-before-scroll-bar",MPe="with-scroll-bars-hidden",LPe="--removed-body-scroll-bar-size";function vN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TPe(e,t){var r=k.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var n=r.value;n!==a&&(r.value=a,r.callback(a,n))}}}})[0];return r.callback=t,r.facade}var IPe=typeof window<"u"?k.useLayoutEffect:k.useEffect,iP=new WeakMap;function DPe(e,t){var r=TPe(null,function(a){return e.forEach(function(n){return vN(n,a)})});return IPe(function(){var a=iP.get(r);if(a){var n=new Set(a),s=new Set(e),o=r.current;n.forEach(function(l){s.has(l)||vN(l,null)}),s.forEach(function(l){n.has(l)||vN(l,o)})}iP.set(r,e)},[e]),r}function PPe(e){return e}function OPe(e,t){t===void 0&&(t=PPe);var r=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,a);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(a=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){a=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return n}function RPe(e){e===void 0&&(e={});var t=OPe(null);return t.options=ac({async:!0,ssr:!1},e),t}var JH=function(e){var t=e.sideCar,r=YH(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return k.createElement(a,ac({},r))};JH.isSideCarExport=!0;function FPe(e,t){return e.useMedium(t),JH}var KH=RPe(),yN=function(){},_4=k.forwardRef(function(e,t){var r=k.useRef(null),a=k.useState({onScrollCapture:yN,onWheelCapture:yN,onTouchMoveCapture:yN}),n=a[0],s=a[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,u=e.shards,m=e.sideCar,h=e.noRelative,g=e.noIsolation,p=e.inert,x=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,y=e.gapMode,w=YH(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,E=DPe([r,t]),A=ac(ac({},w),n);return k.createElement(k.Fragment,null,f&&k.createElement(j,{sideCar:KH,removeScrollBar:d,shards:u,noRelative:h,noIsolation:g,inert:p,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:y}),o?k.cloneElement(k.Children.only(l),ac(ac({},A),{ref:E})):k.createElement(b,ac({},A,{className:c,ref:E}),l))});_4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_4.classNames={fullWidth:kb,zeroRight:wb};var BPe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zPe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BPe();return t&&e.setAttribute("nonce",t),e}function $Pe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function UPe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WPe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=zPe())&&($Pe(t,r),UPe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HPe=function(){var e=WPe();return function(t,r){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},QH=function(){var e=HPe(),t=function(r){var a=r.styles,n=r.dynamic;return e(a,n),null};return t},VPe={left:0,top:0,right:0,gap:0},bN=function(e){return parseInt(e||"",10)||0},GPe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[bN(r),bN(a),bN(n)]},qPe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VPe;var t=GPe(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},YPe=QH(),Uh="data-scroll-locked",JPe=function(e,t,r,a){var n=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(MPe,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Uh,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wb,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(kb,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(wb," .").concat(wb,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(kb," .").concat(kb,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Uh,`] {
    `).concat(LPe,": ").concat(l,`px;
  }
`)},oP=function(){var e=parseInt(document.body.getAttribute(Uh)||"0",10);return isFinite(e)?e:0},KPe=function(){k.useEffect(function(){return document.body.setAttribute(Uh,(oP()+1).toString()),function(){var e=oP()-1;e<=0?document.body.removeAttribute(Uh):document.body.setAttribute(Uh,e.toString())}},[])},QPe=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;KPe();var s=k.useMemo(function(){return qPe(n)},[n]);return k.createElement(YPe,{styles:JPe(s,!t,n,r?"":"!important")})},p5=!1;if(typeof window<"u")try{var Ly=Object.defineProperty({},"passive",{get:function(){return p5=!0,!0}});window.addEventListener("test",Ly,Ly),window.removeEventListener("test",Ly,Ly)}catch{p5=!1}var rh=p5?{passive:!1}:!1,XPe=function(e){return e.tagName==="TEXTAREA"},XH=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!XPe(e)&&r[t]==="visible")},ZPe=function(e){return XH(e,"overflowY")},eOe=function(e){return XH(e,"overflowX")},lP=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=ZH(e,a);if(n){var s=eV(e,a),o=s[1],l=s[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},tOe=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},rOe=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},ZH=function(e,t){return e==="v"?ZPe(t):eOe(t)},eV=function(e,t){return e==="v"?tOe(t):rOe(t)},aOe=function(e,t){return e==="h"&&t==="rtl"?-1:1},nOe=function(e,t,r,a,n){var s=aOe(e,window.getComputedStyle(t).direction),o=s*a,l=r.target,c=t.contains(l),d=!1,f=o>0,u=0,m=0;do{if(!l)break;var h=eV(e,l),g=h[0],p=h[1],x=h[2],v=p-x-s*g;(g||v)&&ZH(e,l)&&(u+=v,m+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(u)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Ty=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cP=function(e){return[e.deltaX,e.deltaY]},dP=function(e){return e&&"current"in e?e.current:e},sOe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iOe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oOe=0,ah=[];function lOe(e){var t=k.useRef([]),r=k.useRef([0,0]),a=k.useRef(),n=k.useState(oOe++)[0],s=k.useState(QH)[0],o=k.useRef(e);k.useEffect(function(){o.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var p=_Pe([e.lockRef.current],(e.shards||[]).map(dP),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=k.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=Ty(p),b=r.current,y="deltaX"in p?p.deltaX:b[0]-v[0],w="deltaY"in p?p.deltaY:b[1]-v[1],j,E=p.target,A=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in p&&A==="h"&&E.type==="range")return!1;var C=lP(A,E);if(!C)return!0;if(C?j=A:(j=A==="v"?"h":"v",C=lP(A,E)),!C)return!1;if(!a.current&&"changedTouches"in p&&(y||w)&&(a.current=j),!j)return!0;var S=a.current||j;return nOe(S,x,p,S==="h"?y:w)},[]),c=k.useCallback(function(p){var x=p;if(!(!ah.length||ah[ah.length-1]!==s)){var v="deltaY"in x?cP(x):Ty(x),b=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&sOe(j.delta,v)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var y=(o.current.shards||[]).map(dP).filter(Boolean).filter(function(j){return j.contains(x.target)}),w=y.length>0?l(x,y[0]):!o.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),d=k.useCallback(function(p,x,v,b){var y={name:p,delta:x,target:v,should:b,shadowParent:cOe(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),f=k.useCallback(function(p){r.current=Ty(p),a.current=void 0},[]),u=k.useCallback(function(p){d(p.type,cP(p),p.target,l(p,e.lockRef.current))},[]),m=k.useCallback(function(p){d(p.type,Ty(p),p.target,l(p,e.lockRef.current))},[]);k.useEffect(function(){return ah.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",c,rh),document.addEventListener("touchmove",c,rh),document.addEventListener("touchstart",f,rh),function(){ah=ah.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,rh),document.removeEventListener("touchmove",c,rh),document.removeEventListener("touchstart",f,rh)}},[]);var h=e.removeScrollBar,g=e.inert;return k.createElement(k.Fragment,null,g?k.createElement(s,{styles:iOe(n)}):null,h?k.createElement(QPe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cOe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dOe=FPe(KH,lOe);var RA=k.forwardRef(function(e,t){return k.createElement(_4,ac({},e,{ref:t,sideCar:dOe}))});RA.classNames=_4.classNames;var fOe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},nh=new WeakMap,Iy=new WeakMap,Dy={},wN=0,tV=function(e){return e&&(e.host||tV(e.parentNode))},uOe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=tV(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},hOe=function(e,t,r,a){var n=uOe(t,Array.isArray(e)?e:[e]);Dy[r]||(Dy[r]=new WeakMap);var s=Dy[r],o=[],l=new Set,c=new Set(n),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};n.forEach(d);var f=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(m){if(l.has(m))f(m);else try{var h=m.getAttribute(a),g=h!==null&&h!=="false",p=(nh.get(m)||0)+1,x=(s.get(m)||0)+1;nh.set(m,p),s.set(m,x),o.push(m),p===1&&g&&Iy.set(m,!0),x===1&&m.setAttribute(r,"true"),g||m.setAttribute(a,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return f(t),l.clear(),wN++,function(){o.forEach(function(u){var m=nh.get(u)-1,h=s.get(u)-1;nh.set(u,m),s.set(u,h),m||(Iy.has(u)||u.removeAttribute(a),Iy.delete(u)),h||u.removeAttribute(r)}),wN--,wN||(nh=new WeakMap,nh=new WeakMap,Iy=new WeakMap,Dy={})}},rV=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=fOe(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),hOe(a,n,r,"aria-hidden")):function(){return null}},M4="Dialog",[aV]=D0(M4),[mOe,Ol]=aV(M4),nV=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:n,onOpenChange:s,modal:o=!0}=e,l=k.useRef(null),c=k.useRef(null),[d,f]=lm({prop:a,defaultProp:n??!1,onChange:s,caller:M4});return i.jsx(mOe,{scope:t,triggerRef:l,contentRef:c,contentId:uf(),titleId:uf(),descriptionId:uf(),open:d,onOpenChange:f,onOpenToggle:k.useCallback(()=>f(u=>!u),[f]),modal:o,children:r})};nV.displayName=M4;var sV="DialogTrigger",pOe=k.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ol(sV,r),s=Ya(t,n.triggerRef);return i.jsx(Ar.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":zA(n.open),...a,ref:s,onClick:Nr(e.onClick,n.onOpenToggle)})});pOe.displayName=sV;var FA="DialogPortal",[gOe,iV]=aV(FA,{forceMount:void 0}),oV=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:n}=e,s=Ol(FA,t);return i.jsx(gOe,{scope:t,forceMount:r,children:k.Children.map(a,o=>i.jsx(hv,{present:r||s.open,children:i.jsx(OA,{asChild:!0,container:n,children:o})}))})};oV.displayName=FA;var p2="DialogOverlay",lV=k.forwardRef((e,t)=>{const r=iV(p2,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,s=Ol(p2,e.__scopeDialog);return s.modal?i.jsx(hv,{present:a||s.open,children:i.jsx(vOe,{...n,ref:t})}):null});lV.displayName=p2;var xOe=Kx("DialogOverlay.RemoveScroll"),vOe=k.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ol(p2,r);return i.jsx(RA,{as:xOe,allowPinchZoom:!0,shards:[n.contentRef],children:i.jsx(Ar.div,{"data-state":zA(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),i0="DialogContent",cV=k.forwardRef((e,t)=>{const r=iV(i0,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,s=Ol(i0,e.__scopeDialog);return i.jsx(hv,{present:a||s.open,children:s.modal?i.jsx(yOe,{...n,ref:t}):i.jsx(bOe,{...n,ref:t})})});cV.displayName=i0;var yOe=k.forwardRef((e,t)=>{const r=Ol(i0,e.__scopeDialog),a=k.useRef(null),n=Ya(t,r.contentRef,a);return k.useEffect(()=>{const s=a.current;if(s)return rV(s)},[]),i.jsx(dV,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nr(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Nr(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Nr(e.onFocusOutside,s=>s.preventDefault())})}),bOe=k.forwardRef((e,t)=>{const r=Ol(i0,e.__scopeDialog),a=k.useRef(!1),n=k.useRef(!1);return i.jsx(dV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:s=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),dV=k.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:s,...o}=e,l=Ol(i0,r),c=k.useRef(null),d=Ya(t,c);return qH(),i.jsxs(i.Fragment,{children:[i.jsx(PA,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:s,children:i.jsx(DA,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zA(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(wOe,{titleId:l.titleId}),i.jsx(jOe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),BA="DialogTitle",fV=k.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ol(BA,r);return i.jsx(Ar.h2,{id:n.titleId,...a,ref:t})});fV.displayName=BA;var uV="DialogDescription",hV=k.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ol(uV,r);return i.jsx(Ar.p,{id:n.descriptionId,...a,ref:t})});hV.displayName=uV;var mV="DialogClose",pV=k.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ol(mV,r);return i.jsx(Ar.button,{type:"button",...a,ref:t,onClick:Nr(e.onClick,()=>n.onOpenChange(!1))})});pV.displayName=mV;function zA(e){return e?"open":"closed"}var gV="DialogTitleWarning",[yrt,xV]=KIe(gV,{contentName:i0,titleName:BA,docsSlug:"dialog"}),wOe=({titleId:e})=>{const t=xV(gV),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},kOe="DialogDescriptionWarning",jOe=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xV(kOe).contentName}}.`;return k.useEffect(()=>{var s;const n=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},$A=nV,UA=oV,L4=lV,T4=cV,I4=fV,vV=hV,WA=pV;const um=$A,NOe=UA,yV=k.forwardRef(({className:e,...t},r)=>i.jsx(L4,{ref:r,className:Hr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yV.displayName=L4.displayName;const o0=k.forwardRef(({className:e,children:t,...r},a)=>i.jsxs(NOe,{children:[i.jsx(yV,{}),i.jsxs(T4,{ref:a,className:Hr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(WA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(br,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));o0.displayName=T4.displayName;const l0=({className:e,...t})=>i.jsx("div",{className:Hr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});l0.displayName="DialogHeader";const c0=({className:e,...t})=>i.jsx("div",{className:Hr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});c0.displayName="DialogFooter";const d0=k.forwardRef(({className:e,...t},r)=>i.jsx(I4,{ref:r,className:Hr("text-lg font-semibold leading-none tracking-tight",e),...t}));d0.displayName=I4.displayName;const f0=k.forwardRef(({className:e,...t},r)=>i.jsx(vV,{ref:r,className:Hr("text-sm text-muted-foreground",e),...t}));f0.displayName=vV.displayName;const nc=k.forwardRef(({className:e,type:t,...r},a)=>i.jsx("input",{type:t,className:Hr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));nc.displayName="Input";var SOe="Label",bV=k.forwardRef((e,t)=>i.jsx(Ar.label,{...e,ref:t,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bV.displayName=SOe;var wV=bV;const COe=IA("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rr=k.forwardRef(({className:e,...t},r)=>i.jsx(wV,{ref:r,className:Hr(COe(),e),...t}));Rr.displayName=wV.displayName;function fP(e,[t,r]){return Math.min(r,Math.max(t,e))}const AOe=["top","right","bottom","left"],Ef=Math.min,Yi=Math.max,g2=Math.round,Py=Math.floor,hc=e=>({x:e,y:e}),EOe={left:"right",right:"left",bottom:"top",top:"bottom"},_Oe={start:"end",end:"start"};function g5(e,t,r){return Yi(e,Ef(t,r))}function fd(e,t){return typeof e=="function"?e(t):e}function ud(e){return e.split("-")[0]}function bp(e){return e.split("-")[1]}function HA(e){return e==="x"?"y":"x"}function VA(e){return e==="y"?"height":"width"}const MOe=new Set(["top","bottom"]);function oc(e){return MOe.has(ud(e))?"y":"x"}function GA(e){return HA(oc(e))}function LOe(e,t,r){r===void 0&&(r=!1);const a=bp(e),n=GA(e),s=VA(n);let o=n==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=x2(o)),[o,x2(o)]}function TOe(e){const t=x2(e);return[x5(e),t,x5(t)]}function x5(e){return e.replace(/start|end/g,t=>_Oe[t])}const uP=["left","right"],hP=["right","left"],IOe=["top","bottom"],DOe=["bottom","top"];function POe(e,t,r){switch(e){case"top":case"bottom":return r?t?hP:uP:t?uP:hP;case"left":case"right":return t?IOe:DOe;default:return[]}}function OOe(e,t,r,a){const n=bp(e);let s=POe(ud(e),r==="start",a);return n&&(s=s.map(o=>o+"-"+n),t&&(s=s.concat(s.map(x5)))),s}function x2(e){return e.replace(/left|right|bottom|top/g,t=>EOe[t])}function ROe(e){return{top:0,right:0,bottom:0,left:0,...e}}function kV(e){return typeof e!="number"?ROe(e):{top:e,right:e,bottom:e,left:e}}function v2(e){const{x:t,y:r,width:a,height:n}=e;return{width:a,height:n,top:r,left:t,right:t+a,bottom:r+n,x:t,y:r}}function mP(e,t,r){let{reference:a,floating:n}=e;const s=oc(t),o=GA(t),l=VA(o),c=ud(t),d=s==="y",f=a.x+a.width/2-n.width/2,u=a.y+a.height/2-n.height/2,m=a[l]/2-n[l]/2;let h;switch(c){case"top":h={x:f,y:a.y-n.height};break;case"bottom":h={x:f,y:a.y+a.height};break;case"right":h={x:a.x+a.width,y:u};break;case"left":h={x:a.x-n.width,y:u};break;default:h={x:a.x,y:a.y}}switch(bp(t)){case"start":h[o]-=m*(r&&d?-1:1);break;case"end":h[o]+=m*(r&&d?-1:1);break}return h}const FOe=async(e,t,r)=>{const{placement:a="bottom",strategy:n="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:f,y:u}=mP(d,a,c),m=a,h={},g=0;for(let p=0;p<l.length;p++){const{name:x,fn:v}=l[p],{x:b,y,data:w,reset:j}=await v({x:f,y:u,initialPlacement:a,placement:m,strategy:n,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});f=b??f,u=y??u,h={...h,[x]:{...h[x],...w}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):j.rects),{x:f,y:u}=mP(d,m,c)),p=-1)}return{x:f,y:u,placement:m,strategy:n,middlewareData:h}};async function Qx(e,t){var r;t===void 0&&(t={});const{x:a,y:n,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:m=!1,padding:h=0}=fd(t,e),g=kV(h),x=l[m?u==="floating"?"reference":"floating":u],v=v2(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),b=u==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},j=v2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:y,strategy:c}):b);return{top:(v.top-j.top+g.top)/w.y,bottom:(j.bottom-v.bottom+g.bottom)/w.y,left:(v.left-j.left+g.left)/w.x,right:(j.right-v.right+g.right)/w.x}}const BOe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:n,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=fd(e,t)||{};if(d==null)return{};const u=kV(f),m={x:r,y:a},h=GA(n),g=VA(h),p=await o.getDimensions(d),x=h==="y",v=x?"top":"left",b=x?"bottom":"right",y=x?"clientHeight":"clientWidth",w=s.reference[g]+s.reference[h]-m[h]-s.floating[g],j=m[h]-s.reference[h],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let A=E?E[y]:0;(!A||!await(o.isElement==null?void 0:o.isElement(E)))&&(A=l.floating[y]||s.floating[g]);const C=w/2-j/2,S=A/2-p[g]/2-1,T=Ef(u[v],S),_=Ef(u[b],S),M=T,D=A-p[g]-_,O=A/2-p[g]/2+C,B=g5(M,O,D),U=!c.arrow&&bp(n)!=null&&O!==B&&s.reference[g]/2-(O<M?T:_)-p[g]/2<0,q=U?O<M?O-M:O-D:0;return{[h]:m[h]+q,data:{[h]:B,centerOffset:O-B-q,...U&&{alignmentOffset:q}},reset:U}}}),zOe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:n,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=fd(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const v=ud(n),b=oc(l),y=ud(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=m||(y||!p?[x2(l)]:TOe(l)),E=g!=="none";!m&&E&&j.push(...OOe(l,p,g,w));const A=[l,...j],C=await Qx(t,x),S=[];let T=((a=s.flip)==null?void 0:a.overflows)||[];if(f&&S.push(C[v]),u){const O=LOe(n,o,w);S.push(C[O[0]],C[O[1]])}if(T=[...T,{placement:n,overflows:S}],!S.every(O=>O<=0)){var _,M;const O=(((_=s.flip)==null?void 0:_.index)||0)+1,B=A[O];if(B&&(!(u==="alignment"?b!==oc(B):!1)||T.every(K=>oc(K.placement)===b?K.overflows[0]>0:!0)))return{data:{index:O,overflows:T},reset:{placement:B}};let U=(M=T.filter(q=>q.overflows[0]<=0).sort((q,K)=>q.overflows[1]-K.overflows[1])[0])==null?void 0:M.placement;if(!U)switch(h){case"bestFit":{var D;const q=(D=T.filter(K=>{if(E){const G=oc(K.placement);return G===b||G==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(G=>G>0).reduce((G,ve)=>G+ve,0)]).sort((K,G)=>K[1]-G[1])[0])==null?void 0:D[0];q&&(U=q);break}case"initialPlacement":U=l;break}if(n!==U)return{reset:{placement:U}}}return{}}}};function pP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gP(e){return AOe.some(t=>e[t]>=0)}const $Oe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...n}=fd(e,t);switch(a){case"referenceHidden":{const s=await Qx(t,{...n,elementContext:"reference"}),o=pP(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gP(o)}}}case"escaped":{const s=await Qx(t,{...n,altBoundary:!0}),o=pP(s,r.floating);return{data:{escapedOffsets:o,escaped:gP(o)}}}default:return{}}}}},jV=new Set(["left","top"]);async function UOe(e,t){const{placement:r,platform:a,elements:n}=e,s=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=ud(r),l=bp(r),c=oc(r)==="y",d=jV.has(o)?-1:1,f=s&&c?-1:1,u=fd(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*f,y:m*d}:{x:m*d,y:h*f}}const WOe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:n,y:s,placement:o,middlewareData:l}=t,c=await UOe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+c.x,y:s+c.y,data:{...c,placement:o}}}}},HOe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:n}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y:b}=x;return{x:v,y:b}}},...c}=fd(e,t),d={x:r,y:a},f=await Qx(t,c),u=oc(ud(n)),m=HA(u);let h=d[m],g=d[u];if(s){const x=m==="y"?"top":"left",v=m==="y"?"bottom":"right",b=h+f[x],y=h-f[v];h=g5(b,h,y)}if(o){const x=u==="y"?"top":"left",v=u==="y"?"bottom":"right",b=g+f[x],y=g-f[v];g=g5(b,g,y)}const p=l.fn({...t,[m]:h,[u]:g});return{...p,data:{x:p.x-r,y:p.y-a,enabled:{[m]:s,[u]:o}}}}}},VOe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:n,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=fd(e,t),f={x:r,y:a},u=oc(n),m=HA(u);let h=f[m],g=f[u];const p=fd(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const y=m==="y"?"height":"width",w=s.reference[m]-s.floating[y]+x.mainAxis,j=s.reference[m]+s.reference[y]-x.mainAxis;h<w?h=w:h>j&&(h=j)}if(d){var v,b;const y=m==="y"?"width":"height",w=jV.has(ud(n)),j=s.reference[u]-s.floating[y]+(w&&((v=o.offset)==null?void 0:v[u])||0)+(w?0:x.crossAxis),E=s.reference[u]+s.reference[y]+(w?0:((b=o.offset)==null?void 0:b[u])||0)-(w?x.crossAxis:0);g<j?g=j:g>E&&(g=E)}return{[m]:h,[u]:g}}}},GOe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:n,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...d}=fd(e,t),f=await Qx(t,d),u=ud(n),m=bp(n),h=oc(n)==="y",{width:g,height:p}=s.floating;let x,v;u==="top"||u==="bottom"?(x=u,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=u,x=m==="end"?"top":"bottom");const b=p-f.top-f.bottom,y=g-f.left-f.right,w=Ef(p-f[x],b),j=Ef(g-f[v],y),E=!t.middlewareData.shift;let A=w,C=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=y),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(A=b),E&&!m){const T=Yi(f.left,0),_=Yi(f.right,0),M=Yi(f.top,0),D=Yi(f.bottom,0);h?C=g-2*(T!==0||_!==0?T+_:Yi(f.left,f.right)):A=p-2*(M!==0||D!==0?M+D:Yi(f.top,f.bottom))}await c({...t,availableWidth:C,availableHeight:A});const S=await o.getDimensions(l.floating);return g!==S.width||p!==S.height?{reset:{rects:!0}}:{}}}};function D4(){return typeof window<"u"}function wp(e){return NV(e)?(e.nodeName||"").toLowerCase():"#document"}function to(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cc(e){var t;return(t=(NV(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function NV(e){return D4()?e instanceof Node||e instanceof to(e).Node:!1}function El(e){return D4()?e instanceof Element||e instanceof to(e).Element:!1}function bc(e){return D4()?e instanceof HTMLElement||e instanceof to(e).HTMLElement:!1}function xP(e){return!D4()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof to(e).ShadowRoot}const qOe=new Set(["inline","contents"]);function mv(e){const{overflow:t,overflowX:r,overflowY:a,display:n}=_l(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!qOe.has(n)}const YOe=new Set(["table","td","th"]);function JOe(e){return YOe.has(wp(e))}const KOe=[":popover-open",":modal"];function P4(e){return KOe.some(t=>{try{return e.matches(t)}catch{return!1}})}const QOe=["transform","translate","scale","rotate","perspective"],XOe=["transform","translate","scale","rotate","perspective","filter"],ZOe=["paint","layout","strict","content"];function qA(e){const t=YA(),r=El(e)?_l(e):e;return QOe.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||XOe.some(a=>(r.willChange||"").includes(a))||ZOe.some(a=>(r.contain||"").includes(a))}function e9e(e){let t=_f(e);for(;bc(t)&&!hm(t);){if(qA(t))return t;if(P4(t))return null;t=_f(t)}return null}function YA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const t9e=new Set(["html","body","#document"]);function hm(e){return t9e.has(wp(e))}function _l(e){return to(e).getComputedStyle(e)}function O4(e){return El(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _f(e){if(wp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xP(e)&&e.host||Cc(e);return xP(t)?t.host:t}function SV(e){const t=_f(e);return hm(t)?e.ownerDocument?e.ownerDocument.body:e.body:bc(t)&&mv(t)?t:SV(t)}function Xx(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const n=SV(e),s=n===((a=e.ownerDocument)==null?void 0:a.body),o=to(n);if(s){const l=v5(o);return t.concat(o,o.visualViewport||[],mv(n)?n:[],l&&r?Xx(l):[])}return t.concat(n,Xx(n,[],r))}function v5(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function CV(e){const t=_l(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const n=bc(e),s=n?e.offsetWidth:r,o=n?e.offsetHeight:a,l=g2(r)!==s||g2(a)!==o;return l&&(r=s,a=o),{width:r,height:a,$:l}}function JA(e){return El(e)?e:e.contextElement}function Wh(e){const t=JA(e);if(!bc(t))return hc(1);const r=t.getBoundingClientRect(),{width:a,height:n,$:s}=CV(t);let o=(s?g2(r.width):r.width)/a,l=(s?g2(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const r9e=hc(0);function AV(e){const t=to(e);return!YA()||!t.visualViewport?r9e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function a9e(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==to(e)?!1:t}function u0(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=JA(e);let o=hc(1);t&&(a?El(a)&&(o=Wh(a)):o=Wh(e));const l=a9e(s,r,a)?AV(s):hc(0);let c=(n.left+l.x)/o.x,d=(n.top+l.y)/o.y,f=n.width/o.x,u=n.height/o.y;if(s){const m=to(s),h=a&&El(a)?to(a):a;let g=m,p=v5(g);for(;p&&a&&h!==g;){const x=Wh(p),v=p.getBoundingClientRect(),b=_l(p),y=v.left+(p.clientLeft+parseFloat(b.paddingLeft))*x.x,w=v.top+(p.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,d*=x.y,f*=x.x,u*=x.y,c+=y,d+=w,g=to(p),p=v5(g)}}return v2({width:f,height:u,x:c,y:d})}function R4(e,t){const r=O4(e).scrollLeft;return t?t.left+r:u0(Cc(e)).left+r}function EV(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-R4(e,r),n=r.top+t.scrollTop;return{x:a,y:n}}function n9e(e){let{elements:t,rect:r,offsetParent:a,strategy:n}=e;const s=n==="fixed",o=Cc(a),l=t?P4(t.floating):!1;if(a===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},d=hc(1);const f=hc(0),u=bc(a);if((u||!u&&!s)&&((wp(a)!=="body"||mv(o))&&(c=O4(a)),bc(a))){const h=u0(a);d=Wh(a),f.x=h.x+a.clientLeft,f.y=h.y+a.clientTop}const m=o&&!u&&!s?EV(o,c):hc(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:r.y*d.y-c.scrollTop*d.y+f.y+m.y}}function s9e(e){return Array.from(e.getClientRects())}function i9e(e){const t=Cc(e),r=O4(e),a=e.ownerDocument.body,n=Yi(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),s=Yi(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-r.scrollLeft+R4(e);const l=-r.scrollTop;return _l(a).direction==="rtl"&&(o+=Yi(t.clientWidth,a.clientWidth)-n),{width:n,height:s,x:o,y:l}}const vP=25;function o9e(e,t){const r=to(e),a=Cc(e),n=r.visualViewport;let s=a.clientWidth,o=a.clientHeight,l=0,c=0;if(n){s=n.width,o=n.height;const f=YA();(!f||f&&t==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}const d=R4(a);if(d<=0){const f=a.ownerDocument,u=f.body,m=getComputedStyle(u),h=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(a.clientWidth-u.clientWidth-h);g<=vP&&(s-=g)}else d<=vP&&(s+=d);return{width:s,height:o,x:l,y:c}}const l9e=new Set(["absolute","fixed"]);function c9e(e,t){const r=u0(e,!0,t==="fixed"),a=r.top+e.clientTop,n=r.left+e.clientLeft,s=bc(e)?Wh(e):hc(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=n*s.x,d=a*s.y;return{width:o,height:l,x:c,y:d}}function yP(e,t,r){let a;if(t==="viewport")a=o9e(e,r);else if(t==="document")a=i9e(Cc(e));else if(El(t))a=c9e(t,r);else{const n=AV(e);a={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return v2(a)}function _V(e,t){const r=_f(e);return r===t||!El(r)||hm(r)?!1:_l(r).position==="fixed"||_V(r,t)}function d9e(e,t){const r=t.get(e);if(r)return r;let a=Xx(e,[],!1).filter(l=>El(l)&&wp(l)!=="body"),n=null;const s=_l(e).position==="fixed";let o=s?_f(e):e;for(;El(o)&&!hm(o);){const l=_l(o),c=qA(o);!c&&l.position==="fixed"&&(n=null),(s?!c&&!n:!c&&l.position==="static"&&!!n&&l9e.has(n.position)||mv(o)&&!c&&_V(e,o))?a=a.filter(f=>f!==o):n=l,o=_f(o)}return t.set(e,a),a}function f9e(e){let{element:t,boundary:r,rootBoundary:a,strategy:n}=e;const o=[...r==="clippingAncestors"?P4(t)?[]:d9e(t,this._c):[].concat(r),a],l=o[0],c=o.reduce((d,f)=>{const u=yP(t,f,n);return d.top=Yi(u.top,d.top),d.right=Ef(u.right,d.right),d.bottom=Ef(u.bottom,d.bottom),d.left=Yi(u.left,d.left),d},yP(t,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function u9e(e){const{width:t,height:r}=CV(e);return{width:t,height:r}}function h9e(e,t,r){const a=bc(t),n=Cc(t),s=r==="fixed",o=u0(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=hc(0);function d(){c.x=R4(n)}if(a||!a&&!s)if((wp(t)!=="body"||mv(n))&&(l=O4(t)),a){const h=u0(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else n&&d();s&&!a&&n&&d();const f=n&&!a&&!s?EV(n,l):hc(0),u=o.left+l.scrollLeft-c.x-f.x,m=o.top+l.scrollTop-c.y-f.y;return{x:u,y:m,width:o.width,height:o.height}}function kN(e){return _l(e).position==="static"}function bP(e,t){if(!bc(e)||_l(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Cc(e)===r&&(r=r.ownerDocument.body),r}function MV(e,t){const r=to(e);if(P4(e))return r;if(!bc(e)){let n=_f(e);for(;n&&!hm(n);){if(El(n)&&!kN(n))return n;n=_f(n)}return r}let a=bP(e,t);for(;a&&JOe(a)&&kN(a);)a=bP(a,t);return a&&hm(a)&&kN(a)&&!qA(a)?r:a||e9e(e)||r}const m9e=async function(e){const t=this.getOffsetParent||MV,r=this.getDimensions,a=await r(e.floating);return{reference:h9e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function p9e(e){return _l(e).direction==="rtl"}const g9e={convertOffsetParentRelativeRectToViewportRelativeRect:n9e,getDocumentElement:Cc,getClippingRect:f9e,getOffsetParent:MV,getElementRects:m9e,getClientRects:s9e,getDimensions:u9e,getScale:Wh,isElement:El,isRTL:p9e};function LV(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function x9e(e,t){let r=null,a;const n=Cc(e);function s(){var l;clearTimeout(a),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=e.getBoundingClientRect(),{left:f,top:u,width:m,height:h}=d;if(l||t(),!m||!h)return;const g=Py(u),p=Py(n.clientWidth-(f+m)),x=Py(n.clientHeight-(u+h)),v=Py(f),y={rootMargin:-g+"px "+-p+"px "+-x+"px "+-v+"px",threshold:Yi(0,Ef(1,c))||1};let w=!0;function j(E){const A=E[0].intersectionRatio;if(A!==c){if(!w)return o();A?o(!1,A):a=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!LV(d,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(j,{...y,root:n.ownerDocument})}catch{r=new IntersectionObserver(j,y)}r.observe(e)}return o(!0),s}function v9e(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=JA(e),f=n||s?[...d?Xx(d):[],...Xx(t)]:[];f.forEach(v=>{n&&v.addEventListener("scroll",r,{passive:!0}),s&&v.addEventListener("resize",r)});const u=d&&l?x9e(d,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let g,p=c?u0(e):null;c&&x();function x(){const v=u0(e);p&&!LV(p,v)&&r(),p=v,g=requestAnimationFrame(x)}return r(),()=>{var v;f.forEach(b=>{n&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),u==null||u(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const y9e=WOe,b9e=HOe,w9e=zOe,k9e=GOe,j9e=$Oe,wP=BOe,N9e=VOe,S9e=(e,t,r)=>{const a=new Map,n={platform:g9e,...r},s={...n.platform,_c:a};return FOe(e,t,{...n,platform:s})};var C9e=typeof document<"u",A9e=function(){},jb=C9e?k.useLayoutEffect:A9e;function y2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!y2(e[a],t[a]))return!1;return!0}if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,n[a]))return!1;for(a=r;a--!==0;){const s=n[a];if(!(s==="_owner"&&e.$$typeof)&&!y2(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function TV(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kP(e,t){const r=TV(e);return Math.round(t*r)/r}function jN(e){const t=k.useRef(e);return jb(()=>{t.current=e}),t}function E9e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:n,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,u]=k.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=k.useState(a);y2(m,a)||h(a);const[g,p]=k.useState(null),[x,v]=k.useState(null),b=k.useCallback(K=>{K!==E.current&&(E.current=K,p(K))},[]),y=k.useCallback(K=>{K!==A.current&&(A.current=K,v(K))},[]),w=s||g,j=o||x,E=k.useRef(null),A=k.useRef(null),C=k.useRef(f),S=c!=null,T=jN(c),_=jN(n),M=jN(d),D=k.useCallback(()=>{if(!E.current||!A.current)return;const K={placement:t,strategy:r,middleware:m};_.current&&(K.platform=_.current),S9e(E.current,A.current,K).then(G=>{const ve={...G,isPositioned:M.current!==!1};O.current&&!y2(C.current,ve)&&(C.current=ve,gl.flushSync(()=>{u(ve)}))})},[m,t,r,_,M]);jb(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,u(K=>({...K,isPositioned:!1})))},[d]);const O=k.useRef(!1);jb(()=>(O.current=!0,()=>{O.current=!1}),[]),jb(()=>{if(w&&(E.current=w),j&&(A.current=j),w&&j){if(T.current)return T.current(w,j,D);D()}},[w,j,D,T,S]);const B=k.useMemo(()=>({reference:E,floating:A,setReference:b,setFloating:y}),[b,y]),U=k.useMemo(()=>({reference:w,floating:j}),[w,j]),q=k.useMemo(()=>{const K={position:r,left:0,top:0};if(!U.floating)return K;const G=kP(U.floating,f.x),ve=kP(U.floating,f.y);return l?{...K,transform:"translate("+G+"px, "+ve+"px)",...TV(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:ve}},[r,l,U.floating,f.x,f.y]);return k.useMemo(()=>({...f,update:D,refs:B,elements:U,floatingStyles:q}),[f,D,B,U,q])}const _9e=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:n}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?wP({element:a.current,padding:n}).fn(r):{}:a?wP({element:a,padding:n}).fn(r):{}}}},M9e=(e,t)=>({...y9e(e),options:[e,t]}),L9e=(e,t)=>({...b9e(e),options:[e,t]}),T9e=(e,t)=>({...N9e(e),options:[e,t]}),I9e=(e,t)=>({...w9e(e),options:[e,t]}),D9e=(e,t)=>({...k9e(e),options:[e,t]}),P9e=(e,t)=>({...j9e(e),options:[e,t]}),O9e=(e,t)=>({..._9e(e),options:[e,t]});var R9e="Arrow",IV=k.forwardRef((e,t)=>{const{children:r,width:a=10,height:n=5,...s}=e;return i.jsx(Ar.svg,{...s,ref:t,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});IV.displayName=R9e;var F9e=IV;function DV(e){const[t,r]=k.useState(void 0);return ti(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const s=n[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var KA="Popper",[PV,OV]=D0(KA),[B9e,RV]=PV(KA),FV=e=>{const{__scopePopper:t,children:r}=e,[a,n]=k.useState(null);return i.jsx(B9e,{scope:t,anchor:a,onAnchorChange:n,children:r})};FV.displayName=KA;var BV="PopperAnchor",zV=k.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...n}=e,s=RV(BV,r),o=k.useRef(null),l=Ya(t,o),c=k.useRef(null);return k.useEffect(()=>{const d=c.current;c.current=(a==null?void 0:a.current)||o.current,d!==c.current&&s.onAnchorChange(c.current)}),a?null:i.jsx(Ar.div,{...n,ref:l})});zV.displayName=BV;var QA="PopperContent",[z9e,$9e]=PV(QA),$V=k.forwardRef((e,t)=>{var W,Y,Q,ne,pe,F;const{__scopePopper:r,side:a="bottom",sideOffset:n=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:u="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:g,...p}=e,x=RV(QA,r),[v,b]=k.useState(null),y=Ya(t,Te=>b(Te)),[w,j]=k.useState(null),E=DV(w),A=(E==null?void 0:E.width)??0,C=(E==null?void 0:E.height)??0,S=a+(s!=="center"?"-"+s:""),T=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},_=Array.isArray(d)?d:[d],M=_.length>0,D={padding:T,boundary:_.filter(W9e),altBoundary:M},{refs:O,floatingStyles:B,placement:U,isPositioned:q,middlewareData:K}=E9e({strategy:"fixed",placement:S,whileElementsMounted:(...Te)=>v9e(...Te,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[M9e({mainAxis:n+C,alignmentAxis:o}),c&&L9e({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?T9e():void 0,...D}),c&&I9e({...D}),D9e({...D,apply:({elements:Te,rects:xe,availableWidth:se,availableHeight:We})=>{const{width:Se,height:Fe}=xe.reference,he=Te.floating.style;he.setProperty("--radix-popper-available-width",`${se}px`),he.setProperty("--radix-popper-available-height",`${We}px`),he.setProperty("--radix-popper-anchor-width",`${Se}px`),he.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),w&&O9e({element:w,padding:l}),H9e({arrowWidth:A,arrowHeight:C}),m&&P9e({strategy:"referenceHidden",...D})]}),[G,ve]=HV(U),fe=Af(g);ti(()=>{q&&(fe==null||fe())},[q,fe]);const I=(W=K.arrow)==null?void 0:W.x,z=(Y=K.arrow)==null?void 0:Y.y,H=((Q=K.arrow)==null?void 0:Q.centerOffset)!==0,[J,te]=k.useState();return ti(()=>{v&&te(window.getComputedStyle(v).zIndex)},[v]),i.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:q?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ne=K.transformOrigin)==null?void 0:ne.x,(pe=K.transformOrigin)==null?void 0:pe.y].join(" "),...((F=K.hide)==null?void 0:F.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(z9e,{scope:r,placedSide:G,onArrowChange:j,arrowX:I,arrowY:z,shouldHideArrow:H,children:i.jsx(Ar.div,{"data-side":G,"data-align":ve,...p,ref:y,style:{...p.style,animation:q?void 0:"none"}})})})});$V.displayName=QA;var UV="PopperArrow",U9e={top:"bottom",right:"left",bottom:"top",left:"right"},WV=k.forwardRef(function(t,r){const{__scopePopper:a,...n}=t,s=$9e(UV,a),o=U9e[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(F9e,{...n,ref:r,style:{...n.style,display:"block"}})})});WV.displayName=UV;function W9e(e){return e!==null}var H9e=e=>({name:"transformOrigin",options:e,fn(t){var x,v,b;const{placement:r,rects:a,middlewareData:n}=t,o=((x=n.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,f]=HV(r),u={start:"0%",center:"50%",end:"100%"}[f],m=(((v=n.arrow)==null?void 0:v.x)??0)+l/2,h=(((b=n.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return d==="bottom"?(g=o?u:`${m}px`,p=`${-c}px`):d==="top"?(g=o?u:`${m}px`,p=`${a.floating.height+c}px`):d==="right"?(g=`${-c}px`,p=o?u:`${h}px`):d==="left"&&(g=`${a.floating.width+c}px`,p=o?u:`${h}px`),{data:{x:g,y:p}}}});function HV(e){const[t,r="center"]=e.split("-");return[t,r]}var V9e=FV,G9e=zV,q9e=$V,Y9e=WV;function VV(e){const t=k.useRef({value:e,previous:e});return k.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var GV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),J9e="VisuallyHidden",K9e=k.forwardRef((e,t)=>i.jsx(Ar.span,{...e,ref:t,style:{...GV,...e.style}}));K9e.displayName=J9e;var Q9e=[" ","Enter","ArrowUp","ArrowDown"],X9e=[" ","Enter"],h0="Select",[F4,B4,Z9e]=sH(h0),[kp]=D0(h0,[Z9e,OV]),z4=OV(),[e8e,zf]=kp(h0),[t8e,r8e]=kp(h0),qV=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:n,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:u,disabled:m,required:h,form:g}=e,p=z4(t),[x,v]=k.useState(null),[b,y]=k.useState(null),[w,j]=k.useState(!1),E=EA(d),[A,C]=lm({prop:a,defaultProp:n??!1,onChange:s,caller:h0}),[S,T]=lm({prop:o,defaultProp:l,onChange:c,caller:h0}),_=k.useRef(null),M=x?g||!!x.closest("form"):!0,[D,O]=k.useState(new Set),B=Array.from(D).map(U=>U.props.value).join(";");return i.jsx(V9e,{...p,children:i.jsxs(e8e,{required:h,scope:t,trigger:x,onTriggerChange:v,valueNode:b,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:j,contentId:uf(),value:S,onValueChange:T,open:A,onOpenChange:C,dir:E,triggerPointerDownPosRef:_,disabled:m,children:[i.jsx(F4.Provider,{scope:t,children:i.jsx(t8e,{scope:e.__scopeSelect,onNativeOptionAdd:k.useCallback(U=>{O(q=>new Set(q).add(U))},[]),onNativeOptionRemove:k.useCallback(U=>{O(q=>{const K=new Set(q);return K.delete(U),K})},[]),children:r})}),M?i.jsxs(xG,{"aria-hidden":!0,required:h,tabIndex:-1,name:f,autoComplete:u,value:S,onChange:U=>T(U.target.value),disabled:m,form:g,children:[S===void 0?i.jsx("option",{value:""}):null,Array.from(D)]},B):null]})})};qV.displayName=h0;var YV="SelectTrigger",JV=k.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...n}=e,s=z4(r),o=zf(YV,r),l=o.disabled||a,c=Ya(t,o.onTriggerChange),d=B4(r),f=k.useRef("touch"),[u,m,h]=yG(p=>{const x=d().filter(y=>!y.disabled),v=x.find(y=>y.value===o.value),b=bG(x,p,v);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),h()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(G9e,{asChild:!0,...s,children:i.jsx(Ar.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vG(o.value)?"":void 0,...n,ref:c,onClick:Nr(n.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&g(p)}),onPointerDown:Nr(n.onPointerDown,p=>{f.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Nr(n.onKeyDown,p=>{const x=u.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(x&&p.key===" ")&&Q9e.includes(p.key)&&(g(),p.preventDefault())})})})});JV.displayName=YV;var KV="SelectValue",QV=k.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:n,children:s,placeholder:o="",...l}=e,c=zf(KV,r),{onValueNodeHasChildrenChange:d}=c,f=s!==void 0,u=Ya(t,c.onValueNodeChange);return ti(()=>{d(f)},[d,f]),i.jsx(Ar.span,{...l,ref:u,style:{pointerEvents:"none"},children:vG(c.value)?i.jsx(i.Fragment,{children:o}):s})});QV.displayName=KV;var a8e="SelectIcon",XV=k.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...n}=e;return i.jsx(Ar.span,{"aria-hidden":!0,...n,ref:t,children:a||"▼"})});XV.displayName=a8e;var n8e="SelectPortal",ZV=e=>i.jsx(OA,{asChild:!0,...e});ZV.displayName=n8e;var m0="SelectContent",eG=k.forwardRef((e,t)=>{const r=zf(m0,e.__scopeSelect),[a,n]=k.useState();if(ti(()=>{n(new DocumentFragment)},[]),!r.open){const s=a;return s?gl.createPortal(i.jsx(tG,{scope:e.__scopeSelect,children:i.jsx(F4.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(rG,{...e,ref:t})});eG.displayName=m0;var il=10,[tG,$f]=kp(m0),s8e="SelectContentImpl",i8e=Kx("SelectContent.RemoveScroll"),rG=k.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:u,collisionBoundary:m,collisionPadding:h,sticky:g,hideWhenDetached:p,avoidCollisions:x,...v}=e,b=zf(m0,r),[y,w]=k.useState(null),[j,E]=k.useState(null),A=Ya(t,W=>w(W)),[C,S]=k.useState(null),[T,_]=k.useState(null),M=B4(r),[D,O]=k.useState(!1),B=k.useRef(!1);k.useEffect(()=>{if(y)return rV(y)},[y]),qH();const U=k.useCallback(W=>{const[Y,...Q]=M().map(F=>F.ref.current),[ne]=Q.slice(-1),pe=document.activeElement;for(const F of W)if(F===pe||(F==null||F.scrollIntoView({block:"nearest"}),F===Y&&j&&(j.scrollTop=0),F===ne&&j&&(j.scrollTop=j.scrollHeight),F==null||F.focus(),document.activeElement!==pe))return},[M,j]),q=k.useCallback(()=>U([C,y]),[U,C,y]);k.useEffect(()=>{D&&q()},[D,q]);const{onOpenChange:K,triggerPointerDownPosRef:G}=b;k.useEffect(()=>{if(y){let W={x:0,y:0};const Y=ne=>{var pe,F;W={x:Math.abs(Math.round(ne.pageX)-(((pe=G.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((F=G.current)==null?void 0:F.y)??0))}},Q=ne=>{W.x<=10&&W.y<=10?ne.preventDefault():y.contains(ne.target)||K(!1),document.removeEventListener("pointermove",Y),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",Q,{capture:!0})}}},[y,K,G]),k.useEffect(()=>{const W=()=>K(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[K]);const[ve,fe]=yG(W=>{const Y=M().filter(pe=>!pe.disabled),Q=Y.find(pe=>pe.ref.current===document.activeElement),ne=bG(Y,W,Q);ne&&setTimeout(()=>ne.ref.current.focus())}),I=k.useCallback((W,Y,Q)=>{const ne=!B.current&&!Q;(b.value!==void 0&&b.value===Y||ne)&&(S(W),ne&&(B.current=!0))},[b.value]),z=k.useCallback(()=>y==null?void 0:y.focus(),[y]),H=k.useCallback((W,Y,Q)=>{const ne=!B.current&&!Q;(b.value!==void 0&&b.value===Y||ne)&&_(W)},[b.value]),J=a==="popper"?y5:aG,te=J===y5?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:u,collisionBoundary:m,collisionPadding:h,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return i.jsx(tG,{scope:r,content:y,viewport:j,onViewportChange:E,itemRefCallback:I,selectedItem:C,onItemLeave:z,itemTextRefCallback:H,focusSelectedItem:q,selectedItemText:T,position:a,isPositioned:D,searchRef:ve,children:i.jsx(RA,{as:i8e,allowPinchZoom:!0,children:i.jsx(PA,{asChild:!0,trapped:b.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Nr(n,W=>{var Y;(Y=b.trigger)==null||Y.focus({preventScroll:!0}),W.preventDefault()}),children:i.jsx(DA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(J,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:W=>W.preventDefault(),...v,...te,onPlaced:()=>O(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Nr(v.onKeyDown,W=>{const Y=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!Y&&W.key.length===1&&fe(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ne=M().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const pe=W.target,F=ne.indexOf(pe);ne=ne.slice(F+1)}setTimeout(()=>U(ne)),W.preventDefault()}})})})})})})});rG.displayName=s8e;var o8e="SelectItemAlignedPosition",aG=k.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...n}=e,s=zf(m0,r),o=$f(m0,r),[l,c]=k.useState(null),[d,f]=k.useState(null),u=Ya(t,A=>f(A)),m=B4(r),h=k.useRef(!1),g=k.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:v,focusSelectedItem:b}=o,y=k.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&p&&x&&v){const A=s.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),S=s.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(s.dir!=="rtl"){const pe=T.left-C.left,F=S.left-pe,Te=A.left-F,xe=A.width+Te,se=Math.max(xe,C.width),We=window.innerWidth-il,Se=fP(F,[il,Math.max(il,We-se)]);l.style.minWidth=xe+"px",l.style.left=Se+"px"}else{const pe=C.right-T.right,F=window.innerWidth-S.right-pe,Te=window.innerWidth-A.right-F,xe=A.width+Te,se=Math.max(xe,C.width),We=window.innerWidth-il,Se=fP(F,[il,Math.max(il,We-se)]);l.style.minWidth=xe+"px",l.style.right=Se+"px"}const _=m(),M=window.innerHeight-il*2,D=p.scrollHeight,O=window.getComputedStyle(d),B=parseInt(O.borderTopWidth,10),U=parseInt(O.paddingTop,10),q=parseInt(O.borderBottomWidth,10),K=parseInt(O.paddingBottom,10),G=B+U+D+K+q,ve=Math.min(x.offsetHeight*5,G),fe=window.getComputedStyle(p),I=parseInt(fe.paddingTop,10),z=parseInt(fe.paddingBottom,10),H=A.top+A.height/2-il,J=M-H,te=x.offsetHeight/2,W=x.offsetTop+te,Y=B+U+W,Q=G-Y;if(Y<=H){const pe=_.length>0&&x===_[_.length-1].ref.current;l.style.bottom="0px";const F=d.clientHeight-p.offsetTop-p.offsetHeight,Te=Math.max(J,te+(pe?z:0)+F+q),xe=Y+Te;l.style.height=xe+"px"}else{const pe=_.length>0&&x===_[0].ref.current;l.style.top="0px";const Te=Math.max(H,B+p.offsetTop+(pe?I:0)+te)+Q;l.style.height=Te+"px",p.scrollTop=Y-H+p.offsetTop}l.style.margin=`${il}px 0`,l.style.minHeight=ve+"px",l.style.maxHeight=M+"px",a==null||a(),requestAnimationFrame(()=>h.current=!0)}},[m,s.trigger,s.valueNode,l,d,p,x,v,s.dir,a]);ti(()=>y(),[y]);const[w,j]=k.useState();ti(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const E=k.useCallback(A=>{A&&g.current===!0&&(y(),b==null||b(),g.current=!1)},[y,b]);return i.jsx(c8e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:E,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:i.jsx(Ar.div,{...n,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});aG.displayName=o8e;var l8e="SelectPopperPosition",y5=k.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:n=il,...s}=e,o=z4(r);return i.jsx(q9e,{...o,...s,ref:t,align:a,collisionPadding:n,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});y5.displayName=l8e;var[c8e,XA]=kp(m0,{}),b5="SelectViewport",nG=k.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...n}=e,s=$f(b5,r),o=XA(b5,r),l=Ya(t,s.onViewportChange),c=k.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(F4.Slot,{scope:r,children:i.jsx(Ar.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Nr(n.onScroll,d=>{const f=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&u){const h=Math.abs(c.current-f.scrollTop);if(h>0){const g=window.innerHeight-il*2,p=parseFloat(u.style.minHeight),x=parseFloat(u.style.height),v=Math.max(p,x);if(v<g){const b=v+h,y=Math.min(g,b),w=b-y;u.style.height=y+"px",u.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,u.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});nG.displayName=b5;var sG="SelectGroup",[d8e,f8e]=kp(sG),u8e=k.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=uf();return i.jsx(d8e,{scope:r,id:n,children:i.jsx(Ar.div,{role:"group","aria-labelledby":n,...a,ref:t})})});u8e.displayName=sG;var iG="SelectLabel",oG=k.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=f8e(iG,r);return i.jsx(Ar.div,{id:n.id,...a,ref:t})});oG.displayName=iG;var b2="SelectItem",[h8e,lG]=kp(b2),cG=k.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:n=!1,textValue:s,...o}=e,l=zf(b2,r),c=$f(b2,r),d=l.value===a,[f,u]=k.useState(s??""),[m,h]=k.useState(!1),g=Ya(t,b=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,b,a,n)}),p=uf(),x=k.useRef("touch"),v=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(h8e,{scope:r,value:a,disabled:n,textId:p,isSelected:d,onItemTextChange:k.useCallback(b=>{u(y=>y||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(F4.ItemSlot,{scope:r,value:a,disabled:n,textValue:f,children:i.jsx(Ar.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:g,onFocus:Nr(o.onFocus,()=>h(!0)),onBlur:Nr(o.onBlur,()=>h(!1)),onClick:Nr(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:Nr(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:Nr(o.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:Nr(o.onPointerMove,b=>{var y;x.current=b.pointerType,n?(y=c.onItemLeave)==null||y.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nr(o.onPointerLeave,b=>{var y;b.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:Nr(o.onKeyDown,b=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(X9e.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});cG.displayName=b2;var _g="SelectItemText",dG=k.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:n,...s}=e,o=zf(_g,r),l=$f(_g,r),c=lG(_g,r),d=r8e(_g,r),[f,u]=k.useState(null),m=Ya(t,v=>u(v),c.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,c.value,c.disabled)}),h=f==null?void 0:f.textContent,g=k.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=d;return ti(()=>(p(g),()=>x(g)),[p,x,g]),i.jsxs(i.Fragment,{children:[i.jsx(Ar.span,{id:c.textId,...s,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gl.createPortal(s.children,o.valueNode):null]})});dG.displayName=_g;var fG="SelectItemIndicator",uG=k.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return lG(fG,r).isSelected?i.jsx(Ar.span,{"aria-hidden":!0,...a,ref:t}):null});uG.displayName=fG;var w5="SelectScrollUpButton",hG=k.forwardRef((e,t)=>{const r=$f(w5,e.__scopeSelect),a=XA(w5,e.__scopeSelect),[n,s]=k.useState(!1),o=Ya(t,a.onScrollButtonChange);return ti(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?i.jsx(pG,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});hG.displayName=w5;var k5="SelectScrollDownButton",mG=k.forwardRef((e,t)=>{const r=$f(k5,e.__scopeSelect),a=XA(k5,e.__scopeSelect),[n,s]=k.useState(!1),o=Ya(t,a.onScrollButtonChange);return ti(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?i.jsx(pG,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mG.displayName=k5;var pG=k.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...n}=e,s=$f("SelectScrollButton",r),o=k.useRef(null),l=B4(r),c=k.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return k.useEffect(()=>()=>c(),[c]),ti(()=>{var f;const d=l().find(u=>u.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ar.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:Nr(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Nr(n.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Nr(n.onPointerLeave,()=>{c()})})}),m8e="SelectSeparator",gG=k.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return i.jsx(Ar.div,{"aria-hidden":!0,...a,ref:t})});gG.displayName=m8e;var j5="SelectArrow",p8e=k.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=z4(r),s=zf(j5,r),o=$f(j5,r);return s.open&&o.position==="popper"?i.jsx(Y9e,{...n,...a,ref:t}):null});p8e.displayName=j5;var g8e="SelectBubbleInput",xG=k.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const n=k.useRef(null),s=Ya(a,n),o=VV(t);return k.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const u=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(u)}},[o,t]),i.jsx(Ar.select,{...r,style:{...GV,...r.style},ref:s,defaultValue:t})});xG.displayName=g8e;function vG(e){return e===""||e===void 0}function yG(e){const t=Af(e),r=k.useRef(""),a=k.useRef(0),n=k.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=k.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,n,s]}function bG(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=x8e(e,Math.max(s,0));n.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function x8e(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var v8e=qV,wG=JV,y8e=QV,b8e=XV,w8e=ZV,kG=eG,k8e=nG,jG=oG,NG=cG,j8e=dG,N8e=uG,SG=hG,CG=mG,AG=gG;const ui=v8e,hi=y8e,Vs=k.forwardRef(({className:e,children:t,...r},a)=>i.jsxs(wG,{ref:a,className:Hr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(b8e,{asChild:!0,children:i.jsx(b0,{className:"h-4 w-4 opacity-50"})})]}));Vs.displayName=wG.displayName;const EG=k.forwardRef(({className:e,...t},r)=>i.jsx(SG,{ref:r,className:Hr("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(O7,{className:"h-4 w-4"})}));EG.displayName=SG.displayName;const _G=k.forwardRef(({className:e,...t},r)=>i.jsx(CG,{ref:r,className:Hr("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(b0,{className:"h-4 w-4"})}));_G.displayName=CG.displayName;const Gs=k.forwardRef(({className:e,children:t,position:r="popper",...a},n)=>i.jsx(w8e,{children:i.jsxs(kG,{ref:n,className:Hr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[i.jsx(EG,{}),i.jsx(k8e,{className:Hr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(_G,{})]})}));Gs.displayName=kG.displayName;const S8e=k.forwardRef(({className:e,...t},r)=>i.jsx(jG,{ref:r,className:Hr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));S8e.displayName=jG.displayName;const qr=k.forwardRef(({className:e,children:t,...r},a)=>i.jsxs(NG,{ref:a,className:Hr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(N8e,{children:i.jsx(sd,{className:"h-4 w-4"})})}),i.jsx(j8e,{children:t})]}));qr.displayName=NG.displayName;const C8e=k.forwardRef(({className:e,...t},r)=>i.jsx(AG,{ref:r,className:Hr("-mx-1 my-1 h-px bg-muted",e),...t}));C8e.displayName=AG.displayName;const A8e=IA("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ro({className:e,variant:t,...r}){return i.jsx("div",{className:Hr(A8e({variant:t}),e),...r})}function ZA(){return{toast:({title:t,description:r,variant:a})=>{const n=t&&r?`${t}: ${r}`:t||r||"";a==="destructive"?wn.error(n):wn.success(n)}}}const $4=k.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Hr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));$4.displayName="Textarea";const E8e=()=>{const[e,t]=k.useState(""),[r,a]=k.useState(!1),[n,s]=k.useState(null),[o,l]=k.useState({userId:"",percentualComissaoPadrao:10,tipoComissao:"percentual",dataInicio:new Date().toISOString().split("T")[0]}),{toast:c}=ZA(),d=a6(),{data:f=[],isLoading:u,isError:m}=cc({queryKey:["vendedores"],queryFn:LH}),{data:h=[]}=cc({queryKey:["users"],queryFn:_w.getUsers}),g=Nh({mutationFn:MH,onSuccess:()=>{d.invalidateQueries({queryKey:["vendedores"]}),c({title:"Vendedor criado",description:"Vendedor cadastrado com sucesso!"}),b()},onError:E=>{var A,C;c({title:"Erro",description:((C=(A=E.response)==null?void 0:A.data)==null?void 0:C.message)||"Erro ao criar vendedor",variant:"destructive"})}}),p=Nh({mutationFn:({id:E,data:A})=>TH(E,A),onSuccess:()=>{d.invalidateQueries({queryKey:["vendedores"]}),c({title:"Vendedor atualizado",description:"Dados do vendedor atualizados com sucesso!"}),b()},onError:E=>{var A,C;c({title:"Erro",description:((C=(A=E.response)==null?void 0:A.data)==null?void 0:C.message)||"Erro ao atualizar vendedor",variant:"destructive"})}}),x=Nh({mutationFn:IH,onSuccess:()=>{d.invalidateQueries({queryKey:["vendedores"]}),c({title:"Vendedor desativado",description:"Vendedor desativado com sucesso!"})},onError:E=>{var A,C;c({title:"Erro",description:((C=(A=E.response)==null?void 0:A.data)==null?void 0:C.message)||"Erro ao desativar vendedor",variant:"destructive"})}}),v=E=>{E?(s(E),l({userId:E.userId,percentualComissaoPadrao:E.percentualComissaoPadrao,tipoComissao:E.tipoComissao,valorFixoComissao:E.valorFixoComissao,metaMensal:E.metaMensal,dataInicio:E.dataInicio.split("T")[0],observacoes:E.observacoes})):(s(null),l({userId:"",percentualComissaoPadrao:10,tipoComissao:"percentual",dataInicio:new Date().toISOString().split("T")[0]})),a(!0)},b=()=>{a(!1),s(null)},y=async E=>{E.preventDefault(),n?p.mutate({id:n.id,data:o}):g.mutate(o)},w=async E=>{window.confirm("Tem certeza que deseja desativar este vendedor?")&&x.mutate(E)},j=f.filter(E=>{var C,S,T,_;const A=e.toLowerCase();return E.codigoVendedor.toLowerCase().includes(A)||((S=(C=E.user)==null?void 0:C.name)==null?void 0:S.toLowerCase().includes(A))||((_=(T=E.user)==null?void 0:T.email)==null?void 0:_.toLowerCase().includes(A))});return m?i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-red-600 dark:text-red-400 text-lg font-semibold",children:"⚠️ Erro ao carregar dados"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Não foi possível carregar as informações. Tente novamente mais tarde."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Recarregar Página"})]})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs(la,{children:[i.jsx(va,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(_a,{children:"Vendedores Cadastrados"}),i.jsxs(Wr,{onClick:()=>v(),children:[i.jsx(ja,{className:"w-4 h-4 mr-2"}),"Novo Vendedor"]})]})}),i.jsxs(ca,{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ml,{className:"w-4 h-4 text-muted-foreground"}),i.jsx(nc,{placeholder:"Buscar por código, nome ou email...",value:e,onChange:E=>t(E.target.value),className:"max-w-sm"})]}),i.jsx("div",{className:"rounded-md border",children:i.jsxs(cm,{children:[i.jsx(dm,{children:i.jsxs(Zn,{children:[i.jsx(ur,{children:"Vendedor"}),i.jsx(ur,{children:"Email"}),i.jsx(ur,{children:"Tipo Comissão"}),i.jsx(ur,{children:"% Padrão"}),i.jsx(ur,{children:"Meta Mensal"}),i.jsx(ur,{children:"Status"}),i.jsx(ur,{className:"text-right",children:"Ações"})]})}),i.jsx(fm,{children:u?i.jsx(Zn,{children:i.jsx(Xt,{colSpan:7,className:"text-center",children:"Carregando..."})}):j.length===0?i.jsx(Zn,{children:i.jsx(Xt,{colSpan:7,className:"text-center",children:"Nenhum vendedor encontrado"})}):j.map(E=>{var A,C;return i.jsxs(Zn,{children:[i.jsx(Xt,{children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:((A=E.user)==null?void 0:A.name)||"-"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:E.codigoVendedor})]})}),i.jsx(Xt,{children:((C=E.user)==null?void 0:C.email)||"-"}),i.jsx(Xt,{children:i.jsx(Ro,{variant:"outline",children:E.tipoComissao})}),i.jsxs(Xt,{children:[E.percentualComissaoPadrao,"%"]}),i.jsx(Xt,{children:E.metaMensal?`R$ ${E.metaMensal.toLocaleString("pt-BR")}`:"-"}),i.jsx(Xt,{children:i.jsx(Ro,{variant:E.ativo?"default":"secondary",children:E.ativo?"Ativo":"Inativo"})}),i.jsx(Xt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Wr,{variant:"ghost",size:"icon",onClick:()=>v(E),children:i.jsx(mQ,{className:"w-4 h-4"})}),i.jsx(Wr,{variant:"ghost",size:"icon",onClick:()=>w(E.id),disabled:!E.ativo,children:i.jsx(An,{className:"w-4 h-4"})})]})})]},E.id)})})]})})]})]}),i.jsx(um,{open:r,onOpenChange:a,children:i.jsxs(o0,{className:"max-w-2xl",children:[i.jsxs(l0,{children:[i.jsx(d0,{children:n?"Editar Vendedor":"Novo Vendedor"}),i.jsx(f0,{children:"Preencha os dados do vendedor e configure o comissionamento"})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{htmlFor:"userId",children:"Usuário *"}),i.jsxs(ui,{value:o.userId,onValueChange:E=>l({...o,userId:E}),disabled:!!n,children:[i.jsx(Vs,{children:i.jsx(hi,{placeholder:"Selecione um usuário"})}),i.jsx(Gs,{children:h.map(E=>i.jsxs(qr,{value:E.id,children:[E.name," (",E.email,")"]},E.id))})]}),n&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Usuário não pode ser alterado após criação"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{htmlFor:"dataInicio",children:"Data Início *"}),i.jsx(nc,{id:"dataInicio",type:"date",value:o.dataInicio,onChange:E=>l({...o,dataInicio:E.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{htmlFor:"tipoComissao",children:"Tipo de Comissão *"}),i.jsxs(ui,{value:o.tipoComissao,onValueChange:E=>l({...o,tipoComissao:E}),children:[i.jsx(Vs,{children:i.jsx(hi,{})}),i.jsxs(Gs,{children:[i.jsx(qr,{value:"percentual",children:"Percentual"}),i.jsx(qr,{value:"fixo",children:"Fixo"}),i.jsx(qr,{value:"misto",children:"Misto"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{htmlFor:"percentualComissaoPadrao",children:"% Comissão Padrão *"}),i.jsx(nc,{id:"percentualComissaoPadrao",type:"number",step:"0.01",min:"0",max:"100",value:o.percentualComissaoPadrao,onChange:E=>l({...o,percentualComissaoPadrao:parseFloat(E.target.value)}),required:!0})]}),(o.tipoComissao==="fixo"||o.tipoComissao==="misto")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{htmlFor:"valorFixoComissao",children:"Valor Fixo"}),i.jsx(nc,{id:"valorFixoComissao",type:"number",step:"0.01",min:"0",value:o.valorFixoComissao||"",onChange:E=>l({...o,valorFixoComissao:parseFloat(E.target.value)}),placeholder:"R$ 0,00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{htmlFor:"metaMensal",children:"Meta Mensal"}),i.jsx(nc,{id:"metaMensal",type:"number",step:"0.01",min:"0",value:o.metaMensal||"",onChange:E=>l({...o,metaMensal:parseFloat(E.target.value)}),placeholder:"R$ 0,00"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{htmlFor:"observacoes",children:"Observações"}),i.jsx($4,{id:"observacoes",value:o.observacoes||"",onChange:E=>l({...o,observacoes:E.target.value}),placeholder:"Informações adicionais sobre o vendedor...",rows:3})]}),i.jsxs(c0,{children:[i.jsx(Wr,{type:"button",variant:"outline",onClick:b,children:"Cancelar"}),i.jsx(Wr,{type:"submit",disabled:g.isPending||p.isPending,children:n?"Atualizar":"Criar"})]})]})]})})]})},_8e=()=>{var D,O,B;const[e,t]=k.useState(""),[r,a]=k.useState("all"),[n,s]=k.useState("all"),[o,l]=k.useState(null),[c,d]=k.useState(!1),[f,u]=k.useState(!1),[m,h]=k.useState(""),{toast:g}=ZA(),p=a6(),{data:x=[],isLoading:v,isError:b}=cc({queryKey:["vendas",r,n],queryFn:()=>DH({status:r!=="all"?r:void 0,vendedorId:n!=="all"?n:void 0})}),{data:y=[],isError:w}=cc({queryKey:["vendedores"],queryFn:()=>as(()=>Promise.resolve().then(()=>WH),void 0).then(U=>U.listVendedores())}),j=Nh({mutationFn:PH,onSuccess:()=>{p.invalidateQueries({queryKey:["vendas"]}),g({title:"Venda confirmada",description:"Venda confirmada e comissão gerada com sucesso!"}),d(!1)},onError:U=>{var q,K;g({title:"Erro",description:((K=(q=U.response)==null?void 0:q.data)==null?void 0:K.message)||"Erro ao confirmar venda",variant:"destructive"})}}),E=Nh({mutationFn:({id:U,motivo:q})=>OH(U,q),onSuccess:()=>{p.invalidateQueries({queryKey:["vendas"]}),g({title:"Venda cancelada",description:"Venda cancelada com sucesso!"}),u(!1),d(!1),h("")},onError:U=>{var q,K;g({title:"Erro",description:((K=(q=U.response)==null?void 0:q.data)==null?void 0:K.message)||"Erro ao cancelar venda",variant:"destructive"})}}),A=U=>{window.confirm(`Confirmar venda ${U.numeroVenda}? Isso irá gerar a comissão automaticamente.`)&&j.mutate(U.id)},C=U=>{l(U),u(!0)},S=()=>{if(!o||!m.trim()){g({title:"Erro",description:"Informe o motivo do cancelamento",variant:"destructive"});return}E.mutate({id:o.id,motivo:m})},T=U=>{l(U),d(!0)},_=x.filter(U=>{var K,G,ve,fe;const q=e.toLowerCase();return U.numeroVenda.toLowerCase().includes(q)||((G=(K=U.vendedor)==null?void 0:K.nome)==null?void 0:G.toLowerCase().includes(q))||((fe=(ve=U.lead)==null?void 0:ve.name)==null?void 0:fe.toLowerCase().includes(q))}),M=U=>{const q={pendente:"secondary",confirmada:"default",cancelada:"destructive"};return i.jsx(Ro,{variant:q[U]||"outline",children:U.toUpperCase()})};return b||w?i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-red-600 dark:text-red-400 text-lg font-semibold",children:"⚠️ Erro ao carregar dados"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Não foi possível carregar as informações. Tente novamente mais tarde."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Recarregar Página"})]})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs(la,{children:[i.jsx(va,{children:i.jsx(_a,{children:"Vendas Registradas"})}),i.jsxs(ca,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ml,{className:"w-4 h-4 text-muted-foreground"}),i.jsx(nc,{placeholder:"Buscar por número, vendedor, cliente...",value:e,onChange:U=>t(U.target.value)})]}),i.jsxs(ui,{value:r,onValueChange:a,children:[i.jsx(Vs,{children:i.jsx(hi,{placeholder:"Status"})}),i.jsxs(Gs,{children:[i.jsx(qr,{value:"all",children:"Todos os status"}),i.jsx(qr,{value:"pendente",children:"Pendente"}),i.jsx(qr,{value:"confirmada",children:"Confirmada"}),i.jsx(qr,{value:"cancelada",children:"Cancelada"})]})]}),i.jsxs(ui,{value:n,onValueChange:s,children:[i.jsx(Vs,{children:i.jsx(hi,{placeholder:"Vendedor"})}),i.jsxs(Gs,{children:[i.jsx(qr,{value:"all",children:"Todos os vendedores"}),y.map(U=>{var q;return i.jsx(qr,{value:U.id,children:((q=U.user)==null?void 0:q.name)||U.codigoVendedor},U.id)})]})]})]}),i.jsx("div",{className:"rounded-md border",children:i.jsxs(cm,{children:[i.jsx(dm,{children:i.jsxs(Zn,{children:[i.jsx(ur,{children:"Número"}),i.jsx(ur,{children:"Data"}),i.jsx(ur,{children:"Vendedor"}),i.jsx(ur,{children:"Cliente"}),i.jsx(ur,{children:"Valor Bruto"}),i.jsx(ur,{children:"Desconto"}),i.jsx(ur,{children:"Valor Líquido"}),i.jsx(ur,{children:"Comissão"}),i.jsx(ur,{children:"Status"}),i.jsx(ur,{className:"text-right",children:"Ações"})]})}),i.jsx(fm,{children:v?i.jsx(Zn,{children:i.jsx(Xt,{colSpan:10,className:"text-center",children:"Carregando..."})}):_.length===0?i.jsx(Zn,{children:i.jsx(Xt,{colSpan:10,className:"text-center",children:"Nenhuma venda encontrada"})}):_.map(U=>{var q,K;return i.jsxs(Zn,{children:[i.jsx(Xt,{className:"font-medium",children:U.numeroVenda}),i.jsx(Xt,{children:new Date(U.dataVenda).toLocaleDateString("pt-BR")}),i.jsx(Xt,{children:((q=U.vendedor)==null?void 0:q.nome)||"-"}),i.jsx(Xt,{children:((K=U.lead)==null?void 0:K.name)||"-"}),i.jsxs(Xt,{children:["R$ ",U.valorBruto.toLocaleString("pt-BR")]}),i.jsxs(Xt,{children:["R$ ",U.desconto.toLocaleString("pt-BR")]}),i.jsxs(Xt,{className:"font-semibold",children:["R$ ",U.valorLiquido.toLocaleString("pt-BR")]}),i.jsxs(Xt,{children:["R$ ",(U.valorComissao||0).toLocaleString("pt-BR")]}),i.jsx(Xt,{children:M(U.status)}),i.jsx(Xt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Wr,{variant:"ghost",size:"icon",onClick:()=>T(U),children:i.jsx(Wm,{className:"w-4 h-4"})}),U.status==="pendente"&&i.jsxs(i.Fragment,{children:[i.jsx(Wr,{variant:"ghost",size:"icon",onClick:()=>A(U),children:i.jsx(ba,{className:"w-4 h-4 text-green-600"})}),i.jsx(Wr,{variant:"ghost",size:"icon",onClick:()=>C(U),children:i.jsx(xc,{className:"w-4 h-4 text-red-600"})})]})]})})]},U.id)})})]})})]})]}),i.jsx(um,{open:c,onOpenChange:d,children:i.jsxs(o0,{className:"max-w-2xl",children:[i.jsxs(l0,{children:[i.jsx(d0,{children:"Detalhes da Venda"}),i.jsx(f0,{children:"Informações completas sobre a venda"})]}),o&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Número"}),i.jsx("p",{className:"font-medium",children:o.numeroVenda})]}),i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Status"}),i.jsx("p",{children:M(o.status)})]}),i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Data da Venda"}),i.jsx("p",{children:new Date(o.dataVenda).toLocaleString("pt-BR")})]}),o.dataConfirmacao&&i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Data de Confirmação"}),i.jsx("p",{children:new Date(o.dataConfirmacao).toLocaleString("pt-BR")})]}),i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Vendedor"}),i.jsx("p",{children:((D=o.vendedor)==null?void 0:D.nome)||"-"})]}),i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Cliente"}),i.jsx("p",{children:((O=o.lead)==null?void 0:O.name)||"-"})]}),i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Procedimento"}),i.jsx("p",{children:((B=o.procedure)==null?void 0:B.name)||"-"})]}),i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Forma de Pagamento"}),i.jsx("p",{children:o.formaPagamento||"-"})]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Valores"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Valor Bruto"}),i.jsxs("p",{className:"text-lg",children:["R$ ",o.valorBruto.toLocaleString("pt-BR")]})]}),i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Desconto"}),i.jsxs("p",{className:"text-lg",children:["R$ ",o.desconto.toLocaleString("pt-BR")]})]}),i.jsxs("div",{children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Valor Líquido"}),i.jsxs("p",{className:"text-lg font-semibold",children:["R$ ",o.valorLiquido.toLocaleString("pt-BR")]})]}),i.jsxs("div",{children:[i.jsxs(Rr,{className:"text-muted-foreground",children:["Comissão (",o.percentualComissao,"%)"]}),i.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["R$"," ",(o.valorComissao||0).toLocaleString("pt-BR")]})]})]})]}),o.observacoes&&i.jsxs("div",{className:"border-t pt-4",children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Observações"}),i.jsx("p",{className:"mt-1",children:o.observacoes})]}),o.status==="cancelada"&&o.motivoCancelamento&&i.jsxs("div",{className:"border-t pt-4",children:[i.jsx(Rr,{className:"text-muted-foreground",children:"Motivo do Cancelamento"}),i.jsx("p",{className:"mt-1 text-red-600",children:o.motivoCancelamento})]})]}),i.jsxs(c0,{children:[i.jsx(Wr,{variant:"outline",onClick:()=>d(!1),children:"Fechar"}),(o==null?void 0:o.status)==="pendente"&&i.jsxs(i.Fragment,{children:[i.jsx(Wr,{variant:"destructive",onClick:()=>{d(!1),C(o)},children:"Cancelar Venda"}),i.jsx(Wr,{onClick:()=>A(o),children:"Confirmar Venda"})]})]})]})}),i.jsx(um,{open:f,onOpenChange:u,children:i.jsxs(o0,{children:[i.jsxs(l0,{children:[i.jsx(d0,{children:"Cancelar Venda"}),i.jsxs(f0,{children:["Informe o motivo do cancelamento da venda"," ",o==null?void 0:o.numeroVenda]})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{htmlFor:"motivo",children:"Motivo do Cancelamento *"}),i.jsx($4,{id:"motivo",value:m,onChange:U=>h(U.target.value),placeholder:"Descreva o motivo do cancelamento...",rows:4,required:!0})]})}),i.jsxs(c0,{children:[i.jsx(Wr,{variant:"outline",onClick:()=>{u(!1),h("")},children:"Voltar"}),i.jsx(Wr,{variant:"destructive",onClick:S,disabled:E.isPending||!m.trim(),children:"Confirmar Cancelamento"})]})]})})]})},M8e=()=>{var te;const[e,t]=k.useState(""),[r,a]=k.useState("all"),[n,s]=k.useState("all"),[o,l]=k.useState(void 0),[c,d]=k.useState(new Date().getFullYear()),[f,u]=k.useState(!1),[m,h]=k.useState(null),[g,p]=k.useState(""),[x,v]=k.useState(!1),[b,y]=k.useState(""),[w,j]=k.useState(new Date().getMonth()+1),[E,A]=k.useState(new Date().getFullYear()),{toast:C}=ZA(),S=a6(),{data:T=[],isLoading:_,isError:M}=cc({queryKey:["comissoes",r,n,o,c],queryFn:()=>FH({status:r!=="all"?r:void 0,vendedorId:n!=="all"?n:void 0,mes:o,ano:c})}),{data:D=[],isError:O}=cc({queryKey:["vendedores"],queryFn:()=>as(()=>Promise.resolve().then(()=>WH),void 0).then(W=>W.listVendedores())}),{data:B,isLoading:U}=cc({queryKey:["relatorio-comissoes",b,w,E],queryFn:()=>zH(b,w,E),enabled:x&&!!b&&!!w&&!!E}),q=Nh({mutationFn:({id:W,transactionId:Y})=>BH(W,Y),onSuccess:()=>{S.invalidateQueries({queryKey:["comissoes"]}),C({title:"Comissão paga",description:"Comissão marcada como paga com sucesso!"}),u(!1),p("")},onError:W=>{var Y,Q;C({title:"Erro",description:((Q=(Y=W.response)==null?void 0:Y.data)==null?void 0:Q.message)||"Erro ao pagar comissão",variant:"destructive"})}}),K=W=>{h(W),u(!0)},G=()=>{m&&q.mutate({id:m.id,transactionId:g||void 0})},ve=()=>{v(!0)},fe=()=>{if(!b){C({title:"Erro",description:"Selecione um vendedor",variant:"destructive"});return}S.invalidateQueries({queryKey:["relatorio-comissoes",b,w,E]})},I=T.filter(W=>{var Q,ne,pe,F;const Y=e.toLowerCase();return((ne=(Q=W.vendedor)==null?void 0:Q.nome)==null?void 0:ne.toLowerCase().includes(Y))||((F=(pe=W.venda)==null?void 0:pe.numeroVenda)==null?void 0:F.toLowerCase().includes(Y))}),z=W=>{const Y={pendente:"secondary",paga:"default",cancelada:"destructive"};return i.jsx(Ro,{variant:Y[W]||"outline",children:W.toUpperCase()})},H=[{value:1,label:"Janeiro"},{value:2,label:"Fevereiro"},{value:3,label:"Março"},{value:4,label:"Abril"},{value:5,label:"Maio"},{value:6,label:"Junho"},{value:7,label:"Julho"},{value:8,label:"Agosto"},{value:9,label:"Setembro"},{value:10,label:"Outubro"},{value:11,label:"Novembro"},{value:12,label:"Dezembro"}],J=Array.from({length:5},(W,Y)=>new Date().getFullYear()-Y);return M||O?i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-red-600 dark:text-red-400 text-lg font-semibold",children:"⚠️ Erro ao carregar dados"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Não foi possível carregar as informações. Tente novamente mais tarde."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Recarregar Página"})]})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs(la,{children:[i.jsx(va,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(_a,{children:"Comissões"}),i.jsxs(Wr,{onClick:ve,children:[i.jsx(qa,{className:"w-4 h-4 mr-2"}),"Relatório Mensal"]})]})}),i.jsxs(ca,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ml,{className:"w-4 h-4 text-muted-foreground"}),i.jsx(nc,{placeholder:"Buscar...",value:e,onChange:W=>t(W.target.value)})]}),i.jsxs(ui,{value:r,onValueChange:a,children:[i.jsx(Vs,{children:i.jsx(hi,{placeholder:"Status"})}),i.jsxs(Gs,{children:[i.jsx(qr,{value:"all",children:"Todos os status"}),i.jsx(qr,{value:"pendente",children:"Pendente"}),i.jsx(qr,{value:"paga",children:"Paga"}),i.jsx(qr,{value:"cancelada",children:"Cancelada"})]})]}),i.jsxs(ui,{value:n,onValueChange:s,children:[i.jsx(Vs,{children:i.jsx(hi,{placeholder:"Vendedor"})}),i.jsxs(Gs,{children:[i.jsx(qr,{value:"all",children:"Todos os vendedores"}),D.map(W=>{var Y;return i.jsx(qr,{value:W.id,children:((Y=W.user)==null?void 0:Y.name)||W.codigoVendedor},W.id)})]})]}),i.jsxs(ui,{value:(o==null?void 0:o.toString())||"all",onValueChange:W=>l(W==="all"?void 0:parseInt(W)),children:[i.jsx(Vs,{children:i.jsx(hi,{placeholder:"Mês"})}),i.jsxs(Gs,{children:[i.jsx(qr,{value:"all",children:"Todos os meses"}),H.map(W=>i.jsx(qr,{value:W.value.toString(),children:W.label},W.value))]})]}),i.jsxs(ui,{value:c.toString(),onValueChange:W=>d(parseInt(W)),children:[i.jsx(Vs,{children:i.jsx(hi,{placeholder:"Ano"})}),i.jsx(Gs,{children:J.map(W=>i.jsx(qr,{value:W.toString(),children:W},W))})]})]}),i.jsx("div",{className:"rounded-md border",children:i.jsxs(cm,{children:[i.jsx(dm,{children:i.jsxs(Zn,{children:[i.jsx(ur,{children:"Período"}),i.jsx(ur,{children:"Vendedor"}),i.jsx(ur,{children:"Venda"}),i.jsx(ur,{children:"Valor Base"}),i.jsx(ur,{children:"% Aplicado"}),i.jsx(ur,{children:"Valor Comissão"}),i.jsx(ur,{children:"Status"}),i.jsx(ur,{children:"Data Pagamento"}),i.jsx(ur,{className:"text-right",children:"Ações"})]})}),i.jsx(fm,{children:_?i.jsx(Zn,{children:i.jsx(Xt,{colSpan:9,className:"text-center",children:"Carregando..."})}):I.length===0?i.jsx(Zn,{children:i.jsx(Xt,{colSpan:9,className:"text-center",children:"Nenhuma comissão encontrada"})}):I.map(W=>{var Y,Q;return i.jsxs(Zn,{children:[i.jsx(Xt,{className:"font-medium",children:W.periodoCompetencia||`${W.mesCompetencia}/${W.anoCompetencia}`}),i.jsx(Xt,{children:((Y=W.vendedor)==null?void 0:Y.nome)||"-"}),i.jsx(Xt,{children:((Q=W.venda)==null?void 0:Q.numeroVenda)||"-"}),i.jsxs(Xt,{children:["R$ ",W.valorBaseCalculo.toLocaleString("pt-BR")]}),i.jsxs(Xt,{children:[W.percentualAplicado,"%"]}),i.jsxs(Xt,{className:"font-semibold text-green-600",children:["R$ ",W.valorComissao.toLocaleString("pt-BR")]}),i.jsx(Xt,{children:z(W.status)}),i.jsx(Xt,{children:W.dataPagamento?new Date(W.dataPagamento).toLocaleDateString("pt-BR"):"-"}),i.jsx(Xt,{className:"text-right",children:W.status==="pendente"&&i.jsx(Wr,{variant:"ghost",size:"icon",onClick:()=>K(W),children:i.jsx(sd,{className:"w-4 h-4 text-green-600"})})})]},W.id)})})]})})]})]}),i.jsx(um,{open:f,onOpenChange:u,children:i.jsxs(o0,{children:[i.jsxs(l0,{children:[i.jsx(d0,{children:"Marcar Comissão como Paga"}),i.jsx(f0,{children:"Registre o pagamento da comissão"})]}),m&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Vendedor:"}),i.jsx("span",{className:"font-medium",children:(te=m.vendedor)==null?void 0:te.nome})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Período:"}),i.jsx("span",{className:"font-medium",children:m.periodoCompetencia})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Valor:"}),i.jsxs("span",{className:"font-semibold text-lg text-green-600",children:["R$"," ",m.valorComissao.toLocaleString("pt-BR")]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{htmlFor:"transactionId",children:"ID da Transação Financeira (opcional)"}),i.jsx(nc,{id:"transactionId",value:g,onChange:W=>p(W.target.value),placeholder:"UUID da transação no módulo financeiro"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Vincule esta comissão a uma transação do módulo financeiro"})]})]}),i.jsxs(c0,{children:[i.jsx(Wr,{variant:"outline",onClick:()=>{u(!1),p("")},children:"Cancelar"}),i.jsxs(Wr,{onClick:G,disabled:q.isPending,children:[i.jsx(Ba,{className:"w-4 h-4 mr-2"}),"Confirmar Pagamento"]})]})]})}),i.jsx(um,{open:x,onOpenChange:v,children:i.jsxs(o0,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(l0,{children:[i.jsx(d0,{children:"Relatório Mensal de Comissões"}),i.jsx(f0,{children:"Visualize o relatório detalhado de comissões por vendedor e período"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{children:"Vendedor *"}),i.jsxs(ui,{value:b,onValueChange:y,children:[i.jsx(Vs,{children:i.jsx(hi,{placeholder:"Selecione o vendedor"})}),i.jsx(Gs,{children:D.map(W=>{var Y;return i.jsx(qr,{value:W.id,children:((Y=W.user)==null?void 0:Y.name)||W.codigoVendedor},W.id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{children:"Mês *"}),i.jsxs(ui,{value:w.toString(),onValueChange:W=>j(parseInt(W)),children:[i.jsx(Vs,{children:i.jsx(hi,{})}),i.jsx(Gs,{children:H.map(W=>i.jsx(qr,{value:W.value.toString(),children:W.label},W.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rr,{children:"Ano *"}),i.jsxs(ui,{value:E.toString(),onValueChange:W=>A(parseInt(W)),children:[i.jsx(Vs,{children:i.jsx(hi,{})}),i.jsx(Gs,{children:J.map(W=>i.jsx(qr,{value:W.toString(),children:W},W))})]})]})]}),i.jsx(Wr,{onClick:fe,className:"w-full",children:"Gerar Relatório"}),U?i.jsx("div",{className:"text-center py-8",children:"Carregando relatório..."}):B?i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:B.vendedor.nome}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Código: ",B.vendedor.codigoVendedor," | Período:"," ",B.periodo.descricao]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs(la,{children:[i.jsx(va,{className:"pb-2",children:i.jsx(_a,{className:"text-sm font-medium",children:"Total de Comissões"})}),i.jsx(ca,{children:i.jsx("p",{className:"text-2xl font-bold",children:B.resumo.totalComissoes})})]}),i.jsxs(la,{children:[i.jsx(va,{className:"pb-2",children:i.jsx(_a,{className:"text-sm font-medium",children:"Valor Total"})}),i.jsx(ca,{children:i.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",B.resumo.valorTotal.toLocaleString("pt-BR")]})})]}),i.jsxs(la,{children:[i.jsx(va,{className:"pb-2",children:i.jsx(_a,{className:"text-sm font-medium",children:"Valor Pendente"})}),i.jsx(ca,{children:i.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["R$"," ",B.resumo.valorPendente.toLocaleString("pt-BR")]})})]})]}),i.jsx("div",{className:"rounded-md border",children:i.jsxs(cm,{children:[i.jsx(dm,{children:i.jsxs(Zn,{children:[i.jsx(ur,{children:"Venda"}),i.jsx(ur,{children:"Valor Base"}),i.jsx(ur,{children:"%"}),i.jsx(ur,{children:"Comissão"}),i.jsx(ur,{children:"Status"})]})}),i.jsx(fm,{children:B.comissoes.map(W=>{var Y;return i.jsxs(Zn,{children:[i.jsx(Xt,{children:(Y=W.venda)==null?void 0:Y.numeroVenda}),i.jsxs(Xt,{children:["R$"," ",W.valorBaseCalculo.toLocaleString("pt-BR")]}),i.jsxs(Xt,{children:[W.percentualAplicado,"%"]}),i.jsxs(Xt,{className:"font-semibold",children:["R$ ",W.valorComissao.toLocaleString("pt-BR")]}),i.jsx(Xt,{children:z(W.status)})]},W.id)})})]})})]}):null]}),i.jsx(c0,{children:i.jsx(Wr,{variant:"outline",onClick:()=>v(!1),children:"Fechar"})})]})})]})},L8e=()=>{const e=new Date().getMonth()+1,t=new Date().getFullYear(),[r,a]=k.useState(e),[n,s]=k.useState(t),{data:o,isError:l}=cc({queryKey:["vendas-stats"],queryFn:()=>RH()}),{data:c,isError:d}=cc({queryKey:["comissoes-stats"],queryFn:()=>$H()}),{data:f=[],isLoading:u,isError:m}=cc({queryKey:["ranking",r,n],queryFn:()=>UH(r,n)}),h=[{value:void 0,label:"Todos os períodos"},{value:1,label:"Janeiro"},{value:2,label:"Fevereiro"},{value:3,label:"Março"},{value:4,label:"Abril"},{value:5,label:"Maio"},{value:6,label:"Junho"},{value:7,label:"Julho"},{value:8,label:"Agosto"},{value:9,label:"Setembro"},{value:10,label:"Outubro"},{value:11,label:"Novembro"},{value:12,label:"Dezembro"}],g=[{value:void 0,label:"Todos os anos"},...Array.from({length:5},(v,b)=>({value:t-b,label:(t-b).toString()}))],p=v=>{const b=typeof v=="string"?parseFloat(v):v;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b)},x=v=>{switch(v){case 1:return i.jsx(tj,{className:"w-5 h-5 text-yellow-500"});case 2:return i.jsx(tj,{className:"w-5 h-5 text-gray-400"});case 3:return i.jsx(tj,{className:"w-5 h-5 text-orange-600"});default:return null}};return l||d||m?i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-red-600 dark:text-red-400 text-lg font-semibold",children:"⚠️ Erro ao carregar dados do dashboard"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Não foi possível carregar as estatísticas. Tente novamente mais tarde."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Recarregar Página"})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Estatísticas de Vendas"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Total de Vendas"}),i.jsx(Ew,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.total_vendas)||"0"}),i.jsxs("div",{className:"flex gap-2 mt-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ba,{className:"w-3 h-3 text-green-600"}),i.jsxs("span",{children:[(o==null?void 0:o.vendas_confirmadas)||"0"," confirmadas"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ka,{className:"w-3 h-3 text-orange-600"}),i.jsxs("span",{children:[(o==null?void 0:o.vendas_pendentes)||"0"," pendentes"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(xc,{className:"w-3 h-3 text-red-600"}),i.jsxs("span",{children:[(o==null?void 0:o.vendas_canceladas)||"0"," canceladas"]})]})]})]})]}),i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Valor Total"}),i.jsx(Ba,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold",children:p((o==null?void 0:o.valor_total)||"0")}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Todas as vendas confirmadas"})]})]}),i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Ticket Médio"}),i.jsx(Do,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold",children:p((o==null?void 0:o.ticket_medio)||"0")}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Valor médio por venda"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Estatísticas de Comissões"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Total Comissões"}),i.jsx(Ls,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.total_comissoes)||"0"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Todas as comissões geradas"})]})]}),i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Valor Total"}),i.jsx(Ba,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:p((c==null?void 0:c.valor_total)||"0")}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Total em comissões"})]})]}),i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Comissões Pagas"}),i.jsx(ba,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold",children:p((c==null?void 0:c.valor_pago)||"0")}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[(c==null?void 0:c.comissoes_pagas)||"0"," comissões pagas"]})]})]}),i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Comissões Pendentes"}),i.jsx(ka,{className:"h-4 w-4 text-orange-600"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:p((c==null?void 0:c.valor_pendente)||"0")}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[(c==null?void 0:c.comissoes_pendentes)||"0"," comissões pendentes"]})]})]})]})]}),i.jsx("div",{children:i.jsxs(la,{children:[i.jsx(va,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(_a,{children:"Ranking de Vendedores"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ui,{value:(r==null?void 0:r.toString())||"all",onValueChange:v=>a(v==="all"?void 0:parseInt(v)),children:[i.jsx(Vs,{className:"w-[180px]",children:i.jsx(hi,{})}),i.jsx(Gs,{children:h.map(v=>{var b;return i.jsx(qr,{value:((b=v.value)==null?void 0:b.toString())||"all",children:v.label},v.value||"all")})})]}),i.jsxs(ui,{value:(n==null?void 0:n.toString())||"all",onValueChange:v=>s(v==="all"?void 0:parseInt(v)),children:[i.jsx(Vs,{className:"w-[150px]",children:i.jsx(hi,{})}),i.jsx(Gs,{children:g.map(v=>{var b;return i.jsx(qr,{value:((b=v.value)==null?void 0:b.toString())||"all",children:v.label},v.value||"all")})})]})]})]})}),i.jsx(ca,{children:i.jsx("div",{className:"rounded-md border",children:i.jsxs(cm,{children:[i.jsx(dm,{children:i.jsxs(Zn,{children:[i.jsx(ur,{className:"w-[80px]",children:"Posição"}),i.jsx(ur,{children:"Código"}),i.jsx(ur,{children:"Vendedor"}),i.jsx(ur,{children:"Qtd Comissões"}),i.jsx(ur,{children:"Valor Pago"}),i.jsx(ur,{children:"Valor Pendente"}),i.jsx(ur,{children:"Valor Total"})]})}),i.jsx(fm,{children:u?i.jsx(Zn,{children:i.jsx(Xt,{colSpan:7,className:"text-center",children:"Carregando ranking..."})}):f.length===0?i.jsx(Zn,{children:i.jsx(Xt,{colSpan:7,className:"text-center",children:"Nenhum vendedor no ranking para o período selecionado"})}):f.map((v,b)=>{const y=b+1;return i.jsxs(Zn,{className:y<=3?"bg-muted/50":void 0,children:[i.jsx(Xt,{className:"font-bold",children:i.jsxs("div",{className:"flex items-center gap-2",children:[x(y),i.jsxs("span",{children:[y,"º"]})]})}),i.jsx(Xt,{children:i.jsx(Ro,{variant:"outline",children:v.codigo_vendedor})}),i.jsx(Xt,{className:"font-medium",children:v.vendedor_nome}),i.jsx(Xt,{children:v.total_comissoes}),i.jsx(Xt,{className:"text-green-600",children:p(v.valor_pago)}),i.jsx(Xt,{className:"text-orange-600",children:p(v.valor_pendente)}),i.jsx(Xt,{className:"font-bold",children:p(v.valor_total)})]},v.id)})})]})})})]})})]})},jP=()=>{const e=$m(),t=vi(),[r,a]=k.useState(()=>{const n=e.pathname;return n==="/vendas"||n==="/vendas/"||n==="/vendas/dashboard"?"dashboard":n==="/vendas/vendedores"?"vendedores":n==="/vendas/vendas"?"vendas":n==="/vendas/comissoes"?"comissoes":n.includes("/vendedores")?"vendedores":n.includes("/comissoes")?"comissoes":"dashboard"});return k.useEffect(()=>{const n=e.pathname;n==="/vendas"||n==="/vendas/"||n==="/vendas/dashboard"?a("dashboard"):n==="/vendas/vendedores"||n.includes("/vendedores")?a("vendedores"):n==="/vendas/vendas"?a("vendas"):(n==="/vendas/comissoes"||n.includes("/comissoes"))&&a("comissoes")},[e]),i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Vendas e Comissões"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestão completa de vendas, vendedores e comissionamento"})]})}),i.jsxs(_H,{value:r,onValueChange:n=>t(`/vendas/${n==="dashboard"?"":n}`),className:"space-y-4",children:[i.jsxs(TA,{className:"grid w-full grid-cols-4",children:[i.jsxs(sf,{value:"dashboard",className:"flex items-center gap-2",children:[i.jsx(pQ,{className:"w-4 h-4"}),"Dashboard"]}),i.jsxs(sf,{value:"vendedores",className:"flex items-center gap-2",children:[i.jsx(Ls,{className:"w-4 h-4"}),"Vendedores"]}),i.jsxs(sf,{value:"vendas",className:"flex items-center gap-2",children:[i.jsx(Ew,{className:"w-4 h-4"}),"Vendas"]}),i.jsxs(sf,{value:"comissoes",className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"w-4 h-4"}),"Comissões"]})]}),i.jsx(of,{value:"dashboard",className:"space-y-4",children:i.jsx(L8e,{})}),i.jsx(of,{value:"vendedores",className:"space-y-4",children:i.jsx(E8e,{})}),i.jsx(of,{value:"vendas",className:"space-y-4",children:i.jsx(_8e,{})}),i.jsx(of,{value:"comissoes",className:"space-y-4",children:i.jsx(M8e,{})})]})]})};class T8e{async getAll(t){return(await me.get("/pacientes",{params:t})).data}async getById(t){return(await me.get(`/pacientes/${t}`)).data}async create(t){return(await me.post("/pacientes",t)).data}async update(t,r){return(await me.put(`/pacientes/${t}`,r)).data}async delete(t){await me.delete(`/pacientes/${t}`)}async getStats(){return(await me.get("/pacientes/stats")).data}async uploadImage(t,r,a){const n=new FormData;return n.append("file",r),n.append("type",a.type),a.category&&n.append("category",a.category),a.description&&n.append("description",a.description),a.procedureName&&n.append("procedureName",a.procedureName),(await me.post(`/pacientes/${t}/imagens`,n,{headers:{"Content-Type":"multipart/form-data"}})).data}async getImages(t,r){return(await me.get(`/pacientes/${t}/imagens`,{params:{type:r}})).data}async deleteImage(t,r){await me.delete(`/pacientes/${t}/imagens/${r}`)}async getMedicalRecords(t){return(await me.get(`/pacientes/${t}/prontuarios`)).data}async createMedicalRecord(t,r){return(await me.post(`/pacientes/${t}/prontuarios`,r)).data}async searchCep(t){const r=t.replace(/\D/g,""),n=await(await fetch(`https://viacep.com.br/ws/${r}/json/`)).json();if(n.erro)throw new Error("CEP não encontrado");return n}async getAppointments(t){return(await me.get(`/api/pacientes/${t}/agendamentos`)).data}async getTransactions(t){return(await me.get(`/api/pacientes/${t}/transacoes`)).data}async getConversations(t){return(await me.get(`/api/pacientes/${t}/conversas`)).data}}const gs=new T8e;function I8e(){const e=vi(),[t,r]=k.useState([]),[a,n]=k.useState({total:0,active:0,inactive:0}),[s,o]=k.useState(!0),[l,c]=k.useState(""),[d,f]=k.useState(""),[u,m]=k.useState(1),[h,g]=k.useState(0),[p,x]=k.useState(!1),v=50;k.useEffect(()=>{b(),y()},[l,d,u]);const b=async()=>{var C,S,T,_,M;try{o(!0);const D=await gs.getAll({search:l||void 0,status:d||void 0,limit:v,offset:(u-1)*v});r(D.patients),g(D.total)}catch(D){console.error("Erro ao carregar pacientes:",D),((C=D.response)==null?void 0:C.status)===503?(x(!0),Le.error(((T=(S=D.response)==null?void 0:S.data)==null?void 0:T.message)||"Módulo de Pacientes temporariamente indisponível",{duration:5e3})):Le.error(((M=(_=D.response)==null?void 0:_.data)==null?void 0:M.error)||"Erro ao carregar pacientes")}finally{o(!1)}},y=async()=>{var C;try{const S=await gs.getStats();n(S)}catch(S){console.error("Erro ao carregar estatísticas:",S),((C=S.response)==null?void 0:C.status)!==503&&console.error("Stats error:",S)}},w=async C=>{var S,T;if(confirm("Tem certeza que deseja deletar este paciente?"))try{await gs.delete(C),Le.success("Paciente deletado com sucesso"),b(),y()}catch(_){Le.error(((T=(S=_.response)==null?void 0:S.data)==null?void 0:T.error)||"Erro ao deletar paciente")}},j=C=>new Date(C).toLocaleDateString("pt-BR"),E=C=>C?C.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):"-",A=Math.ceil(h/v);return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ls,{className:"w-8 h-8 text-blue-600"}),"Pacientes"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gerencie os pacientes cadastrados no sistema"})]}),i.jsxs("button",{onClick:()=>e("/pacientes/novo"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[i.jsx(ja,{className:"w-5 h-5"}),"Novo Paciente"]})]}),p&&i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(rs,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-400",children:"Módulo de Pacientes Temporariamente Indisponível"}),i.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-500 mt-1",children:"O banco de dados de pacientes não está acessível no momento. Entre em contato com o administrador do sistema."})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.total})]}),i.jsx(Ls,{className:"w-10 h-10 text-blue-600"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ativos"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.active})]}),i.jsx(aa,{className:"w-10 h-10 text-green-600"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inativos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-600",children:a.inactive})]}),i.jsx(aa,{className:"w-10 h-10 text-gray-600"})]})})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Buscar por nome, CPF, telefone ou email...",value:l,onChange:C=>{c(C.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Cw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsxs("select",{value:d,onChange:C=>{f(C.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white appearance-none",children:[i.jsx("option",{value:"",children:"Todos os status"}),i.jsx("option",{value:"active",children:"Ativos"}),i.jsx("option",{value:"inactive",children:"Inativos"})]})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando pacientes..."})]}):t.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Ls,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhum paciente encontrado"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nome"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"CPF"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"WhatsApp"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Data Nasc."}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.map(C=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition",onClick:()=>e(`/pacientes/${C.id}`),children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[C.profilePhotoUrl?i.jsx("img",{src:C.profilePhotoUrl,alt:C.name,className:"w-10 h-10 rounded-full mr-3"}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center mr-3",children:i.jsx(aa,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:C.name}),C.email&&i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.cpf||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:E(C.whatsapp)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.birthDate?j(C.birthDate):"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${C.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:C.status==="active"?"Ativo":"Inativo"})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[i.jsx("button",{onClick:S=>{S.stopPropagation(),e(`/pacientes/${C.id}/editar`)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-4",children:"Editar"}),i.jsx("button",{onClick:S=>{S.stopPropagation(),w(C.id)},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Deletar"})]})]},C.id))})]})}),A>1&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-6 py-4 flex items-center justify-between border-t border-gray-200 dark:border-gray-600",children:[i.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Mostrando ",(u-1)*v+1," até"," ",Math.min(u*v,h)," de ",h," pacientes"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>m(C=>Math.max(1,C-1)),disabled:u===1,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300",children:"Anterior"}),i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,A)},(C,S)=>{let T=S+1;return A>5&&(u>3&&(T=u-2+S),u>A-2&&(T=A-4+S)),T>A?null:i.jsx("button",{onClick:()=>m(T),className:`px-3 py-1 rounded ${u===T?"bg-blue-600 text-white":"border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:T},T)})}),i.jsx("button",{onClick:()=>m(C=>Math.min(A,C+1)),disabled:u===A,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300",children:"Próxima"})]})]})]})})]})}function NP(){const{id:e}=_7(),t=vi(),r=!!e,[a,n]=k.useState(!1),[s,o]=k.useState(!1),[l,c]=k.useState(null),[d,f]=k.useState(""),[u,m]=k.useState({}),[h,g]=k.useState({name:"",cpf:"",rg:"",birthDate:"",gender:"",whatsapp:"",emergencyPhone:"",email:"",zipCode:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:"",notes:"",status:"active"});k.useEffect(()=>{r&&e&&p(e)},[e,r]);const p=async C=>{try{n(!0);const S=await gs.getById(C);g(S),S.profilePhotoUrl&&f(S.profilePhotoUrl)}catch(S){console.error("Erro ao carregar paciente:",S),alert("Erro ao carregar dados do paciente"),t("/pacientes")}finally{n(!1)}},x=C=>{const{name:S,value:T}=C.target;g(_=>({..._,[S]:T})),u[S]&&m(_=>{const M={..._};return delete M[S],M})},v=C=>{let S=C.target.value.replace(/\D/g,"");S.length<=11&&(S.length>9?S=S.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):S.length>6?S=S.replace(/(\d{3})(\d{3})(\d{3})/,"$1.$2.$3"):S.length>3&&(S=S.replace(/(\d{3})(\d{3})/,"$1.$2")),g(T=>({...T,cpf:S})))},b=C=>{const{name:S}=C.target;let T=C.target.value.replace(/\D/g,"");T.length<=11&&(T.length>10?T=T.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):T.length>6?T=T.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):T.length>2&&(T=T.replace(/(\d{2})(\d{0,5})/,"($1) $2")),g(_=>({..._,[S]:T})))},y=async C=>{let S=C.target.value.replace(/\D/g,"");if(S.length<=8&&(S.length>5&&(S=S.replace(/(\d{5})(\d{3})/,"$1-$2")),g(T=>({...T,zipCode:S})),S.replace(/\D/g,"").length===8)){o(!0);try{const T=await gs.searchCep(S.replace(/\D/g,""));g(_=>({..._,street:T.logradouro||"",neighborhood:T.bairro||"",city:T.localidade||"",state:T.uf||""}))}catch(T){console.error("Erro ao buscar CEP:",T)}finally{o(!1)}}},w=C=>{var T;const S=(T=C.target.files)==null?void 0:T[0];if(S){if(!S.type.startsWith("image/")){alert("Por favor, selecione uma imagem válida");return}if(S.size>5*1024*1024){alert("A imagem deve ter no máximo 5MB");return}c(S);const _=new FileReader;_.onloadend=()=>{f(_.result)},_.readAsDataURL(S)}},j=()=>{c(null),f(""),g(C=>({...C,profilePhotoUrl:""}))},E=()=>{const C={};return(!h.name||h.name.trim().length<3)&&(C.name="Nome deve ter no mínimo 3 caracteres"),h.cpf&&h.cpf.replace(/\D/g,"").length!==11&&(C.cpf="CPF inválido"),h.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)&&(C.email="Email inválido"),(!h.whatsapp||h.whatsapp.replace(/\D/g,"").length<10)&&(C.whatsapp="WhatsApp é obrigatório e deve ser válido"),m(C),Object.keys(C).length===0},A=async C=>{var S,T,_,M,D,O;if(C.preventDefault(),!!E()){n(!0);try{const B={...h,cpf:((S=h.cpf)==null?void 0:S.replace(/\D/g,""))||void 0,whatsapp:((T=h.whatsapp)==null?void 0:T.replace(/\D/g,""))||void 0,emergencyPhone:((_=h.emergencyPhone)==null?void 0:_.replace(/\D/g,""))||void 0,zipCode:((M=h.zipCode)==null?void 0:M.replace(/\D/g,""))||void 0};let U;if(r&&e?U=await gs.update(e,B):U=await gs.create(B),l&&U.id)try{await gs.uploadImage(U.id,l,{type:"profile",description:"Foto de perfil"})}catch(q){console.error("Erro ao fazer upload da foto:",q),alert("Paciente salvo, mas houve erro ao fazer upload da foto")}t(`/pacientes/${U.id}`)}catch(B){console.error("Erro ao salvar paciente:",B),(O=(D=B.response)==null?void 0:D.data)!=null&&O.message?alert(`Erro: ${B.response.data.message}`):alert("Erro ao salvar paciente. Tente novamente.")}finally{n(!1)}}};return a&&r?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando dados..."})]})}):i.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[i.jsx("div",{className:"mb-6 flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("/pacientes"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Aw,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r?"Editar Paciente":"Novo Paciente"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:r?"Atualize os dados do paciente":"Preencha os dados para cadastrar um novo paciente"})]})]})}),i.jsxs("form",{onSubmit:A,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(aa,{className:"w-5 h-5"}),"Foto de Perfil"]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"relative",children:d?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:d,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200 dark:border-gray-700"}),i.jsx("button",{type:"button",onClick:j,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:i.jsx(br,{className:"w-4 h-4"})})]}):i.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:i.jsx(aa,{className:"w-16 h-16 text-gray-400"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer transition-colors",children:[i.jsx(ox,{className:"w-4 h-4"}),"Selecionar Foto",i.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"JPG, PNG ou GIF. Máximo 5MB."})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(aa,{className:"w-5 h-5"}),"Dados Pessoais"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Nome Completo ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",value:h.name,onChange:x,className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600 ${u.name?"border-red-500":""}`,placeholder:"Digite o nome completo"}),u.name&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"CPF"}),i.jsx("input",{type:"text",name:"cpf",value:h.cpf,onChange:v,className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600 ${u.cpf?"border-red-500":""}`,placeholder:"000.000.000-00"}),u.cpf&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.cpf})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"RG"}),i.jsx("input",{type:"text",name:"rg",value:h.rg,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"00.000.000-0"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[i.jsx(Yr,{className:"w-4 h-4"}),"Data de Nascimento"]}),i.jsx("input",{type:"date",name:"birthDate",value:h.birthDate,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Gênero"}),i.jsxs("select",{name:"gender",value:h.gender,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",children:[i.jsx("option",{value:"",children:"Selecione"}),i.jsx("option",{value:"male",children:"Masculino"}),i.jsx("option",{value:"female",children:"Feminino"}),i.jsx("option",{value:"other",children:"Outro"}),i.jsx("option",{value:"not_informed",children:"Prefiro não informar"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),i.jsxs("select",{name:"status",value:h.status,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",children:[i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(vs,{className:"w-5 h-5"}),"Contato"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["WhatsApp ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"whatsapp",value:h.whatsapp,onChange:b,className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600 ${u.whatsapp?"border-red-500":""}`,placeholder:"(00) 00000-0000"}),u.whatsapp&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.whatsapp})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telefone Emergência"}),i.jsx("input",{type:"text",name:"emergencyPhone",value:h.emergencyPhone,onChange:b,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[i.jsx(ro,{className:"w-4 h-4"}),"Email"]}),i.jsx("input",{type:"email",name:"email",value:h.email,onChange:x,className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600 ${u.email?"border-red-500":""}`,placeholder:"email@exemplo.com"}),u.email&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.email})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Go,{className:"w-5 h-5"}),"Endereço"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"CEP"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",name:"zipCode",value:h.zipCode,onChange:y,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"00000-000"}),s&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})})]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"O endereço será preenchido automaticamente"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rua"}),i.jsx("input",{type:"text",name:"street",value:h.street,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"Nome da rua"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Número"}),i.jsx("input",{type:"text",name:"number",value:h.number,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"123"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Complemento"}),i.jsx("input",{type:"text",name:"complement",value:h.complement,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"Apto, Bloco, etc"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bairro"}),i.jsx("input",{type:"text",name:"neighborhood",value:h.neighborhood,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"Nome do bairro"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cidade"}),i.jsx("input",{type:"text",name:"city",value:h.city,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"Nome da cidade"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Estado"}),i.jsx("input",{type:"text",name:"state",value:h.state,onChange:x,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"UF",maxLength:2})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(qa,{className:"w-5 h-5"}),"Observações"]}),i.jsx("textarea",{name:"notes",value:h.notes,onChange:x,rows:4,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"Observações adicionais sobre o paciente..."})]}),i.jsxs("div",{className:"flex items-center justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:()=>t("/pacientes"),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Salvando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(c6,{className:"w-4 h-4"}),r?"Atualizar":"Cadastrar"]})})]})]})]})}function D8e({patient:e}){const t=l=>l?new Date(l).toLocaleDateString("pt-BR"):"-",r=l=>{if(!l)return"-";const c=l.replace(/\D/g,"");return c.length===11?`(${c.slice(0,2)}) ${c.slice(2,7)}-${c.slice(7)}`:c.length===10?`(${c.slice(0,2)}) ${c.slice(2,6)}-${c.slice(6)}`:l},a=l=>{if(!l)return"-";const c=l.replace(/\D/g,"");return c.length===11?`${c.slice(0,3)}.${c.slice(3,6)}.${c.slice(6,9)}-${c.slice(9)}`:l},n=l=>{if(!l)return"-";const c=l.replace(/\D/g,"");return c.length===8?`${c.slice(0,5)}-${c.slice(5)}`:l},s=l=>l?{male:"Masculino",female:"Feminino",other:"Outro",not_informed:"Não informado"}[l]||l:"-",o=l=>{if(!l)return"-";const c=new Date,d=new Date(l);let f=c.getFullYear()-d.getFullYear();const u=c.getMonth()-d.getMonth();return(u<0||u===0&&c.getDate()<d.getDate())&&f--,`${f} anos`};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(aa,{className:"w-5 h-5"}),"Informações Pessoais"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Nome Completo"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),i.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${e.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:e.status==="active"?"Ativo":"Inativo"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1 flex items-center gap-1",children:[i.jsx(xf,{className:"w-4 h-4"}),"CPF"]}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:a(e.cpf)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"RG"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.rg||"-"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1 flex items-center gap-1",children:[i.jsx(Yr,{className:"w-4 h-4"}),"Data de Nascimento"]}),i.jsxs("p",{className:"text-gray-900 dark:text-white",children:[t(e.birthDate),e.birthDate&&i.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:["(",o(e.birthDate),")"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Gênero"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:s(e.gender)})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(vs,{className:"w-5 h-5"}),"Contato"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"WhatsApp"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:r(e.whatsapp)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Telefone Emergência"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:r(e.emergencyPhone)})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1 flex items-center gap-1",children:[i.jsx(ro,{className:"w-4 h-4"}),"Email"]}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.email||"-"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(Go,{className:"w-5 h-5"}),"Endereço"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"CEP"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:n(e.zipCode)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Rua"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.street||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Número"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.number||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Complemento"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.complement||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Bairro"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.neighborhood||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Cidade"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.city||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Estado"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.state||"-"})]})]})]}),e.notes&&i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(qa,{className:"w-5 h-5"}),"Observações"]}),i.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:i.jsx("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:e.notes})})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Informações do Sistema"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Cadastrado em"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:new Date(e.createdAt).toLocaleString("pt-BR")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Última atualização"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:new Date(e.updatedAt).toLocaleString("pt-BR")})]}),e.source&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Origem"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e.source})]}),e.sourceId&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"ID Origem"}),i.jsx("p",{className:"text-gray-900 dark:text-white font-mono text-xs",children:e.sourceId})]})]})]})]})}function P8e({patientId:e}){const[t,r]=k.useState([]),[a,n]=k.useState(!0),[s,o]=k.useState(!1),[l,c]=k.useState(null),[d,f]=k.useState(!1),[u,m]=k.useState({serviceDate:new Date().toISOString().split("T")[0],chiefComplaint:"",historyOfPresentIllness:"",physicalExamination:"",diagnosis:"",treatment:"",prescription:"",observations:"",vitalSigns:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:""}});k.useEffect(()=>{h()},[e]);const h=async()=>{try{n(!0);const j=await gs.getMedicalRecords(e);r(j)}catch(j){console.error("Erro ao carregar prontuários:",j)}finally{n(!1)}},g=j=>{const{name:E,value:A}=j.target;m(C=>({...C,[E]:A}))},p=j=>{const{name:E,value:A}=j.target;m(C=>({...C,vitalSigns:{...C.vitalSigns,[E]:A}}))},x=()=>{m({serviceDate:new Date().toISOString().split("T")[0],chiefComplaint:"",historyOfPresentIllness:"",physicalExamination:"",diagnosis:"",treatment:"",prescription:"",observations:"",vitalSigns:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:""}})},v=async j=>{var E,A;if(j.preventDefault(),!u.chiefComplaint.trim()){alert("A queixa principal é obrigatória");return}f(!0);try{const C={serviceDate:new Date(u.serviceDate).toISOString(),chiefComplaint:u.chiefComplaint,historyOfPresentIllness:u.historyOfPresentIllness||void 0,physicalExamination:u.physicalExamination||void 0,diagnosis:u.diagnosis||void 0,treatment:u.treatment||void 0,prescription:u.prescription||void 0,observations:u.observations||void 0,vitalSigns:Object.keys(u.vitalSigns).some(S=>u.vitalSigns[S])?{bloodPressure:u.vitalSigns.bloodPressure||void 0,heartRate:u.vitalSigns.heartRate?parseFloat(u.vitalSigns.heartRate):void 0,temperature:u.vitalSigns.temperature?parseFloat(u.vitalSigns.temperature):void 0,weight:u.vitalSigns.weight?parseFloat(u.vitalSigns.weight):void 0,height:u.vitalSigns.height?parseFloat(u.vitalSigns.height):void 0}:void 0};await gs.createMedicalRecord(e,C),await h(),o(!1),x()}catch(C){console.error("Erro ao salvar prontuário:",C),alert(((A=(E=C.response)==null?void 0:E.data)==null?void 0:A.message)||"Erro ao salvar prontuário")}finally{f(!1)}},b=j=>new Date(j).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),y=j=>new Date(j).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=j=>{c(l===j?null:j)};return a?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando prontuários..."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Prontuários Médicos"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[t.length," ",t.length===1?"registro":"registros"]})]}),i.jsxs("button",{onClick:()=>o(!s),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[s?i.jsx(br,{className:"w-4 h-4"}):i.jsx(ja,{className:"w-4 h-4"}),s?"Cancelar":"Novo Prontuário"]})]}),s&&i.jsxs("form",{onSubmit:v,className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 space-y-4",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Novo Registro de Atendimento"}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Data do Atendimento ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"serviceDate",value:u.serviceDate,onChange:g,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Queixa Principal ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"chiefComplaint",value:u.chiefComplaint,onChange:g,rows:2,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"Descreva a queixa principal do paciente",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"História da Doença Atual"}),i.jsx("textarea",{name:"historyOfPresentIllness",value:u.historyOfPresentIllness,onChange:g,rows:3,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"Descreva a história da doença"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Exame Físico"}),i.jsx("textarea",{name:"physicalExamination",value:u.physicalExamination,onChange:g,rows:3,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"Descreva o exame físico realizado"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pressão Arterial"}),i.jsx("input",{type:"text",name:"bloodPressure",value:u.vitalSigns.bloodPressure,onChange:p,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"120/80"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Freq. Cardíaca"}),i.jsx("input",{type:"text",name:"heartRate",value:u.vitalSigns.heartRate,onChange:p,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"bpm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Temperatura"}),i.jsx("input",{type:"text",name:"temperature",value:u.vitalSigns.temperature,onChange:p,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"°C"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Peso"}),i.jsx("input",{type:"text",name:"weight",value:u.vitalSigns.weight,onChange:p,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"kg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Altura"}),i.jsx("input",{type:"text",name:"height",value:u.vitalSigns.height,onChange:p,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"cm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Diagnóstico"}),i.jsx("textarea",{name:"diagnosis",value:u.diagnosis,onChange:g,rows:2,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"Descreva o diagnóstico"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tratamento"}),i.jsx("textarea",{name:"treatment",value:u.treatment,onChange:g,rows:2,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"Descreva o tratamento proposto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Prescrição"}),i.jsx("textarea",{name:"prescription",value:u.prescription,onChange:g,rows:3,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"Medicamentos e orientações"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Observações"}),i.jsx("textarea",{name:"observations",value:u.observations,onChange:g,rows:2,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",placeholder:"Observações adicionais"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{o(!1),x()},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:d?"Salvando...":"Salvar Prontuário"})]})]}),t.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(qa,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum prontuário cadastrado"}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:'Clique em "Novo Prontuário" para criar o primeiro registro'})]}):i.jsx("div",{className:"space-y-4",children:t.map(j=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[i.jsx("div",{onClick:()=>w(j.id),className:"p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Yr,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:b(j.serviceDate)}),j.revisionNumber>1&&i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(Revisão ",j.revisionNumber,")"]})]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300 line-clamp-2",children:[i.jsx("span",{className:"font-medium",children:"Queixa:"})," ",j.chiefComplaint]}),j.diagnosis&&i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1 line-clamp-1",children:[i.jsx("span",{className:"font-medium",children:"Diagnóstico:"})," ",j.diagnosis]})]}),i.jsx("button",{className:"ml-4 p-1",children:l===j.id?i.jsx(O7,{className:"w-5 h-5 text-gray-400"}):i.jsx(b0,{className:"w-5 h-5 text-gray-400"})})]})}),l===j.id&&i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 space-y-4 bg-gray-50 dark:bg-gray-900",children:[j.historyOfPresentIllness&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-1",children:"História da Doença Atual"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap",children:j.historyOfPresentIllness})]}),j.physicalExamination&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Exame Físico"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap",children:j.physicalExamination})]}),j.vitalSigns&&Object.keys(j.vitalSigns).length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Sinais Vitais"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[j.vitalSigns.bloodPressure&&i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"PA:"})," ",i.jsx("span",{className:"text-gray-900 dark:text-white",children:j.vitalSigns.bloodPressure})]}),j.vitalSigns.heartRate&&i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"FC:"})," ",i.jsxs("span",{className:"text-gray-900 dark:text-white",children:[j.vitalSigns.heartRate," bpm"]})]}),j.vitalSigns.temperature&&i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Temp:"})," ",i.jsxs("span",{className:"text-gray-900 dark:text-white",children:[j.vitalSigns.temperature,"°C"]})]}),j.vitalSigns.weight&&i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Peso:"})," ",i.jsxs("span",{className:"text-gray-900 dark:text-white",children:[j.vitalSigns.weight," kg"]})]}),j.vitalSigns.height&&i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Altura:"})," ",i.jsxs("span",{className:"text-gray-900 dark:text-white",children:[j.vitalSigns.height," cm"]})]})]})]}),j.treatment&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Tratamento"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap",children:j.treatment})]}),j.prescription&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Prescrição"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap",children:j.prescription})]}),j.observations&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap",children:j.observations})]}),i.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Cadastrado em: ",y(j.createdAt),j.revisedAt&&` | Última revisão: ${y(j.revisedAt)}`]})})]})]},j.id))})]})}function O8e({patientId:e}){const[t,r]=k.useState([]),[a,n]=k.useState([]),[s,o]=k.useState(!0),[l,c]=k.useState(!1),[d,f]=k.useState("all"),[u,m]=k.useState(!1),[h,g]=k.useState(null),[p,x]=k.useState(null),[v,b]=k.useState(""),[y,w]=k.useState({type:"document",category:"",description:"",procedureName:""});k.useEffect(()=>{j()},[e]),k.useEffect(()=>{n(d==="all"?t:t.filter(B=>B.type===d))},[t,d]);const j=async()=>{try{o(!0);const B=await gs.getImages(e);r(B)}catch(B){console.error("Erro ao carregar imagens:",B)}finally{o(!1)}},E=B=>{var q;const U=(q=B.target.files)==null?void 0:q[0];if(U){if(!U.type.startsWith("image/")){alert("Por favor, selecione uma imagem válida");return}if(U.size>10*1024*1024){alert("A imagem deve ter no máximo 10MB");return}x(U);const K=new FileReader;K.onloadend=()=>{b(K.result)},K.readAsDataURL(U)}},A=async B=>{var U,q;if(B.preventDefault(),!p){alert("Selecione uma imagem");return}c(!0);try{await gs.uploadImage(e,p,{type:y.type,category:y.category||void 0,description:y.description||void 0,procedureName:y.procedureName||void 0}),await j(),m(!1),S()}catch(K){console.error("Erro ao fazer upload:",K),alert(((q=(U=K.response)==null?void 0:U.data)==null?void 0:q.message)||"Erro ao fazer upload da imagem")}finally{c(!1)}},C=async B=>{if(window.confirm("Tem certeza que deseja excluir esta imagem?"))try{await gs.deleteImage(e,B),await j()}catch(U){console.error("Erro ao excluir imagem:",U),alert("Erro ao excluir imagem")}},S=()=>{x(null),b(""),w({type:"document",category:"",description:"",procedureName:""})},T=B=>({profile:"Perfil",before:"Antes",after:"Depois",document:"Documento",procedure:"Procedimento"})[B],_=B=>({profile:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",before:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",after:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",document:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",procedure:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"})[B],M=B=>new Date(B).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),D=B=>B<1024?`${B} B`:B<1024*1024?`${(B/1024).toFixed(1)} KB`:`${(B/(1024*1024)).toFixed(1)} MB`,O=async B=>{try{const U=document.createElement("a");U.href=B.signedUrl||B.imageUrl,U.download=B.filename,document.body.appendChild(U),U.click(),document.body.removeChild(U)}catch(U){console.error("Erro ao baixar imagem:",U)}};return s?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando imagens..."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cw,{className:"w-5 h-5 text-gray-400"}),i.jsxs("select",{value:d,onChange:B=>f(B.target.value),className:"px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-700",children:[i.jsxs("option",{value:"all",children:["Todas (",t.length,")"]}),i.jsxs("option",{value:"profile",children:["Perfil (",t.filter(B=>B.type==="profile").length,")"]}),i.jsxs("option",{value:"before",children:["Antes (",t.filter(B=>B.type==="before").length,")"]}),i.jsxs("option",{value:"after",children:["Depois (",t.filter(B=>B.type==="after").length,")"]}),i.jsxs("option",{value:"document",children:["Documentos (",t.filter(B=>B.type==="document").length,")"]}),i.jsxs("option",{value:"procedure",children:["Procedimentos (",t.filter(B=>B.type==="procedure").length,")"]})]})]})}),i.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[i.jsx(ox,{className:"w-4 h-4"}),"Adicionar Imagem"]})]}),a.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Um,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:d==="all"?"Nenhuma imagem cadastrada":`Nenhuma imagem do tipo "${T(d)}"`}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:'Clique em "Adicionar Imagem" para fazer upload'})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:a.map(B=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden group",children:[i.jsxs("div",{className:"relative aspect-square bg-gray-100 dark:bg-gray-900",children:[i.jsx("img",{src:B.signedUrl||B.imageUrl,alt:B.description||B.filename,className:"w-full h-full object-cover"}),i.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[i.jsx("button",{onClick:()=>g(B),className:"p-2 bg-white rounded-full hover:bg-gray-100 transition-colors",title:"Ver em tamanho real",children:i.jsx(gQ,{className:"w-5 h-5 text-gray-900"})}),i.jsx("button",{onClick:()=>O(B),className:"p-2 bg-white rounded-full hover:bg-gray-100 transition-colors",title:"Baixar",children:i.jsx(Tg,{className:"w-5 h-5 text-gray-900"})}),i.jsx("button",{onClick:()=>C(B.id),className:"p-2 bg-red-500 rounded-full hover:bg-red-600 transition-colors",title:"Excluir",children:i.jsx(An,{className:"w-5 h-5 text-white"})})]})]}),i.jsxs("div",{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${_(B.type)}`,children:T(B.type)}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:M(B.createdAt)})]}),B.description&&i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-1 line-clamp-2",children:B.description}),B.procedureName&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:["Procedimento: ",B.procedureName]}),B.category&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:["Categoria: ",B.category]}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:D(B.fileSize)})]})]},B.id))}),u&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Adicionar Imagem"}),i.jsx("button",{onClick:()=>{m(!1),S()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(br,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:A,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Arquivo ",i.jsx("span",{className:"text-red-500",children:"*"})]}),v?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:v,alt:"Preview",className:"w-full max-h-64 object-contain rounded-lg border border-gray-300 dark:border-gray-600"}),i.jsx("button",{type:"button",onClick:()=>{x(null),b("")},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:i.jsx(br,{className:"w-4 h-4"})})]}):i.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[i.jsx(ox,{className:"w-12 h-12 text-gray-400 mb-3"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Clique para selecionar ou arraste a imagem"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"JPG, PNG, GIF até 10MB"})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tipo ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:y.type,onChange:B=>w(U=>({...U,type:B.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",required:!0,children:[i.jsx("option",{value:"document",children:"Documento"}),i.jsx("option",{value:"before",children:"Antes"}),i.jsx("option",{value:"after",children:"Depois"}),i.jsx("option",{value:"procedure",children:"Procedimento"}),i.jsx("option",{value:"profile",children:"Perfil"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Categoria"}),i.jsx("input",{type:"text",value:y.category,onChange:B=>w(U=>({...U,category:B.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"Ex: RG, CPF, Contrato, etc"})]}),y.type==="procedure"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nome do Procedimento"}),i.jsx("input",{type:"text",value:y.procedureName,onChange:B=>w(U=>({...U,procedureName:B.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"Ex: Botox, Preenchimento, etc"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrição"}),i.jsx("textarea",{value:y.description,onChange:B=>w(U=>({...U,description:B.target.value})),rows:3,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600",placeholder:"Descrição ou observações sobre a imagem"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{m(!1),S()},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:l||!p,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Enviando...":"Fazer Upload"})]})]})]})})}),h&&i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:()=>g(null),children:[i.jsx("button",{onClick:()=>g(null),className:"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 transition-colors",children:i.jsx(br,{className:"w-6 h-6 text-gray-900"})}),i.jsxs("div",{className:"max-w-7xl max-h-full",onClick:B=>B.stopPropagation(),children:[i.jsx("img",{src:h.signedUrl||h.imageUrl,alt:h.description||h.filename,className:"max-w-full max-h-[90vh] object-contain"}),h.description&&i.jsx("p",{className:"text-white text-center mt-4 px-4",children:h.description})]})]})]})}function R8e({patientId:e}){const t=vi(),[r,a]=k.useState([]),[n,s]=k.useState(!0);k.useEffect(()=>{o()},[e]);const o=async()=>{var h;try{s(!0);const g=await gs.getAppointments(e);a(g)}catch(g){console.error("Erro ao carregar agendamentos:",g),((h=g.response)==null?void 0:h.status)!==404&&Le.error("Erro ao carregar agendamentos")}finally{s(!1)}},l=()=>{t("/agenda",{state:{patientId:e}})},c=h=>new Date(h).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),d=h=>new Date(h).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),f=h=>({aguardando_pagamento:"Aguardando Pagamento",pagamento_confirmado:"Pagamento Confirmado",aguardando_confirmacao:"Aguardando Confirmação",confirmado:"Confirmado",reagendado:"Reagendado",em_atendimento:"Em Atendimento",finalizado:"Finalizado",cancelado:"Cancelado",nao_compareceu:"Não Compareceu"})[h]||h,u=h=>({aguardando_pagamento:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",pagamento_confirmado:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",aguardando_confirmacao:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",confirmado:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",reagendado:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",em_atendimento:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-400",finalizado:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelado:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",nao_compareceu:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"})[h]||"bg-gray-100 text-gray-800",m=h=>h==="finalizado"||h==="confirmado"?i.jsx(ba,{className:"w-4 h-4"}):h==="cancelado"||h==="nao_compareceu"?i.jsx(xc,{className:"w-4 h-4"}):i.jsx(ka,{className:"w-4 h-4"});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Agendamentos"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Histórico de agendamentos do paciente"})]}),i.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[i.jsx(ja,{className:"w-4 h-4"}),"Novo Agendamento"]})]}),n&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ec,{className:"w-8 h-8 text-blue-500 animate-spin"})}),!n&&r.length>0&&i.jsx("div",{className:"space-y-3",children:r.map(h=>{var g;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t("/agenda"),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:i.jsx(Yr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:((g=h.procedure)==null?void 0:g.name)||"Procedimento não especificado"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(ka,{className:"w-4 h-4"}),c(h.dateTime)," às ",d(h.dateTime)]})]})]}),i.jsxs("span",{className:`flex items-center gap-1.5 px-3 py-1 text-xs font-semibold rounded-full ${u(h.status)}`,children:[m(h.status),f(h.status)]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[h.professional&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[i.jsx(aa,{className:"w-4 h-4"}),i.jsx("span",{children:h.professional.name})]}),h.location&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[i.jsx(Go,{className:"w-4 h-4"}),i.jsx("span",{children:h.location})]})]}),h.notes&&i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.notes})})]},h.id)})}),!n&&r.length===0&&i.jsxs("div",{children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(rs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Integração com Módulo de Agenda"}),i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300 mb-3",children:"Esta seção exibe automaticamente os agendamentos do paciente. Para criar um novo agendamento:"}),i.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1 ml-4 list-disc",children:[i.jsx("li",{children:'Clique no botão "Novo Agendamento" acima'}),i.jsx("li",{children:"Acesse o módulo de Agenda diretamente no menu"}),i.jsx("li",{children:"Associe o agendamento a este paciente"})]})]})]})}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Yr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Nenhum agendamento encontrado"}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Os agendamentos aparecerão aqui automaticamente quando criados"})]})]})]})}function F8e({patientId:e}){const t=vi(),[r,a]=k.useState([]),[n,s]=k.useState({total:0,paid:0,pending:0}),[o,l]=k.useState(!0);k.useEffect(()=>{c()},[e]);const c=async()=>{var v;try{l(!0);const b=await gs.getTransactions(e);a(b.transactions),s(b.summary)}catch(b){console.error("Erro ao carregar transações:",b),((v=b.response)==null?void 0:v.status)!==404&&Le.error("Erro ao carregar transações")}finally{l(!1)}},d=()=>{t("/financeiro",{state:{patientId:e}})},f=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),u=v=>new Date(v).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),m=v=>({pendente:"Pendente",pago:"Pago",atrasado:"Atrasado",cancelado:"Cancelado",reembolsado:"Reembolsado"})[v]||v,h=v=>({pendente:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",pago:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",atrasado:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",cancelado:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",reembolsado:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"})[v]||"bg-gray-100 text-gray-800",g=v=>v==="receita"?"Receita":"Despesa",p=v=>v==="receita"?i.jsx(Do,{className:"w-4 h-4 text-green-600"}):i.jsx(zu,{className:"w-4 h-4 text-red-600"}),x=v=>v?{dinheiro:"Dinheiro",pix:"PIX",credito:"Crédito",debito:"Débito",boleto:"Boleto",transferencia:"Transferência"}[v]||v:"-";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Financeiro"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Histórico de transações financeiras do paciente"})]}),i.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[i.jsx(ja,{className:"w-4 h-4"}),"Nova Transação"]})]}),o&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ec,{className:"w-8 h-8 text-blue-500 animate-spin"})}),!o&&r.length>0&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:f(n.total)})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:i.jsx(Ba,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pago"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:f(n.paid)})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-lg",children:i.jsx(Do,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendente"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1",children:f(n.pending)})]}),i.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:i.jsx(zu,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),!o&&r.length>0&&i.jsx("div",{className:"space-y-3",children:r.map(v=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t("/financeiro"),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:p(v.type)}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:v.description}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:g(v.type)})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:v.category})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`text-xl font-bold ${v.type==="receita"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[v.type==="receita"?"+":"-"," ",f(v.amount)]}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-1 ${h(v.status)}`,children:m(v.status)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm text-gray-600 dark:text-gray-400",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yr,{className:"w-4 h-4"}),i.jsxs("span",{children:["Venc: ",u(v.dueDate)]})]}),v.paymentDate&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yr,{className:"w-4 h-4"}),i.jsxs("span",{children:["Pago: ",u(v.paymentDate)]})]}),v.paymentMethod&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xf,{className:"w-4 h-4"}),i.jsx("span",{children:x(v.paymentMethod)})]})]})]},v.id))}),!o&&r.length===0&&i.jsxs("div",{children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(rs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Integração com Módulo Financeiro"}),i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300 mb-3",children:"Esta seção exibe automaticamente as transações financeiras do paciente. Para criar uma nova transação:"}),i.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1 ml-4 list-disc",children:[i.jsx("li",{children:'Clique no botão "Nova Transação" acima'}),i.jsx("li",{children:"Acesse o módulo Financeiro diretamente no menu"}),i.jsx("li",{children:"Associe a transação a este paciente"})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:"R$ 0,00"})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:i.jsx(Ba,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pago"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:"R$ 0,00"})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-lg",children:i.jsx(Ba,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendente"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1",children:"R$ 0,00"})]}),i.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:i.jsx(Ba,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ba,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Nenhuma transação encontrada"}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"As transações aparecerão aqui automaticamente quando criadas"})]})]})]})}function B8e({patient:e}){const t=vi(),[r,a]=k.useState([]),[n,s]=k.useState(!0);k.useEffect(()=>{e.whatsapp?o():s(!1)},[e.id]);const o=async()=>{var g;try{s(!0);const p=await gs.getConversations(e.id);a(p)}catch(p){console.error("Erro ao carregar conversas:",p),((g=p.response)==null?void 0:g.status)!==404&&Le.error("Erro ao carregar conversas")}finally{s(!1)}},l=g=>{if(!g)return"";const p=g.replace(/\D/g,"");return p.length===11?`(${p.slice(0,2)}) ${p.slice(2,7)}-${p.slice(7)}`:p.length===10?`(${p.slice(0,2)}) ${p.slice(2,6)}-${p.slice(6)}`:g},c=g=>{if(!g)return"-";const p=new Date(g),v=Math.abs(new Date().getTime()-p.getTime()),b=Math.ceil(v/(1e3*60*60*24));return b===0?p.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):b===1?"Ontem":b<7?`${b} dias atrás`:p.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},d=g=>({active:"Ativa",archived:"Arquivada",closed:"Fechada",waiting:"Aguardando"})[g]||g,f=g=>({active:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",archived:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",closed:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",waiting:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"})[g]||"bg-gray-100 text-gray-800",u=()=>{if(!e.whatsapp){alert("Paciente não possui WhatsApp cadastrado");return}t("/chat",{state:{openContact:e.whatsapp.replace(/\D/g,""),contactName:e.name,patientId:e.id}})},m=()=>{if(!e.whatsapp){alert("Paciente não possui WhatsApp cadastrado");return}const p=`https://wa.me/55${e.whatsapp.replace(/\D/g,"")}`;window.open(p,"_blank")},h=g=>{t("/chat",{state:{openContact:g.phoneNumber,contactName:g.contactName,conversationId:g.id}})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Chat / WhatsApp"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Histórico de conversas e comunicação com o paciente"})]}),i.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(vs,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-sm font-semibold text-green-900 dark:text-green-200 mb-2",children:"Contato do Paciente"}),e.whatsapp?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-green-800 dark:text-green-300 mb-4",children:["WhatsApp: ",i.jsx("span",{className:"font-semibold",children:l(e.whatsapp)})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Lo,{className:"w-4 h-4"}),"Abrir no Chat Interno"]}),i.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[i.jsx(F1,{className:"w-4 h-4"}),"Abrir no WhatsApp"]})]})]}):i.jsxs("div",{className:"flex items-start gap-2 text-orange-800 dark:text-orange-300",children:[i.jsx(rs,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm",children:"Paciente não possui WhatsApp cadastrado. Edite os dados do paciente para adicionar."})]})]})]})}),n&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ec,{className:"w-8 h-8 text-blue-500 animate-spin"})}),!n&&r.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-4",children:["Histórico de Conversas (",r.length,")"]}),i.jsx("div",{className:"space-y-3",children:r.map(g=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>h(g),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:i.jsx(Lo,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h5",{className:"font-semibold text-gray-900 dark:text-white",children:g.contactName}),g.isUnread&&g.unreadCount>0&&i.jsx("span",{className:"inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:g.unreadCount})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l(g.phoneNumber)})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(g.status)}`,children:d(g.status)}),g.lastMessageAt&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx(ka,{className:"w-3 h-3"}),c(g.lastMessageAt)]})]})]}),g.lastMessagePreview&&i.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(e3,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:g.lastMessagePreview})]})})]},g.id))}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("button",{onClick:u,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Ver todas as conversas no Chat →"})})]}),!n&&r.length===0&&e.whatsapp&&i.jsxs("div",{children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(rs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Integração com Módulo de Chat"}),i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300 mb-3",children:"Esta seção exibe automaticamente o histórico de conversas do paciente. Funcionalidades:"}),i.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1 ml-4 list-disc",children:[i.jsx("li",{children:"Ver histórico completo de mensagens"}),i.jsx("li",{children:"Iniciar nova conversa pelo chat interno"}),i.jsx("li",{children:"Abrir conversa diretamente no WhatsApp Web/App"}),i.jsx("li",{children:"Status das conversas (ativa, aguardando, fechada)"})]})]})]})}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Lo,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Nenhuma conversa encontrada"}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mb-4",children:"O histórico de mensagens aparecerá aqui automaticamente"}),i.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Lo,{className:"w-4 h-4"}),"Iniciar Conversa"]})]})]}),!n&&!e.whatsapp&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(vs,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"WhatsApp não cadastrado"}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mb-4",children:"Adicione um número de WhatsApp para ver o histórico de conversas"}),i.jsx("button",{onClick:()=>t(`/pacientes/${e.id}/editar`),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Editar Paciente"})]})]})}function z8e(){const{id:e}=_7(),t=vi(),[r,a]=k.useState(null),[n,s]=k.useState(!0),[o,l]=k.useState("dados");k.useEffect(()=>{e&&c(e)},[e]);const c=async g=>{try{s(!0);const p=await gs.getById(g);a(p)}catch(p){console.error("Erro ao carregar paciente:",p),alert("Erro ao carregar dados do paciente"),t("/pacientes")}finally{s(!1)}},d=async()=>{if(!(!r||!window.confirm(`Tem certeza que deseja excluir ${r.name}?`)))try{await gs.delete(r.id),t("/pacientes")}catch(g){console.error("Erro ao excluir paciente:",g),alert("Erro ao excluir paciente")}},f=g=>{if(!g)return"-";const p=new Date,x=new Date(g);let v=p.getFullYear()-x.getFullYear();const b=p.getMonth()-x.getMonth();return(b<0||b===0&&p.getDate()<x.getDate())&&v--,`${v} anos`},u=g=>{if(!g)return"-";const p=g.replace(/\D/g,"");return p.length===11?`(${p.slice(0,2)}) ${p.slice(2,7)}-${p.slice(7)}`:p.length===10?`(${p.slice(0,2)}) ${p.slice(2,6)}-${p.slice(6)}`:g},m=g=>{if(!g)return"-";const p=g.replace(/\D/g,"");return p.length===11?`${p.slice(0,3)}.${p.slice(3,6)}.${p.slice(6,9)}-${p.slice(9)}`:g};if(n)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando dados..."})]})});if(!r)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx(rs,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Paciente não encontrado"})]})});const h=[{id:"dados",label:"Dados Pessoais",icon:aa},{id:"prontuario",label:"Prontuário",icon:qa},{id:"imagens",label:"Imagens",icon:Um},{id:"agendamentos",label:"Agendamentos",icon:Yr},{id:"financeiro",label:"Financeiro",icon:Ba},{id:"chat",label:"Chat",icon:Lo}];return i.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-6 flex items-center justify-between",children:i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("button",{onClick:()=>t("/pacientes"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Aw,{className:"w-5 h-5"})})})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start gap-6",children:[i.jsx("div",{children:r.profilePhotoUrl?i.jsx("img",{src:r.profilePhotoUrl,alt:r.name,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200 dark:border-gray-700"}):i.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:i.jsx(aa,{className:"w-12 h-12 text-gray-400"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.name}),i.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${r.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:r.status==="active"?"Ativo":"Inativo"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[i.jsx(aa,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:["CPF: ",m(r.cpf)," | ",f(r.birthDate)]})]}),r.whatsapp&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[i.jsx(vs,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:u(r.whatsapp)})]}),r.email&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[i.jsx(ro,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:r.email})]})]}),(r.street||r.city)&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 mt-2",children:[i.jsx(Go,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:[r.street,r.number,r.neighborhood,r.city,r.state].filter(Boolean).join(", ")})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>t(`/pacientes/${r.id}/editar`),className:"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg transition-colors",title:"Editar",children:i.jsx(Tf,{className:"w-5 h-5"})}),i.jsx("button",{onClick:d,className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg transition-colors",title:"Excluir",children:i.jsx(An,{className:"w-5 h-5"})})]})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[i.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:i.jsx("div",{className:"flex overflow-x-auto",children:h.map(g=>{const p=g.icon;return i.jsxs("button",{onClick:()=>l(g.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm whitespace-nowrap border-b-2 transition-colors ${o===g.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[i.jsx(p,{className:"w-4 h-4"}),g.label]},g.id)})})}),i.jsxs("div",{className:"p-6",children:[o==="dados"&&i.jsx(D8e,{patient:r,onUpdate:c}),o==="prontuario"&&i.jsx(P8e,{patientId:r.id}),o==="imagens"&&i.jsx(O8e,{patientId:r.id}),o==="agendamentos"&&i.jsx(R8e,{patientId:r.id}),o==="financeiro"&&i.jsx(F8e,{patientId:r.id}),o==="chat"&&i.jsx(B8e,{patient:r})]})]})]})}function MG(){const{theme:e,toggleTheme:t}=$7();return i.jsx("button",{onClick:t,className:"relative inline-flex items-center justify-center p-2 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":`Alternar para modo ${e==="light"?"escuro":"claro"}`,title:`Alternar para modo ${e==="light"?"escuro":"claro"}`,children:e==="light"?i.jsx(xQ,{size:20,className:"text-gray-700 dark:text-gray-300"}):i.jsx(vQ,{size:20,className:"text-gray-700 dark:text-gray-300"})})}const $8e=k.lazy(()=>as(()=>import("./ProductList-B-0tTy7H.js"),__vite__mapDeps([11,2,1,3,12,13]))),U8e=k.lazy(()=>as(()=>import("./ProductForm-Bl3gaBSV.js"),__vite__mapDeps([14,2,1,3]))),W8e=k.lazy(()=>as(()=>import("./MovementList-CQRs4gIV.js"),__vite__mapDeps([15,2,1,3,12,13]))),H8e=k.lazy(()=>as(()=>import("./MovementForm-lyR1-lRA.js"),__vite__mapDeps([16,2,1,3]))),V8e=k.lazy(()=>as(()=>import("./AlertList-DLf6L9lW.js"),__vite__mapDeps([17,2,1,3,12,13]))),G8e=k.lazy(()=>as(()=>import("./ReportsView-ViA5nbg7.js"),__vite__mapDeps([18,2,1,3,13,10]))),q8e=k.lazy(()=>as(()=>import("./ProcedureStockTab-BW0dLmz8.js"),__vite__mapDeps([19,2,1,3]))),Y8e=k.lazy(()=>as(()=>import("./InventoryCountTab-BDpcjZCa.js"),__vite__mapDeps([20,2,1,3])));function SP(){const e=$m(),t=vi(),[r,a]=k.useState(!0),[n,s]=k.useState(()=>{const M=e.pathname;return M.includes("/produtos")||M.includes("/products")?"products":M.includes("/movimentacoes")||M.includes("/movements")?"movements":M.includes("/alertas")||M.includes("/alerts")?"alerts":M.includes("/relatorios")||M.includes("/reports")?"reports":M.includes("/procedimentos")||M.includes("/procedures")?"procedures":M.includes("/inventario")||M.includes("/inventory")?"inventory":"dashboard"}),[o,l]=k.useState({totalValue:0,totalProducts:0,totalItems:0}),[c,d]=k.useState({total:0,byType:{LOW_STOCK:0,OUT_OF_STOCK:0,EXPIRING_SOON:0,EXPIRED:0}}),[f,u]=k.useState([]),[m,h]=k.useState([]),[g,p]=k.useState(!1),[x,v]=k.useState(),[b,y]=k.useState(!1),[w,j]=k.useState(0);k.useEffect(()=>{const M=e.pathname;M.includes("/produtos")||M.includes("/products")?s("products"):M.includes("/movimentacoes")||M.includes("/movements")?s("movements"):M.includes("/alertas")||M.includes("/alerts")?s("alerts"):M.includes("/relatorios")||M.includes("/reports")?s("reports"):M.includes("/procedimentos")||M.includes("/procedures")?s("procedures"):M.includes("/inventario")||M.includes("/inventory")?s("inventory"):(M==="/estoque"||M==="/estoque/dashboard")&&s("dashboard")},[e]),k.useEffect(()=>{E()},[w]);const E=async()=>{try{a(!0);const[M,D,O,B]=await Promise.all([vh.getStockValue(),vh.getAlertCount(),vh.getLowStockProducts(),vh.getExpiringProducts(30)]);l(M),d(D),u(O),h(B)}catch(M){console.error("Erro ao carregar dados do estoque:",M),Le.error("Erro ao carregar dados do estoque")}finally{a(!1)}},A=()=>{p(!1),v(void 0),j(M=>M+1),Le.success("Produto salvo com sucesso!")},C=()=>{y(!1),j(M=>M+1),Le.success("Movimentação registrada com sucesso!")},S=M=>{v(M),p(!0)},T=M=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M),_=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Valor Total"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:T(o.totalValue)})]}),i.jsx("div",{className:"h-12 w-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:i.jsx(Ba,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Produtos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:o.totalProducts})]}),i.jsx("div",{className:"h-12 w-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:i.jsx(Yh,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Itens em Estoque"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:Math.round(o.totalItems)})]}),i.jsx("div",{className:"h-12 w-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:i.jsx(Qc,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Alertas Ativos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:c.total})]}),i.jsx("div",{className:"h-12 w-12 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center",children:i.jsx($u,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]})})]}),c.total>0&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo de Alertas"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center",children:i.jsx(zu,{className:"h-5 w-5 text-yellow-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Estoque Baixo"}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.byType.LOW_STOCK})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center",children:i.jsx(Yh,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Sem Estoque"}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.byType.OUT_OF_STOCK})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center",children:i.jsx(ka,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"A Vencer"}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.byType.EXPIRING_SOON})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx($u,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Vencidos"}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.byType.EXPIRED})]})]})]})]}),f.length>0&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Produtos com Estoque Baixo"}),i.jsx("button",{onClick:()=>t("/estoque/alertas"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Ver todos"})]}),i.jsx("div",{className:"space-y-3",children:f.slice(0,5).map(M=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:M.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[M.sku&&`SKU: ${M.sku} • `,"Categoria: ",M.category]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-lg font-bold text-yellow-700 dark:text-yellow-400",children:[M.currentStock," ",M.unit]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Mínimo: ",M.minimumStock," ",M.unit]})]})]},M.id))})]}),m.length>0&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Produtos Próximos ao Vencimento"}),i.jsx("button",{onClick:()=>t("/estoque/alertas"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Ver todos"})]}),i.jsx("div",{className:"space-y-3",children:m.slice(0,5).map(M=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-700",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:M.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[M.batchNumber&&`Lote: ${M.batchNumber} • `,"Estoque: ",M.currentStock," ",M.unit]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-bold text-orange-700",children:M.expirationDate?new Date(M.expirationDate).toLocaleDateString("pt-BR"):"Sem data"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Validade"})]})]},M.id))})]})]});return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestão de Estoque"}),i.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Controle completo do seu inventário e movimentações"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(MG,{}),i.jsxs("button",{onClick:()=>{v(void 0),p(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[i.jsx(ja,{className:"h-5 w-5 mr-2"}),"Novo Produto"]}),i.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[i.jsx(eb,{className:"h-5 w-5 mr-2"}),"Nova Movimentação"]})]})]})}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:i.jsxs("nav",{className:"-mb-px flex space-x-8",children:[i.jsx("button",{onClick:()=>t("/estoque/dashboard"),className:`
                  py-4 px-1 border-b-2 font-medium text-sm transition-colors
                  ${n==="dashboard"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}
                `,children:"Dashboard"}),i.jsx("button",{onClick:()=>t("/estoque/produtos"),className:`
                  py-4 px-1 border-b-2 font-medium text-sm transition-colors
                  ${n==="products"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}
                `,children:"Produtos"}),i.jsx("button",{onClick:()=>t("/estoque/movimentacoes"),className:`
                  py-4 px-1 border-b-2 font-medium text-sm transition-colors
                  ${n==="movements"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}
                `,children:"Movimentações"}),i.jsxs("button",{onClick:()=>t("/estoque/alertas"),className:`
                  py-4 px-1 border-b-2 font-medium text-sm transition-colors relative
                  ${n==="alerts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}
                `,children:["Alertas",c.total>0&&i.jsx("span",{className:"absolute -top-1 -right-2 h-5 w-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:c.total>9?"9+":c.total})]}),i.jsx("button",{onClick:()=>t("/estoque/relatorios"),className:`
                  py-4 px-1 border-b-2 font-medium text-sm transition-colors
                  ${n==="reports"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}
                `,children:"Relatórios"}),i.jsx("button",{onClick:()=>t("/estoque/procedimentos"),className:`
                  py-4 px-1 border-b-2 font-medium text-sm transition-colors
                  ${n==="procedures"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}
                `,children:"Procedimentos"}),i.jsx("button",{onClick:()=>t("/estoque/inventario"),className:`
                  py-4 px-1 border-b-2 font-medium text-sm transition-colors
                  ${n==="inventory"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}
                `,children:"Inventário"})]})})}),i.jsx("div",{className:"mt-6",children:r&&n==="dashboard"?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs(i.Fragment,{children:[n==="dashboard"&&_(),n==="products"&&i.jsx(k.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:i.jsx($8e,{onEdit:S,refreshKey:w})}),n==="movements"&&i.jsx(k.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:i.jsx(W8e,{refreshKey:w})}),n==="alerts"&&i.jsx(k.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:i.jsx(V8e,{refreshKey:w,onRefresh:()=>j(M=>M+1)})}),n==="reports"&&i.jsx(k.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:i.jsx(G8e,{})}),n==="procedures"&&i.jsx(k.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:i.jsx(q8e,{})}),n==="inventory"&&i.jsx(k.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:i.jsx(Y8e,{})})]})})]}),g&&i.jsx(k.Suspense,{fallback:null,children:i.jsx(U8e,{product:x,onClose:()=>{p(!1),v(void 0)},onSave:A})}),b&&i.jsx(k.Suspense,{fallback:null,children:i.jsx(H8e,{onClose:()=>y(!1),onSave:C})})]})}var mi=(e=>(e.SUPERADMIN="superadmin",e.SUPER_ADMIN="super_admin",e.OWNER="owner",e.ADMIN="admin",e.MANAGER="manager",e.USER="user",e.RECEPTIONIST="receptionist",e.PROFESSIONAL="professional",e.DOCTOR="doctor",e))(mi||{}),Jd=(e=>(e.DASHBOARD_VIEW_ALL="dashboard.view_all",e.DASHBOARD_VIEW_PERSONAL="dashboard.view_personal",e.DASHBOARD_VIEW_OPERATIONAL="dashboard.view_operational",e.LEADS_CREATE="leads.create",e.LEADS_READ="leads.read",e.LEADS_READ_ALL="leads.read_all",e.LEADS_READ_ASSIGNED="leads.read_assigned",e.LEADS_UPDATE="leads.update",e.LEADS_UPDATE_ALL="leads.update_all",e.LEADS_UPDATE_OWN="leads.update_own",e.LEADS_DELETE="leads.delete",e.LEADS_ASSIGN="leads.assign",e.LEADS_EXPORT="leads.export",e.LEADS_IMPORT="leads.import",e.LEADS_CONFIGURE="leads.configure",e.AGENDA_VIEW_ALL="agenda.view_all",e.AGENDA_VIEW_OWN="agenda.view_own",e.AGENDA_CREATE="agenda.create",e.AGENDA_CREATE_FOR_OTHERS="agenda.create_for_others",e.AGENDA_UPDATE="agenda.update",e.AGENDA_UPDATE_OWN="agenda.update_own",e.AGENDA_DELETE="agenda.delete",e.AGENDA_CONFIGURE="agenda.configure",e.AGENDA_BLOCK_TIMES="agenda.block_times",e.RECORDS_VIEW_ALL="records.view_all",e.RECORDS_VIEW_OWN_PATIENTS="records.view_own_patients",e.RECORDS_CREATE="records.create",e.RECORDS_UPDATE="records.update",e.RECORDS_DELETE="records.delete",e.RECORDS_SIGN="records.sign",e.RECORDS_EXPORT="records.export",e.RECORDS_ATTACH_FILES="records.attach_files",e.FINANCIAL_VIEW_ALL="financial.view_all",e.FINANCIAL_VIEW_SUMMARY="financial.view_summary",e.FINANCIAL_VIEW_OWN_COMMISSIONS="financial.view_own_commissions",e.FINANCIAL_CREATE_REVENUE="financial.create_revenue",e.FINANCIAL_CREATE_EXPENSE="financial.create_expense",e.FINANCIAL_APPROVE_PAYMENTS="financial.approve_payments",e.FINANCIAL_CONFIGURE_GATEWAYS="financial.configure_gateways",e.FINANCIAL_MANAGE_CASH_FLOW="financial.manage_cash_flow",e.FINANCIAL_EXPORT_REPORTS="financial.export_reports",e.USERS_VIEW_ALL="users.view_all",e.USERS_CREATE="users.create",e.USERS_CREATE_BASIC="users.create_basic",e.USERS_UPDATE="users.update",e.USERS_UPDATE_BASIC="users.update_basic",e.USERS_DELETE="users.delete",e.USERS_CHANGE_ROLES="users.change_roles",e.USERS_RESET_PASSWORD="users.reset_password",e.USERS_VIEW_LOGS="users.view_logs",e.USERS_BLOCK="users.block",e.CONFIG_VIEW="config.view",e.CONFIG_UPDATE="config.update",e.CONFIG_MANAGE_INTEGRATIONS="config.manage_integrations",e.CONFIG_MANAGE_BILLING="config.manage_billing",e.CONFIG_BACKUP="config.backup",e.CONFIG_SECURITY="config.security",e.CONFIG_WHITE_LABEL="config.white_label",e.BI_VIEW_ALL="bi.view_all",e.BI_VIEW_OPERATIONAL="bi.view_operational",e.BI_VIEW_PERSONAL="bi.view_personal",e.BI_EXPORT="bi.export",e.BI_USE_AI="bi.use_ai",e.MARKETING_VIEW="marketing.view",e.MARKETING_CREATE="marketing.create",e.MARKETING_UPDATE="marketing.update",e.MARKETING_DELETE="marketing.delete",e.INVENTORY_VIEW="inventory.view",e.INVENTORY_CREATE="inventory.create",e.INVENTORY_UPDATE="inventory.update",e.INVENTORY_DELETE="inventory.delete",e.INVENTORY_MANAGE="inventory.manage",e.CHAT_VIEW_ALL="chat.view_all",e.CHAT_VIEW_ASSIGNED="chat.view_assigned",e.CHAT_VIEW_OWN_PATIENTS="chat.view_own_patients",e.CHAT_SEND="chat.send",e.CHAT_CONFIGURE="chat.configure",e.SUPERADMIN_ACCESS_ALL_TENANTS="superadmin.access_all_tenants",e.SUPERADMIN_MANAGE_TENANTS="superadmin.manage_tenants",e.SUPERADMIN_VIEW_LOGS="superadmin.view_logs",e.SUPERADMIN_MANAGE_INFRASTRUCTURE="superadmin.manage_infrastructure",e))(Jd||{});const J8e="https://api.nexusatemporal.com.br/api",K8e=()=>{const{user:e,token:t}=kc(),[r,a]=k.useState(null),[n,s]=k.useState(!0),[o,l]=k.useState(null);k.useEffect(()=>{(async()=>{var v,b;if(!t||!e){s(!1);return}try{s(!0);const y=await vu.get(`${J8e}/users/permissions/me`,{headers:{Authorization:`Bearer ${t}`}});y.data.success&&a(y.data.data)}catch(y){console.error("Error fetching permissions:",y),l(((b=(v=y.response)==null?void 0:v.data)==null?void 0:b.message)||"Erro ao carregar permissões")}finally{s(!1)}})()},[t,e]);const c=k.useCallback(x=>r?r.isSuperAdmin?!0:r.permissions.includes(x):!1,[r]),d=k.useCallback(x=>r?r.isSuperAdmin?!0:x.every(v=>r.permissions.includes(v)):!1,[r]),f=k.useCallback(x=>r?r.isSuperAdmin?!0:x.some(v=>r.permissions.includes(v)):!1,[r]),u=k.useCallback(x=>r?(Array.isArray(x)?x:[x]).includes(r.role):!1,[r]),m=k.useCallback(()=>(r==null?void 0:r.isSuperAdmin)||!1,[r]),h=k.useCallback(()=>u([mi.OWNER,mi.MANAGER]),[u]),g=k.useCallback(()=>u(mi.ADMIN),[u]),p=k.useCallback(()=>u([mi.PROFESSIONAL,mi.DOCTOR]),[u]);return{userPermissions:r,isLoading:n,error:o,can:c,canAll:d,canAny:f,hasRole:u,isSuperAdmin:m,isOwner:h,isAdmin:g,isProfessional:p}},Oy=({children:e,permission:t,role:r,requireAll:a=!1,fallback:n=null,showLoading:s=!1})=>{const{can:o,canAll:l,canAny:c,hasRole:d,isLoading:f}=K8e();if(f&&s)return i.jsx("div",{className:"flex items-center justify-center p-4",children:"Carregando..."});if(f&&!s)return null;if(t){const u=Array.isArray(t)?t:[t];if(u.length===1){if(!o(u[0]))return i.jsx(i.Fragment,{children:n})}else if(!(a?l(u):c(u)))return i.jsx(i.Fragment,{children:n})}return r&&!d(r)?i.jsx(i.Fragment,{children:n}):i.jsx(i.Fragment,{children:e})},Q8e=[{value:mi.USER,label:"Usuário",description:"Acesso básico ao sistema"},{value:mi.RECEPTIONIST,label:"Recepcionista",description:"Gerencia agendamentos e atendimento"},{value:mi.PROFESSIONAL,label:"Profissional",description:"Realiza procedimentos e atendimentos"},{value:mi.DOCTOR,label:"Médico",description:"Profissional médico"},{value:mi.ADMIN,label:"Administrador",description:"Gerencia sistema e configurações"},{value:mi.MANAGER,label:"Gerente",description:"Gerencia equipe e operações"},{value:mi.OWNER,label:"Proprietário",description:"Acesso total ao sistema"}],X8e=({isOpen:e,onClose:t,onSave:r,user:a,mode:n})=>{const[s,o]=k.useState({name:"",email:"",phone:"",role:mi.USER,status:"active",password:"",confirmPassword:""}),[l,c]=k.useState(!1),[d,f]=k.useState({});k.useEffect(()=>{o(a&&n==="edit"?{name:a.name||"",email:a.email||"",phone:a.phone||"",role:a.role,status:a.status||"active",password:"",confirmPassword:""}:{name:"",email:"",phone:"",role:mi.USER,status:"active",password:"",confirmPassword:""}),f({})},[a,n,e]);const u=()=>{const h={};return s.name.trim()||(h.name="Nome é obrigatório"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(h.email="Email inválido"):h.email="Email é obrigatório",n==="create"?(s.password?s.password.length<6&&(h.password="Senha deve ter no mínimo 6 caracteres"):h.password="Senha é obrigatória",s.password!==s.confirmPassword&&(h.confirmPassword="As senhas não coincidem")):n==="edit"&&s.password&&(s.password.length<6&&(h.password="Senha deve ter no mínimo 6 caracteres"),s.password!==s.confirmPassword&&(h.confirmPassword="As senhas não coincidem")),f(h),Object.keys(h).length===0},m=async h=>{if(h.preventDefault(),!!u()){c(!0);try{const g={name:s.name,email:s.email,phone:s.phone||null,role:s.role,status:s.status};s.password&&(g.password=s.password),await r(g),t()}catch(g){console.error("Error saving user:",g)}finally{c(!1)}}};return e?i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[i.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 dark:bg-gray-900 bg-opacity-75 dark:bg-opacity-75",onClick:t}),i.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[i.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n==="create"?"Novo Usuário":"Editar Usuário"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:i.jsx(br,{className:"w-5 h-5"})})]})}),i.jsxs("form",{onSubmit:m,className:"px-6 py-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome Completo *"}),i.jsx("input",{type:"text",value:s.name,onChange:h=>o({...s,name:h.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${d.name?"border-red-500":"border-gray-300"}`,placeholder:"Ex: João Silva"}),d.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:d.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),i.jsx("input",{type:"email",value:s.email,onChange:h=>o({...s,email:h.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${d.email?"border-red-500":"border-gray-300"}`,placeholder:"usuario@exemplo.com",disabled:n==="edit"}),d.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:d.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),i.jsx("input",{type:"tel",value:s.phone,onChange:h=>o({...s,phone:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"(00) 00000-0000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Função *"}),i.jsx("select",{value:s.role,onChange:h=>o({...s,role:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:Q8e.map(h=>i.jsxs("option",{value:h.value,children:[h.label," - ",h.description]},h.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status *"}),i.jsxs("select",{value:s.status,onChange:h=>o({...s,status:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Senha ",n==="create"?"*":"(deixe em branco para não alterar)"]}),i.jsx("input",{type:"password",value:s.password,onChange:h=>o({...s,password:h.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${d.password?"border-red-500":"border-gray-300"}`,placeholder:"Mínimo 6 caracteres"}),d.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:d.password})]}),(n==="create"||s.password)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirmar Senha *"}),i.jsx("input",{type:"password",value:s.confirmPassword,onChange:h=>o({...s,confirmPassword:h.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${d.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Repita a senha"}),d.confirmPassword&&i.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:d.confirmPassword})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",disabled:l,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:l,children:l?i.jsxs(i.Fragment,{children:[i.jsx(Uu,{className:"w-4 h-4 mr-2 animate-spin"}),"Salvando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(c6,{className:"w-4 h-4 mr-2"}),"Salvar"]})})]})]})]})]})}):null},Z8e=({isOpen:e,onClose:t,onConfirm:r,userName:a,loading:n})=>{if(!e)return null;const s=async()=>{await r()};return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[i.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 dark:bg-gray-900 bg-opacity-75 dark:bg-opacity-75",onClick:t}),i.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full",children:[i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 px-6 py-4 border-b border-red-200 dark:border-red-800",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx($u,{className:"w-6 h-6 text-red-600 dark:text-red-400 mr-3"}),i.jsx("h3",{className:"text-lg font-semibold text-red-900 dark:text-red-100",children:"Confirmar Exclusão"})]}),i.jsx("button",{onClick:t,className:"text-red-400 hover:text-red-500 dark:hover:text-red-300",disabled:n,children:i.jsx(br,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"px-6 py-4",children:[i.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Tem certeza que deseja excluir o usuário"," ",i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a}),"?"]}),i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:i.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[i.jsx("strong",{children:"Atenção:"})," Esta ação marcará o usuário como inativo. O usuário não poderá mais acessar o sistema, mas seus dados serão mantidos."]})})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-4 flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",disabled:n,children:"Cancelar"}),i.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:n,children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):i.jsxs(i.Fragment,{children:[i.jsx(An,{className:"w-4 h-4 mr-2"}),"Excluir Usuário"]})})]})]})]})})},ug="https://api.nexusatemporal.com.br/api",e7e={superadmin:"Super Admin",super_admin:"Super Admin",owner:"Proprietário",manager:"Gerente",admin:"Administrador",user:"Usuário",receptionist:"Recepcionista",professional:"Profissional",doctor:"Médico"},t7e={superadmin:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",super_admin:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",owner:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",manager:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",admin:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",user:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",receptionist:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",professional:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",doctor:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},r7e=()=>{const{token:e}=kc(),[t,r]=k.useState([]),[a,n]=k.useState(!0),[s,o]=k.useState(""),[l,c]=k.useState(!1),[d,f]=k.useState(!1),[u,m]=k.useState(null),[h,g]=k.useState("create"),[p,x]=k.useState(!1),v=async()=>{var S,T;try{n(!0);const _=await vu.get(`${ug}/users`,{headers:{Authorization:`Bearer ${e}`},params:{search:s||void 0}});_.data.success&&r(_.data.data.users)}catch(_){console.error("Error fetching users:",_),Le.error(((T=(S=_.response)==null?void 0:S.data)==null?void 0:T.message)||"Erro ao carregar usuários")}finally{n(!1)}};k.useEffect(()=>{v()},[e]);const b=()=>{v()},y=()=>{m(null),g("create"),c(!0)},w=S=>{m(S),g("edit"),c(!0)},j=S=>{m(S),f(!0)},E=async S=>{var T,_;try{if(h==="create"){const M=await vu.post(`${ug}/users`,S,{headers:{Authorization:`Bearer ${e}`}});M.data.success&&(Le.success(M.data.message||"Usuário criado com sucesso!"),v())}else{const M=await vu.put(`${ug}/users/${u==null?void 0:u.id}`,S,{headers:{Authorization:`Bearer ${e}`}});M.data.success&&(Le.success(M.data.message||"Usuário atualizado com sucesso!"),v())}}catch(M){throw console.error("Error saving user:",M),Le.error(((_=(T=M.response)==null?void 0:T.data)==null?void 0:_.message)||"Erro ao salvar usuário"),M}},A=async()=>{var S,T;if(u)try{x(!0);const _=await vu.delete(`${ug}/users/${u.id}`,{headers:{Authorization:`Bearer ${e}`}});_.data.success&&(Le.success(_.data.message||"Usuário excluído com sucesso!"),f(!1),m(null),v())}catch(_){console.error("Error deleting user:",_),Le.error(((T=(S=_.response)==null?void 0:S.data)==null?void 0:T.message)||"Erro ao excluir usuário")}finally{x(!1)}},C=async S=>{var T,_;try{Le.loading("Reenviando email...",{id:"resend-email"});const M=await vu.post(`${ug}/users/${S.id}/resend-welcome-email`,{},{headers:{Authorization:`Bearer ${e}`}});M.data.success&&Le.success(M.data.message||"Email reenviado com sucesso!",{id:"resend-email"})}catch(M){console.error("Error resending email:",M),Le.error(((_=(T=M.response)==null?void 0:T.data)==null?void 0:_.message)||"Erro ao reenviar email",{id:"resend-email"})}};return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Usuários e Permissões"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gerencie usuários, funções e permissões de acesso"})]}),i.jsx(Oy,{permission:[Jd.USERS_CREATE,Jd.USERS_CREATE_BASIC],children:i.jsxs("button",{onClick:y,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(ja,{className:"w-4 h-4 mr-2"}),"Novo Usuário"]})})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:s,onChange:S=>o(S.target.value),onKeyPress:S=>S.key==="Enter"&&b(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),i.jsx("button",{onClick:b,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Buscar"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:a?i.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Carregando usuários..."}):t.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Ls,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum usuário encontrado"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Usuário"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Último Acesso"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(S=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:i.jsx("span",{className:"text-blue-600 dark:text-blue-300 font-medium",children:S.name.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S.name}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t7e[S.role]||"bg-gray-100 text-gray-800"}`,children:[i.jsx(Nb,{className:"w-3 h-3 mr-1"}),e7e[S.role]||S.role]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.status==="active"?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[i.jsx(ba,{className:"w-3 h-3 mr-1"}),"Ativo"]}):i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[i.jsx(xc,{className:"w-3 h-3 mr-1"}),"Inativo"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:S.lastLoginAt?new Date(S.lastLoginAt).toLocaleDateString("pt-BR"):"Nunca"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(Oy,{permission:[Jd.USERS_UPDATE,Jd.USERS_UPDATE_BASIC],children:i.jsx("button",{onClick:()=>C(S),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 p-1 rounded hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Reenviar email de boas-vindas",children:i.jsx(ro,{className:"w-4 h-4"})})}),i.jsx(Oy,{permission:[Jd.USERS_UPDATE,Jd.USERS_UPDATE_BASIC],children:i.jsx("button",{onClick:()=>w(S),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 p-1 rounded hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Editar usuário",children:i.jsx(Tf,{className:"w-4 h-4"})})}),i.jsx(Oy,{permission:Jd.USERS_DELETE,children:i.jsx("button",{onClick:()=>j(S),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Excluir usuário",children:i.jsx(An,{className:"w-4 h-4"})})})]})})]},S.id))})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Usuários"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]}),i.jsx(Ls,{className:"w-8 h-8 text-blue-600"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Usuários Ativos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.filter(S=>S.status==="active").length})]}),i.jsx(ba,{className:"w-8 h-8 text-green-600"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Administradores"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.filter(S=>["admin","owner","superadmin"].includes(S.role)).length})]}),i.jsx(Nb,{className:"w-8 h-8 text-purple-600"})]})})]}),i.jsx(X8e,{isOpen:l,onClose:()=>{c(!1),m(null)},onSave:E,user:u,mode:h}),i.jsx(Z8e,{isOpen:d,onClose:()=>{f(!1),m(null)},onConfirm:A,userName:(u==null?void 0:u.name)||"",loading:p})]})};function a7e(){const[e,t]=k.useState([{id:"openai",name:"OpenAI",icon:i.jsx(Wu,{className:"w-8 h-8 text-green-600"}),description:"ChatGPT, GPT-4, GPT-4 Turbo",models:["gpt-4-turbo-preview","gpt-4","gpt-3.5-turbo","gpt-3.5-turbo-16k"],docsUrl:"https://platform.openai.com/api-keys",configured:!1},{id:"anthropic",name:"Claude (Anthropic)",icon:i.jsx(df,{className:"w-8 h-8 text-purple-600"}),description:"Claude 3 Opus, Sonnet, Haiku",models:["claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307"],docsUrl:"https://console.anthropic.com/settings/keys",configured:!1},{id:"google",name:"Google Gemini",icon:i.jsx(yQ,{className:"w-8 h-8 text-blue-600"}),description:"Gemini Pro, Gemini Ultra",models:["gemini-pro","gemini-pro-vision","gemini-ultra"],docsUrl:"https://makersuite.google.com/app/apikey",configured:!1},{id:"groq",name:"Groq",icon:i.jsx(Zs,{className:"w-8 h-8 text-orange-600"}),description:"LLaMA, Mixtral (ultra-rápido e gratuito)",models:["llama3-70b-8192","llama3-8b-8192","mixtral-8x7b-32768","gemma-7b-it"],docsUrl:"https://console.groq.com/keys",configured:!1},{id:"openrouter",name:"OpenRouter",icon:i.jsx(bQ,{className:"w-8 h-8 text-indigo-600"}),description:"Acesso a múltiplas IAs (inclui modelos gratuitos)",models:["meta-llama/llama-3-70b-instruct:free","meta-llama/llama-3-8b-instruct:free","google/gemma-7b-it:free","mistralai/mistral-7b-instruct:free","openchat/openchat-7b:free","gpt-4-turbo-preview","claude-3-opus-20240229"],docsUrl:"https://openrouter.ai/keys",configured:!1}]),[r,a]=k.useState(!1),[n,s]=k.useState(null),[o,l]=k.useState(""),[c,d]=k.useState(""),[f,u]=k.useState(!1),[m,h]=k.useState(!1);k.useEffect(()=>{g()},[]);const g=async()=>{try{const w=(await me.get("/marketing/ai/configs")).data.data||[];t(j=>j.map(E=>{const A=w.find(C=>C.provider===E.id);return A?{...E,configured:!0,apiKey:A.apiKey,selectedModel:A.model}:E}))}catch(y){console.error("Erro ao carregar configurações de IA:",y)}},p=y=>{s(y),l(y.apiKey||""),d(y.selectedModel||y.models[0]),a(!0)},x=async()=>{var y,w;if(!n||!o){Le.error("Preencha a API Key");return}try{h(!0),Le.loading("Testando conexão...");const j=await me.post("/marketing/ai/configs/test",{provider:n.id,apiKey:o,model:c});Le.dismiss(),j.data.success?Le.success(j.data.message||"Conexão testada com sucesso!"):Le.error(j.data.message||"Erro ao testar conexão")}catch(j){Le.dismiss(),console.error("Erro ao testar conexão:",j),Le.error(((w=(y=j.response)==null?void 0:y.data)==null?void 0:w.message)||"Erro ao testar conexão")}finally{h(!1)}},v=async()=>{var y,w;if(!n||!o){Le.error("Preencha a API Key");return}try{u(!0),await me.post("/marketing/ai/configs",{provider:n.id,apiKey:o,model:c,isActive:!0}),Le.success(`${n.name} configurado com sucesso!`),a(!1),g()}catch(j){console.error("Erro ao salvar configuração:",j),Le.error(((w=(y=j.response)==null?void 0:y.data)==null?void 0:w.message)||"Erro ao salvar configuração")}finally{u(!1)}},b=async y=>{if(confirm("Deseja remover esta configuração?"))try{await me.delete(`/marketing/ai/configs/${y}`),Le.success("Configuração removida"),g()}catch(w){console.error("Erro ao deletar configuração:",w),Le.error("Erro ao remover configuração")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[i.jsx(Wu,{className:"w-6 h-6 text-primary-600"}),"Integrações de IA"]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configure as chaves de API para usar inteligência artificial nas campanhas"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(y=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:y.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:y.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:y.description}),y.configured&&y.selectedModel&&i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:"Configurado"}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Modelo: ",y.selectedModel]})]}),!y.configured&&i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:"Não configurado"})]})]})}),i.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[i.jsx("button",{onClick:()=>p(y),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${y.configured?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600":"bg-primary-600 text-white hover:bg-primary-700"}`,children:y.configured?"Reconfigurar":"Configurar"}),i.jsx("a",{href:y.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 transition-colors",title:"Documentação",children:i.jsx(F1,{className:"w-5 h-5"})}),y.configured&&i.jsx("button",{onClick:()=>b(y.id),className:"px-3 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-sm",children:"Remover"})]})]},y.id))}),r&&n&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[n.icon,"Configurar ",n.name]}),i.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:"×"})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["API Key ",n.name]}),i.jsx("input",{type:"password",value:o,onChange:y=>l(y.target.value),placeholder:"sk-...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-900 text-gray-900 dark:text-white"}),i.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Chave API para integração com ",n.name]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Modelo"}),i.jsx("select",{value:c,onChange:y=>d(y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-900 text-gray-900 dark:text-white",children:n.models.map(y=>i.jsxs("option",{value:y,children:[y,y.includes(":free")&&" (Gratuito)"]},y))}),i.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Escolha o modelo de IA que será usado"})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("button",{onClick:x,disabled:m||!o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx(Zs,{className:"w-4 h-4"}),m?"Testando...":"Testar Conexão"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:v,disabled:f,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Salvando...":"Salvar"})]})]})]})})]})}function n7e(){const[e,t]=k.useState([]),[r,a]=k.useState(!0),[n,s]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(""),[f,u]=k.useState({name:"",description:"",scopes:["read"],allowedIps:"",allowedOrigins:"",rateLimit:1e3,expiresAt:""});k.useEffect(()=>{m()},[]);const m=async()=>{try{a(!0);const w=await me.get("/integrations/api-keys");t(w.data)}catch(w){console.error("Error loading API keys:",w),Le.error("Erro ao carregar API Keys")}finally{a(!1)}},h=async w=>{var j,E;w.preventDefault();try{const A={...f,allowedIps:f.allowedIps?f.allowedIps.split(",").map(S=>S.trim()):void 0,allowedOrigins:f.allowedOrigins?f.allowedOrigins.split(",").map(S=>S.trim()):void 0},C=await me.post("/integrations/api-keys",A);d(C.data.key),l(!0),s(!1),u({name:"",description:"",scopes:["read"],allowedIps:"",allowedOrigins:"",rateLimit:1e3,expiresAt:""}),await m(),Le.success("API Key criada com sucesso!")}catch(A){console.error("Error creating API key:",A),Le.error(((E=(j=A.response)==null?void 0:j.data)==null?void 0:E.error)||"Erro ao criar API Key")}},g=async w=>{if(confirm("Tem certeza que deseja revogar esta API Key? Esta ação não pode ser desfeita."))try{await me.post(`/integrations/api-keys/${w}/revoke`),Le.success("API Key revogada com sucesso"),await m()}catch(j){console.error("Error revoking API key:",j),Le.error("Erro ao revogar API Key")}},p=async w=>{try{await me.post(`/integrations/api-keys/${w}/activate`),Le.success("API Key ativada com sucesso"),await m()}catch(j){console.error("Error activating API key:",j),Le.error("Erro ao ativar API Key")}},x=async w=>{if(confirm("Tem certeza que deseja deletar esta API Key?"))try{await me.delete(`/integrations/api-keys/${w}`),Le.success("API Key deletada com sucesso"),await m()}catch(j){console.error("Error deleting API key:",j),Le.error("Erro ao deletar API Key")}},v=w=>{navigator.clipboard.writeText(w),Le.success("Copiado para a área de transferência!")},b=w=>w?new Date(w).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",y=w=>{const E={active:{color:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",label:"Ativa",icon:i.jsx(ba,{className:"w-4 h-4"})},inactive:{color:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",label:"Inativa",icon:i.jsx(H_,{className:"w-4 h-4"})},revoked:{color:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",label:"Revogada",icon:i.jsx(rs,{className:"w-4 h-4"})}}[w];return i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${E.color}`,children:[E.icon,E.label]})};return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"API Keys"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gerencie chaves de API para integrar com N8N e outros sistemas externos"})]}),i.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(ja,{className:"w-4 h-4"}),"Nova API Key"]})]}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(rs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200 mb-1",children:"Como usar as API Keys"}),i.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1 list-disc ml-4",children:[i.jsxs("li",{children:["Envie a chave no header: ",i.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900 rounded",children:"Authorization: Bearer nxs_xxxxx"})]}),i.jsxs("li",{children:["Ou via query param: ",i.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900 rounded",children:"?api_key=nxs_xxxxx"})]}),i.jsx("li",{children:"Defina escopos (read, write, full) para controlar permissões"}),i.jsx("li",{children:"Configure IPs e origens permitidas para maior segurança"})]})]})]})}),r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.length===0?i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx(R7,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Nenhuma API Key criada ainda"}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mb-4",children:"Crie sua primeira API Key para começar a integrar"}),i.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(ja,{className:"w-4 h-4"}),"Criar API Key"]})]}):i.jsx("div",{className:"space-y-4",children:e.map(w=>i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:w.name}),y(w.status)]}),w.description&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:w.description}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[i.jsx(Nb,{className:"w-3 h-3"}),"Escopos"]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:w.scopes.map(j=>i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs",children:j},j))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[i.jsx(Qc,{className:"w-3 h-3"}),"Rate Limit"]}),i.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[w.rateLimit,"/hora"]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[i.jsx(Qc,{className:"w-3 h-3"}),"Uso"]}),i.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[w.usageCount.toLocaleString()," requisições"]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[i.jsx(Yr,{className:"w-3 h-3"}),"Último uso"]}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b(w.lastUsedAt)})]})]}),(w.allowedIps||w.allowedOrigins)&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[w.allowedIps&&w.allowedIps.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[i.jsx(a3,{className:"w-3 h-3"}),"IPs Permitidos"]}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:w.allowedIps.join(", ")})]}),w.allowedOrigins&&w.allowedOrigins.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[i.jsx(a3,{className:"w-3 h-3"}),"Origens Permitidas"]}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:w.allowedOrigins.join(", ")})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[w.status==="active"&&i.jsx("button",{onClick:()=>g(w.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Revogar",children:i.jsx(H_,{className:"w-4 h-4"})}),w.status==="inactive"&&i.jsx("button",{onClick:()=>p(w.id),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Ativar",children:i.jsx(wQ,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>x(w.id),className:"p-2 text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Deletar",children:i.jsx(An,{className:"w-4 h-4"})})]})]})},w.id))}),n&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Criar Nova API Key"})}),i.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome *"}),i.jsx("input",{type:"text",value:f.name,onChange:w=>u({...f,name:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0,placeholder:"Ex: N8N Workflow"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descrição"}),i.jsx("textarea",{value:f.description,onChange:w=>u({...f,description:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",rows:3,placeholder:"Descreva para que será usada esta chave"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Escopos *"}),i.jsx("div",{className:"space-y-2",children:["read","write","full"].map(w=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:f.scopes.includes(w),onChange:j=>{j.target.checked?u({...f,scopes:[...f.scopes,w]}):u({...f,scopes:f.scopes.filter(E=>E!==w)})},className:"rounded"}),i.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[w==="read"&&"Leitura - Apenas consultar dados",w==="write"&&"Escrita - Criar e modificar dados",w==="full"&&"Completo - Acesso total (read + write)"]})]},w))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rate Limit (requisições/hora)"}),i.jsx("input",{type:"number",value:f.rateLimit,onChange:w=>u({...f,rateLimit:parseInt(w.target.value)}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"1",max:"10000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"IPs Permitidos (opcional)"}),i.jsx("input",{type:"text",value:f.allowedIps,onChange:w=>u({...f,allowedIps:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: 192.168.1.1, 10.0.0.1 (separados por vírgula)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Origens Permitidas (opcional)"}),i.jsx("input",{type:"text",value:f.allowedOrigins,onChange:w=>u({...f,allowedOrigins:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: https://n8n.example.com, https://app.example.com"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Criar API Key"}),i.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"})]})]})]})}),o&&c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"API Key Criada com Sucesso!"})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(rs,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-yellow-900 dark:text-yellow-200 mb-1",children:"Atenção! Copie esta chave agora"}),i.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"Esta é a única vez que você verá esta chave. Guarde-a em um local seguro."})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sua API Key"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:c,readOnly:!0,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white font-mono text-sm"}),i.jsxs("button",{onClick:()=>v(c),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(f6,{className:"w-4 h-4"}),"Copiar"]})]})]}),i.jsx("button",{onClick:()=>{l(!1),d("")},className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fechar (Já copiei a chave)"})]})]})})]})}const s7e=()=>{const[e,t]=k.useState("integracoes"),[r,a]=k.useState([]),[n,s]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const d=await me.get("/payment-gateway/config");a(d.data)}catch(d){console.error("Error loading payment configs:",d)}finally{s(!1)}})()},[]);const o=[{id:"integracoes",label:"Integrações",icon:i.jsx(xf,{className:"w-5 h-5"}),description:"Gateways de pagamento, APIs e serviços externos"},{id:"api-keys",label:"API Keys",icon:i.jsx(R7,{className:"w-5 h-5"}),description:"Gerencie chaves de API para N8N e integrações externas"},{id:"ai-integrations",label:"Integrações de IA",icon:i.jsx(Wu,{className:"w-5 h-5"}),description:"OpenAI, Claude, Gemini, OpenRouter e outras IAs"},{id:"notificacoes",label:"Notificações",icon:i.jsx(kQ,{className:"w-5 h-5"}),description:"Configure alertas e notificações do sistema"},{id:"usuarios",label:"Usuários e Permissões",icon:i.jsx(Ls,{className:"w-5 h-5"}),description:"Gerencie usuários, funções e permissões"},{id:"sistema",label:"Sistema",icon:i.jsx(jQ,{className:"w-5 h-5"}),description:"Configurações gerais do sistema"},{id:"seguranca",label:"Segurança",icon:i.jsx(Nb,{className:"w-5 h-5"}),description:"Políticas de segurança e autenticação"},{id:"aparencia",label:"Aparência",icon:i.jsx(NQ,{className:"w-5 h-5"}),description:"Personalize a aparência do sistema"}],l=()=>{switch(e){case"integracoes":return i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Integrações"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Configure integrações com serviços externos e gateways de pagamento"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[i.jsx(xf,{className:"w-5 h-5 mr-2 text-blue-600"}),"Gateways de Pagamento"]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Configure Asaas e PagBank para receber pagamentos via Boleto, PIX e Cartão"})]}),i.jsx("a",{href:"/configuracoes/integracoes/pagamentos",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Configurar"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Asaas"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Boleto, PIX, Cartão de Crédito, Assinaturas"}),i.jsx("div",{className:"mt-3 flex items-center",children:(()=>{if(n)return i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:"Carregando..."});const c=r.find(d=>d.gateway==="asaas"&&d.isActive);if(c){const d=c.environment==="production"?"Produção":"Sandbox";return i.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",children:["Configurado (",d,")"]})}return i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:"Não configurado"})})()})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"PagBank"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Boleto, PIX, Cartão, Parcelamento"}),i.jsx("div",{className:"mt-3 flex items-center",children:(()=>{if(n)return i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:"Carregando..."});const c=r.find(d=>d.gateway==="pagbank"&&d.isActive);if(c){const d=c.environment==="production"?"Produção":"Sandbox";return i.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",children:["Configurado (",d,")"]})}return i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:"Não configurado"})})()})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),"WhatsApp"]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Integração com WhatsApp Business para atendimento"})]}),i.jsx("span",{className:"text-xs px-3 py-1.5 rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 font-medium",children:"Ativo"})]}),i.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.jsx("p",{children:"Conexão estabelecida via WAHA API"})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Próximas Integrações"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl mb-2",children:"📧"}),i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Email Marketing"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"SendGrid, Mailchimp"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl mb-2",children:"📊"}),i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Analytics"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Google Analytics, Meta Pixel"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl mb-2",children:"📱"}),i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"SMS"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Twilio, Zenvia"})]})]})]})]})]});case"api-keys":return i.jsx(n7e,{});case"ai-integrations":return i.jsx(a7e,{});case"notificacoes":return i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Notificações"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Configure como e quando você deseja receber notificações"}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Em desenvolvimento..."})})]});case"usuarios":return i.jsx(r7e,{});case"sistema":return i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Configurações do Sistema"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Configurações gerais e preferências do sistema"}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Em desenvolvimento..."})})]});case"seguranca":return i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Segurança"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Políticas de segurança, autenticação e logs de acesso"}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Em desenvolvimento..."})})]});case"aparencia":return i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Aparência"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Personalize cores, logo e tema do sistema"}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Em desenvolvimento..."})})]});default:return null}};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(nd,{className:"w-8 h-8 text-blue-600 mr-3"}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Configurações"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie todas as configurações do sistema"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx("nav",{className:"space-y-1",children:o.map(c=>i.jsxs("button",{onClick:()=>t(c.id),className:`w-full flex items-start px-4 py-3 text-left rounded-lg transition-colors ${e===c.id?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-200 border-l-4 border-blue-600":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[i.jsx("div",{className:"mr-3 mt-0.5",children:c.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium",children:c.label}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 line-clamp-2",children:c.description})]})]},c.id))})}),i.jsx("div",{className:"lg:col-span-3",children:l()})]})]})})},i7e=()=>{const[e,t]=k.useState("asaas"),[r,a]=k.useState({gateway:"asaas",environment:"sandbox",apiKey:"",webhookSecret:"",isActive:!1,config:{enableBoleto:!0,enablePix:!0,enableCreditCard:!1,enableDebit:!1,defaultDueDays:7,defaultFine:2,defaultInterest:1}}),[n,s]=k.useState({gateway:"pagbank",environment:"sandbox",apiKey:"",webhookSecret:"",isActive:!1,config:{enableBoleto:!0,enablePix:!0,enableCreditCard:!0,enableDebit:!0,defaultDueDays:7,defaultFine:2,defaultInterest:1}}),[o,l]=k.useState(!1),[c,d]=k.useState(!1),[f,u]=k.useState(!0);k.useEffect(()=>{m()},[]);const m=async()=>{try{u(!0);const b=(await me.get("/payment-gateway/config")).data,y=b.find(j=>j.gateway==="asaas"&&j.isActive);y&&a({...y,config:typeof y.config=="string"?JSON.parse(y.config):y.config});const w=b.find(j=>j.gateway==="pagbank"&&j.isActive);w&&s({...w,config:typeof w.config=="string"?JSON.parse(w.config):w.config})}catch(v){console.error("Error loading configs:",v)}finally{u(!1)}},h=async v=>{var b,y;try{d(!0),await me.post("/payment-gateway/config",v),Le.success(`Configuração do ${v.gateway==="asaas"?"Asaas":"PagBank"} salva com sucesso!`),m()}catch(w){Le.error(`Erro ao salvar: ${((y=(b=w.response)==null?void 0:b.data)==null?void 0:y.error)||w.message}`)}finally{d(!1)}},g=async v=>{var b,y,w;try{l(!0);const j=await me.post(`/payment-gateway/test/${v}`);if(j.data.success){const E=(b=j.data.balance)!=null&&b.balance?` | Saldo: R$ ${j.data.balance.balance.toFixed(2)}`:"";Le.success(`✅ Conexão com ${v==="asaas"?"Asaas":"PagBank"} estabelecida com sucesso!${E}`)}}catch(j){Le.error(`❌ Erro ao testar conexão: ${((w=(y=j.response)==null?void 0:y.data)==null?void 0:w.error)||j.message}`)}finally{l(!1)}},p=()=>{const v=r;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ambiente"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",value:"sandbox",checked:v.environment==="sandbox",onChange:b=>a({...v,environment:b.target.value}),className:"mr-2"}),i.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Sandbox (Testes)",i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Recomendado para iniciar"})]})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",value:"production",checked:v.environment==="production",onChange:b=>a({...v,environment:b.target.value}),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Production (Real)"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"API Key *"}),i.jsx("input",{type:"password",value:v.apiKey,onChange:b=>a({...v,apiKey:b.target.value}),placeholder:"$aact_...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Obtenha em: Asaas → Minha Conta → Integração → Gerar API Key"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Webhook Secret (Opcional)"}),i.jsx("input",{type:"password",value:v.webhookSecret||"",onChange:b=>a({...v,webhookSecret:b.target.value}),placeholder:"Secret compartilhado para validação",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Formas de Pagamento"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:v.config.enableBoleto,onChange:b=>a({...v,config:{...v.config,enableBoleto:b.target.checked}}),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Boleto Bancário"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:v.config.enablePix,onChange:b=>a({...v,config:{...v.config,enablePix:b.target.checked}}),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"PIX"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:v.config.enableCreditCard,onChange:b=>a({...v,config:{...v.config,enableCreditCard:b.target.checked}}),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Cartão de Crédito"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dias para Vencimento"}),i.jsx("input",{type:"number",value:v.config.defaultDueDays||7,onChange:b=>a({...v,config:{...v.config,defaultDueDays:parseInt(b.target.value)}}),min:"1",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Multa (%)"}),i.jsx("input",{type:"number",value:v.config.defaultFine||2,onChange:b=>a({...v,config:{...v.config,defaultFine:parseFloat(b.target.value)}}),min:"0",step:"0.1",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Juros/mês (%)"}),i.jsx("input",{type:"number",value:v.config.defaultInterest||1,onChange:b=>a({...v,config:{...v.config,defaultInterest:parseFloat(b.target.value)}}),min:"0",step:"0.1",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:v.isActive,onChange:b=>a({...v,isActive:b.target.checked}),className:"mr-2"}),i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ativar integração"})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("button",{onClick:()=>g("asaas"),disabled:!v.apiKey||o,className:"flex items-center px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?i.jsx(ec,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(ba,{className:"w-4 h-4 mr-2"}),"Testar Conexão"]}),i.jsxs("button",{onClick:()=>h(v),disabled:!v.apiKey||c,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?i.jsx(ec,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(nd,{className:"w-4 h-4 mr-2"}),"Salvar Configuração"]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"📡 Configure o Webhook no Asaas"}),i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:"Cole esta URL no painel do Asaas para receber notificações automáticas:"}),i.jsx("code",{className:"block p-2 bg-white dark:bg-gray-800 rounded text-xs text-gray-900 dark:text-gray-100 break-all",children:"https://api.nexusatemporal.com.br/api/payment-gateway/webhooks/asaas"})]})]})},x=()=>{const v=n;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ambiente"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",value:"sandbox",checked:v.environment==="sandbox",onChange:b=>s({...v,environment:b.target.value}),className:"mr-2"}),i.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Sandbox (Testes)",i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Recomendado para iniciar"})]})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",value:"production",checked:v.environment==="production",onChange:b=>s({...v,environment:b.target.value}),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Production (Real)"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Token de Acesso (API Key) *"}),i.jsx("input",{type:"password",value:v.apiKey,onChange:b=>s({...v,apiKey:b.target.value}),placeholder:"Bearer token...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Obtenha em: PagBank → Conta → Integrações → Gerar Token OAuth"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Webhook Secret (Opcional)"}),i.jsx("input",{type:"password",value:v.webhookSecret||"",onChange:b=>s({...v,webhookSecret:b.target.value}),placeholder:"Secret compartilhado para validação",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Formas de Pagamento"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:v.config.enableBoleto,onChange:b=>s({...v,config:{...v.config,enableBoleto:b.target.checked}}),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Boleto Bancário"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:v.config.enablePix,onChange:b=>s({...v,config:{...v.config,enablePix:b.target.checked}}),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"PIX"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:v.config.enableCreditCard,onChange:b=>s({...v,config:{...v.config,enableCreditCard:b.target.checked}}),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Cartão de Crédito"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:v.config.enableDebit,onChange:b=>s({...v,config:{...v.config,enableDebit:b.target.checked}}),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Cartão de Débito"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dias para Vencimento"}),i.jsx("input",{type:"number",value:v.config.defaultDueDays||7,onChange:b=>s({...v,config:{...v.config,defaultDueDays:parseInt(b.target.value)}}),min:"1",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Multa (%)"}),i.jsx("input",{type:"number",value:v.config.defaultFine||2,onChange:b=>s({...v,config:{...v.config,defaultFine:parseFloat(b.target.value)}}),min:"0",step:"0.1",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Juros/mês (%)"}),i.jsx("input",{type:"number",value:v.config.defaultInterest||1,onChange:b=>s({...v,config:{...v.config,defaultInterest:parseFloat(b.target.value)}}),min:"0",step:"0.1",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:v.isActive,onChange:b=>s({...v,isActive:b.target.checked}),className:"mr-2"}),i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ativar integração"})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("button",{onClick:()=>g("pagbank"),disabled:!v.apiKey||o,className:"flex items-center px-4 py-2 border border-green-600 text-green-600 rounded-lg hover:bg-green-50 dark:hover:bg-green-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?i.jsx(ec,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(ba,{className:"w-4 h-4 mr-2"}),"Testar Conexão"]}),i.jsxs("button",{onClick:()=>h(v),disabled:!v.apiKey||c,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?i.jsx(ec,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(nd,{className:"w-4 h-4 mr-2"}),"Salvar Configuração"]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-green-900 dark:text-green-100 mb-2",children:"📡 Configure o Webhook no PagBank"}),i.jsx("p",{className:"text-sm text-green-800 dark:text-green-200 mb-2",children:"Cole esta URL no painel do PagBank para receber notificações automáticas:"}),i.jsx("code",{className:"block p-2 bg-white dark:bg-gray-800 rounded text-xs text-gray-900 dark:text-gray-100 break-all",children:"https://api.nexusatemporal.com.br/api/payment-gateway/webhooks/pagbank"}),i.jsx("p",{className:"mt-2 text-xs text-green-700 dark:text-green-300",children:"💡 Acesse: PagBank → Configurações → Notificações de Webhook"})]}),i.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-yellow-900 dark:text-yellow-100 mb-2",children:"🔐 Autorização OAuth - PagBank"}),i.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-3",children:"O PagBank utiliza OAuth 2.0 para autenticação. Você precisará autorizar o aplicativo para usar a API."}),i.jsxs("ol",{className:"text-xs text-yellow-700 dark:text-yellow-300 space-y-1 list-decimal list-inside",children:[i.jsx("li",{children:'Acesse o painel do PagBank e vá em "Integrações"'}),i.jsx("li",{children:"Crie uma nova aplicação OAuth"}),i.jsx("li",{children:"Copie o Client ID e Client Secret"}),i.jsx("li",{children:"Configure as permissões necessárias (payments, customers, webhooks)"}),i.jsx("li",{children:"Autorize a aplicação e copie o Access Token"}),i.jsx("li",{children:"Cole o Access Token no campo acima"})]})]})]})};return f?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(ec,{className:"w-8 h-8 animate-spin text-blue-600"})}):i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Integração de Pagamentos"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configure os gateways de pagamento para receber cobranças via Boleto, PIX e Cartão"})]}),i.jsxs("div",{className:"flex space-x-2 border-b border-gray-200 dark:border-gray-700 mb-6",children:[i.jsx("button",{onClick:()=>t("asaas"),className:`px-4 py-2 font-medium text-sm border-b-2 transition-colors ${e==="asaas"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(xf,{className:"w-4 h-4 mr-2"}),"Asaas",r.isActive&&i.jsx(ba,{className:"w-3 h-3 ml-2 text-green-500"})]})}),i.jsx("button",{onClick:()=>t("pagbank"),className:`px-4 py-2 font-medium text-sm border-b-2 transition-colors ${e==="pagbank"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ba,{className:"w-4 h-4 mr-2"}),"PagBank",n.isActive&&i.jsx(ba,{className:"w-3 h-3 ml-2 text-green-500"})]})})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:e==="asaas"?p():x()})]})},o7e=()=>{const e=vi();return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("button",{onClick:()=>e("/configuracoes"),className:"flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[i.jsx(Aw,{className:"w-4 h-4 mr-2"}),"Voltar para Configurações"]}),i.jsx(i7e,{})]})})};class l7e{async getExecutiveDashboard(t){try{const{data:r}=await me.get("/bi/dashboards/executive",{params:t});return{...r,isRealData:!0,dataSource:"api"}}catch(r){return console.error("Error fetching executive dashboard:",r),console.warn("⚠️  Usando dados de demonstração devido a erro na API"),{...this.getMockData(),isRealData:!1,dataSource:"mock"}}}async getSalesDashboard(t){try{const{data:r}=await me.get("/bi/dashboards/sales",{params:t});return{...r,isRealData:!0,dataSource:"api"}}catch(r){return console.error("Error fetching sales dashboard:",r),console.warn("⚠️  Usando dados de demonstração devido a erro na API"),{...this.getMockData(),isRealData:!1,dataSource:"mock"}}}async getFinancialDashboard(t){try{const{data:r}=await me.get("/bi/dashboards/financial",{params:t});return r}catch(r){return console.error("Error fetching financial dashboard:",r),this.getMockData()}}async getAllKPIs(t){try{const{data:r}=await me.get("/bi/kpis",{params:t});return r}catch(r){return console.error("Error fetching KPIs:",r),this.getMockData().kpis}}async exportReport(t,r="pdf",a){return await new Promise(n=>setTimeout(n,1e3)),new Blob(["Mock Report"],{type:"application/pdf"})}getMockData(){const t=new Date,r=[];for(let a=29;a>=0;a--){const n=new Date(t);n.setDate(n.getDate()-a),r.push(n.toISOString().split("T")[0])}return{kpis:{revenue:{name:"Receita Total",value:125850.5,unit:"R$",target:15e4,trend:12.5,period:"monthly"},sales:{name:"Total de Vendas",value:156,unit:"",target:200,trend:8.3,period:"monthly"},leads:{name:"Novos Leads",value:89,unit:"",target:100,trend:-5.2,period:"monthly"},conversionRate:{name:"Taxa de Conversão",value:24.5,unit:"%",target:30,trend:3.1,period:"monthly"},averageTicket:{name:"Ticket Médio",value:806.73,unit:"R$",target:900,trend:4.2,period:"monthly"},profitMargin:{name:"Margem de Lucro",value:32.8,unit:"%",target:35,trend:1.5,period:"monthly"}},charts:{salesOverTime:r.map((a,n)=>({date:a,value:2500+Math.random()*3e3+n*50,count:Math.floor(3+Math.random()*8)})),salesByProduct:[{name:"Harmonização Facial",value:45200,count:45},{name:"Botox",value:38500,count:62},{name:"Preenchimento Labial",value:28300,count:38},{name:"Limpeza de Pele",value:14800,count:28},{name:"Peeling Químico",value:9850,count:15}],salesFunnel:[{name:"Novos",value:89,count:89},{name:"Contatados",value:72,count:72},{name:"Qualificados",value:58,count:58},{name:"Proposta",value:42,count:42},{name:"Negociação",value:28,count:28},{name:"Ganhos",value:22,count:22}],revenueVsExpenses:{revenue:125850.5,expenses:84571.2}}}}}const CP=new l7e,c7e=({value:e,onChange:t})=>{const[r,a]=k.useState(e.preset==="custom"),n=[{value:"today",label:"Hoje"},{value:"yesterday",label:"Ontem"},{value:"last7days",label:"Últimos 7 dias"},{value:"last30days",label:"Últimos 30 dias"},{value:"thisMonth",label:"Este mês"},{value:"lastMonth",label:"Mês passado"},{value:"custom",label:"Personalizado"}],s=c=>{const d=new Date,f=new Date(d.getFullYear(),d.getMonth(),d.getDate());switch(c){case"today":return{startDate:f.toISOString().split("T")[0],endDate:f.toISOString().split("T")[0]};case"yesterday":const u=new Date(f);return u.setDate(u.getDate()-1),{startDate:u.toISOString().split("T")[0],endDate:u.toISOString().split("T")[0]};case"last7days":const m=new Date(f);return m.setDate(m.getDate()-6),{startDate:m.toISOString().split("T")[0],endDate:f.toISOString().split("T")[0]};case"last30days":const h=new Date(f);return h.setDate(h.getDate()-29),{startDate:h.toISOString().split("T")[0],endDate:f.toISOString().split("T")[0]};case"thisMonth":return{startDate:new Date(d.getFullYear(),d.getMonth(),1).toISOString().split("T")[0],endDate:f.toISOString().split("T")[0]};case"lastMonth":const p=new Date(d.getFullYear(),d.getMonth()-1,1),x=new Date(d.getFullYear(),d.getMonth(),0);return{startDate:p.toISOString().split("T")[0],endDate:x.toISOString().split("T")[0]};default:return{startDate:e.startDate,endDate:e.endDate}}},o=c=>{if(c==="custom")a(!0),t({...e,preset:"custom"});else{a(!1);const d=s(c);t({startDate:d.startDate,endDate:d.endDate,preset:c})}},l=(c,d)=>{t({...e,[c]:d,preset:"custom"})};return i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(c=>i.jsx("button",{onClick:()=>o(c.value),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${e.preset===c.value?"bg-blue-600 dark:bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:c.label},c.value))}),r&&i.jsxs("div",{className:"grid grid-cols-2 gap-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Data Inicial"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:e.startDate,onChange:c=>l("startDate",c.target.value),className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md
                         bg-white dark:bg-gray-900
                         text-gray-900 dark:text-gray-100
                         placeholder-gray-400 dark:placeholder-gray-500
                         focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent
                         transition-colors`}),i.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Data Final"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:e.endDate,onChange:c=>l("endDate",c.target.value),className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md
                         bg-white dark:bg-gray-900
                         text-gray-900 dark:text-gray-100
                         placeholder-gray-400 dark:placeholder-gray-500
                         focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent
                         transition-colors`}),i.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500 pointer-events-none"})]})]})]})]})},sh=({kpi:e,loading:t=!1})=>{if(t)return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3 mb-4"}),i.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]});const{name:r,value:a,unit:n,target:s,trend:o}=e,l=()=>o?o>0?"text-green-600 dark:text-green-400":o<0?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400":"text-gray-500 dark:text-gray-400",c=!o||o===0?SQ:o>0?Do:zu,d=s?Math.min(a/s*100,100):0;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:r}),o!==void 0&&i.jsxs("div",{className:`flex items-center ${l()}`,children:[i.jsx(c,{className:"w-4 h-4 mr-1"}),i.jsxs("span",{className:"text-sm font-semibold",children:[Math.abs(o).toFixed(1),"%"]})]})]}),i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:n==="R$"?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-2xl",children:"R$"})," ",a.toLocaleString("pt-BR",{minimumFractionDigits:2})]}):n==="%"?i.jsxs(i.Fragment,{children:[a.toFixed(1),i.jsx("span",{className:"text-xl",children:"%"})]}):a.toLocaleString("pt-BR")})}),s&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${d>=100?"bg-green-500 dark:bg-green-400":d>=70?"bg-blue-500 dark:bg-blue-400":d>=40?"bg-yellow-500 dark:bg-yellow-400":"bg-red-500 dark:bg-red-400"}`,style:{width:`${d}%`}})}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[i.jsx(xh,{className:"w-3 h-3 mr-1"}),i.jsxs("span",{children:["Meta: ",n==="R$"?"R$ ":"",s.toLocaleString("pt-BR"),n==="%"?"%":""]})]}),i.jsxs("span",{className:`font-semibold ${d>=100?"text-green-600 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:[d.toFixed(0),"%"]})]})]})]})},Ry=({title:e,value:t,subtitle:r,icon:a,iconColor:n="text-blue-600 dark:text-blue-400",loading:s=!1})=>s?i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-5 animate-pulse border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-3"}),i.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]}):i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow p-5 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:e}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t}),r&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:r})]}),a&&i.jsx("div",{className:`p-2 rounded-lg bg-gray-100 dark:bg-gray-700 ${n}`,children:i.jsx(a,{className:"w-5 h-5"})})]})});function d7e(e){return e==null}var f7e=d7e;const gr=Lr(f7e);var u7e=kd,h7e=si,m7e=Pl,p7e="[object String]";function g7e(e){return typeof e=="string"||!h7e(e)&&m7e(e)&&u7e(e)==p7e}var x7e=g7e;const p0=Lr(x7e);var LG={exports:{}},na={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE=Symbol.for("react.element"),tE=Symbol.for("react.portal"),U4=Symbol.for("react.fragment"),W4=Symbol.for("react.strict_mode"),H4=Symbol.for("react.profiler"),V4=Symbol.for("react.provider"),G4=Symbol.for("react.context"),v7e=Symbol.for("react.server_context"),q4=Symbol.for("react.forward_ref"),Y4=Symbol.for("react.suspense"),J4=Symbol.for("react.suspense_list"),K4=Symbol.for("react.memo"),Q4=Symbol.for("react.lazy"),y7e=Symbol.for("react.offscreen"),TG;TG=Symbol.for("react.module.reference");function Jo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case eE:switch(e=e.type,e){case U4:case H4:case W4:case Y4:case J4:return e;default:switch(e=e&&e.$$typeof,e){case v7e:case G4:case q4:case Q4:case K4:case V4:return e;default:return t}}case tE:return t}}}na.ContextConsumer=G4;na.ContextProvider=V4;na.Element=eE;na.ForwardRef=q4;na.Fragment=U4;na.Lazy=Q4;na.Memo=K4;na.Portal=tE;na.Profiler=H4;na.StrictMode=W4;na.Suspense=Y4;na.SuspenseList=J4;na.isAsyncMode=function(){return!1};na.isConcurrentMode=function(){return!1};na.isContextConsumer=function(e){return Jo(e)===G4};na.isContextProvider=function(e){return Jo(e)===V4};na.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===eE};na.isForwardRef=function(e){return Jo(e)===q4};na.isFragment=function(e){return Jo(e)===U4};na.isLazy=function(e){return Jo(e)===Q4};na.isMemo=function(e){return Jo(e)===K4};na.isPortal=function(e){return Jo(e)===tE};na.isProfiler=function(e){return Jo(e)===H4};na.isStrictMode=function(e){return Jo(e)===W4};na.isSuspense=function(e){return Jo(e)===Y4};na.isSuspenseList=function(e){return Jo(e)===J4};na.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===U4||e===H4||e===W4||e===Y4||e===J4||e===y7e||typeof e=="object"&&e!==null&&(e.$$typeof===Q4||e.$$typeof===K4||e.$$typeof===V4||e.$$typeof===G4||e.$$typeof===q4||e.$$typeof===TG||e.getModuleId!==void 0)};na.typeOf=Jo;LG.exports=na;var b7e=LG.exports,w7e=kd,k7e=Pl,j7e="[object Number]";function N7e(e){return typeof e=="number"||k7e(e)&&w7e(e)==j7e}var IG=N7e;const S7e=Lr(IG);var C7e=IG;function A7e(e){return C7e(e)&&e!=+e}var E7e=A7e;const pv=Lr(E7e);var yl=function(t){return t===0?0:t>0?1:-1},Nu=function(t){return p0(t)&&t.indexOf("%")===t.length-1},yt=function(t){return S7e(t)&&!pv(t)},_7e=function(t){return gr(t)},ts=function(t){return yt(t)||p0(t)},M7e=0,gv=function(t){var r=++M7e;return"".concat(t||"").concat(r)},bl=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(t)&&!p0(t))return a;var s;if(Nu(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return pv(s)&&(s=a),n&&s>r&&(s=r),s},ef=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},L7e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},n=0;n<r;n++)if(!a[t[n]])a[t[n]]=!0;else return!0;return!1},ul=function(t,r){return yt(t)&&yt(r)?function(a){return t+a*(r-t)}:function(){return r}};function w2(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Oo(a,t))===r})}var T7e=function(t,r){return yt(t)&&yt(r)?t-r:p0(t)&&p0(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Hh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function N5(e){"@babel/helpers - typeof";return N5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N5(e)}var I7e=["viewBox","children"],D7e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AP=["points","pathLength"],NN={svg:I7e,polygon:AP,polyline:AP},rE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],k2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(k.isValidElement(t)&&(a=t.props),!op(a))return null;var n={};return Object.keys(a).forEach(function(s){rE.includes(s)&&(n[s]=r||function(o){return a[s](a,o)})}),n},P7e=function(t,r,a){return function(n){return t(r,a,n),null}},j2=function(t,r,a){if(!op(t)||N5(t)!=="object")return null;var n=null;return Object.keys(t).forEach(function(s){var o=t[s];rE.includes(s)&&typeof o=="function"&&(n||(n={}),n[s]=P7e(o,r,a))}),n},O7e=["children"],R7e=["children"];function EP(e,t){if(e==null)return{};var r=F7e(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function F7e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function S5(e){"@babel/helpers - typeof";return S5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S5(e)}var _P={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},td=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},MP=null,SN=null,aE=function e(t){if(t===MP&&Array.isArray(SN))return SN;var r=[];return k.Children.forEach(t,function(a){gr(a)||(b7e.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),SN=r,MP=t,r};function Fo(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(n){return td(n)}):a=[td(t)],aE(e).forEach(function(n){var s=Oo(n,"type.displayName")||Oo(n,"type.name");a.indexOf(s)!==-1&&r.push(n)}),r}function Vi(e,t){var r=Fo(e,t);return r&&r[0]}var LP=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,n=r.height;return!(!yt(a)||a<=0||!yt(n)||n<=0)},B7e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],z7e=function(t){return t&&t.type&&p0(t.type)&&B7e.indexOf(t.type)>=0},$7e=function(t){return t&&S5(t)==="object"&&"clipDot"in t},U7e=function(t,r,a,n){var s,o=(s=NN==null?void 0:NN[n])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!fr(t)&&(n&&o.includes(r)||D7e.includes(r))||a&&rE.includes(r)},Sr=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!op(n))return null;var s={};return Object.keys(n).forEach(function(o){var l;U7e((l=n)===null||l===void 0?void 0:l[o],o,r,a)&&(s[o]=n[o])}),s},C5=function e(t,r){if(t===r)return!0;var a=k.Children.count(t);if(a!==k.Children.count(r))return!1;if(a===0)return!0;if(a===1)return TP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var n=0;n<a;n++){var s=t[n],o=r[n];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!TP(s,o))return!1}return!0},TP=function(t,r){if(gr(t)&&gr(r))return!0;if(!gr(t)&&!gr(r)){var a=t.props||{},n=a.children,s=EP(a,O7e),o=r.props||{},l=o.children,c=EP(o,R7e);return n&&l?Hh(s,c)&&C5(n,l):!n&&!l?Hh(s,c):!1}return!1},IP=function(t,r){var a=[],n={};return aE(t).forEach(function(s,o){if(z7e(s))a.push(s);else if(s){var l=td(s.type),c=r[l]||{},d=c.handler,f=c.once;if(d&&(!f||!n[l])){var u=d(s,l,o);a.push(u),n[l]=!0}}}),a},W7e=function(t){var r=t&&t.type;return r&&_P[r]?_P[r]:null},H7e=function(t,r){return aE(r).indexOf(t)},V7e=["children","width","height","viewBox","className","style","title","desc"];function A5(){return A5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},A5.apply(this,arguments)}function G7e(e,t){if(e==null)return{};var r=q7e(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function q7e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function E5(e){var t=e.children,r=e.width,a=e.height,n=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,d=G7e(e,V7e),f=n||{width:r,height:a,x:0,y:0},u=Cr("recharts-surface",s);return Z.createElement("svg",A5({},Sr(d,!0,"svg"),{className:u,width:r,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Z.createElement("title",null,l),Z.createElement("desc",null,c),t)}var Y7e=["children","className"];function _5(){return _5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_5.apply(this,arguments)}function J7e(e,t){if(e==null)return{};var r=K7e(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function K7e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Sn=Z.forwardRef(function(e,t){var r=e.children,a=e.className,n=J7e(e,Y7e),s=Cr("recharts-layer",a);return Z.createElement("g",_5({className:s},Sr(n,!0),{ref:t}),r)}),rd=function(t,r){for(var a=arguments.length,n=new Array(a>2?a-2:0),s=2;s<a;s++)n[s-2]=arguments[s]},Q7e=WC;function X7e(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:Q7e(e,t,r)}var Z7e=X7e,eRe="\\ud800-\\udfff",tRe="\\u0300-\\u036f",rRe="\\ufe20-\\ufe2f",aRe="\\u20d0-\\u20ff",nRe=tRe+rRe+aRe,sRe="\\ufe0e\\ufe0f",iRe="\\u200d",oRe=RegExp("["+iRe+eRe+nRe+sRe+"]");function lRe(e){return oRe.test(e)}var DG=lRe;function cRe(e){return e.split("")}var dRe=cRe,PG="\\ud800-\\udfff",fRe="\\u0300-\\u036f",uRe="\\ufe20-\\ufe2f",hRe="\\u20d0-\\u20ff",mRe=fRe+uRe+hRe,pRe="\\ufe0e\\ufe0f",gRe="["+PG+"]",M5="["+mRe+"]",L5="\\ud83c[\\udffb-\\udfff]",xRe="(?:"+M5+"|"+L5+")",OG="[^"+PG+"]",RG="(?:\\ud83c[\\udde6-\\uddff]){2}",FG="[\\ud800-\\udbff][\\udc00-\\udfff]",vRe="\\u200d",BG=xRe+"?",zG="["+pRe+"]?",yRe="(?:"+vRe+"(?:"+[OG,RG,FG].join("|")+")"+zG+BG+")*",bRe=zG+BG+yRe,wRe="(?:"+[OG+M5+"?",M5,RG,FG,gRe].join("|")+")",kRe=RegExp(L5+"(?="+L5+")|"+wRe+bRe,"g");function jRe(e){return e.match(kRe)||[]}var NRe=jRe,SRe=dRe,CRe=DG,ARe=NRe;function ERe(e){return CRe(e)?ARe(e):SRe(e)}var _Re=ERe,MRe=Z7e,LRe=DG,TRe=_Re,IRe=uW;function DRe(e){return function(t){t=IRe(t);var r=LRe(t)?TRe(t):void 0,a=r?r[0]:t.charAt(0),n=r?MRe(r,1).join(""):t.slice(1);return a[e]()+n}}var PRe=DRe,ORe=PRe,RRe=ORe("toUpperCase"),FRe=RRe;const X4=Lr(FRe);function Ea(e){return function(){return e}}const $G=Math.cos,N2=Math.sin,Rl=Math.sqrt,S2=Math.PI,Z4=2*S2,T5=Math.PI,I5=2*T5,pu=1e-6,BRe=I5-pu;function UG(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zRe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UG;const r=10**t;return function(a){this._+=a[0];for(let n=1,s=a.length;n<s;++n)this._+=Math.round(arguments[n]*r)/r+a[n]}}class $Re{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UG:zRe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,n){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,r,a,n,s,o){this._append`C${+t},${+r},${+a},${+n},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,a,n,s){if(t=+t,r=+r,a=+a,n=+n,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=a-t,d=n-r,f=o-t,u=l-r,m=f*f+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>pu)if(!(Math.abs(u*c-d*f)>pu)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let h=a-o,g=n-l,p=c*c+d*d,x=h*h+g*g,v=Math.sqrt(p),b=Math.sqrt(m),y=s*Math.tan((T5-Math.acos((p+m-x)/(2*v*b)))/2),w=y/b,j=y/v;Math.abs(w-1)>pu&&this._append`L${t+w*f},${r+w*u}`,this._append`A${s},${s},0,0,${+(u*h>f*g)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,a,n,s,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),c=a*Math.sin(n),d=t+l,f=r+c,u=1^o,m=o?n-s:s-n;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>pu||Math.abs(this._y1-f)>pu)&&this._append`L${d},${f}`,a&&(m<0&&(m=m%I5+I5),m>BRe?this._append`A${a},${a},0,1,${u},${t-l},${r-c}A${a},${a},0,1,${u},${this._x1=d},${this._y1=f}`:m>pu&&this._append`A${a},${a},0,${+(m>=T5)},${u},${this._x1=t+a*Math.cos(s)},${this._y1=r+a*Math.sin(s)}`)}rect(t,r,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function nE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new $Re(t)}function sE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WG(e){this._context=e}WG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ek(e){return new WG(e)}function HG(e){return e[0]}function VG(e){return e[1]}function GG(e,t){var r=Ea(!0),a=null,n=ek,s=null,o=nE(l);e=typeof e=="function"?e:e===void 0?HG:Ea(e),t=typeof t=="function"?t:t===void 0?VG:Ea(t);function l(c){var d,f=(c=sE(c)).length,u,m=!1,h;for(a==null&&(s=n(h=o())),d=0;d<=f;++d)!(d<f&&r(u=c[d],d,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(u,d,c),+t(u,d,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ea(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ea(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ea(!!c),l):r},l.curve=function(c){return arguments.length?(n=c,a!=null&&(s=n(a)),l):n},l.context=function(c){return arguments.length?(c==null?a=s=null:s=n(a=c),l):a},l}function Fy(e,t,r){var a=null,n=Ea(!0),s=null,o=ek,l=null,c=nE(d);e=typeof e=="function"?e:e===void 0?HG:Ea(+e),t=typeof t=="function"?t:Ea(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?VG:Ea(+r);function d(u){var m,h,g,p=(u=sE(u)).length,x,v=!1,b,y=new Array(p),w=new Array(p);for(s==null&&(l=o(b=c())),m=0;m<=p;++m){if(!(m<p&&n(x=u[m],m,u))===v)if(v=!v)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=h;--g)l.point(y[g],w[g]);l.lineEnd(),l.areaEnd()}v&&(y[m]=+e(x,m,u),w[m]=+t(x,m,u),l.point(a?+a(x,m,u):y[m],r?+r(x,m,u):w[m]))}if(b)return l=null,b+""||null}function f(){return GG().defined(n).curve(o).context(s)}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ea(+u),a=null,d):e},d.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Ea(+u),d):e},d.x1=function(u){return arguments.length?(a=u==null?null:typeof u=="function"?u:Ea(+u),d):a},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ea(+u),r=null,d):t},d.y0=function(u){return arguments.length?(t=typeof u=="function"?u:Ea(+u),d):t},d.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Ea(+u),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(a).y(t)},d.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ea(!!u),d):n},d.curve=function(u){return arguments.length?(o=u,s!=null&&(l=o(s)),d):o},d.context=function(u){return arguments.length?(u==null?s=l=null:l=o(s=u),d):s},d}class qG{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function URe(e){return new qG(e,!0)}function WRe(e){return new qG(e,!1)}const iE={draw(e,t){const r=Rl(t/S2);e.moveTo(r,0),e.arc(0,0,r,0,Z4)}},HRe={draw(e,t){const r=Rl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},YG=Rl(1/3),VRe=YG*2,GRe={draw(e,t){const r=Rl(t/VRe),a=r*YG;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},qRe={draw(e,t){const r=Rl(t),a=-r/2;e.rect(a,a,r,r)}},YRe=.8908130915292852,JG=N2(S2/10)/N2(7*S2/10),JRe=N2(Z4/10)*JG,KRe=-$G(Z4/10)*JG,QRe={draw(e,t){const r=Rl(t*YRe),a=JRe*r,n=KRe*r;e.moveTo(0,-r),e.lineTo(a,n);for(let s=1;s<5;++s){const o=Z4*s/5,l=$G(o),c=N2(o);e.lineTo(c*r,-l*r),e.lineTo(l*a-c*n,c*a+l*n)}e.closePath()}},CN=Rl(3),XRe={draw(e,t){const r=-Rl(t/(CN*3));e.moveTo(0,r*2),e.lineTo(-CN*r,-r),e.lineTo(CN*r,-r),e.closePath()}},yo=-.5,bo=Rl(3)/2,D5=1/Rl(12),ZRe=(D5/2+1)*3,eFe={draw(e,t){const r=Rl(t/ZRe),a=r/2,n=r*D5,s=a,o=r*D5+r,l=-s,c=o;e.moveTo(a,n),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(yo*a-bo*n,bo*a+yo*n),e.lineTo(yo*s-bo*o,bo*s+yo*o),e.lineTo(yo*l-bo*c,bo*l+yo*c),e.lineTo(yo*a+bo*n,yo*n-bo*a),e.lineTo(yo*s+bo*o,yo*o-bo*s),e.lineTo(yo*l+bo*c,yo*c-bo*l),e.closePath()}};function tFe(e,t){let r=null,a=nE(n);e=typeof e=="function"?e:Ea(e||iE),t=typeof t=="function"?t:Ea(t===void 0?64:+t);function n(){let s;if(r||(r=s=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return n.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ea(s),n):e},n.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ea(+s),n):t},n.context=function(s){return arguments.length?(r=s??null,n):r},n}function C2(){}function A2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function KG(e){this._context=e}KG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:A2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:A2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rFe(e){return new KG(e)}function QG(e){this._context=e}QG.prototype={areaStart:C2,areaEnd:C2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:A2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aFe(e){return new QG(e)}function XG(e){this._context=e}XG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:A2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nFe(e){return new XG(e)}function ZG(e){this._context=e}ZG.prototype={areaStart:C2,areaEnd:C2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sFe(e){return new ZG(e)}function DP(e){return e<0?-1:1}function PP(e,t,r){var a=e._x1-e._x0,n=t-e._x1,s=(e._y1-e._y0)/(a||n<0&&-0),o=(r-e._y1)/(n||a<0&&-0),l=(s*n+o*a)/(a+n);return(DP(s)+DP(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function OP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function AN(e,t,r){var a=e._x0,n=e._y0,s=e._x1,o=e._y1,l=(s-a)/3;e._context.bezierCurveTo(a+l,n+l*t,s-l,o-l*r,s,o)}function E2(e){this._context=e}E2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AN(this,this._t0,OP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AN(this,OP(this,r=PP(this,e,t)),r);break;default:AN(this,this._t0,r=PP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eq(e){this._context=new tq(e)}(eq.prototype=Object.create(E2.prototype)).point=function(e,t){E2.prototype.point.call(this,t,e)};function tq(e){this._context=e}tq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,s){this._context.bezierCurveTo(t,e,a,r,s,n)}};function iFe(e){return new E2(e)}function oFe(e){return new eq(e)}function rq(e){this._context=e}rq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=RP(e),n=RP(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(a[0][s],n[0][s],a[1][s],n[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RP(e){var t,r=e.length-1,a,n=new Array(r),s=new Array(r),o=new Array(r);for(n[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=n[t]/s[t-1],s[t]-=a,o[t]-=a*o[t-1];for(n[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)n[t]=(o[t]-n[t+1])/s[t];for(s[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-n[t+1];return[n,s]}function lFe(e){return new rq(e)}function tk(e,t){this._context=e,this._t=t}tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cFe(e){return new tk(e,.5)}function dFe(e){return new tk(e,0)}function fFe(e){return new tk(e,1)}function mm(e,t){if((o=e.length)>1)for(var r=1,a,n,s=e[t[0]],o,l=s.length;r<o;++r)for(n=s,s=e[t[r]],a=0;a<l;++a)s[a][1]+=s[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function P5(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function uFe(e,t){return e[t]}function hFe(e){const t=[];return t.key=e,t}function mFe(){var e=Ea([]),t=P5,r=mm,a=uFe;function n(s){var o=Array.from(e.apply(this,arguments),hFe),l,c=o.length,d=-1,f;for(const u of s)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(u,o[l].key,d,s)]).data=u;for(l=0,f=sE(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return n.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ea(Array.from(s)),n):e},n.value=function(s){return arguments.length?(a=typeof s=="function"?s:Ea(+s),n):a},n.order=function(s){return arguments.length?(t=s==null?P5:typeof s=="function"?s:Ea(Array.from(s)),n):t},n.offset=function(s){return arguments.length?(r=s??mm,n):r},n}function pFe(e,t){if((a=e.length)>0){for(var r,a,n=0,s=e[0].length,o;n<s;++n){for(o=r=0;r<a;++r)o+=e[r][n][1]||0;if(o)for(r=0;r<a;++r)e[r][n][1]/=o}mm(e,t)}}function gFe(e,t){if((n=e.length)>0){for(var r=0,a=e[t[0]],n,s=a.length;r<s;++r){for(var o=0,l=0;o<n;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}mm(e,t)}}function xFe(e,t){if(!(!((o=e.length)>0)||!((s=(n=e[t[0]]).length)>0))){for(var r=0,a=1,n,s,o;a<s;++a){for(var l=0,c=0,d=0;l<o;++l){for(var f=e[t[l]],u=f[a][1]||0,m=f[a-1][1]||0,h=(u-m)/2,g=0;g<l;++g){var p=e[t[g]],x=p[a][1]||0,v=p[a-1][1]||0;h+=x-v}c+=u,d+=h*u}n[a-1][1]+=n[a-1][0]=r,c&&(r-=d/c)}n[a-1][1]+=n[a-1][0]=r,mm(e,t)}}function Zx(e){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zx(e)}var vFe=["type","size","sizeType"];function O5(){return O5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},O5.apply(this,arguments)}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(a){yFe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yFe(e,t,r){return t=bFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bFe(e){var t=wFe(e,"string");return Zx(t)=="symbol"?t:t+""}function wFe(e,t){if(Zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kFe(e,t){if(e==null)return{};var r=jFe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function jFe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var aq={symbolCircle:iE,symbolCross:HRe,symbolDiamond:GRe,symbolSquare:qRe,symbolStar:QRe,symbolTriangle:XRe,symbolWye:eFe},NFe=Math.PI/180,SFe=function(t){var r="symbol".concat(X4(t));return aq[r]||iE},CFe=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*NFe;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},AFe=function(t,r){aq["symbol".concat(X4(t))]=r},oE=function(t){var r=t.type,a=r===void 0?"circle":r,n=t.size,s=n===void 0?64:n,o=t.sizeType,l=o===void 0?"area":o,c=kFe(t,vFe),d=BP(BP({},c),{},{type:a,size:s,sizeType:l}),f=function(){var x=SFe(a),v=tFe().type(x).size(CFe(s,l,a));return v()},u=d.className,m=d.cx,h=d.cy,g=Sr(d,!0);return m===+m&&h===+h&&s===+s?Z.createElement("path",O5({},g,{className:Cr("recharts-symbols",u),transform:"translate(".concat(m,", ").concat(h,")"),d:f()})):null};oE.registerSymbol=AFe;function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function R5(){return R5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},R5.apply(this,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function EFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(a){e1(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MFe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sq(a.key),a)}}function LFe(e,t,r){return t&&MFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TFe(e,t,r){return t=_2(t),IFe(e,nq()?Reflect.construct(t,r||[],_2(e).constructor):t.apply(e,r))}function IFe(e,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DFe(e)}function DFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nq=function(){return!!e})()}function _2(e){return _2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_2(e)}function PFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F5(e,t)}function F5(e,t){return F5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},F5(e,t)}function e1(e,t,r){return t=sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=OFe(e,"string");return pm(t)=="symbol"?t:t+""}function OFe(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(pm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wo=32,lE=function(e){function t(){return _Fe(this,t),TFe(this,t,arguments)}return PFe(t,e),LFe(t,[{key:"renderIcon",value:function(a){var n=this.props.inactiveColor,s=wo/2,o=wo/6,l=wo/3,c=a.inactive?n:a.color;if(a.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:wo,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(wo,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return Z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wo/8,"h").concat(wo,"v").concat(wo*3/4,"h").concat(-wo,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(a.legendIcon)){var d=EFe({},a);return delete d.legendIcon,Z.cloneElement(a.legendIcon,d)}return Z.createElement(oE,{fill:c,cx:s,cy:s,size:wo,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,n=this.props,s=n.payload,o=n.iconSize,l=n.layout,c=n.formatter,d=n.inactiveColor,f={x:0,y:0,width:wo,height:wo},u={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,g){var p=h.formatter||c,x=Cr(e1(e1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=fr(h.value)?null:h.value;rd(!fr(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?d:h.color;return Z.createElement("li",R5({className:x,style:u,key:"legend-item-".concat(g)},j2(a.props,h,g)),Z.createElement(E5,{width:o,height:o,viewBox:f,style:m},a.renderIcon(h)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(v,h,g):v))})}},{key:"render",value:function(){var a=this.props,n=a.payload,s=a.layout,o=a.align;if(!n||!n.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);e1(lE,"displayName","Legend");e1(lE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function RFe(e){return e!==e}var FFe=RFe;function BFe(e,t,r){for(var a=r-1,n=e.length;++a<n;)if(e[a]===t)return a;return-1}var zFe=BFe,$Fe=iW,UFe=FFe,WFe=zFe;function HFe(e,t,r){return t===t?WFe(e,t,r):$Fe(e,UFe,r)}var VFe=HFe,GFe=VFe;function qFe(e,t){var r=e==null?0:e.length;return!!r&&GFe(e,t,0)>-1}var YFe=qFe;function JFe(e,t,r){for(var a=-1,n=e==null?0:e.length;++a<n;)if(r(t,e[a]))return!0;return!1}var KFe=JFe;function QFe(){}var XFe=QFe,EN=rW,ZFe=XFe,eBe=oA,tBe=1/0,rBe=EN&&1/eBe(new EN([,-0]))[1]==tBe?function(e){return new EN(e)}:ZFe,aBe=rBe,nBe=VU,sBe=YFe,iBe=KFe,oBe=qU,lBe=aBe,cBe=oA,dBe=200;function fBe(e,t,r){var a=-1,n=sBe,s=e.length,o=!0,l=[],c=l;if(r)o=!1,n=iBe;else if(s>=dBe){var d=t?null:lBe(e);if(d)return cBe(d);o=!1,n=oBe,c=new nBe}else c=t?[]:l;e:for(;++a<s;){var f=e[a],u=t?t(f):f;if(f=r||f!==0?f:0,o&&u===u){for(var m=c.length;m--;)if(c[m]===u)continue e;t&&c.push(u),l.push(f)}else n(c,u,r)||(c!==l&&c.push(u),l.push(f))}return l}var uBe=fBe,hBe=jd,mBe=uBe;function pBe(e,t){return e&&e.length?mBe(e,hBe(t)):[]}var gBe=pBe;const $P=Lr(gBe);function iq(e,t,r){return t===!0?$P(e,r):fr(t)?$P(e,t):e}function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}var xBe=["ref"];function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(a){rk(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lq(a.key),a)}}function yBe(e,t,r){return t&&WP(e.prototype,t),r&&WP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bBe(e,t,r){return t=M2(t),wBe(e,oq()?Reflect.construct(t,r||[],M2(e).constructor):t.apply(e,r))}function wBe(e,t){if(t&&(gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kBe(e)}function kBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!e})()}function M2(e){return M2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M2(e)}function jBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B5(e,t)}function B5(e,t){return B5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},B5(e,t)}function rk(e,t,r){return t=lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=NBe(e,"string");return gm(t)=="symbol"?t:t+""}function NBe(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SBe(e,t){if(e==null)return{};var r=CBe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function CBe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ABe(e){return e.value}function EBe(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var r=SBe(t,xBe);return Z.createElement(lE,r)}var HP=1,Ru=function(e){function t(){var r;vBe(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=bBe(this,t,[].concat(n)),rk(r,"lastBoundingBox",{width:-1,height:-1}),r}return jBe(t,e),yBe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>HP||Math.abs(n.height-this.lastBoundingBox.height)>HP)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,a&&a(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Uc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var n=this.props,s=n.layout,o=n.align,l=n.verticalAlign,c=n.margin,d=n.chartWidth,f=n.chartHeight,u,m;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();u={left:((d||0)-h.width)/2}}else u=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();m={top:((f||0)-g.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Uc(Uc({},u),m)}},{key:"render",value:function(){var a=this,n=this.props,s=n.content,o=n.width,l=n.height,c=n.wrapperStyle,d=n.payloadUniqBy,f=n.payload,u=Uc(Uc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Z.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(h){a.wrapperNode=h}},EBe(s,Uc(Uc({},this.props),{},{payload:iq(f,d,ABe)})))}}],[{key:"getWithHeight",value:function(a,n){var s=Uc(Uc({},this.defaultProps),a.props),o=s.layout;return o==="vertical"&&yt(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||n}:null}}])}(k.PureComponent);rk(Ru,"displayName","Legend");rk(Ru,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function t1(e){"@babel/helpers - typeof";return t1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t1(e)}function z5(){return z5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},z5.apply(this,arguments)}function _Be(e,t){return IBe(e)||TBe(e,t)||LBe(e,t)||MBe()}function MBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LBe(e,t){if(e){if(typeof e=="string")return VP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VP(e,t)}}function VP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function TBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function IBe(e){if(Array.isArray(e))return e}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(a){DBe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function DBe(e,t,r){return t=PBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PBe(e){var t=OBe(e,"string");return t1(t)=="symbol"?t:t+""}function OBe(e,t){if(t1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(t1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RBe(e){return Array.isArray(e)&&ts(e[0])&&ts(e[1])?e.join(" ~ "):e}var FBe=function(t){var r=t.separator,a=r===void 0?" : ":r,n=t.contentStyle,s=n===void 0?{}:n,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,f=t.payload,u=t.formatter,m=t.itemSorter,h=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,y=function(){if(f&&f.length){var M={padding:0,margin:0},D=(m?b4(f,m):f).map(function(O,B){if(O.type==="none")return null;var U=_N({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),q=O.formatter||u||RBe,K=O.value,G=O.name,ve=K,fe=G;if(q&&ve!=null&&fe!=null){var I=q(K,G,O,B,f);if(Array.isArray(I)){var z=_Be(I,2);ve=z[0],fe=z[1]}else ve=I}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},ts(fe)?Z.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,ts(fe)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},ve),Z.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},w=_N({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=_N({margin:0},d),E=!gr(p),A=E?p:"",C=Cr("recharts-default-tooltip",h),S=Cr("recharts-tooltip-label",g);E&&x&&f!==void 0&&f!==null&&(A=x(p,f));var T=b?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",z5({className:C,style:w},T),Z.createElement("p",{className:S,style:j},Z.isValidElement(A)?A:"".concat(A)),y())};function r1(e){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r1(e)}function By(e,t,r){return t=BBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BBe(e){var t=zBe(e,"string");return r1(t)=="symbol"?t:t+""}function zBe(e,t){if(r1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(r1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hg="recharts-tooltip-wrapper",$Be={visibility:"hidden"};function UBe(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Cr(hg,By(By(By(By({},"".concat(hg,"-right"),yt(r)&&t&&yt(t.x)&&r>=t.x),"".concat(hg,"-left"),yt(r)&&t&&yt(t.x)&&r<t.x),"".concat(hg,"-bottom"),yt(a)&&t&&yt(t.y)&&a>=t.y),"".concat(hg,"-top"),yt(a)&&t&&yt(t.y)&&a<t.y))}function qP(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,n=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(s&&yt(s[a]))return s[a];var f=r[a]-l-n,u=r[a]+n;if(t[a])return o[a]?f:u;if(o[a]){var m=f,h=c[a];return m<h?Math.max(u,c[a]):Math.max(f,c[a])}var g=u+l,p=c[a]+d;return g>p?Math.max(f,c[a]):Math.max(u,c[a])}function WBe(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function HBe(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,n=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,f,u;return o.height>0&&o.width>0&&r?(f=qP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:n,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),u=qP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:n,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=WBe({translateX:f,translateY:u,useTranslate3d:l})):d=$Be,{cssProperties:d,cssClasses:UBe({translateX:f,translateY:u,coordinate:r})}}function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(a){U5(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GBe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dq(a.key),a)}}function qBe(e,t,r){return t&&GBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YBe(e,t,r){return t=L2(t),JBe(e,cq()?Reflect.construct(t,r||[],L2(e).constructor):t.apply(e,r))}function JBe(e,t){if(t&&(xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KBe(e)}function KBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cq=function(){return!!e})()}function L2(e){return L2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L2(e)}function QBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$5(e,t)}function $5(e,t){return $5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},$5(e,t)}function U5(e,t,r){return t=dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=XBe(e,"string");return xm(t)=="symbol"?t:t+""}function XBe(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KP=1,ZBe=function(e){function t(){var r;VBe(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=YBe(this,t,[].concat(n)),U5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),U5(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return QBe(t,e),qBe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>KP||Math.abs(a.height-this.state.lastBoundingBox.height)>KP)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,n=this.props,s=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,d=n.children,f=n.coordinate,u=n.hasPayload,m=n.isAnimationActive,h=n.offset,g=n.position,p=n.reverseDirection,x=n.useTranslate3d,v=n.viewBox,b=n.wrapperStyle,y=HBe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:h,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),w=y.cssClasses,j=y.cssProperties,E=JP(JP({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&u?"visible":"hidden",position:"absolute",top:0,left:0},b);return Z.createElement("div",{tabIndex:-1,className:w,style:E,ref:function(C){a.wrapperNode=C}},d)}}])}(k.PureComponent),eze=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jp={isSsr:eze()};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(a){cE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rze(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,uq(a.key),a)}}function aze(e,t,r){return t&&rze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nze(e,t,r){return t=T2(t),sze(e,fq()?Reflect.construct(t,r||[],T2(e).constructor):t.apply(e,r))}function sze(e,t){if(t&&(vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ize(e)}function ize(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fq=function(){return!!e})()}function T2(e){return T2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T2(e)}function oze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W5(e,t)}function W5(e,t){return W5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},W5(e,t)}function cE(e,t,r){return t=uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=lze(e,"string");return vm(t)=="symbol"?t:t+""}function lze(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cze(e){return e.dataKey}function dze(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(FBe,t)}var ll=function(e){function t(){return tze(this,t),nze(this,t,arguments)}return oze(t,e),aze(t,[{key:"render",value:function(){var a=this,n=this.props,s=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,d=n.content,f=n.coordinate,u=n.filterNull,m=n.isAnimationActive,h=n.offset,g=n.payload,p=n.payloadUniqBy,x=n.position,v=n.reverseDirection,b=n.useTranslate3d,y=n.viewBox,w=n.wrapperStyle,j=g??[];u&&j.length&&(j=iq(g.filter(function(A){return A.value!=null&&(A.hide!==!0||a.props.includeHidden)}),p,cze));var E=j.length>0;return Z.createElement(ZBe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:f,hasPayload:E,offset:h,position:x,reverseDirection:v,useTranslate3d:b,viewBox:y,wrapperStyle:w},dze(d,XP(XP({},this.props),{},{payload:j})))}}])}(k.PureComponent);cE(ll,"displayName","Tooltip");cE(ll,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fze=Dl,uze=function(){return fze.Date.now()},hze=uze,mze=Yo,MN=hze,ZP=EU,pze="Expected a function",gze=Math.max,xze=Math.min;function vze(e,t,r){var a,n,s,o,l,c,d=0,f=!1,u=!1,m=!0;if(typeof e!="function")throw new TypeError(pze);t=ZP(t)||0,mze(r)&&(f=!!r.leading,u="maxWait"in r,s=u?gze(ZP(r.maxWait)||0,t):s,m="trailing"in r?!!r.trailing:m);function h(E){var A=a,C=n;return a=n=void 0,d=E,o=e.apply(C,A),o}function g(E){return d=E,l=setTimeout(v,t),f?h(E):o}function p(E){var A=E-c,C=E-d,S=t-A;return u?xze(S,s-C):S}function x(E){var A=E-c,C=E-d;return c===void 0||A>=t||A<0||u&&C>=s}function v(){var E=MN();if(x(E))return b(E);l=setTimeout(v,p(E))}function b(E){return l=void 0,m&&a?h(E):(a=n=void 0,o)}function y(){l!==void 0&&clearTimeout(l),d=0,a=c=n=l=void 0}function w(){return l===void 0?o:b(MN())}function j(){var E=MN(),A=x(E);if(a=arguments,n=this,c=E,A){if(l===void 0)return g(c);if(u)return clearTimeout(l),l=setTimeout(v,t),h(c)}return l===void 0&&(l=setTimeout(v,t)),o}return j.cancel=y,j.flush=w,j}var yze=vze,bze=yze,wze=Yo,kze="Expected a function";function jze(e,t,r){var a=!0,n=!0;if(typeof e!="function")throw new TypeError(kze);return wze(r)&&(a="leading"in r?!!r.leading:a,n="trailing"in r?!!r.trailing:n),bze(e,t,{leading:a,maxWait:t,trailing:n})}var Nze=jze;const hq=Lr(Nze);function a1(e){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a1(e)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function zy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(a){Sze(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sze(e,t,r){return t=Cze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cze(e){var t=Aze(e,"string");return a1(t)=="symbol"?t:t+""}function Aze(e,t){if(a1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(a1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eze(e,t){return Tze(e)||Lze(e,t)||Mze(e,t)||_ze()}function _ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mze(e,t){if(e){if(typeof e=="string")return tO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(e,t)}}function tO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Lze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Tze(e){if(Array.isArray(e))return e}var mq=k.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,n=a===void 0?{width:-1,height:-1}:a,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,f=d===void 0?0:d,u=e.minHeight,m=e.maxHeight,h=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,v=e.className,b=e.onResize,y=e.style,w=y===void 0?{}:y,j=k.useRef(null),E=k.useRef();E.current=b,k.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var A=k.useState({containerWidth:n.width,containerHeight:n.height}),C=Eze(A,2),S=C[0],T=C[1],_=k.useCallback(function(D,O){T(function(B){var U=Math.round(D),q=Math.round(O);return B.containerWidth===U&&B.containerHeight===q?B:{containerWidth:U,containerHeight:q}})},[]);k.useEffect(function(){var D=function(G){var ve,fe=G[0].contentRect,I=fe.width,z=fe.height;_(I,z),(ve=E.current)===null||ve===void 0||ve.call(E,I,z)};p>0&&(D=hq(D,p,{trailing:!0,leading:!1}));var O=new ResizeObserver(D),B=j.current.getBoundingClientRect(),U=B.width,q=B.height;return _(U,q),O.observe(j.current),function(){O.disconnect()}},[_,p]);var M=k.useMemo(function(){var D=S.containerWidth,O=S.containerHeight;if(D<0||O<0)return null;rd(Nu(o)||Nu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),rd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Nu(o)?D:o,U=Nu(c)?O:c;r&&r>0&&(B?U=B/r:U&&(B=U*r),m&&U>m&&(U=m)),rd(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,o,c,f,u,r);var q=!Array.isArray(h)&&td(h.type).endsWith("Chart");return Z.Children.map(h,function(K){return Z.isValidElement(K)?k.cloneElement(K,zy({width:B,height:U},q?{style:zy({height:"100%",width:"100%",maxHeight:U,maxWidth:B},K.props.style)}:{})):K})},[r,h,c,m,u,f,S,o]);return Z.createElement("div",{id:x?"".concat(x):void 0,className:Cr("recharts-responsive-container",v),style:zy(zy({},w),{},{width:o,height:c,minWidth:f,minHeight:u,maxHeight:m}),ref:j},M)}),pq=function(t){return null};pq.displayName="Cell";function n1(e){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(e)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function H5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(a){Ize(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ize(e,t,r){return t=Dze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dze(e){var t=Pze(e,"string");return n1(t)=="symbol"?t:t+""}function Pze(e,t){if(n1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(n1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ih={widthCache:{},cacheCount:0},Oze=2e3,Rze={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aO="recharts_measurement_span";function Fze(e){var t=H5({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Xg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||jp.isSsr)return{width:0,height:0};var a=Fze(r),n=JSON.stringify({text:t,copyStyle:a});if(ih.widthCache[n])return ih.widthCache[n];try{var s=document.getElementById(aO);s||(s=document.createElement("span"),s.setAttribute("id",aO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=H5(H5({},Rze),a);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return ih.widthCache[n]=c,++ih.cacheCount>Oze&&(ih.cacheCount=0,ih.widthCache={}),c}catch{return{width:0,height:0}}},Bze=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}function I2(e,t){return Wze(e)||Uze(e,t)||$ze(e,t)||zze()}function zze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ze(e,t){if(e){if(typeof e=="string")return nO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(e,t)}}function nO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Uze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Wze(e){if(Array.isArray(e))return e}function Hze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sO(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Gze(a.key),a)}}function Vze(e,t,r){return t&&sO(e.prototype,t),r&&sO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gze(e){var t=qze(e,"string");return s1(t)=="symbol"?t:t+""}function qze(e,t){if(s1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(s1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yze=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jze=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kze=Object.keys(gq),wh="NaN";function Qze(e,t){return e*gq[t]}var $y=function(){function e(t,r){Hze(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Yze.test(r)&&(this.num=NaN,this.unit=""),Kze.includes(r)&&(this.num=Qze(t,r),this.unit="px")}return Vze(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,n=(a=Jze.exec(r))!==null&&a!==void 0?a:[],s=I2(n,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function xq(e){if(e.includes(wh))return wh;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=iO.exec(t))!==null&&r!==void 0?r:[],n=I2(a,4),s=n[1],o=n[2],l=n[3],c=$y.parse(s??""),d=$y.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return wh;t=t.replace(iO,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,m=(u=oO.exec(t))!==null&&u!==void 0?u:[],h=I2(m,4),g=h[1],p=h[2],x=h[3],v=$y.parse(g??""),b=$y.parse(x??""),y=p==="+"?v.add(b):v.subtract(b);if(y.isNaN())return wh;t=t.replace(oO,y.toString())}return t}var lO=/\(([^()]*)\)/;function Xze(e){for(var t=e;t.includes("(");){var r=lO.exec(t),a=I2(r,2),n=a[1];t=t.replace(lO,xq(n))}return t}function Zze(e){var t=e.replace(/\s+/g,"");return t=Xze(t),t=xq(t),t}function e$e(e){try{return Zze(e)}catch{return wh}}function LN(e){var t=e$e(e.slice(5,-1));return t===wh?"":t}var t$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],r$e=["dx","dy","angle","className","breakAll"];function V5(){return V5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},V5.apply(this,arguments)}function cO(e,t){if(e==null)return{};var r=a$e(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function a$e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function dO(e,t){return o$e(e)||i$e(e,t)||s$e(e,t)||n$e()}function n$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$e(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function i$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function o$e(e){if(Array.isArray(e))return e}var vq=/[ \f\n\r\t\v\u2028\u2029]+/,yq=function(t){var r=t.children,a=t.breakAll,n=t.style;try{var s=[];gr(r)||(a?s=r.toString().split(""):s=r.toString().split(vq));var o=s.map(function(c){return{word:c,width:Xg(c,n).width}}),l=a?0:Xg(" ",n).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},l$e=function(t,r,a,n,s){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,f=yt(o),u=l,m=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,q){var K=q.word,G=q.width,ve=U[U.length-1];if(ve&&(n==null||s||ve.width+G+a<Number(n)))ve.words.push(K),ve.width+=G+a;else{var fe={words:[K],width:G};U.push(fe)}return U},[])},h=m(r),g=function(B){return B.reduce(function(U,q){return U.width>q.width?U:q})};if(!f)return h;for(var p="…",x=function(B){var U=u.slice(0,B),q=yq({breakAll:d,style:c,children:U+p}).wordsWithComputedWidth,K=m(q),G=K.length>o||g(K).width>Number(n);return[G,K]},v=0,b=u.length-1,y=0,w;v<=b&&y<=u.length-1;){var j=Math.floor((v+b)/2),E=j-1,A=x(E),C=dO(A,2),S=C[0],T=C[1],_=x(j),M=dO(_,1),D=M[0];if(!S&&!D&&(v=j+1),S&&D&&(b=j-1),!S&&D){w=T;break}y++}return w||h},uO=function(t){var r=gr(t)?[]:t.toString().split(vq);return[{words:r}]},c$e=function(t){var r=t.width,a=t.scaleToFit,n=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||a)&&!jp.isSsr){var c,d,f=yq({breakAll:o,children:n,style:s});if(f){var u=f.wordsWithComputedWidth,m=f.spaceWidth;c=u,d=m}else return uO(n);return l$e({breakAll:o,children:n,maxLines:l,style:s},c,d,r,a)}return uO(n)},hO="#808080",D2=function(t){var r=t.x,a=r===void 0?0:r,n=t.y,s=n===void 0?0:n,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,f=t.scaleToFit,u=f===void 0?!1:f,m=t.textAnchor,h=m===void 0?"start":m,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,v=x===void 0?hO:x,b=cO(t,t$e),y=k.useMemo(function(){return c$e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:u,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,u,b.style,b.width]),w=b.dx,j=b.dy,E=b.angle,A=b.className,C=b.breakAll,S=cO(b,r$e);if(!ts(a)||!ts(s))return null;var T=a+(yt(w)?w:0),_=s+(yt(j)?j:0),M;switch(p){case"start":M=LN("calc(".concat(d,")"));break;case"middle":M=LN("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:M=LN("calc(".concat(y.length-1," * -").concat(l,")"));break}var D=[];if(u){var O=y[0].width,B=b.width;D.push("scale(".concat((yt(B)?B/O:1)/O,")"))}return E&&D.push("rotate(".concat(E,", ").concat(T,", ").concat(_,")")),D.length&&(S.transform=D.join(" ")),Z.createElement("text",V5({},Sr(S,!0),{x:T,y:_,className:Cr("recharts-text",A),textAnchor:h,fill:v.includes("url")?hO:v}),y.map(function(U,q){var K=U.words.join(C?"":" ");return Z.createElement("tspan",{x:T,dy:q===0?M:l,key:"".concat(K,"-").concat(q)},K)}))};function mf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function d$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dE(e){let t,r,a;e.length!==2?(t=mf,r=(l,c)=>mf(e(l),c),a=(l,c)=>e(l)-c):(t=e===mf||e===d$e?e:f$e,r=e,a=e);function n(l,c,d=0,f=l.length){if(d<f){if(t(c,c)!==0)return f;do{const u=d+f>>>1;r(l[u],c)<0?d=u+1:f=u}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(t(c,c)!==0)return f;do{const u=d+f>>>1;r(l[u],c)<=0?d=u+1:f=u}while(d<f)}return d}function o(l,c,d=0,f=l.length){const u=n(l,c,d,f-1);return u>d&&a(l[u-1],c)>-a(l[u],c)?u-1:u}return{left:n,center:o,right:s}}function f$e(){return 0}function bq(e){return e===null?NaN:+e}function*u$e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const h$e=dE(mf),xv=h$e.right;dE(bq).center;class mO extends Map{constructor(t,r=g$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(pO(this,t))}has(t){return super.has(pO(this,t))}set(t,r){return super.set(m$e(this,t),r)}delete(t){return super.delete(p$e(this,t))}}function pO({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function m$e({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function p$e({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function g$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function x$e(e=mf){if(e===mf)return wq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function wq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const v$e=Math.sqrt(50),y$e=Math.sqrt(10),b$e=Math.sqrt(2);function P2(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),s=a/Math.pow(10,n),o=s>=v$e?10:s>=y$e?5:s>=b$e?2:1;let l,c,d;return n<0?(d=Math.pow(10,-n)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?P2(e,t,r*2):[l,c,d]}function G5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[n,s,o]=a?P2(t,e,r):P2(e,t,r);if(!(s>=n))return[];const l=s-n+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(s-d)/-o;else for(let d=0;d<l;++d)c[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(n+d)/-o;else for(let d=0;d<l;++d)c[d]=(n+d)*o;return c}function q5(e,t,r){return t=+t,e=+e,r=+r,P2(e,t,r)[2]}function Y5(e,t,r){t=+t,e=+e,r=+r;const a=t<e,n=a?q5(t,e,r):q5(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function gO(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function xO(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function kq(e,t,r=0,a=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=n===void 0?wq:x$e(n);a>r;){if(a-r>600){const c=a-r+1,d=t-r+1,f=Math.log(c),u=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*u*(c-u)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*u/c+m)),g=Math.min(a,Math.floor(t+(c-d)*u/c+m));kq(e,t,h,g,n)}const s=e[t];let o=r,l=a;for(mg(e,r,t),n(e[a],s)>0&&mg(e,r,a);o<l;){for(mg(e,o,l),++o,--l;n(e[o],s)<0;)++o;for(;n(e[l],s)>0;)--l}n(e[r],s)===0?mg(e,r,l):(++l,mg(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function mg(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function w$e(e,t,r){if(e=Float64Array.from(u$e(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return xO(e);if(t>=1)return gO(e);var a,n=(a-1)*t,s=Math.floor(n),o=gO(kq(e,s).subarray(0,s+1)),l=xO(e.subarray(s+1));return o+(l-o)*(n-s)}}function k$e(e,t,r=bq){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,s=Math.floor(n),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(n-s)}}function j$e(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(n);++a<n;)s[a]=e+a*r;return s}function Ko(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Nd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const J5=Symbol("implicit");function fE(){var e=new mO,t=[],r=[],a=J5;function n(s){let o=e.get(s);if(o===void 0){if(a!==J5)return a;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return n.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new mO;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return n},n.range=function(s){return arguments.length?(r=Array.from(s),n):r.slice()},n.unknown=function(s){return arguments.length?(a=s,n):a},n.copy=function(){return fE(t,r).unknown(a)},Ko.apply(n,arguments),n}function i1(){var e=fE().unknown(void 0),t=e.domain,r=e.range,a=0,n=1,s,o,l=!1,c=0,d=0,f=.5;delete e.unknown;function u(){var m=t().length,h=n<a,g=h?n:a,p=h?a:n;s=(p-g)/Math.max(1,m-c+d*2),l&&(s=Math.floor(s)),g+=(p-g-s*(m-c))*f,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=j$e(m).map(function(v){return g+s*v});return r(h?x.reverse():x)}return e.domain=function(m){return arguments.length?(t(m),u()):t()},e.range=function(m){return arguments.length?([a,n]=m,a=+a,n=+n,u()):[a,n]},e.rangeRound=function(m){return[a,n]=m,a=+a,n=+n,l=!0,u()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,u()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),u()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),u()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,u()):d},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),u()):f},e.copy=function(){return i1(t(),[a,n]).round(l).paddingInner(c).paddingOuter(d).align(f)},Ko.apply(u(),arguments)}function jq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jq(t())},e}function Zg(){return jq(i1.apply(null,arguments).paddingInner(1))}function uE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Nq(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function vv(){}var o1=.7,O2=1/o1,Vh="\\s*([+-]?\\d+)\\s*",l1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N$e=/^#([0-9a-f]{3,8})$/,S$e=new RegExp(`^rgb\\(${Vh},${Vh},${Vh}\\)$`),C$e=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),A$e=new RegExp(`^rgba\\(${Vh},${Vh},${Vh},${l1}\\)$`),E$e=new RegExp(`^rgba\\(${mc},${mc},${mc},${l1}\\)$`),_$e=new RegExp(`^hsl\\(${l1},${mc},${mc}\\)$`),M$e=new RegExp(`^hsla\\(${l1},${mc},${mc},${l1}\\)$`),vO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uE(vv,c1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yO,formatHex:yO,formatHex8:L$e,formatHsl:T$e,formatRgb:bO,toString:bO});function yO(){return this.rgb().formatHex()}function L$e(){return this.rgb().formatHex8()}function T$e(){return Sq(this).formatHsl()}function bO(){return this.rgb().formatRgb()}function c1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=N$e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wO(t):r===3?new Ai(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Uy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Uy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=S$e.exec(e))?new Ai(t[1],t[2],t[3],1):(t=C$e.exec(e))?new Ai(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=A$e.exec(e))?Uy(t[1],t[2],t[3],t[4]):(t=E$e.exec(e))?Uy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_$e.exec(e))?NO(t[1],t[2]/100,t[3]/100,1):(t=M$e.exec(e))?NO(t[1],t[2]/100,t[3]/100,t[4]):vO.hasOwnProperty(e)?wO(vO[e]):e==="transparent"?new Ai(NaN,NaN,NaN,0):null}function wO(e){return new Ai(e>>16&255,e>>8&255,e&255,1)}function Uy(e,t,r,a){return a<=0&&(e=t=r=NaN),new Ai(e,t,r,a)}function I$e(e){return e instanceof vv||(e=c1(e)),e?(e=e.rgb(),new Ai(e.r,e.g,e.b,e.opacity)):new Ai}function K5(e,t,r,a){return arguments.length===1?I$e(e):new Ai(e,t,r,a??1)}function Ai(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}uE(Ai,K5,Nq(vv,{brighter(e){return e=e==null?O2:Math.pow(O2,e),new Ai(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?o1:Math.pow(o1,e),new Ai(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ai(Fu(this.r),Fu(this.g),Fu(this.b),R2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kO,formatHex:kO,formatHex8:D$e,formatRgb:jO,toString:jO}));function kO(){return`#${Su(this.r)}${Su(this.g)}${Su(this.b)}`}function D$e(){return`#${Su(this.r)}${Su(this.g)}${Su(this.b)}${Su((isNaN(this.opacity)?1:this.opacity)*255)}`}function jO(){const e=R2(this.opacity);return`${e===1?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${e===1?")":`, ${e})`}`}function R2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Su(e){return e=Fu(e),(e<16?"0":"")+e.toString(16)}function NO(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hl(e,t,r,a)}function Sq(e){if(e instanceof hl)return new hl(e.h,e.s,e.l,e.opacity);if(e instanceof vv||(e=c1(e)),!e)return new hl;if(e instanceof hl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),s=Math.max(t,r,a),o=NaN,l=s-n,c=(s+n)/2;return l?(t===s?o=(r-a)/l+(r<a)*6:r===s?o=(a-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+n:2-s-n,o*=60):l=c>0&&c<1?0:o,new hl(o,l,c,e.opacity)}function P$e(e,t,r,a){return arguments.length===1?Sq(e):new hl(e,t,r,a??1)}function hl(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}uE(hl,P$e,Nq(vv,{brighter(e){return e=e==null?O2:Math.pow(O2,e),new hl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?o1:Math.pow(o1,e),new hl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new Ai(TN(e>=240?e-240:e+120,n,a),TN(e,n,a),TN(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new hl(SO(this.h),Wy(this.s),Wy(this.l),R2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=R2(this.opacity);return`${e===1?"hsl(":"hsla("}${SO(this.h)}, ${Wy(this.s)*100}%, ${Wy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function SO(e){return e=(e||0)%360,e<0?e+360:e}function Wy(e){return Math.max(0,Math.min(1,e||0))}function TN(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const hE=e=>()=>e;function O$e(e,t){return function(r){return e+r*t}}function R$e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function F$e(e){return(e=+e)==1?Cq:function(t,r){return r-t?R$e(t,r,e):hE(isNaN(t)?r:t)}}function Cq(e,t){var r=t-e;return r?O$e(e,r):hE(isNaN(e)?t:e)}const CO=function e(t){var r=F$e(t);function a(n,s){var o=r((n=K5(n)).r,(s=K5(s)).r),l=r(n.g,s.g),c=r(n.b,s.b),d=Cq(n.opacity,s.opacity);return function(f){return n.r=o(f),n.g=l(f),n.b=c(f),n.opacity=d(f),n+""}}return a.gamma=e,a}(1);function B$e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(s){for(n=0;n<r;++n)a[n]=e[n]*(1-s)+t[n]*s;return a}}function z$e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $$e(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,n=new Array(a),s=new Array(r),o;for(o=0;o<a;++o)n[o]=Np(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<a;++o)s[o]=n[o](l);return s}}function U$e(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function F2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function W$e(e,t){var r={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=Np(e[n],t[n]):a[n]=t[n];return function(s){for(n in r)a[n]=r[n](s);return a}}var Q5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IN=new RegExp(Q5.source,"g");function H$e(e){return function(){return e}}function V$e(e){return function(t){return e(t)+""}}function G$e(e,t){var r=Q5.lastIndex=IN.lastIndex=0,a,n,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=Q5.exec(e))&&(n=IN.exec(t));)(s=n.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,c.push({i:o,x:F2(a,n)})),r=IN.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?V$e(c[0].x):H$e(t):(t=c.length,function(d){for(var f=0,u;f<t;++f)l[(u=c[f]).i]=u.x(d);return l.join("")})}function Np(e,t){var r=typeof t,a;return t==null||r==="boolean"?hE(t):(r==="number"?F2:r==="string"?(a=c1(t))?(t=a,CO):G$e:t instanceof c1?CO:t instanceof Date?U$e:z$e(t)?B$e:Array.isArray(t)?$$e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W$e:F2)(e,t)}function mE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function q$e(e,t){t===void 0&&(t=e,e=Np);for(var r=0,a=t.length-1,n=t[0],s=new Array(a<0?0:a);r<a;)s[r]=e(n,n=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return s[l](o-l)}}function Y$e(e){return function(){return e}}function B2(e){return+e}var AO=[0,1];function gi(e){return e}function X5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Y$e(isNaN(t)?NaN:.5)}function J$e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function K$e(e,t,r){var a=e[0],n=e[1],s=t[0],o=t[1];return n<a?(a=X5(n,a),s=r(o,s)):(a=X5(a,n),s=r(s,o)),function(l){return s(a(l))}}function Q$e(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),s=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)n[o]=X5(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=xv(e,l,1,a)-1;return s[c](n[c](l))}}function yv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ak(){var e=AO,t=AO,r=Np,a,n,s,o=gi,l,c,d;function f(){var m=Math.min(e.length,t.length);return o!==gi&&(o=J$e(e[0],e[m-1])),l=m>2?Q$e:K$e,c=d=null,u}function u(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(a),t,r)))(a(o(m)))}return u.invert=function(m){return o(n((d||(d=l(t,e.map(a),F2)))(m)))},u.domain=function(m){return arguments.length?(e=Array.from(m,B2),f()):e.slice()},u.range=function(m){return arguments.length?(t=Array.from(m),f()):t.slice()},u.rangeRound=function(m){return t=Array.from(m),r=mE,f()},u.clamp=function(m){return arguments.length?(o=m?!0:gi,f()):o!==gi},u.interpolate=function(m){return arguments.length?(r=m,f()):r},u.unknown=function(m){return arguments.length?(s=m,u):s},function(m,h){return a=m,n=h,f()}}function pE(){return ak()(gi,gi)}function X$e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function z2(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function ym(e){return e=z2(Math.abs(e)),e?e[1]:NaN}function Z$e(e,t){return function(r,a){for(var n=r.length,s=[],o=0,l=e[0],c=0;n>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),s.push(r.substring(n-=l,n+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function eUe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tUe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d1(e){if(!(t=tUe.exec(e)))throw new Error("invalid format: "+e);var t;return new gE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}d1.prototype=gE.prototype;function gE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rUe(e){e:for(var t=e.length,r=1,a=-1,n;r<t;++r)switch(e[r]){case".":a=n=r;break;case"0":a===0&&(a=r),n=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var Aq;function aUe(e,t){var r=z2(e,t);if(!r)return e+"";var a=r[0],n=r[1],s=n-(Aq=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return s===o?a:s>o?a+new Array(s-o+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+z2(e,Math.max(0,t+s-1))[0]}function EO(e,t){var r=z2(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const _O={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:X$e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EO(e*100,t),r:EO,s:aUe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function MO(e){return e}var LO=Array.prototype.map,TO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nUe(e){var t=e.grouping===void 0||e.thousands===void 0?MO:Z$e(LO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?MO:eUe(LO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(u){u=d1(u);var m=u.fill,h=u.align,g=u.sign,p=u.symbol,x=u.zero,v=u.width,b=u.comma,y=u.precision,w=u.trim,j=u.type;j==="n"?(b=!0,j="g"):_O[j]||(y===void 0&&(y=12),w=!0,j="g"),(x||m==="0"&&h==="=")&&(x=!0,m="0",h="=");var E=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",A=p==="$"?a:/[%p]/.test(j)?o:"",C=_O[j],S=/[defgprs%]/.test(j);y=y===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function T(_){var M=E,D=A,O,B,U;if(j==="c")D=C(_)+D,_="";else{_=+_;var q=_<0||1/_<0;if(_=isNaN(_)?c:C(Math.abs(_),y),w&&(_=rUe(_)),q&&+_==0&&g!=="+"&&(q=!1),M=(q?g==="("?g:l:g==="-"||g==="("?"":g)+M,D=(j==="s"?TO[8+Aq/3]:"")+D+(q&&g==="("?")":""),S){for(O=-1,B=_.length;++O<B;)if(U=_.charCodeAt(O),48>U||U>57){D=(U===46?n+_.slice(O+1):_.slice(O))+D,_=_.slice(0,O);break}}}b&&!x&&(_=t(_,1/0));var K=M.length+_.length+D.length,G=K<v?new Array(v-K+1).join(m):"";switch(b&&x&&(_=t(G+_,G.length?v-D.length:1/0),G=""),h){case"<":_=M+_+D+G;break;case"=":_=M+G+_+D;break;case"^":_=G.slice(0,K=G.length>>1)+M+_+D+G.slice(K);break;default:_=G+M+_+D;break}return s(_)}return T.toString=function(){return u+""},T}function f(u,m){var h=d((u=d1(u),u.type="f",u)),g=Math.max(-8,Math.min(8,Math.floor(ym(m)/3)))*3,p=Math.pow(10,-g),x=TO[8+g/3];return function(v){return h(p*v)+x}}return{format:d,formatPrefix:f}}var Hy,xE,Eq;sUe({thousands:",",grouping:[3],currency:["$",""]});function sUe(e){return Hy=nUe(e),xE=Hy.format,Eq=Hy.formatPrefix,Hy}function iUe(e){return Math.max(0,-ym(Math.abs(e)))}function oUe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ym(t)/3)))*3-ym(Math.abs(e)))}function lUe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ym(t)-ym(e))+1}function _q(e,t,r,a){var n=Y5(e,t,r),s;switch(a=d1(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(s=oUe(n,o))&&(a.precision=s),Eq(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=lUe(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=iUe(n))&&(a.precision=s-(a.type==="%")*2);break}}return xE(a)}function Uf(e){var t=e.domain;return e.ticks=function(r){var a=t();return G5(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var n=t();return _q(n[0],n[n.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),n=0,s=a.length-1,o=a[n],l=a[s],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=n,n=s,s=d);f-- >0;){if(d=q5(o,l,r),d===c)return a[n]=o,a[s]=l,t(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function $2(){var e=pE();return e.copy=function(){return yv(e,$2())},Ko.apply(e,arguments),Uf(e)}function Mq(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,B2),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return Mq(e).unknown(t)},e=arguments.length?Array.from(e,B2):[0,1],Uf(r)}function Lq(e,t){e=e.slice();var r=0,a=e.length-1,n=e[r],s=e[a],o;return s<n&&(o=r,r=a,a=o,o=n,n=s,s=o),e[r]=t.floor(n),e[a]=t.ceil(s),e}function IO(e){return Math.log(e)}function DO(e){return Math.exp(e)}function cUe(e){return-Math.log(-e)}function dUe(e){return-Math.exp(-e)}function fUe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uUe(e){return e===10?fUe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hUe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PO(e){return(t,r)=>-e(-t,r)}function vE(e){const t=e(IO,DO),r=t.domain;let a=10,n,s;function o(){return n=hUe(a),s=uUe(a),r()[0]<0?(n=PO(n),s=PO(s),e(cUe,dUe)):e(IO,DO),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],f=c[c.length-1];const u=f<d;u&&([d,f]=[f,d]);let m=n(d),h=n(f),g,p;const x=l==null?10:+l;let v=[];if(!(a%1)&&h-m<x){if(m=Math.floor(m),h=Math.ceil(h),d>0){for(;m<=h;++m)for(g=1;g<a;++g)if(p=m<0?g/s(-m):g*s(m),!(p<d)){if(p>f)break;v.push(p)}}else for(;m<=h;++m)for(g=a-1;g>=1;--g)if(p=m>0?g/s(-m):g*s(m),!(p<d)){if(p>f)break;v.push(p)}v.length*2<x&&(v=G5(d,f,x))}else v=G5(m,h,Math.min(h-m,x)).map(s);return u?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=d1(c)).precision==null&&(c.trim=!0),c=xE(c)),l===1/0)return c;const d=Math.max(1,a*l/t.ticks().length);return f=>{let u=f/s(Math.round(n(f)));return u*a<a-.5&&(u*=a),u<=d?c(f):""}},t.nice=()=>r(Lq(r(),{floor:l=>s(Math.floor(n(l))),ceil:l=>s(Math.ceil(n(l)))})),t}function Tq(){const e=vE(ak()).domain([1,10]);return e.copy=()=>yv(e,Tq()).base(e.base()),Ko.apply(e,arguments),e}function OO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yE(e){var t=1,r=e(OO(t),RO(t));return r.constant=function(a){return arguments.length?e(OO(t=+a),RO(t)):t},Uf(r)}function Iq(){var e=yE(ak());return e.copy=function(){return yv(e,Iq()).constant(e.constant())},Ko.apply(e,arguments)}function FO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mUe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pUe(e){return e<0?-e*e:e*e}function bE(e){var t=e(gi,gi),r=1;function a(){return r===1?e(gi,gi):r===.5?e(mUe,pUe):e(FO(r),FO(1/r))}return t.exponent=function(n){return arguments.length?(r=+n,a()):r},Uf(t)}function wE(){var e=bE(ak());return e.copy=function(){return yv(e,wE()).exponent(e.exponent())},Ko.apply(e,arguments),e}function gUe(){return wE.apply(null,arguments).exponent(.5)}function BO(e){return Math.sign(e)*e*e}function xUe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Dq(){var e=pE(),t=[0,1],r=!1,a;function n(s){var o=xUe(e(s));return isNaN(o)?a:r?Math.round(o):o}return n.invert=function(s){return e.invert(BO(s))},n.domain=function(s){return arguments.length?(e.domain(s),n):e.domain()},n.range=function(s){return arguments.length?(e.range((t=Array.from(s,B2)).map(BO)),n):t.slice()},n.rangeRound=function(s){return n.range(s).round(!0)},n.round=function(s){return arguments.length?(r=!!s,n):r},n.clamp=function(s){return arguments.length?(e.clamp(s),n):e.clamp()},n.unknown=function(s){return arguments.length?(a=s,n):a},n.copy=function(){return Dq(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Ko.apply(n,arguments),Uf(n)}function Pq(){var e=[],t=[],r=[],a;function n(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=k$e(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?a:t[xv(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(mf),n()},s.range=function(o){return arguments.length?(t=Array.from(o),n()):t.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.quantiles=function(){return r.slice()},s.copy=function(){return Pq().domain(e).range(t).unknown(a)},Ko.apply(s,arguments)}function Oq(){var e=0,t=1,r=1,a=[.5],n=[0,1],s;function o(c){return c!=null&&c<=c?n[xv(a,c,0,r)]:s}function l(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(n=Array.from(c)).length-1,l()):n.slice()},o.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=r?[a[r-1],t]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return Oq().domain([e,t]).range(n).unknown(s)},Ko.apply(Uf(o),arguments)}function Rq(){var e=[.5],t=[0,1],r,a=1;function n(s){return s!=null&&s<=s?t[xv(e,s,0,a)]:r}return n.domain=function(s){return arguments.length?(e=Array.from(s),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(s){return arguments.length?(t=Array.from(s),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return Rq().domain(e).range(t).unknown(r)},Ko.apply(n,arguments)}const DN=new Date,PN=new Date;function os(e,t,r,a){function n(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return n.floor=s=>(e(s=new Date(+s)),s),n.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),n.round=s=>{const o=n(s),l=n.ceil(s);return s-o<l-s?o:l},n.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),n.range=(s,o,l)=>{const c=[];if(s=n.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let d;do c.push(d=new Date(+s)),t(s,l),e(s);while(d<s&&s<o);return c},n.filter=s=>os(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(n.count=(s,o)=>(DN.setTime(+s),PN.setTime(+o),e(DN),e(PN),Math.floor(r(DN,PN))),n.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?n.filter(a?o=>a(o)%s===0:o=>n.count(0,o)%s===0):n)),n}const U2=os(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);U2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?os(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):U2);U2.range;const Yc=1e3,Io=Yc*60,Jc=Io*60,hd=Jc*24,kE=hd*7,zO=hd*30,ON=hd*365,Cu=os(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yc)},(e,t)=>(t-e)/Yc,e=>e.getUTCSeconds());Cu.range;const jE=os(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yc)},(e,t)=>{e.setTime(+e+t*Io)},(e,t)=>(t-e)/Io,e=>e.getMinutes());jE.range;const NE=os(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Io)},(e,t)=>(t-e)/Io,e=>e.getUTCMinutes());NE.range;const SE=os(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yc-e.getMinutes()*Io)},(e,t)=>{e.setTime(+e+t*Jc)},(e,t)=>(t-e)/Jc,e=>e.getHours());SE.range;const CE=os(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jc)},(e,t)=>(t-e)/Jc,e=>e.getUTCHours());CE.range;const bv=os(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Io)/hd,e=>e.getDate()-1);bv.range;const nk=os(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hd,e=>e.getUTCDate()-1);nk.range;const Fq=os(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hd,e=>Math.floor(e/hd));Fq.range;function O0(e){return os(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Io)/kE)}const sk=O0(0),W2=O0(1),vUe=O0(2),yUe=O0(3),bm=O0(4),bUe=O0(5),wUe=O0(6);sk.range;W2.range;vUe.range;yUe.range;bm.range;bUe.range;wUe.range;function R0(e){return os(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kE)}const ik=R0(0),H2=R0(1),kUe=R0(2),jUe=R0(3),wm=R0(4),NUe=R0(5),SUe=R0(6);ik.range;H2.range;kUe.range;jUe.range;wm.range;NUe.range;SUe.range;const AE=os(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());AE.range;const EE=os(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());EE.range;const md=os(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());md.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:os(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});md.range;const pd=os(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:os(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});pd.range;function Bq(e,t,r,a,n,s){const o=[[Cu,1,Yc],[Cu,5,5*Yc],[Cu,15,15*Yc],[Cu,30,30*Yc],[s,1,Io],[s,5,5*Io],[s,15,15*Io],[s,30,30*Io],[n,1,Jc],[n,3,3*Jc],[n,6,6*Jc],[n,12,12*Jc],[a,1,hd],[a,2,2*hd],[r,1,kE],[t,1,zO],[t,3,3*zO],[e,1,ON]];function l(d,f,u){const m=f<d;m&&([d,f]=[f,d]);const h=u&&typeof u.range=="function"?u:c(d,f,u),g=h?h.range(d,+f+1):[];return m?g.reverse():g}function c(d,f,u){const m=Math.abs(f-d)/u,h=dE(([,,x])=>x).right(o,m);if(h===o.length)return e.every(Y5(d/ON,f/ON,u));if(h===0)return U2.every(Math.max(Y5(d,f,u),1));const[g,p]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return g.every(p)}return[l,c]}const[CUe,AUe]=Bq(pd,EE,ik,Fq,CE,NE),[EUe,_Ue]=Bq(md,AE,sk,bv,SE,jE);function RN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function FN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function MUe(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=gg(n),f=xg(n),u=gg(s),m=xg(s),h=gg(o),g=xg(o),p=gg(l),x=xg(l),v=gg(c),b=xg(c),y={a:q,A:K,b:G,B:ve,c:null,d:GO,e:GO,f:ZUe,g:cWe,G:fWe,H:KUe,I:QUe,j:XUe,L:zq,m:eWe,M:tWe,p:fe,q:I,Q:JO,s:KO,S:rWe,u:aWe,U:nWe,V:sWe,w:iWe,W:oWe,x:null,X:null,y:lWe,Y:dWe,Z:uWe,"%":YO},w={a:z,A:H,b:J,B:te,c:null,d:qO,e:qO,f:gWe,g:CWe,G:EWe,H:hWe,I:mWe,j:pWe,L:Uq,m:xWe,M:vWe,p:W,q:Y,Q:JO,s:KO,S:yWe,u:bWe,U:wWe,V:kWe,w:jWe,W:NWe,x:null,X:null,y:SWe,Y:AWe,Z:_We,"%":YO},j={a:T,A:_,b:M,B:D,c:O,d:HO,e:HO,f:GUe,g:WO,G:UO,H:VO,I:VO,j:UUe,L:VUe,m:$Ue,M:WUe,p:S,q:zUe,Q:YUe,s:JUe,S:HUe,u:PUe,U:OUe,V:RUe,w:DUe,W:FUe,x:B,X:U,y:WO,Y:UO,Z:BUe,"%":qUe};y.x=E(r,y),y.X=E(a,y),y.c=E(t,y),w.x=E(r,w),w.X=E(a,w),w.c=E(t,w);function E(Q,ne){return function(pe){var F=[],Te=-1,xe=0,se=Q.length,We,Se,Fe;for(pe instanceof Date||(pe=new Date(+pe));++Te<se;)Q.charCodeAt(Te)===37&&(F.push(Q.slice(xe,Te)),(Se=$O[We=Q.charAt(++Te)])!=null?We=Q.charAt(++Te):Se=We==="e"?" ":"0",(Fe=ne[We])&&(We=Fe(pe,Se)),F.push(We),xe=Te+1);return F.push(Q.slice(xe,Te)),F.join("")}}function A(Q,ne){return function(pe){var F=pg(1900,void 0,1),Te=C(F,Q,pe+="",0),xe,se;if(Te!=pe.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(ne&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(xe=FN(pg(F.y,0,1)),se=xe.getUTCDay(),xe=se>4||se===0?H2.ceil(xe):H2(xe),xe=nk.offset(xe,(F.V-1)*7),F.y=xe.getUTCFullYear(),F.m=xe.getUTCMonth(),F.d=xe.getUTCDate()+(F.w+6)%7):(xe=RN(pg(F.y,0,1)),se=xe.getDay(),xe=se>4||se===0?W2.ceil(xe):W2(xe),xe=bv.offset(xe,(F.V-1)*7),F.y=xe.getFullYear(),F.m=xe.getMonth(),F.d=xe.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),se="Z"in F?FN(pg(F.y,0,1)).getUTCDay():RN(pg(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(se+5)%7:F.w+F.U*7-(se+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,FN(F)):RN(F)}}function C(Q,ne,pe,F){for(var Te=0,xe=ne.length,se=pe.length,We,Se;Te<xe;){if(F>=se)return-1;if(We=ne.charCodeAt(Te++),We===37){if(We=ne.charAt(Te++),Se=j[We in $O?ne.charAt(Te++):We],!Se||(F=Se(Q,pe,F))<0)return-1}else if(We!=pe.charCodeAt(F++))return-1}return F}function S(Q,ne,pe){var F=d.exec(ne.slice(pe));return F?(Q.p=f.get(F[0].toLowerCase()),pe+F[0].length):-1}function T(Q,ne,pe){var F=h.exec(ne.slice(pe));return F?(Q.w=g.get(F[0].toLowerCase()),pe+F[0].length):-1}function _(Q,ne,pe){var F=u.exec(ne.slice(pe));return F?(Q.w=m.get(F[0].toLowerCase()),pe+F[0].length):-1}function M(Q,ne,pe){var F=v.exec(ne.slice(pe));return F?(Q.m=b.get(F[0].toLowerCase()),pe+F[0].length):-1}function D(Q,ne,pe){var F=p.exec(ne.slice(pe));return F?(Q.m=x.get(F[0].toLowerCase()),pe+F[0].length):-1}function O(Q,ne,pe){return C(Q,t,ne,pe)}function B(Q,ne,pe){return C(Q,r,ne,pe)}function U(Q,ne,pe){return C(Q,a,ne,pe)}function q(Q){return o[Q.getDay()]}function K(Q){return s[Q.getDay()]}function G(Q){return c[Q.getMonth()]}function ve(Q){return l[Q.getMonth()]}function fe(Q){return n[+(Q.getHours()>=12)]}function I(Q){return 1+~~(Q.getMonth()/3)}function z(Q){return o[Q.getUTCDay()]}function H(Q){return s[Q.getUTCDay()]}function J(Q){return c[Q.getUTCMonth()]}function te(Q){return l[Q.getUTCMonth()]}function W(Q){return n[+(Q.getUTCHours()>=12)]}function Y(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ne=E(Q+="",y);return ne.toString=function(){return Q},ne},parse:function(Q){var ne=A(Q+="",!1);return ne.toString=function(){return Q},ne},utcFormat:function(Q){var ne=E(Q+="",w);return ne.toString=function(){return Q},ne},utcParse:function(Q){var ne=A(Q+="",!0);return ne.toString=function(){return Q},ne}}}var $O={"-":"",_:" ",0:"0"},ys=/^\s*\d+/,LUe=/^%/,TUe=/[\\^$*+?|[\]().{}]/g;function Br(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",s=n.length;return a+(s<r?new Array(r-s+1).join(t)+n:n)}function IUe(e){return e.replace(TUe,"\\$&")}function gg(e){return new RegExp("^(?:"+e.map(IUe).join("|")+")","i")}function xg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function DUe(e,t,r){var a=ys.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function PUe(e,t,r){var a=ys.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function OUe(e,t,r){var a=ys.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function RUe(e,t,r){var a=ys.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function FUe(e,t,r){var a=ys.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function UO(e,t,r){var a=ys.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function WO(e,t,r){var a=ys.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function BUe(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function zUe(e,t,r){var a=ys.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function $Ue(e,t,r){var a=ys.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function HO(e,t,r){var a=ys.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function UUe(e,t,r){var a=ys.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function VO(e,t,r){var a=ys.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function WUe(e,t,r){var a=ys.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function HUe(e,t,r){var a=ys.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function VUe(e,t,r){var a=ys.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function GUe(e,t,r){var a=ys.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function qUe(e,t,r){var a=LUe.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function YUe(e,t,r){var a=ys.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function JUe(e,t,r){var a=ys.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function GO(e,t){return Br(e.getDate(),t,2)}function KUe(e,t){return Br(e.getHours(),t,2)}function QUe(e,t){return Br(e.getHours()%12||12,t,2)}function XUe(e,t){return Br(1+bv.count(md(e),e),t,3)}function zq(e,t){return Br(e.getMilliseconds(),t,3)}function ZUe(e,t){return zq(e,t)+"000"}function eWe(e,t){return Br(e.getMonth()+1,t,2)}function tWe(e,t){return Br(e.getMinutes(),t,2)}function rWe(e,t){return Br(e.getSeconds(),t,2)}function aWe(e){var t=e.getDay();return t===0?7:t}function nWe(e,t){return Br(sk.count(md(e)-1,e),t,2)}function $q(e){var t=e.getDay();return t>=4||t===0?bm(e):bm.ceil(e)}function sWe(e,t){return e=$q(e),Br(bm.count(md(e),e)+(md(e).getDay()===4),t,2)}function iWe(e){return e.getDay()}function oWe(e,t){return Br(W2.count(md(e)-1,e),t,2)}function lWe(e,t){return Br(e.getFullYear()%100,t,2)}function cWe(e,t){return e=$q(e),Br(e.getFullYear()%100,t,2)}function dWe(e,t){return Br(e.getFullYear()%1e4,t,4)}function fWe(e,t){var r=e.getDay();return e=r>=4||r===0?bm(e):bm.ceil(e),Br(e.getFullYear()%1e4,t,4)}function uWe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Br(t/60|0,"0",2)+Br(t%60,"0",2)}function qO(e,t){return Br(e.getUTCDate(),t,2)}function hWe(e,t){return Br(e.getUTCHours(),t,2)}function mWe(e,t){return Br(e.getUTCHours()%12||12,t,2)}function pWe(e,t){return Br(1+nk.count(pd(e),e),t,3)}function Uq(e,t){return Br(e.getUTCMilliseconds(),t,3)}function gWe(e,t){return Uq(e,t)+"000"}function xWe(e,t){return Br(e.getUTCMonth()+1,t,2)}function vWe(e,t){return Br(e.getUTCMinutes(),t,2)}function yWe(e,t){return Br(e.getUTCSeconds(),t,2)}function bWe(e){var t=e.getUTCDay();return t===0?7:t}function wWe(e,t){return Br(ik.count(pd(e)-1,e),t,2)}function Wq(e){var t=e.getUTCDay();return t>=4||t===0?wm(e):wm.ceil(e)}function kWe(e,t){return e=Wq(e),Br(wm.count(pd(e),e)+(pd(e).getUTCDay()===4),t,2)}function jWe(e){return e.getUTCDay()}function NWe(e,t){return Br(H2.count(pd(e)-1,e),t,2)}function SWe(e,t){return Br(e.getUTCFullYear()%100,t,2)}function CWe(e,t){return e=Wq(e),Br(e.getUTCFullYear()%100,t,2)}function AWe(e,t){return Br(e.getUTCFullYear()%1e4,t,4)}function EWe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?wm(e):wm.ceil(e),Br(e.getUTCFullYear()%1e4,t,4)}function _We(){return"+0000"}function YO(){return"%"}function JO(e){return+e}function KO(e){return Math.floor(+e/1e3)}var oh,Hq,Vq;MWe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MWe(e){return oh=MUe(e),Hq=oh.format,oh.parse,Vq=oh.utcFormat,oh.utcParse,oh}function LWe(e){return new Date(e)}function TWe(e){return e instanceof Date?+e:+new Date(+e)}function _E(e,t,r,a,n,s,o,l,c,d){var f=pE(),u=f.invert,m=f.domain,h=d(".%L"),g=d(":%S"),p=d("%I:%M"),x=d("%I %p"),v=d("%a %d"),b=d("%b %d"),y=d("%B"),w=d("%Y");function j(E){return(c(E)<E?h:l(E)<E?g:o(E)<E?p:s(E)<E?x:a(E)<E?n(E)<E?v:b:r(E)<E?y:w)(E)}return f.invert=function(E){return new Date(u(E))},f.domain=function(E){return arguments.length?m(Array.from(E,TWe)):m().map(LWe)},f.ticks=function(E){var A=m();return e(A[0],A[A.length-1],E??10)},f.tickFormat=function(E,A){return A==null?j:d(A)},f.nice=function(E){var A=m();return(!E||typeof E.range!="function")&&(E=t(A[0],A[A.length-1],E??10)),E?m(Lq(A,E)):f},f.copy=function(){return yv(f,_E(e,t,r,a,n,s,o,l,c,d))},f}function IWe(){return Ko.apply(_E(EUe,_Ue,md,AE,sk,bv,SE,jE,Cu,Hq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DWe(){return Ko.apply(_E(CUe,AUe,pd,EE,ik,nk,CE,NE,Cu,Vq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ok(){var e=0,t=1,r,a,n,s,o=gi,l=!1,c;function d(u){return u==null||isNaN(u=+u)?c:o(n===0?.5:(u=(s(u)-r)*n,l?Math.max(0,Math.min(1,u)):u))}d.domain=function(u){return arguments.length?([e,t]=u,r=s(e=+e),a=s(t=+t),n=r===a?0:1/(a-r),d):[e,t]},d.clamp=function(u){return arguments.length?(l=!!u,d):l},d.interpolator=function(u){return arguments.length?(o=u,d):o};function f(u){return function(m){var h,g;return arguments.length?([h,g]=m,o=u(h,g),d):[o(0),o(1)]}}return d.range=f(Np),d.rangeRound=f(mE),d.unknown=function(u){return arguments.length?(c=u,d):c},function(u){return s=u,r=u(e),a=u(t),n=r===a?0:1/(a-r),d}}function Wf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Gq(){var e=Uf(ok()(gi));return e.copy=function(){return Wf(e,Gq())},Nd.apply(e,arguments)}function qq(){var e=vE(ok()).domain([1,10]);return e.copy=function(){return Wf(e,qq()).base(e.base())},Nd.apply(e,arguments)}function Yq(){var e=yE(ok());return e.copy=function(){return Wf(e,Yq()).constant(e.constant())},Nd.apply(e,arguments)}function ME(){var e=bE(ok());return e.copy=function(){return Wf(e,ME()).exponent(e.exponent())},Nd.apply(e,arguments)}function PWe(){return ME.apply(null,arguments).exponent(.5)}function Jq(){var e=[],t=gi;function r(a){if(a!=null&&!isNaN(a=+a))return t((xv(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(mf),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(n,s)=>w$e(e,s/a))},r.copy=function(){return Jq(t).domain(e)},Nd.apply(r,arguments)}function lk(){var e=0,t=.5,r=1,a=1,n,s,o,l,c,d=gi,f,u=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+f(p))-s)*(a*p<a*s?l:c),d(u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,n=f(e=+e),s=f(t=+t),o=f(r=+r),l=n===s?0:.5/(s-n),c=s===o?0:.5/(o-s),a=s<n?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(d=p,h):d};function g(p){return function(x){var v,b,y;return arguments.length?([v,b,y]=x,d=q$e(p,[v,b,y]),h):[d(0),d(.5),d(1)]}}return h.range=g(Np),h.rangeRound=g(mE),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return f=p,n=p(e),s=p(t),o=p(r),l=n===s?0:.5/(s-n),c=s===o?0:.5/(o-s),a=s<n?-1:1,h}}function Kq(){var e=Uf(lk()(gi));return e.copy=function(){return Wf(e,Kq())},Nd.apply(e,arguments)}function Qq(){var e=vE(lk()).domain([.1,1,10]);return e.copy=function(){return Wf(e,Qq()).base(e.base())},Nd.apply(e,arguments)}function Xq(){var e=yE(lk());return e.copy=function(){return Wf(e,Xq()).constant(e.constant())},Nd.apply(e,arguments)}function LE(){var e=bE(lk());return e.copy=function(){return Wf(e,LE()).exponent(e.exponent())},Nd.apply(e,arguments)}function OWe(){return LE.apply(null,arguments).exponent(.5)}const QO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:i1,scaleDiverging:Kq,scaleDivergingLog:Qq,scaleDivergingPow:LE,scaleDivergingSqrt:OWe,scaleDivergingSymlog:Xq,scaleIdentity:Mq,scaleImplicit:J5,scaleLinear:$2,scaleLog:Tq,scaleOrdinal:fE,scalePoint:Zg,scalePow:wE,scaleQuantile:Pq,scaleQuantize:Oq,scaleRadial:Dq,scaleSequential:Gq,scaleSequentialLog:qq,scaleSequentialPow:ME,scaleSequentialQuantile:Jq,scaleSequentialSqrt:PWe,scaleSequentialSymlog:Yq,scaleSqrt:gUe,scaleSymlog:Iq,scaleThreshold:Rq,scaleTime:IWe,scaleUtc:DWe,tickFormat:_q},Symbol.toStringTag,{value:"Module"}));var RWe=dp;function FWe(e,t,r){for(var a=-1,n=e.length;++a<n;){var s=e[a],o=t(s);if(o!=null&&(l===void 0?o===o&&!RWe(o):r(o,l)))var l=o,c=s}return c}var Zq=FWe;function BWe(e,t){return e>t}var zWe=BWe,$We=Zq,UWe=zWe,WWe=xp;function HWe(e){return e&&e.length?$We(e,WWe,UWe):void 0}var VWe=HWe;const ck=Lr(VWe);function GWe(e,t){return e<t}var qWe=GWe,YWe=Zq,JWe=qWe,KWe=xp;function QWe(e){return e&&e.length?YWe(e,KWe,JWe):void 0}var XWe=QWe;const dk=Lr(XWe);var ZWe=x4,eHe=jd,tHe=xW,rHe=si;function aHe(e,t){var r=rHe(e)?ZWe:tHe;return r(e,eHe(t))}var nHe=aHe,sHe=xA,iHe=nHe;function oHe(e,t){return sHe(iHe(e,t),1)}var lHe=oHe;const cHe=Lr(lHe);var Sp=1e9,dHe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IE,Ga=!0,Ho="[DecimalError] ",Bu=Ho+"Invalid argument: ",TE=Ho+"Exponent out of range: ",Cp=Math.floor,gu=Math.pow,fHe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qi,fs=1e7,Oa=7,eY=9007199254740991,V2=Cp(eY/Oa),Ct={};Ct.absoluteValue=Ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ct.comparedTo=Ct.cmp=function(e){var t,r,a,n,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(a=s.d.length,n=e.d.length,t=0,r=a<n?a:n;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return a===n?0:a>n^s.s<0?1:-1};Ct.decimalPlaces=Ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Oa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ct.dividedBy=Ct.div=function(e){return ad(this,new this.constructor(e))};Ct.dividedToIntegerBy=Ct.idiv=function(e){var t=this,r=t.constructor;return wa(ad(t,new r(e),0,1),r.precision)};Ct.equals=Ct.eq=function(e){return!this.cmp(e)};Ct.exponent=function(){return Un(this)};Ct.greaterThan=Ct.gt=function(e){return this.cmp(e)>0};Ct.greaterThanOrEqualTo=Ct.gte=function(e){return this.cmp(e)>=0};Ct.isInteger=Ct.isint=function(){return this.e>this.d.length-2};Ct.isNegative=Ct.isneg=function(){return this.s<0};Ct.isPositive=Ct.ispos=function(){return this.s>0};Ct.isZero=function(){return this.s===0};Ct.lessThan=Ct.lt=function(e){return this.cmp(e)<0};Ct.lessThanOrEqualTo=Ct.lte=function(e){return this.cmp(e)<1};Ct.logarithm=Ct.log=function(e){var t,r=this,a=r.constructor,n=a.precision,s=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Qi))throw Error(Ho+"NaN");if(r.s<1)throw Error(Ho+(r.s?"NaN":"-Infinity"));return r.eq(Qi)?new a(0):(Ga=!1,t=ad(f1(r,s),f1(e,s),s),Ga=!0,wa(t,n))};Ct.minus=Ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aY(t,e):tY(t,(e.s=-e.s,e))};Ct.modulo=Ct.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Ho+"NaN");return r.s?(Ga=!1,t=ad(r,e,0,1).times(e),Ga=!0,r.minus(t)):wa(new a(r),n)};Ct.naturalExponential=Ct.exp=function(){return rY(this)};Ct.naturalLogarithm=Ct.ln=function(){return f1(this)};Ct.negated=Ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ct.plus=Ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tY(t,e):aY(t,(e.s=-e.s,e))};Ct.precision=Ct.sd=function(e){var t,r,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bu+e);if(t=Un(n)+1,a=n.d.length-1,r=a*Oa+1,a=n.d[a],a){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Ct.squareRoot=Ct.sqrt=function(){var e,t,r,a,n,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ho+"NaN")}for(e=Un(l),Ga=!1,n=Math.sqrt(+l),n==0||n==1/0?(t=lc(l.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Cp((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(n.toString()),r=c.precision,n=o=r+3;;)if(s=a,a=s.plus(ad(l,s,o+2)).times(.5),lc(s.d).slice(0,o)===(t=lc(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),n==o&&t=="4999"){if(wa(s,r+1,0),s.times(s).eq(l)){a=s;break}}else if(t!="9999")break;o+=4}return Ga=!0,wa(a,r)};Ct.times=Ct.mul=function(e){var t,r,a,n,s,o,l,c,d,f=this,u=f.constructor,m=f.d,h=(e=new u(e)).d;if(!f.s||!e.s)return new u(0);for(e.s*=f.s,r=f.e+e.e,c=m.length,d=h.length,c<d&&(s=m,m=h,h=s,o=c,c=d,d=o),s=[],o=c+d,a=o;a--;)s.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)l=s[n]+h[a]*m[n-a-1]+t,s[n--]=l%fs|0,t=l/fs|0;s[n]=(s[n]+t)%fs|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ga?wa(e,u.precision):e};Ct.toDecimalPlaces=Ct.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(wc(e,0,Sp),t===void 0?t=a.rounding:wc(t,0,8),wa(r,e+Un(r)+1,t))};Ct.toExponential=function(e,t){var r,a=this,n=a.constructor;return e===void 0?r=g0(a,!0):(wc(e,0,Sp),t===void 0?t=n.rounding:wc(t,0,8),a=wa(new n(a),e+1,t),r=g0(a,!0,e+1)),r};Ct.toFixed=function(e,t){var r,a,n=this,s=n.constructor;return e===void 0?g0(n):(wc(e,0,Sp),t===void 0?t=s.rounding:wc(t,0,8),a=wa(new s(n),e+Un(n)+1,t),r=g0(a.abs(),!1,e+Un(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)};Ct.toInteger=Ct.toint=function(){var e=this,t=e.constructor;return wa(new t(e),Un(e)+1,t.rounding)};Ct.toNumber=function(){return+this};Ct.toPower=Ct.pow=function(e){var t,r,a,n,s,o,l=this,c=l.constructor,d=12,f=+(e=new c(e));if(!e.s)return new c(Qi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ho+"Infinity");return l}if(l.eq(Qi))return l;if(a=c.precision,e.eq(Qi))return wa(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=f<0?-f:f)<=eY){for(n=new c(Qi),t=Math.ceil(a/Oa+4),Ga=!1;r%2&&(n=n.times(l),ZO(n.d,t)),r=Cp(r/2),r!==0;)l=l.times(l),ZO(l.d,t);return Ga=!0,e.s<0?new c(Qi).div(n):wa(n,a)}}else if(s<0)throw Error(Ho+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ga=!1,n=e.times(f1(l,a+d)),Ga=!0,n=rY(n),n.s=s,n};Ct.toPrecision=function(e,t){var r,a,n=this,s=n.constructor;return e===void 0?(r=Un(n),a=g0(n,r<=s.toExpNeg||r>=s.toExpPos)):(wc(e,1,Sp),t===void 0?t=s.rounding:wc(t,0,8),n=wa(new s(n),e,t),r=Un(n),a=g0(n,e<=r||r<=s.toExpNeg,e)),a};Ct.toSignificantDigits=Ct.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(wc(e,1,Sp),t===void 0?t=a.rounding:wc(t,0,8)),wa(new a(r),e,t)};Ct.toString=Ct.valueOf=Ct.val=Ct.toJSON=Ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Un(e),r=e.constructor;return g0(e,t<=r.toExpNeg||t>=r.toExpPos)};function tY(e,t){var r,a,n,s,o,l,c,d,f=e.constructor,u=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Ga?wa(t,u):t;if(c=e.d,d=t.d,o=e.e,n=t.e,c=c.slice(),s=o-n,s){for(s<0?(a=c,s=-s,l=d.length):(a=d,n=o,l=c.length),o=Math.ceil(u/Oa),l=o>l?o+1:l+1,s>l&&(s=l,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,a=d,d=c,c=a),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/fs|0,c[s]%=fs;for(r&&(c.unshift(r),++n),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=n,Ga?wa(t,u):t}function wc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bu+e)}function lc(e){var t,r,a,n=e.length-1,s="",o=e[0];if(n>0){for(s+=o,t=1;t<n;t++)a=e[t]+"",r=Oa-a.length,r&&(s+=Qd(r)),s+=a;o=e[t],a=o+"",r=Oa-a.length,r&&(s+=Qd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ad=function(){function e(a,n){var s,o=0,l=a.length;for(a=a.slice();l--;)s=a[l]*n+o,a[l]=s%fs|0,o=s/fs|0;return o&&a.unshift(o),a}function t(a,n,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(a[l]!=n[l]){c=a[l]>n[l]?1:-1;break}return c}function r(a,n,s){for(var o=0;s--;)a[s]-=o,o=a[s]<n[s]?1:0,a[s]=o*fs+a[s]-n[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,s,o){var l,c,d,f,u,m,h,g,p,x,v,b,y,w,j,E,A,C,S=a.constructor,T=a.s==n.s?1:-1,_=a.d,M=n.d;if(!a.s)return new S(a);if(!n.s)throw Error(Ho+"Division by zero");for(c=a.e-n.e,A=M.length,j=_.length,h=new S(T),g=h.d=[],d=0;M[d]==(_[d]||0);)++d;if(M[d]>(_[d]||0)&&--c,s==null?b=s=S.precision:o?b=s+(Un(a)-Un(n))+1:b=s,b<0)return new S(0);if(b=b/Oa+2|0,d=0,A==1)for(f=0,M=M[0],b++;(d<j||f)&&b--;d++)y=f*fs+(_[d]||0),g[d]=y/M|0,f=y%M|0;else{for(f=fs/(M[0]+1)|0,f>1&&(M=e(M,f),_=e(_,f),A=M.length,j=_.length),w=A,p=_.slice(0,A),x=p.length;x<A;)p[x++]=0;C=M.slice(),C.unshift(0),E=M[0],M[1]>=fs/2&&++E;do f=0,l=t(M,p,A,x),l<0?(v=p[0],A!=x&&(v=v*fs+(p[1]||0)),f=v/E|0,f>1?(f>=fs&&(f=fs-1),u=e(M,f),m=u.length,x=p.length,l=t(u,p,m,x),l==1&&(f--,r(u,A<m?C:M,m))):(f==0&&(l=f=1),u=M.slice()),m=u.length,m<x&&u.unshift(0),r(p,u,x),l==-1&&(x=p.length,l=t(M,p,A,x),l<1&&(f++,r(p,A<x?C:M,x))),x=p.length):l===0&&(f++,p=[0]),g[d++]=f,l&&p[0]?p[x++]=_[w]||0:(p=[_[w]],x=1);while((w++<j||p[0]!==void 0)&&b--)}return g[0]||g.shift(),h.e=c,wa(h,o?s+Un(h)+1:s)}}();function rY(e,t){var r,a,n,s,o,l,c=0,d=0,f=e.constructor,u=f.precision;if(Un(e)>16)throw Error(TE+Un(e));if(!e.s)return new f(Qi);for(Ga=!1,l=u,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(gu(2,d))/Math.LN10*2+5|0,l+=a,r=n=s=new f(Qi),f.precision=l;;){if(n=wa(n.times(e),l),r=r.times(++c),o=s.plus(ad(n,r,l)),lc(o.d).slice(0,l)===lc(s.d).slice(0,l)){for(;d--;)s=wa(s.times(s),l);return f.precision=u,t==null?(Ga=!0,wa(s,u)):s}s=o}}function Un(e){for(var t=e.e*Oa,r=e.d[0];r>=10;r/=10)t++;return t}function BN(e,t,r){if(t>e.LN10.sd())throw Ga=!0,r&&(e.precision=r),Error(Ho+"LN10 precision limit exceeded");return wa(new e(e.LN10),t)}function Qd(e){for(var t="";e--;)t+="0";return t}function f1(e,t){var r,a,n,s,o,l,c,d,f,u=1,m=10,h=e,g=h.d,p=h.constructor,x=p.precision;if(h.s<1)throw Error(Ho+(h.s?"NaN":"-Infinity"));if(h.eq(Qi))return new p(0);if(t==null?(Ga=!1,d=x):d=t,h.eq(10))return t==null&&(Ga=!0),BN(p,d);if(d+=m,p.precision=d,r=lc(g),a=r.charAt(0),s=Un(h),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)h=h.times(e),r=lc(h.d),a=r.charAt(0),u++;s=Un(h),a>1?(h=new p("0."+r),s++):h=new p(a+"."+r.slice(1))}else return c=BN(p,d+2,x).times(s+""),h=f1(new p(a+"."+r.slice(1)),d-m).plus(c),p.precision=x,t==null?(Ga=!0,wa(h,x)):h;for(l=o=h=ad(h.minus(Qi),h.plus(Qi),d),f=wa(h.times(h),d),n=3;;){if(o=wa(o.times(f),d),c=l.plus(ad(o,new p(n),d)),lc(c.d).slice(0,d)===lc(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(BN(p,d+2,x).times(s+""))),l=ad(l,new p(u),d),p.precision=x,t==null?(Ga=!0,wa(l,x)):l;l=c,n+=2}}function XO(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,r=r-a-1,e.e=Cp(r/Oa),e.d=[],a=(r+1)%Oa,r<0&&(a+=Oa),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=Oa;a<n;)e.d.push(+t.slice(a,a+=Oa));t=t.slice(a),a=Oa-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),Ga&&(e.e>V2||e.e<-V2))throw Error(TE+r)}else e.s=0,e.e=0,e.d=[0];return e}function wa(e,t,r){var a,n,s,o,l,c,d,f,u=e.d;for(o=1,s=u[0];s>=10;s/=10)o++;if(a=t-o,a<0)a+=Oa,n=t,d=u[f=0];else{if(f=Math.ceil((a+1)/Oa),s=u.length,f>=s)return e;for(d=s=u[f],o=1;s>=10;s/=10)o++;a%=Oa,n=a-Oa+o}if(r!==void 0&&(s=gu(10,o-n-1),l=d/s%10|0,c=t<0||u[f+1]!==void 0||d%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(a>0?n>0?d/gu(10,o-n):0:u[f-1])%10&1||r==(e.s<0?8:7))),t<1||!u[0])return c?(s=Un(e),u.length=1,t=t-s-1,u[0]=gu(10,(Oa-t%Oa)%Oa),e.e=Cp(-t/Oa)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(a==0?(u.length=f,s=1,f--):(u.length=f+1,s=gu(10,Oa-a),u[f]=n>0?(d/gu(10,o-n)%gu(10,n)|0)*s:0),c)for(;;)if(f==0){(u[0]+=s)==fs&&(u[0]=1,++e.e);break}else{if(u[f]+=s,u[f]!=fs)break;u[f--]=0,s=1}for(a=u.length;u[--a]===0;)u.pop();if(Ga&&(e.e>V2||e.e<-V2))throw Error(TE+Un(e));return e}function aY(e,t){var r,a,n,s,o,l,c,d,f,u,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ga?wa(t,h):t;if(c=e.d,u=t.d,a=t.e,d=e.e,c=c.slice(),o=d-a,o){for(f=o<0,f?(r=c,o=-o,l=u.length):(r=u,a=d,l=c.length),n=Math.max(Math.ceil(h/Oa),l)+2,o>n&&(o=n,r.length=1),r.reverse(),n=o;n--;)r.push(0);r.reverse()}else{for(n=c.length,l=u.length,f=n<l,f&&(l=n),n=0;n<l;n++)if(c[n]!=u[n]){f=c[n]<u[n];break}o=0}for(f&&(r=c,c=u,u=r,t.s=-t.s),l=c.length,n=u.length-l;n>0;--n)c[l++]=0;for(n=u.length;n>o;){if(c[--n]<u[n]){for(s=n;s&&c[--s]===0;)c[s]=fs-1;--c[s],c[n]+=fs}c[n]-=u[n]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,Ga?wa(t,h):t):new m(0)}function g0(e,t,r){var a,n=Un(e),s=lc(e.d),o=s.length;return t?(r&&(a=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Qd(a):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n<0?"e":"e+")+n):n<0?(s="0."+Qd(-n-1)+s,r&&(a=r-o)>0&&(s+=Qd(a))):n>=o?(s+=Qd(n+1-o),r&&(a=r-n-1)>0&&(s=s+"."+Qd(a))):((a=n+1)<o&&(s=s.slice(0,a)+"."+s.slice(a)),r&&(a=r-o)>0&&(n+1===o&&(s+="."),s+=Qd(a))),e.s<0?"-"+s:s}function ZO(e,t){if(e.length>t)return e.length=t,!0}function nY(e){var t,r,a;function n(s){var o=this;if(!(o instanceof n))return new n(s);if(o.constructor=n,s instanceof n){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bu+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return XO(o,s.toString())}else if(typeof s!="string")throw Error(Bu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,fHe.test(s))XO(o,s);else throw Error(Bu+s)}if(n.prototype=Ct,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=nY,n.config=n.set=uHe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return n.config(e),n}function uHe(e){if(!e||typeof e!="object")throw Error(Ho+"Object expected");var t,r,a,n=["precision",1,Sp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[r=n[t]])!==void 0)if(Cp(a)===a&&a>=n[t+1]&&a<=n[t+2])this[r]=a;else throw Error(Bu+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Bu+r+": "+a);return this}var IE=nY(dHe);Qi=new IE(1);const oa=IE;function hHe(e){return xHe(e)||gHe(e)||pHe(e)||mHe()}function mHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pHe(e,t){if(e){if(typeof e=="string")return Z5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z5(e,t)}}function gHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xHe(e){if(Array.isArray(e))return Z5(e)}function Z5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var vHe=function(t){return t},sY={},iY=function(t){return t===sY},e9=function(t){return function r(){return arguments.length===0||arguments.length===1&&iY(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},yHe=function e(t,r){return t===1?r:e9(function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];var o=n.filter(function(l){return l!==sY}).length;return o>=t?r.apply(void 0,n):e(t-o,e9(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=n.map(function(u){return iY(u)?c.shift():u});return r.apply(void 0,hHe(f).concat(c))}))})},fk=function(t){return yHe(t.length,t)},eS=function(t,r){for(var a=[],n=t;n<r;++n)a[n-t]=n;return a},bHe=fk(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),wHe=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return vHe;var n=r.reverse(),s=n[0],o=n.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},tS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},oY=function(t){var r=null,a=null;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,a=t.apply(void 0,s)),a}};function kHe(e){var t;return e===0?t=1:t=Math.floor(new oa(e).abs().log(10).toNumber())+1,t}function jHe(e,t,r){for(var a=new oa(e),n=0,s=[];a.lt(t)&&n<1e5;)s.push(a.toNumber()),a=a.add(r),n++;return s}var NHe=fk(function(e,t,r){var a=+e,n=+t;return a+r*(n-a)}),SHe=fk(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),CHe=fk(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const uk={rangeStep:jHe,getDigitCount:kHe,interpolateNumber:NHe,uninterpolateNumber:SHe,uninterpolateTruncation:CHe};function rS(e){return _He(e)||EHe(e)||lY(e)||AHe()}function AHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _He(e){if(Array.isArray(e))return aS(e)}function u1(e,t){return THe(e)||LHe(e,t)||lY(e,t)||MHe()}function MHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lY(e,t){if(e){if(typeof e=="string")return aS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aS(e,t)}}function aS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function LHe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,n=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(c){n=!0,s=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(n)throw s}}return r}}function THe(e){if(Array.isArray(e))return e}function cY(e){var t=u1(e,2),r=t[0],a=t[1],n=r,s=a;return r>a&&(n=a,s=r),[n,s]}function dY(e,t,r){if(e.lte(0))return new oa(0);var a=uk.getDigitCount(e.toNumber()),n=new oa(10).pow(a),s=e.div(n),o=a!==1?.05:.1,l=new oa(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(n);return t?c:new oa(Math.ceil(c))}function IHe(e,t,r){var a=1,n=new oa(e);if(!n.isint()&&r){var s=Math.abs(e);s<1?(a=new oa(10).pow(uk.getDigitCount(e)-1),n=new oa(Math.floor(n.div(a).toNumber())).mul(a)):s>1&&(n=new oa(Math.floor(e)))}else e===0?n=new oa(Math.floor((t-1)/2)):r||(n=new oa(Math.floor(e)));var o=Math.floor((t-1)/2),l=wHe(bHe(function(c){return n.add(new oa(c-o).mul(a)).toNumber()}),eS);return l(0,t)}function fY(e,t,r,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new oa(0),tickMin:new oa(0),tickMax:new oa(0)};var s=dY(new oa(t).sub(e).div(r-1),a,n),o;e<=0&&t>=0?o=new oa(0):(o=new oa(e).add(t).div(2),o=o.sub(new oa(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new oa(t).sub(o).div(s).toNumber()),d=l+c+1;return d>r?fY(e,t,r,a,n+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:s,tickMin:o.sub(new oa(l).mul(s)),tickMax:o.add(new oa(c).mul(s))})}function DHe(e){var t=u1(e,2),r=t[0],a=t[1],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),l=cY([r,a]),c=u1(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var u=f===1/0?[d].concat(rS(eS(0,n-1).map(function(){return 1/0}))):[].concat(rS(eS(0,n-1).map(function(){return-1/0})),[f]);return r>a?tS(u):u}if(d===f)return IHe(d,n,s);var m=fY(d,f,o,s),h=m.step,g=m.tickMin,p=m.tickMax,x=uk.rangeStep(g,p.add(new oa(.1).mul(h)),h);return r>a?tS(x):x}function PHe(e,t){var r=u1(e,2),a=r[0],n=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=cY([a,n]),l=u1(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[a,n];if(c===d)return[c];var f=Math.max(t,2),u=dY(new oa(d).sub(c).div(f-1),s,0),m=[].concat(rS(uk.rangeStep(new oa(c),new oa(d).sub(new oa(.99).mul(u)),u)),[d]);return a>n?tS(m):m}var OHe=oY(DHe),RHe=oY(PHe),FHe="Invariant failed";function x0(e,t){throw new Error(FHe)}var BHe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},G2.apply(this,arguments)}function zHe(e,t){return HHe(e)||WHe(e,t)||UHe(e,t)||$He()}function $He(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UHe(e,t){if(e){if(typeof e=="string")return t9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t9(e,t)}}function t9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function WHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function HHe(e){if(Array.isArray(e))return e}function VHe(e,t){if(e==null)return{};var r=GHe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function GHe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function qHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YHe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,mY(a.key),a)}}function JHe(e,t,r){return t&&YHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KHe(e,t,r){return t=q2(t),QHe(e,uY()?Reflect.construct(t,r||[],q2(e).constructor):t.apply(e,r))}function QHe(e,t){if(t&&(km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XHe(e)}function XHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uY=function(){return!!e})()}function q2(e){return q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q2(e)}function ZHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},nS(e,t)}function hY(e,t,r){return t=mY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=eVe(e,"string");return km(t)=="symbol"?t:t+""}function eVe(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(km(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wv=function(e){function t(){return qHe(this,t),KHe(this,t,arguments)}return ZHe(t,e),JHe(t,[{key:"render",value:function(){var a=this.props,n=a.offset,s=a.layout,o=a.width,l=a.dataKey,c=a.data,d=a.dataPointFormatter,f=a.xAxis,u=a.yAxis,m=VHe(a,BHe),h=Sr(m,!1);this.props.direction==="x"&&f.type!=="number"&&x0();var g=c.map(function(p){var x=d(p,l),v=x.x,b=x.y,y=x.value,w=x.errorVal;if(!w)return null;var j=[],E,A;if(Array.isArray(w)){var C=zHe(w,2);E=C[0],A=C[1]}else E=A=w;if(s==="vertical"){var S=f.scale,T=b+n,_=T+o,M=T-o,D=S(y-E),O=S(y+A);j.push({x1:O,y1:_,x2:O,y2:M}),j.push({x1:D,y1:T,x2:O,y2:T}),j.push({x1:D,y1:_,x2:D,y2:M})}else if(s==="horizontal"){var B=u.scale,U=v+n,q=U-o,K=U+o,G=B(y-E),ve=B(y+A);j.push({x1:q,y1:ve,x2:K,y2:ve}),j.push({x1:U,y1:G,x2:U,y2:ve}),j.push({x1:q,y1:G,x2:K,y2:G})}return Z.createElement(Sn,G2({className:"recharts-errorBar",key:"bar-".concat(j.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},h),j.map(function(fe){return Z.createElement("line",G2({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return Z.createElement(Sn,{className:"recharts-errorBars"},g)}}])}(Z.Component);hY(wv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hY(wv,"displayName","ErrorBar");function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}function r9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r9(Object(r),!0).forEach(function(a){tVe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tVe(e,t,r){return t=rVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rVe(e){var t=aVe(e,"string");return h1(t)=="symbol"?t:t+""}function aVe(e,t){if(h1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(h1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pY=function(t){var r=t.children,a=t.formattedGraphicalItems,n=t.legendWidth,s=t.legendContent,o=Vi(r,Ru);if(!o)return null;var l=Ru.defaultProps,c=l!==void 0?fu(fu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:s==="children"?d=(a||[]).reduce(function(f,u){var m=u.item,h=u.props,g=h.sectors||h.data||[];return f.concat(g.map(function(p){return{type:o.props.iconType||m.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(a||[]).map(function(f){var u=f.item,m=u.type.defaultProps,h=m!==void 0?fu(fu({},m),u.props):{},g=h.dataKey,p=h.name,x=h.legendType,v=h.hide;return{inactive:v,dataKey:g,type:c.iconType||x||"square",color:DE(u),value:p||g,payload:h}}),fu(fu(fu({},c),Ru.getWithHeight(o,n)),{},{payload:d,item:o})};function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function a9(e){return oVe(e)||iVe(e)||sVe(e)||nVe()}function nVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sVe(e,t){if(e){if(typeof e=="string")return sS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sS(e,t)}}function iVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oVe(e){if(Array.isArray(e))return sS(e)}function sS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function n9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n9(Object(r),!0).forEach(function(a){Gh(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gh(e,t,r){return t=lVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lVe(e){var t=cVe(e,"string");return m1(t)=="symbol"?t:t+""}function cVe(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(m1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function so(e,t,r){return gr(e)||gr(t)?r:ts(t)?Oo(e,t,r):fr(t)?t(e):r}function ex(e,t,r,a){var n=cHe(e,function(l){return so(l,t)});if(r==="number"){var s=n.filter(function(l){return yt(l)||parseFloat(l)});return s.length?[dk(s),ck(s)]:[1/0,-1/0]}var o=a?n.filter(function(l){return!gr(l)}):n;return o.map(function(l){return ts(l)||l instanceof Date?l:""})}var dVe=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,d=0;d<l;d++){var f=d>0?n[d-1].coordinate:n[l-1].coordinate,u=n[d].coordinate,m=d>=l-1?n[0].coordinate:n[d+1].coordinate,h=void 0;if(yl(u-f)!==yl(m-u)){var g=[];if(yl(m-u)===yl(c[1]-c[0])){h=m;var p=u+c[1]-c[0];g[0]=Math.min(p,(p+f)/2),g[1]=Math.max(p,(p+f)/2)}else{h=f;var x=m+c[1]-c[0];g[0]=Math.min(u,(x+u)/2),g[1]=Math.max(u,(x+u)/2)}var v=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){o=n[d].index;break}}else{var b=Math.min(f,m),y=Math.max(f,m);if(t>(b+u)/2&&t<=(y+u)/2){o=n[d].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(a[w].coordinate+a[w+1].coordinate)/2||w>0&&w<l-1&&t>(a[w].coordinate+a[w-1].coordinate)/2&&t<=(a[w].coordinate+a[w+1].coordinate)/2||w===l-1&&t>(a[w].coordinate+a[w-1].coordinate)/2){o=a[w].index;break}return o},DE=function(t){var r,a=t,n=a.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?cn(cn({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(n){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},fVe=function(t){var r=t.barSize,a=t.totalSize,n=t.stackGroups,s=n===void 0?{}:n;if(!s)return{};for(var o={},l=Object.keys(s),c=0,d=l.length;c<d;c++)for(var f=s[l[c]].stackGroups,u=Object.keys(f),m=0,h=u.length;m<h;m++){var g=f[u[m]],p=g.items,x=g.cateAxisId,v=p.filter(function(A){return td(A.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,y=b!==void 0?cn(cn({},b),v[0].props):v[0].props,w=y.barSize,j=y[x];o[j]||(o[j]=[]);var E=gr(w)?r:w;o[j].push({item:v[0],stackList:v.slice(1),barSize:gr(E)?void 0:bl(E,a,0)})}}return o},uVe=function(t){var r=t.barGap,a=t.barCategoryGap,n=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=bl(r,n,0,!0),f,u=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=n/c,g=o.reduce(function(w,j){return w+j.barSize||0},0);g+=(c-1)*d,g>=n&&(g-=(c-1)*d,d=0),g>=n&&h>0&&(m=!0,h*=.9,g=c*h);var p=(n-g)/2>>0,x={offset:p-d,size:0};f=o.reduce(function(w,j){var E={item:j.item,position:{offset:x.offset+x.size+d,size:m?h:j.barSize}},A=[].concat(a9(w),[E]);return x=A[A.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){A.push({item:C,position:x})}),A},u)}else{var v=bl(a,n,0,!0);n-2*v-(c-1)*d<=0&&(d=0);var b=(n-2*v-(c-1)*d)/c;b>1&&(b>>=0);var y=l===+l?Math.min(b,l):b;f=o.reduce(function(w,j,E){var A=[].concat(a9(w),[{item:j.item,position:{offset:v+(b+d)*E+(b-y)/2,size:y}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},u)}return f},hVe=function(t,r,a,n){var s=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),d=pY({children:s,legendWidth:c});if(d){var f=n||{},u=f.width,m=f.height,h=d.align,g=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&h!=="center"&&yt(t[h]))return cn(cn({},t),{},Gh({},h,t[h]+(u||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&g!=="middle"&&yt(t[g]))return cn(cn({},t),{},Gh({},g,t[g]+(m||0)))}return t},mVe=function(t,r,a){return gr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},gY=function(t,r,a,n,s){var o=r.props.children,l=Fo(o,wv).filter(function(d){return mVe(n,s,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,f){var u=so(f,a);if(gr(u))return d;var m=Array.isArray(u)?[dk(u),ck(u)]:[u,u],h=c.reduce(function(g,p){var x=so(f,p,0),v=m[0]-Math.abs(Array.isArray(x)?x[0]:x),b=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0])}return null},pVe=function(t,r,a,n,s){var o=r.map(function(l){return gY(t,l,a,s,n)}).filter(function(l){return!gr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},xY=function(t,r,a,n,s){var o=r.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&gY(t,c,d,n)||ex(t,d,a,s)});if(a==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,u=d.length;f<u;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},vY=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},yY=function(t,r,a,n){if(n)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===a&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(a),l},Kc=function(t,r,a){if(!t)return null;var n=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?n.bandwidth()/2:2,d=(r||a)&&o==="category"&&n.bandwidth?n.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?yl(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(u){var m=s?s.indexOf(u):u;return{coordinate:n(m)+d,value:u,offset:d}});return f.filter(function(u){return!pv(u.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(u,m){return{coordinate:n(u)+d,value:u,index:m,offset:d}}):n.ticks&&!a?n.ticks(t.tickCount).map(function(u){return{coordinate:n(u)+d,value:u,offset:d}}):n.domain().map(function(u,m){return{coordinate:n(u)+d,value:s?s[u]:u,index:m,offset:d}})},zN=new WeakMap,Vy=function(t,r){if(typeof r!="function")return t;zN.has(t)||zN.set(t,new WeakMap);var a=zN.get(t);if(a.has(r))return a.get(r);var n=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,n),n},bY=function(t,r,a){var n=t.scale,s=t.type,o=t.layout,l=t.axisType;if(n==="auto")return o==="radial"&&l==="radiusAxis"?{scale:i1(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:$2(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Zg(),realScaleType:"point"}:s==="category"?{scale:i1(),realScaleType:"band"}:{scale:$2(),realScaleType:"linear"};if(p0(n)){var c="scale".concat(X4(n));return{scale:(QO[c]||Zg)(),realScaleType:QO[c]?c:"point"}}return fr(n)?{scale:n}:{scale:Zg(),realScaleType:"point"}},s9=1e-4,wY=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,n=t.range(),s=Math.min(n[0],n[1])-s9,o=Math.max(n[0],n[1])+s9,l=t(r[0]),c=t(r[a-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[a-1]])}},gVe=function(t,r){if(!t)return null;for(var a=0,n=t.length;a<n;a++)if(t[a].item===r)return t[a].position;return null},xVe=function(t,r){if(!r||r.length!==2||!yt(r[0])||!yt(r[1]))return t;var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!yt(t[0])||t[0]<a)&&(s[0]=a),(!yt(t[1])||t[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<a&&(s[1]=a),s},vVe=function(t){var r=t.length;if(!(r<=0))for(var a=0,n=t[0].length;a<n;++a)for(var s=0,o=0,l=0;l<r;++l){var c=pv(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=s,t[l][a][1]=s+c,s=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},yVe=function(t){var r=t.length;if(!(r<=0))for(var a=0,n=t[0].length;a<n;++a)for(var s=0,o=0;o<r;++o){var l=pv(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=s,t[o][a][1]=s+l,s=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},bVe={sign:vVe,expand:pFe,none:mm,silhouette:gFe,wiggle:xFe,positive:yVe},wVe=function(t,r,a){var n=r.map(function(l){return l.props.dataKey}),s=bVe[a],o=mFe().keys(n).value(function(l,c){return+so(l,c,0)}).order(P5).offset(s);return o(t)},kVe=function(t,r,a,n,s,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(u,m){var h,g=(h=m.type)!==null&&h!==void 0&&h.defaultProps?cn(cn({},m.type.defaultProps),m.props):m.props,p=g.stackId,x=g.hide;if(x)return u;var v=g[a],b=u[v]||{hasStack:!1,stackGroups:{}};if(ts(p)){var y=b.stackGroups[p]||{numericAxisId:a,cateAxisId:n,items:[]};y.items.push(m),b.hasStack=!0,b.stackGroups[p]=y}else b.stackGroups[gv("_stackId_")]={numericAxisId:a,cateAxisId:n,items:[m]};return cn(cn({},u),{},Gh({},v,b))},c),f={};return Object.keys(d).reduce(function(u,m){var h=d[m];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,x){var v=h.stackGroups[x];return cn(cn({},p),{},Gh({},x,{numericAxisId:a,cateAxisId:n,items:v.items,stackedData:wVe(t,v.items,s)}))},g)}return cn(cn({},u),{},Gh({},m,h))},f)},kY=function(t,r){var a=r.realScaleType,n=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=a||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var f=OHe(d,s,l);return t.domain([dk(f),ck(f)]),{niceTicks:f}}if(s&&n==="number"){var u=t.domain(),m=RHe(u,s,l);return{niceTicks:m}}return null};function i9(e){var t=e.axis,r=e.ticks,a=e.bandSize,n=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gr(n[t.dataKey])){var l=w2(r,"value",n[t.dataKey]);if(l)return l.coordinate+a/2}return r[s]?r[s].coordinate+a/2:null}var c=so(n,gr(o)?t.dataKey:o);return gr(c)?null:t.scale(c)}var o9=function(t){var r=t.axis,a=t.ticks,n=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return a[l]?a[l].coordinate+n:null;var c=so(o,r.dataKey,r.domain[l]);return gr(c)?null:r.scale(c)-s/2+n},jVe=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var n=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return n<=0&&s>=0?0:s<0?s:n}return a[0]},NVe=function(t,r){var a,n=(a=t.type)!==null&&a!==void 0&&a.defaultProps?cn(cn({},t.type.defaultProps),t.props):t.props,s=n.stackId;if(ts(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},SVe=function(t){return t.reduce(function(r,a){return[dk(a.concat([r[0]]).filter(yt)),ck(a.concat([r[1]]).filter(yt))]},[1/0,-1/0])},jY=function(t,r,a){return Object.keys(t).reduce(function(n,s){var o=t[s],l=o.stackedData,c=l.reduce(function(d,f){var u=SVe(f.slice(r,a+1));return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},l9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iS=function(t,r,a){if(fr(t))return t(r,a);if(!Array.isArray(t))return r;var n=[];if(yt(t[0]))n[0]=a?t[0]:Math.min(t[0],r[0]);else if(l9.test(t[0])){var s=+l9.exec(t[0])[1];n[0]=r[0]-s}else fr(t[0])?n[0]=t[0](r[0]):n[0]=r[0];if(yt(t[1]))n[1]=a?t[1]:Math.max(t[1],r[1]);else if(c9.test(t[1])){var o=+c9.exec(t[1])[1];n[1]=r[1]+o}else fr(t[1])?n[1]=t[1](r[1]):n[1]=r[1];return n},Y2=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!a||n>0)return n}if(t&&r&&r.length>=2){for(var s=b4(r,function(u){return u.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var d=s[l],f=s[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},d9=function(t,r,a){return!t||!t.length||lv(t,Oo(a,"type.defaultProps.domain"))?r:t},NY=function(t,r){var a=t.type.defaultProps?cn(cn({},t.type.defaultProps),t.props):t.props,n=a.dataKey,s=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,d=a.chartType,f=a.hide;return cn(cn({},Sr(t,!1)),{},{dataKey:n,unit:o,formatter:l,name:s||n,color:DE(t),value:so(r,n),type:c,payload:r,chartType:d,hide:f})};function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}function f9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f9(Object(r),!0).forEach(function(a){SY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SY(e,t,r){return t=CVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CVe(e){var t=AVe(e,"string");return p1(t)=="symbol"?t:t+""}function AVe(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(p1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EVe(e,t){return TVe(e)||LVe(e,t)||MVe(e,t)||_Ve()}function _Ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MVe(e,t){if(e){if(typeof e=="string")return u9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u9(e,t)}}function u9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function LVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function TVe(e){if(Array.isArray(e))return e}var J2=Math.PI/180,IVe=function(t){return t*180/Math.PI},Ms=function(t,r,a,n){return{x:t+Math.cos(-J2*n)*a,y:r+Math.sin(-J2*n)*a}},DVe=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},brt=function(t,r,a,n,s){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,f=bl(t.cx,o,o/2),u=bl(t.cy,l,l/2),m=DVe(o,l,a),h=bl(t.innerRadius,m,0),g=bl(t.outerRadius,m,m*.8),p=Object.keys(r);return p.reduce(function(x,v){var b=r[v],y=b.domain,w=b.reversed,j;if(gr(b.range))n==="angleAxis"?j=[c,d]:n==="radiusAxis"&&(j=[h,g]),w&&(j=[j[1],j[0]]);else{j=b.range;var E=j,A=EVe(E,2);c=A[0],d=A[1]}var C=bY(b,s),S=C.realScaleType,T=C.scale;T.domain(y).range(j),wY(T);var _=kY(T,Hc(Hc({},b),{},{realScaleType:S})),M=Hc(Hc(Hc({},b),_),{},{range:j,radius:g,realScaleType:S,scale:T,cx:f,cy:u,innerRadius:h,outerRadius:g,startAngle:c,endAngle:d});return Hc(Hc({},x),{},SY({},v,M))},{})},PVe=function(t,r){var a=t.x,n=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(a-s,2)+Math.pow(n-o,2))},OVe=function(t,r){var a=t.x,n=t.y,s=r.cx,o=r.cy,l=PVe({x:a,y:n},{x:s,y:o});if(l<=0)return{radius:l};var c=(a-s)/l,d=Math.acos(c);return n>o&&(d=2*Math.PI-d),{radius:l,angle:IVe(d),angleInRadian:d}},RVe=function(t){var r=t.startAngle,a=t.endAngle,n=Math.floor(r/360),s=Math.floor(a/360),o=Math.min(n,s);return{startAngle:r-o*360,endAngle:a-o*360}},FVe=function(t,r){var a=r.startAngle,n=r.endAngle,s=Math.floor(a/360),o=Math.floor(n/360),l=Math.min(s,o);return t+l*360},h9=function(t,r){var a=t.x,n=t.y,s=OVe({x:a,y:n},r),o=s.radius,l=s.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=RVe(r),u=f.startAngle,m=f.endAngle,h=l,g;if(u<=m){for(;h>m;)h-=360;for(;h<u;)h+=360;g=h>=u&&h<=m}else{for(;h>u;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=u}return g?Hc(Hc({},r),{},{radius:o,angle:FVe(h,r)}):null},wrt=function(t){return!k.isValidElement(t)&&!fr(t)&&typeof t!="boolean"?t.className:""};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}var BVe=["offset"];function zVe(e){return HVe(e)||WVe(e)||UVe(e)||$Ve()}function $Ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UVe(e,t){if(e){if(typeof e=="string")return oS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oS(e,t)}}function WVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HVe(e){if(Array.isArray(e))return oS(e)}function oS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function VVe(e,t){if(e==null)return{};var r=GVe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function GVe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function m9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m9(Object(r),!0).forEach(function(a){qVe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qVe(e,t,r){return t=YVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YVe(e){var t=JVe(e,"string");return g1(t)=="symbol"?t:t+""}function JVe(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(g1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x1.apply(this,arguments)}var KVe=function(t){var r=t.value,a=t.formatter,n=gr(t.children)?r:t.children;return fr(a)?a(n):n},QVe=function(t,r){var a=yl(r-t),n=Math.min(Math.abs(r-t),360);return a*n},XVe=function(t,r,a){var n=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,d=c.cx,f=c.cy,u=c.innerRadius,m=c.outerRadius,h=c.startAngle,g=c.endAngle,p=c.clockWise,x=(u+m)/2,v=QVe(h,g),b=v>=0?1:-1,y,w;n==="insideStart"?(y=h+b*o,w=p):n==="insideEnd"?(y=g-b*o,w=!p):n==="end"&&(y=g+b*o,w=p),w=v<=0?w:!w;var j=Ms(d,f,x,y),E=Ms(d,f,x,y+(w?1:-1)*359),A="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),C=gr(t.id)?gv("recharts-radial-line-"):t.id;return Z.createElement("text",x1({},a,{dominantBaseline:"central",className:Cr("recharts-radial-bar-label",l)}),Z.createElement("defs",null,Z.createElement("path",{id:C,d:A})),Z.createElement("textPath",{xlinkHref:"#".concat(C)},r))},ZVe=function(t){var r=t.viewBox,a=t.offset,n=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,d=s.outerRadius,f=s.startAngle,u=s.endAngle,m=(f+u)/2;if(n==="outside"){var h=Ms(o,l,d+a,m),g=h.x,p=h.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+d)/2,v=Ms(o,l,x,m),b=v.x,y=v.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},eGe=function(t){var r=t.viewBox,a=t.parentViewBox,n=t.offset,s=t.position,o=r,l=o.x,c=o.y,d=o.width,f=o.height,u=f>=0?1:-1,m=u*n,h=u>0?"end":"start",g=u>0?"start":"end",p=d>=0?1:-1,x=p*n,v=p>0?"end":"start",b=p>0?"start":"end";if(s==="top"){var y={x:l+d/2,y:c-u*n,textAnchor:"middle",verticalAnchor:h};return Kn(Kn({},y),a?{height:Math.max(c-a.y,0),width:d}:{})}if(s==="bottom"){var w={x:l+d/2,y:c+f+m,textAnchor:"middle",verticalAnchor:g};return Kn(Kn({},w),a?{height:Math.max(a.y+a.height-(c+f),0),width:d}:{})}if(s==="left"){var j={x:l-x,y:c+f/2,textAnchor:v,verticalAnchor:"middle"};return Kn(Kn({},j),a?{width:Math.max(j.x-a.x,0),height:f}:{})}if(s==="right"){var E={x:l+d+x,y:c+f/2,textAnchor:b,verticalAnchor:"middle"};return Kn(Kn({},E),a?{width:Math.max(a.x+a.width-E.x,0),height:f}:{})}var A=a?{width:d,height:f}:{};return s==="insideLeft"?Kn({x:l+x,y:c+f/2,textAnchor:b,verticalAnchor:"middle"},A):s==="insideRight"?Kn({x:l+d-x,y:c+f/2,textAnchor:v,verticalAnchor:"middle"},A):s==="insideTop"?Kn({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:g},A):s==="insideBottom"?Kn({x:l+d/2,y:c+f-m,textAnchor:"middle",verticalAnchor:h},A):s==="insideTopLeft"?Kn({x:l+x,y:c+m,textAnchor:b,verticalAnchor:g},A):s==="insideTopRight"?Kn({x:l+d-x,y:c+m,textAnchor:v,verticalAnchor:g},A):s==="insideBottomLeft"?Kn({x:l+x,y:c+f-m,textAnchor:b,verticalAnchor:h},A):s==="insideBottomRight"?Kn({x:l+d-x,y:c+f-m,textAnchor:v,verticalAnchor:h},A):op(s)&&(yt(s.x)||Nu(s.x))&&(yt(s.y)||Nu(s.y))?Kn({x:l+bl(s.x,d),y:c+bl(s.y,f),textAnchor:"end",verticalAnchor:"end"},A):Kn({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},tGe=function(t){return"cx"in t&&yt(t.cx)};function Ys(e){var t=e.offset,r=t===void 0?5:t,a=VVe(e,BVe),n=Kn({offset:r},a),s=n.viewBox,o=n.position,l=n.value,c=n.children,d=n.content,f=n.className,u=f===void 0?"":f,m=n.textBreakAll;if(!s||gr(l)&&gr(c)&&!k.isValidElement(d)&&!fr(d))return null;if(k.isValidElement(d))return k.cloneElement(d,n);var h;if(fr(d)){if(h=k.createElement(d,n),k.isValidElement(h))return h}else h=KVe(n);var g=tGe(s),p=Sr(n,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return XVe(n,h,p);var x=g?ZVe(n):eGe(n);return Z.createElement(D2,x1({className:Cr("recharts-label",u)},p,x,{breakAll:m}),h)}Ys.displayName="Label";var CY=function(t){var r=t.cx,a=t.cy,n=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,f=t.outerRadius,u=t.x,m=t.y,h=t.top,g=t.left,p=t.width,x=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(yt(p)&&yt(x)){if(yt(u)&&yt(m))return{x:u,y:m,width:p,height:x};if(yt(h)&&yt(g))return{x:h,y:g,width:p,height:x}}return yt(u)&&yt(m)?{x:u,y:m,width:0,height:0}:yt(r)&&yt(a)?{cx:r,cy:a,startAngle:s||n||0,endAngle:o||n||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},rGe=function(t,r){return t?t===!0?Z.createElement(Ys,{key:"label-implicit",viewBox:r}):ts(t)?Z.createElement(Ys,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===Ys?k.cloneElement(t,{key:"label-implicit",viewBox:r}):Z.createElement(Ys,{key:"label-implicit",content:t,viewBox:r}):fr(t)?Z.createElement(Ys,{key:"label-implicit",content:t,viewBox:r}):op(t)?Z.createElement(Ys,x1({viewBox:r},t,{key:"label-implicit"})):null:null},aGe=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var n=t.children,s=CY(t),o=Fo(n,Ys).map(function(c,d){return k.cloneElement(c,{viewBox:r||s,key:"label-".concat(d)})});if(!a)return o;var l=rGe(t.label,r||s);return[l].concat(zVe(o))};Ys.parseViewBox=CY;Ys.renderCallByParent=aGe;function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}var nGe=["valueAccessor"],sGe=["data","dataKey","clockWise","id","textBreakAll"];function iGe(e){return dGe(e)||cGe(e)||lGe(e)||oGe()}function oGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lGe(e,t){if(e){if(typeof e=="string")return lS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(e,t)}}function cGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dGe(e){if(Array.isArray(e))return lS(e)}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},K2.apply(this,arguments)}function p9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function g9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p9(Object(r),!0).forEach(function(a){fGe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fGe(e,t,r){return t=uGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uGe(e){var t=hGe(e,"string");return v1(t)=="symbol"?t:t+""}function hGe(e,t){if(v1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(v1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x9(e,t){if(e==null)return{};var r=mGe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function mGe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var pGe=function(t){return Array.isArray(t.value)?WMe(t.value):t.value};function pf(e){var t=e.valueAccessor,r=t===void 0?pGe:t,a=x9(e,nGe),n=a.data,s=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=x9(a,sGe);return!n||!n.length?null:Z.createElement(Sn,{className:"recharts-label-list"},n.map(function(f,u){var m=gr(s)?r(f,u):so(f&&f.payload,s),h=gr(l)?{}:{id:"".concat(l,"-").concat(u)};return Z.createElement(Ys,K2({},Sr(f,!0),d,h,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:Ys.parseViewBox(gr(o)?f:g9(g9({},f),{},{clockWise:o})),key:"label-".concat(u),index:u}))}))}pf.displayName="LabelList";function gGe(e,t){return e?e===!0?Z.createElement(pf,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||fr(e)?Z.createElement(pf,{key:"labelList-implicit",data:t,content:e}):op(e)?Z.createElement(pf,K2({data:t},e,{key:"labelList-implicit"})):null:null}function xGe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,n=Fo(a,pf).map(function(o,l){return k.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return n;var s=gGe(e.label,t);return[s].concat(iGe(n))}pf.renderCallByParent=xGe;function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cS.apply(this,arguments)}function v9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function y9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v9(Object(r),!0).forEach(function(a){vGe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vGe(e,t,r){return t=yGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yGe(e){var t=bGe(e,"string");return y1(t)=="symbol"?t:t+""}function bGe(e,t){if(y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(y1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wGe=function(t,r){var a=yl(r-t),n=Math.min(Math.abs(r-t),359.999);return a*n},Gy=function(t){var r=t.cx,a=t.cy,n=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,f=c*(l?1:-1)+n,u=Math.asin(c/f)/J2,m=d?s:s+o*u,h=Ms(r,a,f,m),g=Ms(r,a,n,m),p=d?s-o*u:s,x=Ms(r,a,f*Math.cos(u*J2),p);return{center:h,circleTangency:g,lineTangency:x,theta:u}},AY=function(t){var r=t.cx,a=t.cy,n=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=wGe(o,l),d=o+c,f=Ms(r,a,s,o),u=Ms(r,a,s,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=Ms(r,a,n,o),g=Ms(r,a,n,d);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(a," Z");return m},kGe=function(t){var r=t.cx,a=t.cy,n=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,f=t.endAngle,u=yl(f-d),m=Gy({cx:r,cy:a,radius:s,angle:d,sign:u,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,g=m.lineTangency,p=m.theta,x=Gy({cx:r,cy:a,radius:s,angle:f,sign:-u,cornerRadius:o,cornerIsExternal:c}),v=x.circleTangency,b=x.lineTangency,y=x.theta,w=c?Math.abs(d-f):Math.abs(d-f)-p-y;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):AY({cx:r,cy:a,innerRadius:n,outerRadius:s,startAngle:d,endAngle:f});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var E=Gy({cx:r,cy:a,radius:n,angle:d,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=E.circleTangency,C=E.lineTangency,S=E.theta,T=Gy({cx:r,cy:a,radius:n,angle:f,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=T.circleTangency,M=T.lineTangency,D=T.theta,O=c?Math.abs(d-f):Math.abs(d-f)-S-D;if(O<0&&o===0)return"".concat(j,"L").concat(r,",").concat(a,"Z");j+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(O>180),",").concat(+(u>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,"Z")}else j+="L".concat(r,",").concat(a,"Z");return j},jGe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EY=function(t){var r=y9(y9({},jGe),t),a=r.cx,n=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,u=r.endAngle,m=r.className;if(o<s||f===u)return null;var h=Cr("recharts-sector",m),g=o-s,p=bl(l,g,0,!0),x;return p>0&&Math.abs(f-u)<360?x=kGe({cx:a,cy:n,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:u}):x=AY({cx:a,cy:n,innerRadius:s,outerRadius:o,startAngle:f,endAngle:u}),Z.createElement("path",cS({},Sr(r,!0),{className:h,d:x,role:"img"}))};function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dS.apply(this,arguments)}function b9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function w9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b9(Object(r),!0).forEach(function(a){NGe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function NGe(e,t,r){return t=SGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SGe(e){var t=CGe(e,"string");return b1(t)=="symbol"?t:t+""}function CGe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(b1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k9={curveBasisClosed:aFe,curveBasisOpen:nFe,curveBasis:rFe,curveBumpX:URe,curveBumpY:WRe,curveLinearClosed:sFe,curveLinear:ek,curveMonotoneX:iFe,curveMonotoneY:oFe,curveNatural:lFe,curveStep:cFe,curveStepAfter:fFe,curveStepBefore:dFe},qy=function(t){return t.x===+t.x&&t.y===+t.y},vg=function(t){return t.x},yg=function(t){return t.y},AGe=function(t,r){if(fr(t))return t;var a="curve".concat(X4(t));return(a==="curveMonotone"||a==="curveBump")&&r?k9["".concat(a).concat(r==="vertical"?"Y":"X")]:k9[a]||ek},EGe=function(t){var r=t.type,a=r===void 0?"linear":r,n=t.points,s=n===void 0?[]:n,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,f=AGe(a,l),u=d?s.filter(function(p){return qy(p)}):s,m;if(Array.isArray(o)){var h=d?o.filter(function(p){return qy(p)}):o,g=u.map(function(p,x){return w9(w9({},p),{},{base:h[x]})});return l==="vertical"?m=Fy().y(yg).x1(vg).x0(function(p){return p.base.x}):m=Fy().x(vg).y1(yg).y0(function(p){return p.base.y}),m.defined(qy).curve(f),m(g)}return l==="vertical"&&yt(o)?m=Fy().y(yg).x1(vg).x0(o):yt(o)?m=Fy().x(vg).y1(yg).y0(o):m=GG().x(vg).y(yg),m.defined(qy).curve(f),m(u)},fS=function(t){var r=t.className,a=t.points,n=t.path,s=t.pathRef;if((!a||!a.length)&&!n)return null;var o=a&&a.length?EGe(t):n;return k.createElement("path",dS({},Sr(t,!1),k2(t),{className:Cr("recharts-curve",r),d:o,ref:s}))},_Ge=Object.getOwnPropertyNames,MGe=Object.getOwnPropertySymbols,LGe=Object.prototype.hasOwnProperty;function j9(e,t){return function(a,n,s){return e(a,n,s)&&t(a,n,s)}}function Yy(e){return function(r,a,n){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,n);var s=n.cache,o=s.get(r),l=s.get(a);if(o&&l)return o===a&&l===r;s.set(r,a),s.set(a,r);var c=e(r,a,n);return s.delete(r),s.delete(a),c}}function TGe(e){return e!=null?e[Symbol.toStringTag]:void 0}function N9(e){return _Ge(e).concat(MGe(e))}var IGe=Object.hasOwn||function(e,t){return LGe.call(e,t)};function F0(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var DGe="__v",PGe="__o",OGe="_owner",S9=Object.getOwnPropertyDescriptor,C9=Object.keys;function RGe(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function FGe(e,t){return F0(e.getTime(),t.getTime())}function BGe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zGe(e,t){return e===t}function A9(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n=new Array(a),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var d=t.entries(),f=!1,u=0;(l=d.next())&&!l.done;){if(n[u]){u++;continue}var m=o.value,h=l.value;if(r.equals(m[0],h[0],c,u,e,t,r)&&r.equals(m[1],h[1],m[0],h[0],e,t,r)){f=n[u]=!0;break}u++}if(!f)return!1;c++}return!0}var $Ge=F0;function UGe(e,t,r){var a=C9(e),n=a.length;if(C9(t).length!==n)return!1;for(;n-- >0;)if(!_Y(e,t,r,a[n]))return!1;return!0}function bg(e,t,r){var a=N9(e),n=a.length;if(N9(t).length!==n)return!1;for(var s,o,l;n-- >0;)if(s=a[n],!_Y(e,t,r,s)||(o=S9(e,s),l=S9(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function WGe(e,t){return F0(e.valueOf(),t.valueOf())}function HGe(e,t){return e.source===t.source&&e.flags===t.flags}function E9(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n=new Array(a),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!n[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=n[f]=!0;break}f++}if(!d)return!1}return!0}function VGe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function GGe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function _Y(e,t,r,a){return(a===OGe||a===PGe||a===DGe)&&(e.$$typeof||t.$$typeof)?!0:IGe(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var qGe="[object Arguments]",YGe="[object Boolean]",JGe="[object Date]",KGe="[object Error]",QGe="[object Map]",XGe="[object Number]",ZGe="[object Object]",eqe="[object RegExp]",tqe="[object Set]",rqe="[object String]",aqe="[object URL]",nqe=Array.isArray,_9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,M9=Object.assign,sqe=Object.prototype.toString.call.bind(Object.prototype.toString);function iqe(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,n=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,f=e.areSetsEqual,u=e.areTypedArraysEqual,m=e.areUrlsEqual,h=e.unknownTagComparators;return function(p,x,v){if(p===x)return!0;if(p==null||x==null)return!1;var b=typeof p;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?o(p,x,v):b==="function"?n(p,x,v):!1;var y=p.constructor;if(y!==x.constructor)return!1;if(y===Object)return l(p,x,v);if(nqe(p))return t(p,x,v);if(_9!=null&&_9(p))return u(p,x,v);if(y===Date)return r(p,x,v);if(y===RegExp)return d(p,x,v);if(y===Map)return s(p,x,v);if(y===Set)return f(p,x,v);var w=sqe(p);if(w===JGe)return r(p,x,v);if(w===eqe)return d(p,x,v);if(w===QGe)return s(p,x,v);if(w===tqe)return f(p,x,v);if(w===ZGe)return typeof p.then!="function"&&typeof x.then!="function"&&l(p,x,v);if(w===aqe)return m(p,x,v);if(w===KGe)return a(p,x,v);if(w===qGe)return l(p,x,v);if(w===YGe||w===XGe||w===rqe)return c(p,x,v);if(h){var j=h[w];if(!j){var E=TGe(p);E&&(j=h[E])}if(j)return j(p,x,v)}return!1}}function oqe(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,n={areArraysEqual:a?bg:RGe,areDatesEqual:FGe,areErrorsEqual:BGe,areFunctionsEqual:zGe,areMapsEqual:a?j9(A9,bg):A9,areNumbersEqual:$Ge,areObjectsEqual:a?bg:UGe,arePrimitiveWrappersEqual:WGe,areRegExpsEqual:HGe,areSetsEqual:a?j9(E9,bg):E9,areTypedArraysEqual:a?bg:VGe,areUrlsEqual:GGe,unknownTagComparators:void 0};if(r&&(n=M9({},n,r(n))),t){var s=Yy(n.areArraysEqual),o=Yy(n.areMapsEqual),l=Yy(n.areObjectsEqual),c=Yy(n.areSetsEqual);n=M9({},n,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return n}function lqe(e){return function(t,r,a,n,s,o,l){return e(t,r,l)}}function cqe(e){var t=e.circular,r=e.comparator,a=e.createState,n=e.equals,s=e.strict;if(a)return function(c,d){var f=a(),u=f.cache,m=u===void 0?t?new WeakMap:void 0:u,h=f.meta;return r(c,d,{cache:m,equals:n,meta:h,strict:s})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};var o={cache:void 0,equals:n,meta:void 0,strict:s};return function(c,d){return r(c,d,o)}}var dqe=Hf();Hf({strict:!0});Hf({circular:!0});Hf({circular:!0,strict:!0});Hf({createInternalComparator:function(){return F0}});Hf({strict:!0,createInternalComparator:function(){return F0}});Hf({circular:!0,createInternalComparator:function(){return F0}});Hf({circular:!0,createInternalComparator:function(){return F0},strict:!0});function Hf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,n=e.createState,s=e.strict,o=s===void 0?!1:s,l=oqe(e),c=iqe(l),d=a?a(c):lqe(c);return cqe({circular:r,comparator:c,createState:n,equals:d,strict:o})}function fqe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function L9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function n(s){r<0&&(r=s),s-r>t?(e(s),r=-1):fqe(n)};requestAnimationFrame(a)}function uS(e){"@babel/helpers - typeof";return uS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uS(e)}function uqe(e){return gqe(e)||pqe(e)||mqe(e)||hqe()}function hqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mqe(e,t){if(e){if(typeof e=="string")return T9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T9(e,t)}}function T9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function pqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gqe(e){if(Array.isArray(e))return e}function xqe(){var e={},t=function(){return null},r=!1,a=function n(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=uqe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){L9(n.bind(null,d),c);return}n(c),L9(n.bind(null,d));return}uS(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,a(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function I9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function D9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I9(Object(r),!0).forEach(function(a){MY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function MY(e,t,r){return t=vqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vqe(e){var t=yqe(e,"string");return w1(t)==="symbol"?t:String(t)}function yqe(e,t){if(w1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(w1(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bqe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,n){return a.filter(function(s){return n.includes(s)})})},wqe=function(t){return t},kqe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},tx=function(t,r){return Object.keys(r).reduce(function(a,n){return D9(D9({},a),{},MY({},n,t(n,r[n])))},{})},P9=function(t,r,a){return t.map(function(n){return"".concat(kqe(n)," ").concat(r,"ms ").concat(a)}).join(",")};function jqe(e,t){return Cqe(e)||Sqe(e,t)||LY(e,t)||Nqe()}function Nqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Cqe(e){if(Array.isArray(e))return e}function Aqe(e){return Mqe(e)||_qe(e)||LY(e)||Eqe()}function Eqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LY(e,t){if(e){if(typeof e=="string")return hS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hS(e,t)}}function _qe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mqe(e){if(Array.isArray(e))return hS(e)}function hS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Q2=1e-4,TY=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},IY=function(t,r){return t.map(function(a,n){return a*Math.pow(r,n)}).reduce(function(a,n){return a+n})},O9=function(t,r){return function(a){var n=TY(t,r);return IY(n,a)}},Lqe=function(t,r){return function(a){var n=TY(t,r),s=[].concat(Aqe(n.map(function(o,l){return o*l}).slice(1)),[0]);return IY(s,a)}},R9=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":n=0,s=0,o=1,l=1;break;case"ease":n=.25,s=.1,o=.25,l=1;break;case"ease-in":n=.42,s=0,o=1,l=1;break;case"ease-out":n=.42,s=0,o=.58,l=1;break;case"ease-in-out":n=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=jqe(d,4);n=f[0],s=f[1],o=f[2],l=f[3]}}}var u=O9(n,o),m=O9(s,l),h=Lqe(n,o),g=function(v){return v>1?1:v<0?0:v},p=function(v){for(var b=v>1?1:v,y=b,w=0;w<8;++w){var j=u(y)-b,E=h(y);if(Math.abs(j-b)<Q2||E<Q2)return m(y);y=g(y-j/E)}return m(y)};return p.isStepper=!1,p},Tqe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,n=t.damping,s=n===void 0?8:n,o=t.dt,l=o===void 0?17:o,c=function(f,u,m){var h=-(f-u)*a,g=m*s,p=m+(h-g)*l/1e3,x=m*l/1e3+f;return Math.abs(x-u)<Q2&&Math.abs(p)<Q2?[u,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},Iqe=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R9(n);case"spring":return Tqe();default:if(n.split("(")[0]==="cubic-bezier")return R9(n)}return typeof n=="function"?n:null};function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function F9(e){return Oqe(e)||Pqe(e)||DY(e)||Dqe()}function Dqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oqe(e){if(Array.isArray(e))return pS(e)}function B9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B9(Object(r),!0).forEach(function(a){mS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mS(e,t,r){return t=Rqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rqe(e){var t=Fqe(e,"string");return k1(t)==="symbol"?t:String(t)}function Fqe(e,t){if(k1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(k1(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bqe(e,t){return Uqe(e)||$qe(e,t)||DY(e,t)||zqe()}function zqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(e,t){if(e){if(typeof e=="string")return pS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(e,t)}}function pS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $qe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Uqe(e){if(Array.isArray(e))return e}var X2=function(t,r,a){return t+(r-t)*a},gS=function(t){var r=t.from,a=t.to;return r!==a},Wqe=function e(t,r,a){var n=tx(function(s,o){if(gS(o)){var l=t(o.from,o.to,o.velocity),c=Bqe(l,2),d=c[0],f=c[1];return Ss(Ss({},o),{},{from:d,velocity:f})}return o},r);return a<1?tx(function(s,o){return gS(o)?Ss(Ss({},o),{},{velocity:X2(o.velocity,n[s].velocity,a),from:X2(o.from,n[s].from,a)}):o},r):e(t,n,a-1)};const Hqe=function(e,t,r,a,n){var s=bqe(e,t),o=s.reduce(function(x,v){return Ss(Ss({},x),{},mS({},v,[e[v],t[v]]))},{}),l=s.reduce(function(x,v){return Ss(Ss({},x),{},mS({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,d,f,u=function(){return null},m=function(){return tx(function(v,b){return b.from},l)},h=function(){return!Object.values(l).filter(gS).length},g=function(v){d||(d=v);var b=v-d,y=b/r.dt;l=Wqe(r,l,y),n(Ss(Ss(Ss({},e),t),m())),d=v,h()||(c=requestAnimationFrame(u))},p=function(v){f||(f=v);var b=(v-f)/a,y=tx(function(j,E){return X2.apply(void 0,F9(E).concat([r(b)]))},o);if(n(Ss(Ss(Ss({},e),t),y)),b<1)c=requestAnimationFrame(u);else{var w=tx(function(j,E){return X2.apply(void 0,F9(E).concat([r(1)]))},o);n(Ss(Ss(Ss({},e),t),w))}};return u=r.isStepper?g:p,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(c)}}};function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}var Vqe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gqe(e,t){if(e==null)return{};var r=qqe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qqe(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,s;for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function $N(e){return Qqe(e)||Kqe(e)||Jqe(e)||Yqe()}function Yqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jqe(e,t){if(e){if(typeof e=="string")return xS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xS(e,t)}}function Kqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qqe(e){if(Array.isArray(e))return xS(e)}function xS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function z9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z9(Object(r),!0).forEach(function(a){Mg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mg(e,t,r){return t=PY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zqe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,PY(a.key),a)}}function eYe(e,t,r){return t&&Zqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PY(e){var t=tYe(e,"string");return jm(t)==="symbol"?t:String(t)}function tYe(e,t){if(jm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(jm(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},vS(e,t)}function aYe(e){var t=nYe();return function(){var a=Z2(e),n;if(t){var s=Z2(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return yS(this,n)}}function yS(e,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bS(e)}function bS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nYe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z2(e){return Z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z2(e)}var gd=function(e){rYe(r,e);var t=aYe(r);function r(a,n){var s;Xqe(this,r),s=t.call(this,a,n);var o=s.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,u=o.steps,m=o.children,h=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(bS(s)),s.changeStyle=s.changeStyle.bind(bS(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:f}),yS(s);if(u&&u.length)s.state={style:u[0].style};else if(d){if(typeof m=="function")return s.state={style:d},yS(s);s.state={style:c?Mg({},c,d):d}}else s.state={style:{}};return s}return eYe(r,[{key:"componentDidMount",value:function(){var n=this.props,s=n.isActive,o=n.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,d=s.shouldReAnimate,f=s.to,u=s.from,m=this.state.style;if(l){if(!o){var h={style:c?Mg({},c,f):f};this.state&&m&&(c&&m[c]!==f||!c&&m!==f)&&this.setState(h);return}if(!(dqe(n.to,f)&&n.canBegin&&n.isActive)){var g=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||d?u:n.to;if(this.state&&m){var x={style:c?Mg({},c,p):p};(c&&m[c]!==p||!c&&m!==p)&&this.setState(x)}this.runAnimation(sl(sl({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var s=this,o=n.from,l=n.to,c=n.duration,d=n.easing,f=n.begin,u=n.onAnimationEnd,m=n.onAnimationStart,h=Hqe(o,l,Iqe(d),c,this.changeStyle),g=function(){s.stopJSAnimation=h()};this.manager.start([m,f,g,c,u])}},{key:"runStepAnimation",value:function(n){var s=this,o=n.steps,l=n.begin,c=n.onAnimationStart,d=o[0],f=d.style,u=d.duration,m=u===void 0?0:u,h=function(p,x,v){if(v===0)return p;var b=x.duration,y=x.easing,w=y===void 0?"ease":y,j=x.style,E=x.properties,A=x.onAnimationEnd,C=v>0?o[v-1]:x,S=E||Object.keys(j);if(typeof w=="function"||w==="spring")return[].concat($N(p),[s.runJSAnimation.bind(s,{from:C.style,to:j,duration:b,easing:w}),b]);var T=P9(S,b,w),_=sl(sl(sl({},C.style),j),{},{transition:T});return[].concat($N(p),[_,b,A]).filter(wqe)};return this.manager.start([c].concat($N(o.reduce(h,[f,Math.max(m,l)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=xqe());var s=n.begin,o=n.duration,l=n.attributeName,c=n.to,d=n.easing,f=n.onAnimationStart,u=n.onAnimationEnd,m=n.steps,h=n.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof h=="function"||d==="spring"){this.runJSAnimation(n);return}if(m.length>1){this.runStepAnimation(n);return}var p=l?Mg({},l,c):c,x=P9(Object.keys(p),o,d);g.start([f,s,sl(sl({},p),{},{transition:x}),o,u])}},{key:"render",value:function(){var n=this.props,s=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var l=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var c=Gqe(n,Vqe),d=k.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||d===0||o<=0)return s;var u=function(h){var g=h.props,p=g.style,x=p===void 0?{}:p,v=g.className,b=k.cloneElement(h,sl(sl({},c),{},{style:sl(sl({},x),f),className:v}));return b};return d===1?u(k.Children.only(s)):Z.createElement("div",null,k.Children.map(s,function(m){return u(m)}))}}]),r}(k.PureComponent);gd.displayName="Animate";gd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gd.propTypes={from:Qe.oneOfType([Qe.object,Qe.string]),to:Qe.oneOfType([Qe.object,Qe.string]),attributeName:Qe.string,duration:Qe.number,begin:Qe.number,easing:Qe.oneOfType([Qe.string,Qe.func]),steps:Qe.arrayOf(Qe.shape({duration:Qe.number.isRequired,style:Qe.object.isRequired,easing:Qe.oneOfType([Qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qe.func]),properties:Qe.arrayOf("string"),onAnimationEnd:Qe.func})),children:Qe.oneOfType([Qe.node,Qe.func]),isActive:Qe.bool,canBegin:Qe.bool,onAnimationEnd:Qe.func,shouldReAnimate:Qe.bool,onAnimationStart:Qe.func,onAnimationReStart:Qe.func};function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ew.apply(this,arguments)}function sYe(e,t){return cYe(e)||lYe(e,t)||oYe(e,t)||iYe()}function iYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oYe(e,t){if(e){if(typeof e=="string")return $9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $9(e,t)}}function $9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function lYe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function cYe(e){if(Array.isArray(e))return e}function U9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function W9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U9(Object(r),!0).forEach(function(a){dYe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dYe(e,t,r){return t=fYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fYe(e){var t=uYe(e,"string");return j1(t)=="symbol"?t:t+""}function uYe(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(j1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H9=function(t,r,a,n,s){var o=Math.min(Math.abs(a)/2,Math.abs(n)/2),l=n>=0?1:-1,c=a>=0?1:-1,d=n>=0&&a>=0||n<0&&a<0?1:0,f;if(o>0&&s instanceof Array){for(var u=[0,0,0,0],m=0,h=4;m<h;m++)u[m]=s[m]>o?o:s[m];f="M".concat(t,",").concat(r+l*u[0]),u[0]>0&&(f+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(d,",").concat(t+c*u[0],",").concat(r)),f+="L ".concat(t+a-c*u[1],",").concat(r),u[1]>0&&(f+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(d,`,
        `).concat(t+a,",").concat(r+l*u[1])),f+="L ".concat(t+a,",").concat(r+n-l*u[2]),u[2]>0&&(f+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(d,`,
        `).concat(t+a-c*u[2],",").concat(r+n)),f+="L ".concat(t+c*u[3],",").concat(r+n),u[3]>0&&(f+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+n-l*u[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);f="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+a-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a,",").concat(r+l*g,`
            L `).concat(t+a,",").concat(r+n-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a-c*g,",").concat(r+n,`
            L `).concat(t+c*g,",").concat(r+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t,",").concat(r+n-l*g," Z")}else f="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(n," h ").concat(-a," Z");return f},hYe=function(t,r){if(!t||!r)return!1;var a=t.x,n=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(s,s+l),f=Math.max(s,s+l),u=Math.min(o,o+c),m=Math.max(o,o+c);return a>=d&&a<=f&&n>=u&&n<=m}return!1},mYe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PE=function(t){var r=W9(W9({},mYe),t),a=k.useRef(),n=k.useState(-1),s=sYe(n,2),o=s[0],l=s[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var w=a.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,f=r.width,u=r.height,m=r.radius,h=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||u!==+u||f===0||u===0)return null;var y=Cr("recharts-rectangle",h);return b?Z.createElement(gd,{canBegin:o>0,from:{width:f,height:u,x:c,y:d},to:{width:f,height:u,x:c,y:d},duration:p,animationEasing:g,isActive:b},function(w){var j=w.width,E=w.height,A=w.x,C=w.y;return Z.createElement(gd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:v,easing:g},Z.createElement("path",ew({},Sr(r,!0),{className:y,d:H9(A,C,j,E,m),ref:a})))}):Z.createElement("path",ew({},Sr(r,!0),{className:y,d:H9(c,d,f,u,m)}))};function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wS.apply(this,arguments)}var OE=function(t){var r=t.cx,a=t.cy,n=t.r,s=t.className,o=Cr("recharts-dot",s);return r===+r&&a===+a&&n===+n?k.createElement("circle",wS({},Sr(t,!1),k2(t),{className:o,cx:r,cy:a,r:n})):null};function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}var pYe=["x","y","top","left","width","height","className"];function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kS.apply(this,arguments)}function V9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function gYe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V9(Object(r),!0).forEach(function(a){xYe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xYe(e,t,r){return t=vYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vYe(e){var t=yYe(e,"string");return N1(t)=="symbol"?t:t+""}function yYe(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(N1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bYe(e,t){if(e==null)return{};var r=wYe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wYe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var kYe=function(t,r,a,n,s,o){return"M".concat(t,",").concat(s,"v").concat(n,"M").concat(o,",").concat(r,"h").concat(a)},jYe=function(t){var r=t.x,a=r===void 0?0:r,n=t.y,s=n===void 0?0:n,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,f=t.width,u=f===void 0?0:f,m=t.height,h=m===void 0?0:m,g=t.className,p=bYe(t,pYe),x=gYe({x:a,y:s,top:l,left:d,width:u,height:h},p);return!yt(a)||!yt(s)||!yt(u)||!yt(h)||!yt(l)||!yt(d)?null:Z.createElement("path",kS({},Sr(x,!0),{className:Cr("recharts-cross",g),d:kYe(a,s,u,h,l,d)}))},NYe=kd,SYe=Pl,CYe="[object Boolean]";function AYe(e){return e===!0||e===!1||SYe(e)&&NYe(e)==CYe}var EYe=AYe;const _Ye=Lr(EYe);function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tw.apply(this,arguments)}function MYe(e,t){return DYe(e)||IYe(e,t)||TYe(e,t)||LYe()}function LYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TYe(e,t){if(e){if(typeof e=="string")return G9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G9(e,t)}}function G9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function IYe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function DYe(e){if(Array.isArray(e))return e}function q9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Y9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q9(Object(r),!0).forEach(function(a){PYe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PYe(e,t,r){return t=OYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OYe(e){var t=RYe(e,"string");return S1(t)=="symbol"?t:t+""}function RYe(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(S1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J9=function(t,r,a,n,s){var o=a-n,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+a,",").concat(r),l+="L ".concat(t+a-o/2,",").concat(r+s),l+="L ".concat(t+a-o/2-n,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},FYe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BYe=function(t){var r=Y9(Y9({},FYe),t),a=k.useRef(),n=k.useState(-1),s=MYe(n,2),o=s[0],l=s[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var y=a.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,d=r.y,f=r.upperWidth,u=r.lowerWidth,m=r.height,h=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||u!==+u||m!==+m||f===0&&u===0||m===0)return null;var b=Cr("recharts-trapezoid",h);return v?Z.createElement(gd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:f,lowerWidth:u,height:m,x:c,y:d},duration:p,animationEasing:g,isActive:v},function(y){var w=y.upperWidth,j=y.lowerWidth,E=y.height,A=y.x,C=y.y;return Z.createElement(gd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},Z.createElement("path",tw({},Sr(r,!0),{className:b,d:J9(A,C,w,j,E),ref:a})))}):Z.createElement("g",null,Z.createElement("path",tw({},Sr(r,!0),{className:b,d:J9(c,d,f,u,m)})))},zYe=["option","shapeType","propTransformer","activeClassName","isActive"];function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function $Ye(e,t){if(e==null)return{};var r=UYe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function UYe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function K9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K9(Object(r),!0).forEach(function(a){WYe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WYe(e,t,r){return t=HYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HYe(e){var t=VYe(e,"string");return C1(t)=="symbol"?t:t+""}function VYe(e,t){if(C1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(C1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GYe(e,t){return rw(rw({},t),e)}function qYe(e,t){return e==="symbols"}function Q9(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Z.createElement(PE,r);case"trapezoid":return Z.createElement(BYe,r);case"sector":return Z.createElement(EY,r);case"symbols":if(qYe(t))return Z.createElement(oE,r);break;default:return null}}function YYe(e){return k.isValidElement(e)?e.props:e}function JYe(e){var t=e.option,r=e.shapeType,a=e.propTransformer,n=a===void 0?GYe:a,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=$Ye(e,zYe),d;if(k.isValidElement(t))d=k.cloneElement(t,rw(rw({},c),YYe(t)));else if(fr(t))d=t(c);else if(cLe(t)&&!_Ye(t)){var f=n(t,c);d=Z.createElement(Q9,{shapeType:r,elementProps:f})}else{var u=c;d=Z.createElement(Q9,{shapeType:r,elementProps:u})}return l?Z.createElement(Sn,{className:o},d):d}function hk(e,t){return t!=null&&"trapezoids"in e.props}function mk(e,t){return t!=null&&"sectors"in e.props}function A1(e,t){return t!=null&&"points"in e.props}function KYe(e,t){var r,a,n=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return n&&s}function QYe(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function XYe(e,t){var r=e.x===t.x,a=e.y===t.y,n=e.z===t.z;return r&&a&&n}function ZYe(e,t){var r;return hk(e,t)?r=KYe:mk(e,t)?r=QYe:A1(e,t)&&(r=XYe),r}function eJe(e,t){var r;return hk(e,t)?r="trapezoids":mk(e,t)?r="sectors":A1(e,t)&&(r="points"),r}function tJe(e,t){if(hk(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mk(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return A1(e,t)?t.payload:{}}function rJe(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,n=eJe(r,t),s=tJe(r,t),o=a.filter(function(c,d){var f=lv(s,c),u=r.props[n].filter(function(g){var p=ZYe(r,t);return p(g,t)}),m=r.props[n].indexOf(u[u.length-1]),h=d===m;return f&&h}),l=a.indexOf(o[o.length-1]);return l}function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function X9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Z9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X9(Object(r),!0).forEach(function(a){OY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OY(e,t,r){return t=aJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJe(e){var t=nJe(e,"string");return E1(t)=="symbol"?t:t+""}function nJe(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(E1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sJe=["Webkit","Moz","O","ms"],iJe=function(t,r){var a=t.replace(/(\w)/,function(s){return s.toUpperCase()}),n=sJe.reduce(function(s,o){return Z9(Z9({},s),{},OY({},o+a,r))},{});return n[t]=r,n};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aw.apply(this,arguments)}function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(a){Hi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t8(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FY(a.key),a)}}function lJe(e,t,r){return t&&t8(e.prototype,t),r&&t8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cJe(e,t,r){return t=nw(t),dJe(e,RY()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function dJe(e,t){if(t&&(Nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fJe(e)}function fJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RY=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function uJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},jS(e,t)}function Hi(e,t,r){return t=FY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=hJe(e,"string");return Nm(t)=="symbol"?t:t+""}function hJe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mJe=function(t){var r=t.data,a=t.startIndex,n=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Zg().domain(Gx(0,c)).range([s,s+o-l]),f=d.domain().map(function(u){return d(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(n),scale:d,scaleValues:f}},r8=function(t){return t.changedTouches&&!!t.changedTouches.length},Sm=function(e){function t(r){var a;return oJe(this,t),a=cJe(this,t,[r]),Hi(a,"handleDrag",function(n){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(n):a.state.isSlideMoving&&a.handleSlideDrag(n)}),Hi(a,"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&a.handleDrag(n.changedTouches[0])}),Hi(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var n=a.props,s=n.endIndex,o=n.onDragEnd,l=n.startIndex;o==null||o({endIndex:s,startIndex:l})}),a.detachDragEndListener()}),Hi(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Hi(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Hi(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Hi(a,"handleSlideDragStart",function(n){var s=r8(n)?n.changedTouches[0]:n;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return uJe(t,e),lJe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var n=a.startX,s=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,u=Math.min(n,s),m=Math.max(n,s),h=t.getIndexInRange(o,u),g=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:g===f?f:g-g%c}}},{key:"getTextOfTick",value:function(a){var n=this.props,s=n.data,o=n.tickFormatter,l=n.dataKey,c=so(s[a],l,a);return fr(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var n=this.state,s=n.slideMoveStartX,o=n.startX,l=n.endX,c=this.props,d=c.x,f=c.width,u=c.travellerWidth,m=c.startIndex,h=c.endIndex,g=c.onChange,p=a.pageX-s;p>0?p=Math.min(p,d+f-u-l,d+f-u-o):p<0&&(p=Math.max(p,d-o,d-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==m||x.endIndex!==h)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,n){var s=r8(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var n=this.state,s=n.brushMoveStartX,o=n.movingTravellerId,l=n.endX,c=n.startX,d=this.state[o],f=this.props,u=f.x,m=f.width,h=f.travellerWidth,g=f.onChange,p=f.gap,x=f.data,v={startX:this.state.startX,endX:this.state.endX},b=a.pageX-s;b>0?b=Math.min(b,u+m-h-d):b<0&&(b=Math.max(b,u-d)),v[o]=d+b;var y=this.getIndex(v),w=y.startIndex,j=y.endIndex,E=function(){var C=x.length-1;return o==="startX"&&(l>c?w%p===0:j%p===0)||l<c&&j===C||o==="endX"&&(l>c?j%p===0:w%p===0)||l>c&&j===C};this.setState(Hi(Hi({},o,d+b),"brushMoveStartX",a.pageX),function(){g&&E()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(a,n){var s=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[n],u=l.indexOf(f);if(u!==-1){var m=u+a;if(!(m===-1||m>=l.length)){var h=l[m];n==="startX"&&h>=d||n==="endX"&&h<=c||this.setState(Hi({},n,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,n=a.x,s=a.y,o=a.width,l=a.height,c=a.fill,d=a.stroke;return Z.createElement("rect",{stroke:d,fill:c,x:n,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,n=a.x,s=a.y,o=a.width,l=a.height,c=a.data,d=a.children,f=a.padding,u=k.Children.only(d);return u?Z.cloneElement(u,{x:n,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,n){var s,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,u=c.height,m=c.traveller,h=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,v=Math.max(a,this.props.x),b=UN(UN({},Sr(this.props,!1)),{},{x:v,y:d,width:f,height:u}),y=h||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return Z.createElement(Sn,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,n))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(a,n){var s=this.props,o=s.y,l=s.height,c=s.stroke,d=s.travellerWidth,f=Math.min(a,n)+d,u=Math.max(Math.abs(n-a)-d,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:u,height:l})}},{key:"renderText",value:function(){var a=this.props,n=a.startIndex,s=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,d=a.stroke,f=this.state,u=f.startX,m=f.endX,h=5,g={pointerEvents:"none",fill:d};return Z.createElement(Sn,{className:"recharts-brush-texts"},Z.createElement(D2,aw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,m)-h,y:o+l/2},g),this.getTextOfTick(n)),Z.createElement(D2,aw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,m)+c+h,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,n=a.data,s=a.className,o=a.children,l=a.x,c=a.y,d=a.width,f=a.height,u=a.alwaysShowText,m=this.state,h=m.startX,g=m.endX,p=m.isTextActive,x=m.isSlideMoving,v=m.isTravellerMoving,b=m.isTravellerFocused;if(!n||!n.length||!yt(l)||!yt(c)||!yt(d)||!yt(f)||d<=0||f<=0)return null;var y=Cr("recharts-brush",s),w=Z.Children.count(o)===1,j=iJe("userSelect","none");return Z.createElement(Sn,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||v||b||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var n=a.x,s=a.y,o=a.width,l=a.height,c=a.stroke,d=Math.floor(s+l/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:n,y:s,width:o,height:l,fill:c,stroke:"none"}),Z.createElement("line",{x1:n+1,y1:d,x2:n+o-1,y2:d,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:n+1,y1:d+2,x2:n+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,n){var s;return Z.isValidElement(a)?s=Z.cloneElement(a,n):fr(a)?s=a(n):s=t.renderDefaultTraveller(n),s}},{key:"getDerivedStateFromProps",value:function(a,n){var s=a.data,o=a.width,l=a.x,c=a.travellerWidth,d=a.updateId,f=a.startIndex,u=a.endIndex;if(s!==n.prevData||d!==n.prevUpdateId)return UN({prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},s&&s.length?mJe({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:u}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||l!==n.prevX||c!==n.prevTravellerWidth)){n.scale.range([l,l+o-c]);var m=n.scale.domain().map(function(h){return n.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:n.scale(a.startIndex),endX:n.scale(a.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(a,n){for(var s=a.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>n?l=c:o=c}return n>=a[l]?l:o}}])}(k.PureComponent);Hi(Sm,"displayName","Brush");Hi(Sm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pJe=yA;function gJe(e,t){var r;return pJe(e,function(a,n,s){return r=t(a,n,s),!r}),!!r}var xJe=gJe,vJe=GU,yJe=jd,bJe=xJe,wJe=si,kJe=cp;function jJe(e,t,r){var a=wJe(e)?vJe:bJe;return r&&kJe(e,t,r)&&(t=void 0),a(e,yJe(t))}var NJe=jJe;const SJe=Lr(NJe);var pc=function(t,r){var a=t.alwaysShow,n=t.ifOverflow;return a&&(n="extendDomain"),n===r};function CJe(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}var AJe=CJe,EJe=yA;function _Je(e,t){var r=!0;return EJe(e,function(a,n,s){return r=!!t(a,n,s),r}),r}var MJe=_Je,LJe=AJe,TJe=MJe,IJe=jd,DJe=si,PJe=cp;function OJe(e,t,r){var a=DJe(e)?LJe:TJe;return r&&PJe(e,t,r)&&(t=void 0),a(e,IJe(t))}var RJe=OJe;const BY=Lr(RJe);var FJe=["x","y"];function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},NS.apply(this,arguments)}function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(a){BJe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BJe(e,t,r){return t=zJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJe(e){var t=$Je(e,"string");return _1(t)=="symbol"?t:t+""}function $Je(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(_1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UJe(e,t){if(e==null)return{};var r=WJe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function WJe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function HJe(e,t){var r=e.x,a=e.y,n=UJe(e,FJe),s="".concat(r),o=parseInt(s,10),l="".concat(a),c=parseInt(l,10),d="".concat(t.height||n.height),f=parseInt(d,10),u="".concat(t.width||n.width),m=parseInt(u,10);return wg(wg(wg(wg(wg({},t),n),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:m,name:t.name,radius:t.radius})}function n8(e){return Z.createElement(JYe,NS({shapeType:"rectangle",propTransformer:HJe,activeClassName:"recharts-active-bar"},e))}var VJe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,n){if(typeof t=="number")return t;var s=yt(a)||_7e(a);return s?t(a,n):(s||x0(),r)}},GJe=["value","background"],zY;function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function qJe(e,t){if(e==null)return{};var r=YJe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function YJe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sw.apply(this,arguments)}function s8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s8(Object(r),!0).forEach(function(a){lf(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function JJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i8(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,UY(a.key),a)}}function KJe(e,t,r){return t&&i8(e.prototype,t),r&&i8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QJe(e,t,r){return t=iw(t),XJe(e,$Y()?Reflect.construct(t,r||[],iw(e).constructor):t.apply(e,r))}function XJe(e,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZJe(e)}function ZJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Y=function(){return!!e})()}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(e)}function eKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},SS(e,t)}function lf(e,t,r){return t=UY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UY(e){var t=tKe(e,"string");return Cm(t)=="symbol"?t:t+""}function tKe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B0=function(e){function t(){var r;JJe(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=QJe(this,t,[].concat(n)),lf(r,"state",{isAnimationFinished:!1}),lf(r,"id",gv("recharts-bar-")),lf(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),lf(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return eKe(t,e),KJe(t,[{key:"renderRectanglesStatically",value:function(a){var n=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,d=s.activeBar,f=Sr(this.props,!1);return a&&a.map(function(u,m){var h=m===c,g=h?d:o,p=Rn(Rn(Rn({},f),u),{},{isActive:h,option:g,index:m,dataKey:l,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return Z.createElement(Sn,sw({className:"recharts-bar-rectangle"},j2(n.props,u,m),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value,"-").concat(m)}),Z.createElement(n8,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,n=this.props,s=n.data,o=n.layout,l=n.isAnimationActive,c=n.animationBegin,d=n.animationDuration,f=n.animationEasing,u=n.animationId,m=this.state.prevData;return Z.createElement(gd,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,p=s.map(function(x,v){var b=m&&m[v];if(b){var y=ul(b.x,x.x),w=ul(b.y,x.y),j=ul(b.width,x.width),E=ul(b.height,x.height);return Rn(Rn({},x),{},{x:y(g),y:w(g),width:j(g),height:E(g)})}if(o==="horizontal"){var A=ul(0,x.height),C=A(g);return Rn(Rn({},x),{},{y:x.y+x.height-C,height:C})}var S=ul(0,x.width),T=S(g);return Rn(Rn({},x),{},{width:T})});return Z.createElement(Sn,null,a.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var a=this.props,n=a.data,s=a.isAnimationActive,o=this.state.prevData;return s&&n&&n.length&&(!o||!lv(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var a=this,n=this.props,s=n.data,o=n.dataKey,l=n.activeIndex,c=Sr(this.props.background,!1);return s.map(function(d,f){d.value;var u=d.background,m=qJe(d,GJe);if(!u)return null;var h=Rn(Rn(Rn(Rn(Rn({},m),{},{fill:"#eee"},u),c),j2(a.props,d,f)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Z.createElement(n8,sw({key:"background-bar-".concat(f),option:a.props.background,isActive:f===l},h))})}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,u=Fo(f,wv);if(!u)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,h=function(x,v){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:so(x,v)}},g={clipPath:a?"url(#clipPath-".concat(n,")"):null};return Z.createElement(Sn,g,u.map(function(p){return Z.cloneElement(p,{key:"error-bar-".concat(n,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var a=this.props,n=a.hide,s=a.data,o=a.className,l=a.xAxis,c=a.yAxis,d=a.left,f=a.top,u=a.width,m=a.height,h=a.isAnimationActive,g=a.background,p=a.id;if(n||!s||!s.length)return null;var x=this.state.isAnimationFinished,v=Cr("recharts-bar",o),b=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,w=b||y,j=gr(p)?this.id:p;return Z.createElement(Sn,{className:v},b||y?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(j)},Z.createElement("rect",{x:b?d:d-u/2,y:y?f:f-m/2,width:b?u:u*2,height:y?m:m*2}))):null,Z.createElement(Sn,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,j),(!h||x)&&pf.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:n.curData}:a.data!==n.curData?{curData:a.data}:null}}])}(k.PureComponent);zY=B0;lf(B0,"displayName","Bar");lf(B0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});lf(B0,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,n=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,f=e.dataStartIndex,u=e.displayedData,m=e.offset,h=gVe(a,r);if(!h)return null;var g=t.layout,p=r.type.defaultProps,x=p!==void 0?Rn(Rn({},p),r.props):r.props,v=x.dataKey,b=x.children,y=x.minPointSize,w=g==="horizontal"?o:s,j=d?w.scale.domain():null,E=jVe({numericAxis:w}),A=Fo(b,pq),C=u.map(function(S,T){var _,M,D,O,B,U;d?_=xVe(d[f+T],j):(_=so(S,v),Array.isArray(_)||(_=[E,_]));var q=VJe(y,zY.defaultProps.minPointSize)(_[1],T);if(g==="horizontal"){var K,G=[o.scale(_[0]),o.scale(_[1])],ve=G[0],fe=G[1];M=o9({axis:s,ticks:l,bandSize:n,offset:h.offset,entry:S,index:T}),D=(K=fe??ve)!==null&&K!==void 0?K:void 0,O=h.size;var I=ve-fe;if(B=Number.isNaN(I)?0:I,U={x:M,y:o.y,width:O,height:o.height},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var z=yl(B||q)*(Math.abs(q)-Math.abs(B));D-=z,B+=z}}else{var H=[s.scale(_[0]),s.scale(_[1])],J=H[0],te=H[1];if(M=J,D=o9({axis:o,ticks:c,bandSize:n,offset:h.offset,entry:S,index:T}),O=te-J,B=h.size,U={x:s.x,y:D,width:s.width,height:B},Math.abs(q)>0&&Math.abs(O)<Math.abs(q)){var W=yl(O||q)*(Math.abs(q)-Math.abs(O));O+=W}}return Rn(Rn(Rn({},S),{},{x:M,y:D,width:O,height:B,value:d?_:_[1],payload:S,background:U},A&&A[T]&&A[T].props),{},{tooltipPayload:[NY(r,S)],tooltipPosition:{x:M+O/2,y:D+B/2}})});return Rn({data:C,layout:g},m)});function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function rKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o8(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WY(a.key),a)}}function aKe(e,t,r){return t&&o8(e.prototype,t),r&&o8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(r),!0).forEach(function(a){pk(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pk(e,t,r){return t=WY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=nKe(e,"string");return M1(t)=="symbol"?t:t+""}function nKe(e,t){if(M1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(M1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HY=function(t,r,a,n,s){var o=t.width,l=t.height,c=t.layout,d=t.children,f=Object.keys(r),u={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},m=!!Vi(d,B0);return f.reduce(function(h,g){var p=r[g],x=p.orientation,v=p.domain,b=p.padding,y=b===void 0?{}:b,w=p.mirror,j=p.reversed,E="".concat(x).concat(w?"Mirror":""),A,C,S,T,_;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var M=v[1]-v[0],D=1/0,O=p.categoricalDomain.sort(T7e);if(O.forEach(function(H,J){J>0&&(D=Math.min((H||0)-(O[J-1]||0),D))}),Number.isFinite(D)){var B=D/M,U=p.layout==="vertical"?a.height:a.width;if(p.padding==="gap"&&(A=B*U/2),p.padding==="no-gap"){var q=bl(t.barCategoryGap,B*U),K=B*U/2;A=K-q-(K-q)/U*q}}}n==="xAxis"?C=[a.left+(y.left||0)+(A||0),a.left+a.width-(y.right||0)-(A||0)]:n==="yAxis"?C=c==="horizontal"?[a.top+a.height-(y.bottom||0),a.top+(y.top||0)]:[a.top+(y.top||0)+(A||0),a.top+a.height-(y.bottom||0)-(A||0)]:C=p.range,j&&(C=[C[1],C[0]]);var G=bY(p,s,m),ve=G.scale,fe=G.realScaleType;ve.domain(v).range(C),wY(ve);var I=kY(ve,cl(cl({},p),{},{realScaleType:fe}));n==="xAxis"?(_=x==="top"&&!w||x==="bottom"&&w,S=a.left,T=u[E]-_*p.height):n==="yAxis"&&(_=x==="left"&&!w||x==="right"&&w,S=u[E]-_*p.width,T=a.top);var z=cl(cl(cl({},p),I),{},{realScaleType:fe,x:S,y:T,scale:ve,width:n==="xAxis"?a.width:p.width,height:n==="yAxis"?a.height:p.height});return z.bandSize=Y2(z,I),!p.hide&&n==="xAxis"?u[E]+=(_?-1:1)*z.height:p.hide||(u[E]+=(_?-1:1)*z.width),cl(cl({},h),{},pk({},g,z))},{})},VY=function(t,r){var a=t.x,n=t.y,s=r.x,o=r.y;return{x:Math.min(a,s),y:Math.min(n,o),width:Math.abs(s-a),height:Math.abs(o-n)}},sKe=function(t){var r=t.x1,a=t.y1,n=t.x2,s=t.y2;return VY({x:r,y:a},{x:n,y:s})},GY=function(){function e(t){rKe(this,e),this.scale=t}return aKe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a.bandAware,s=a.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),n=a[0],s=a[a.length-1];return n<=s?r>=n&&r<=s:r>=s&&r<=n}}],[{key:"create",value:function(r){return new e(r)}}])}();pk(GY,"EPS",1e-4);var RE=function(t){var r=Object.keys(t).reduce(function(a,n){return cl(cl({},a),{},pk({},n,GY.create(t[n])))},{});return cl(cl({},r),{},{apply:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return NW(n,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(n){return BY(n,function(s,o){return r[o].isInRange(s)})}})};function iKe(e){return(e%180+180)%180}var oKe=function(t){var r=t.width,a=t.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=iKe(n),o=s*Math.PI/180,l=Math.atan(a/r),c=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(c)},lKe=jd,cKe=lp,dKe=pp;function fKe(e){return function(t,r,a){var n=Object(t);if(!cKe(t)){var s=lKe(r);t=dKe(t),r=function(l){return s(n[l],l,n)}}var o=e(t,r,a);return o>-1?n[s?t[o]:o]:void 0}}var uKe=fKe,hKe=uKe,mKe=mW,pKe=hKe(mKe),gKe=pKe;const xKe=Lr(gKe);var vKe=jSe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),FE=k.createContext(void 0),BE=k.createContext(void 0),qY=k.createContext(void 0),YY=k.createContext({}),JY=k.createContext(void 0),KY=k.createContext(0),QY=k.createContext(0),c8=function(t){var r=t.state,a=r.xAxisMap,n=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,f=vKe(s);return Z.createElement(FE.Provider,{value:a},Z.createElement(BE.Provider,{value:n},Z.createElement(YY.Provider,{value:s},Z.createElement(qY.Provider,{value:f},Z.createElement(JY.Provider,{value:o},Z.createElement(KY.Provider,{value:d},Z.createElement(QY.Provider,{value:c},l)))))))},yKe=function(){return k.useContext(JY)},XY=function(t){var r=k.useContext(FE);r==null&&x0();var a=r[t];return a==null&&x0(),a},bKe=function(){var t=k.useContext(FE);return ef(t)},wKe=function(){var t=k.useContext(BE),r=xKe(t,function(a){return BY(a.domain,Number.isFinite)});return r||ef(t)},ZY=function(t){var r=k.useContext(BE);r==null&&x0();var a=r[t];return a==null&&x0(),a},kKe=function(){var t=k.useContext(qY);return t},jKe=function(){return k.useContext(YY)},zE=function(){return k.useContext(QY)},$E=function(){return k.useContext(KY)};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function NKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SKe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,tJ(a.key),a)}}function CKe(e,t,r){return t&&SKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AKe(e,t,r){return t=ow(t),EKe(e,eJ()?Reflect.construct(t,r||[],ow(e).constructor):t.apply(e,r))}function EKe(e,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ke(e)}function _Ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eJ=function(){return!!e})()}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}function MKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CS(e,t)}function CS(e,t){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},CS(e,t)}function d8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function f8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d8(Object(r),!0).forEach(function(a){UE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UE(e,t,r){return t=tJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=LKe(e,"string");return Am(t)=="symbol"?t:t+""}function LKe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function TKe(e,t){return OKe(e)||PKe(e,t)||DKe(e,t)||IKe()}function IKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DKe(e,t){if(e){if(typeof e=="string")return u8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u8(e,t)}}function u8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function PKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function OKe(e){if(Array.isArray(e))return e}function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},AS.apply(this,arguments)}var RKe=function(t,r){var a;return Z.isValidElement(t)?a=Z.cloneElement(t,r):fr(t)?a=t(r):a=Z.createElement("line",AS({},r,{className:"recharts-reference-line-line"})),a},FKe=function(t,r,a,n,s,o,l,c,d){var f=s.x,u=s.y,m=s.width,h=s.height;if(a){var g=d.y,p=t.y.apply(g,{position:o});if(pc(d,"discard")&&!t.y.isInRange(p))return null;var x=[{x:f+m,y:p},{x:f,y:p}];return c==="left"?x.reverse():x}if(r){var v=d.x,b=t.x.apply(v,{position:o});if(pc(d,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:u+h},{x:b,y:u}];return l==="top"?y.reverse():y}if(n){var w=d.segment,j=w.map(function(E){return t.apply(E,{position:o})});return pc(d,"discard")&&SJe(j,function(E){return!t.isInRange(E)})?null:j}return null};function BKe(e){var t=e.x,r=e.y,a=e.segment,n=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=yKe(),f=XY(n),u=ZY(s),m=kKe();if(!d||!m)return null;rd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=RE({x:f.scale,y:u.scale}),g=ts(t),p=ts(r),x=a&&a.length===2,v=FKe(h,g,p,x,m,e.position,f.orientation,u.orientation,e);if(!v)return null;var b=TKe(v,2),y=b[0],w=y.x,j=y.y,E=b[1],A=E.x,C=E.y,S=pc(e,"hidden")?"url(#".concat(d,")"):void 0,T=f8(f8({clipPath:S},Sr(e,!0)),{},{x1:w,y1:j,x2:A,y2:C});return Z.createElement(Sn,{className:Cr("recharts-reference-line",l)},RKe(o,T),Ys.renderCallByParent(e,sKe({x1:w,y1:j,x2:A,y2:C})))}var WE=function(e){function t(){return NKe(this,t),AKe(this,t,arguments)}return MKe(t,e),CKe(t,[{key:"render",value:function(){return Z.createElement(BKe,this.props)}}])}(Z.Component);UE(WE,"displayName","ReferenceLine");UE(WE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ES.apply(this,arguments)}function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function m8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(a){gk(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Ke(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aJ(a.key),a)}}function UKe(e,t,r){return t&&$Ke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WKe(e,t,r){return t=lw(t),HKe(e,rJ()?Reflect.construct(t,r||[],lw(e).constructor):t.apply(e,r))}function HKe(e,t){if(t&&(Em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VKe(e)}function VKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rJ=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}function GKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_S(e,t)}function _S(e,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},_S(e,t)}function gk(e,t,r){return t=aJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=qKe(e,"string");return Em(t)=="symbol"?t:t+""}function qKe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Em(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YKe=function(t){var r=t.x,a=t.y,n=t.xAxis,s=t.yAxis,o=RE({x:n.scale,y:s.scale}),l=o.apply({x:r,y:a},{bandAware:!0});return pc(t,"discard")&&!o.isInRange(l)?null:l},xk=function(e){function t(){return zKe(this,t),WKe(this,t,arguments)}return GKe(t,e),UKe(t,[{key:"render",value:function(){var a=this.props,n=a.x,s=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,d=ts(n),f=ts(s);if(rd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var u=YKe(this.props);if(!u)return null;var m=u.x,h=u.y,g=this.props,p=g.shape,x=g.className,v=pc(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=m8(m8({clipPath:v},Sr(this.props,!0)),{},{cx:m,cy:h});return Z.createElement(Sn,{className:Cr("recharts-reference-dot",x)},t.renderDot(p,b),Ys.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(Z.Component);gk(xk,"displayName","ReferenceDot");gk(xk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gk(xk,"renderDot",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):fr(e)?r=e(t):r=Z.createElement(OE,ES({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},MS.apply(this,arguments)}function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function p8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function g8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(r),!0).forEach(function(a){vk(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function JKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KKe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sJ(a.key),a)}}function QKe(e,t,r){return t&&KKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XKe(e,t,r){return t=cw(t),ZKe(e,nJ()?Reflect.construct(t,r||[],cw(e).constructor):t.apply(e,r))}function ZKe(e,t){if(t&&(_m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eQe(e)}function eQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nJ=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}function tQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LS(e,t)}function LS(e,t){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},LS(e,t)}function vk(e,t,r){return t=sJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sJ(e){var t=rQe(e,"string");return _m(t)=="symbol"?t:t+""}function rQe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(_m(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aQe=function(t,r,a,n,s){var o=s.x1,l=s.x2,c=s.y1,d=s.y2,f=s.xAxis,u=s.yAxis;if(!f||!u)return null;var m=RE({x:f.scale,y:u.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:a?m.y.apply(c,{position:"start"}):m.y.rangeMin},g={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:n?m.y.apply(d,{position:"end"}):m.y.rangeMax};return pc(s,"discard")&&(!m.isInRange(h)||!m.isInRange(g))?null:VY(h,g)},yk=function(e){function t(){return JKe(this,t),XKe(this,t,arguments)}return tQe(t,e),QKe(t,[{key:"render",value:function(){var a=this.props,n=a.x1,s=a.x2,o=a.y1,l=a.y2,c=a.className,d=a.alwaysShow,f=a.clipPathId;rd(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=ts(n),m=ts(s),h=ts(o),g=ts(l),p=this.props.shape;if(!u&&!m&&!h&&!g&&!p)return null;var x=aQe(u,m,h,g,this.props);if(!x&&!p)return null;var v=pc(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Z.createElement(Sn,{className:Cr("recharts-reference-area",c)},t.renderRect(p,g8(g8({clipPath:v},Sr(this.props,!0)),x)),Ys.renderCallByParent(this.props,x))}}])}(Z.Component);vk(yk,"displayName","ReferenceArea");vk(yk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vk(yk,"renderRect",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):fr(e)?r=e(t):r=Z.createElement(PE,MS({},t,{className:"recharts-reference-area-rect"})),r});function iJ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function nQe(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return oKe(a,r)}function sQe(e,t,r){var a=r==="width",n=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:a?n:s,end:a?n+o:s+l}:{start:a?n+o:s+l,end:a?n:s}}function dw(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var s=r();return e*(t-e*s/2-a)>=0&&e*(t+e*s/2-n)<=0}function iQe(e,t){return iJ(e,t+1)}function oQe(e,t,r,a,n){for(var s=(a||[]).slice(),o=t.start,l=t.end,c=0,d=1,f=o,u=function(){var g=a==null?void 0:a[c];if(g===void 0)return{v:iJ(a,d)};var p=c,x,v=function(){return x===void 0&&(x=r(g,p)),x},b=g.coordinate,y=c===0||dw(e,b,v,f,l);y||(c=0,f=o,d+=1),y&&(f=b+e*(v()/2+n),c+=d)},m;d<=s.length;)if(m=u(),m)return m.v;return[]}function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}function x8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(r),!0).forEach(function(a){lQe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lQe(e,t,r){return t=cQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQe(e){var t=dQe(e,"string");return L1(t)=="symbol"?t:t+""}function dQe(e,t){if(L1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(L1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fQe(e,t,r,a,n){for(var s=(a||[]).slice(),o=s.length,l=t.start,c=t.end,d=function(m){var h=s[m],g,p=function(){return g===void 0&&(g=r(h,m)),g};if(m===o-1){var x=e*(h.coordinate+e*p()/2-c);s[m]=h=Us(Us({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else s[m]=h=Us(Us({},h),{},{tickCoord:h.coordinate});var v=dw(e,h.tickCoord,p,l,c);v&&(c=h.tickCoord-e*(p()/2+n),s[m]=Us(Us({},h),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return s}function uQe(e,t,r,a,n,s){var o=(a||[]).slice(),l=o.length,c=t.start,d=t.end;if(s){var f=a[l-1],u=r(f,l-1),m=e*(f.coordinate+e*u/2-d);o[l-1]=f=Us(Us({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate});var h=dw(e,f.tickCoord,function(){return u},c,d);h&&(d=f.tickCoord-e*(u/2+n),o[l-1]=Us(Us({},f),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(b){var y=o[b],w,j=function(){return w===void 0&&(w=r(y,b)),w};if(b===0){var E=e*(y.coordinate-e*j()/2-c);o[b]=y=Us(Us({},y),{},{tickCoord:E<0?y.coordinate-E*e:y.coordinate})}else o[b]=y=Us(Us({},y),{},{tickCoord:y.coordinate});var A=dw(e,y.tickCoord,j,c,d);A&&(c=y.tickCoord+e*(j()/2+n),o[b]=Us(Us({},y),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function HE(e,t,r){var a=e.tick,n=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,f=e.unit,u=e.angle;if(!n||!n.length||!a)return[];if(yt(c)||jp.isSsr)return iQe(n,typeof c=="number"&&yt(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",g=f&&h==="width"?Xg(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(y,w){var j=fr(d)?d(y.value,w):y.value;return h==="width"?nQe(Xg(j,{fontSize:t,letterSpacing:r}),g,u):Xg(j,{fontSize:t,letterSpacing:r})[h]},x=n.length>=2?yl(n[1].coordinate-n[0].coordinate):1,v=sQe(s,x,h);return c==="equidistantPreserveStart"?oQe(x,v,p,n,o):(c==="preserveStart"||c==="preserveStartEnd"?m=uQe(x,v,p,n,o,c==="preserveStartEnd"):m=fQe(x,v,p,n,o),m.filter(function(b){return b.isShow}))}var hQe=["viewBox"],mQe=["viewBox"],pQe=["ticks"];function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kh.apply(this,arguments)}function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(a){VE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WN(e,t){if(e==null)return{};var r=gQe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gQe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function xQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y8(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lJ(a.key),a)}}function vQe(e,t,r){return t&&y8(e.prototype,t),r&&y8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yQe(e,t,r){return t=fw(t),bQe(e,oJ()?Reflect.construct(t,r||[],fw(e).constructor):t.apply(e,r))}function bQe(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wQe(e)}function wQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oJ=function(){return!!e})()}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}function kQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TS(e,t)}function TS(e,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},TS(e,t)}function VE(e,t,r){return t=lJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lJ(e){var t=jQe(e,"string");return Mm(t)=="symbol"?t:t+""}function jQe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Mm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ap=function(e){function t(r){var a;return xQe(this,t),a=yQe(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return kQe(t,e),vQe(t,[{key:"shouldComponentUpdate",value:function(a,n){var s=a.viewBox,o=WN(a,hQe),l=this.props,c=l.viewBox,d=WN(l,mQe);return!Hh(s,c)||!Hh(o,d)||!Hh(n,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var n=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var n=this.props,s=n.x,o=n.y,l=n.width,c=n.height,d=n.orientation,f=n.tickSize,u=n.mirror,m=n.tickMargin,h,g,p,x,v,b,y=u?-1:1,w=a.tickSize||f,j=yt(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":h=g=a.coordinate,x=o+ +!u*c,p=x-y*w,b=p-y*m,v=j;break;case"left":p=x=a.coordinate,g=s+ +!u*l,h=g-y*w,v=h-y*m,b=j;break;case"right":p=x=a.coordinate,g=s+ +u*l,h=g+y*w,v=h+y*m,b=j;break;default:h=g=a.coordinate,x=o+ +u*c,p=x+y*w,b=p+y*m,v=j;break}return{line:{x1:h,y1:p,x2:g,y2:x},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,n=a.orientation,s=a.mirror,o;switch(n){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,n=a.orientation,s=a.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,d=a.mirror,f=a.axisLine,u=Jn(Jn(Jn({},Sr(this.props,!1)),Sr(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);u=Jn(Jn({},u),{},{x1:n,y1:s+m*l,x2:n+o,y2:s+m*l})}else{var h=+(c==="left"&&!d||c==="right"&&d);u=Jn(Jn({},u),{},{x1:n+h*o,y1:s,x2:n+h*o,y2:s+l})}return Z.createElement("line",kh({},u,{className:Cr("recharts-cartesian-axis-line",Oo(f,"className"))}))}},{key:"renderTicks",value:function(a,n,s){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,u=l.tickFormatter,m=l.unit,h=HE(Jn(Jn({},this.props),{},{ticks:a}),n,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=Sr(this.props,!1),v=Sr(f,!1),b=Jn(Jn({},x),{},{fill:"none"},Sr(c,!1)),y=h.map(function(w,j){var E=o.getTickLineCoord(w),A=E.line,C=E.tick,S=Jn(Jn(Jn(Jn({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:d},v),C),{},{index:j,payload:w,visibleTicksCount:h.length,tickFormatter:u});return Z.createElement(Sn,kh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},j2(o.props,w,j)),c&&Z.createElement("line",kh({},b,A,{className:Cr("recharts-cartesian-axis-tick-line",Oo(c,"className"))})),f&&t.renderTickItem(f,S,"".concat(fr(u)?u(w.value,j):w.value).concat(m||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var a=this,n=this.props,s=n.axisLine,o=n.width,l=n.height,c=n.ticksGenerator,d=n.className,f=n.hide;if(f)return null;var u=this.props,m=u.ticks,h=WN(u,pQe),g=m;return fr(c)&&(g=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!g||!g.length?null:Z.createElement(Sn,{className:Cr("recharts-cartesian-axis",d),ref:function(x){a.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Ys.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,n,s){var o,l=Cr(n.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(a)?o=Z.cloneElement(a,Jn(Jn({},n),{},{className:l})):fr(a)?o=a(Jn(Jn({},n),{},{className:l})):o=Z.createElement(D2,kh({},n,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(k.Component);VE(Ap,"displayName","CartesianAxis");VE(Ap,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var NQe=["x1","y1","x2","y2","key"],SQe=["offset"];function v0(e){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v0(e)}function b8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(r),!0).forEach(function(a){CQe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function CQe(e,t,r){return t=AQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AQe(e){var t=EQe(e,"string");return v0(t)=="symbol"?t:t+""}function EQe(e,t){if(v0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(v0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Au.apply(this,arguments)}function w8(e,t){if(e==null)return{};var r=_Qe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _Qe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var MQe=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,n=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return Z.createElement("rect",{x:n,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function cJ(e,t){var r;if(Z.isValidElement(e))r=Z.cloneElement(e,t);else if(fr(e))r=e(t);else{var a=t.x1,n=t.y1,s=t.x2,o=t.y2,l=t.key,c=w8(t,NQe),d=Sr(c,!1);d.offset;var f=w8(d,SQe);r=Z.createElement("line",Au({},f,{x1:a,y1:n,x2:s,y2:o,fill:"none",key:l}))}return r}function LQe(e){var t=e.x,r=e.width,a=e.horizontal,n=a===void 0?!0:a,s=e.horizontalPoints;if(!n||!s||!s.length)return null;var o=s.map(function(l,c){var d=Js(Js({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return cJ(n,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function TQe(e){var t=e.y,r=e.height,a=e.vertical,n=a===void 0?!0:a,s=e.verticalPoints;if(!n||!s||!s.length)return null;var o=s.map(function(l,c){var d=Js(Js({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return cJ(n,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function IQe(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,n=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var f=l.map(function(m){return Math.round(m+n-n)}).sort(function(m,h){return m-h});n!==f[0]&&f.unshift(0);var u=f.map(function(m,h){var g=!f[h+1],p=g?n+o-m:f[h+1]-m;if(p<=0)return null;var x=h%t.length;return Z.createElement("rect",{key:"react-".concat(h),y:m,x:a,height:p,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function DQe(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,n=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!a||!a.length)return null;var f=d.map(function(m){return Math.round(m+s-s)}).sort(function(m,h){return m-h});s!==f[0]&&f.unshift(0);var u=f.map(function(m,h){var g=!f[h+1],p=g?s+l-m:f[h+1]-m;if(p<=0)return null;var x=h%a.length;return Z.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:p,height:c,stroke:"none",fill:a[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var PQe=function(t,r){var a=t.xAxis,n=t.width,s=t.height,o=t.offset;return yY(HE(Js(Js(Js({},Ap.defaultProps),a),{},{ticks:Kc(a,!0),viewBox:{x:0,y:0,width:n,height:s}})),o.left,o.left+o.width,r)},OQe=function(t,r){var a=t.yAxis,n=t.width,s=t.height,o=t.offset;return yY(HE(Js(Js(Js({},Ap.defaultProps),a),{},{ticks:Kc(a,!0),viewBox:{x:0,y:0,width:n,height:s}})),o.top,o.top+o.height,r)},lh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function GE(e){var t,r,a,n,s,o,l=zE(),c=$E(),d=jKe(),f=Js(Js({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:lh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:lh.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:lh.horizontal,horizontalFill:(n=e.horizontalFill)!==null&&n!==void 0?n:lh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:lh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:lh.verticalFill,x:yt(e.x)?e.x:d.left,y:yt(e.y)?e.y:d.top,width:yt(e.width)?e.width:d.width,height:yt(e.height)?e.height:d.height}),u=f.x,m=f.y,h=f.width,g=f.height,p=f.syncWithTicks,x=f.horizontalValues,v=f.verticalValues,b=bKe(),y=wKe();if(!yt(h)||h<=0||!yt(g)||g<=0||!yt(u)||u!==+u||!yt(m)||m!==+m)return null;var w=f.verticalCoordinatesGenerator||PQe,j=f.horizontalCoordinatesGenerator||OQe,E=f.horizontalPoints,A=f.verticalPoints;if((!E||!E.length)&&fr(j)){var C=x&&x.length,S=j({yAxis:y?Js(Js({},y),{},{ticks:C?x:y.ticks}):void 0,width:l,height:c,offset:d},C?!0:p);rd(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(v0(S),"]")),Array.isArray(S)&&(E=S)}if((!A||!A.length)&&fr(w)){var T=v&&v.length,_=w({xAxis:b?Js(Js({},b),{},{ticks:T?v:b.ticks}):void 0,width:l,height:c,offset:d},T?!0:p);rd(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(v0(_),"]")),Array.isArray(_)&&(A=_)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(MQe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Z.createElement(LQe,Au({},f,{offset:d,horizontalPoints:E,xAxis:b,yAxis:y})),Z.createElement(TQe,Au({},f,{offset:d,verticalPoints:A,xAxis:b,yAxis:y})),Z.createElement(IQe,Au({},f,{horizontalPoints:E})),Z.createElement(DQe,Au({},f,{verticalPoints:A})))}GE.displayName="CartesianGrid";var RQe=["type","layout","connectNulls","ref"],FQe=["key"];function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function k8(e,t){if(e==null)return{};var r=BQe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function BQe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rx.apply(this,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(a){dl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ch(e){return WQe(e)||UQe(e)||$Qe(e)||zQe()}function zQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Qe(e,t){if(e){if(typeof e=="string")return IS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IS(e,t)}}function UQe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WQe(e){if(Array.isArray(e))return IS(e)}function IS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function HQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N8(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fJ(a.key),a)}}function VQe(e,t,r){return t&&N8(e.prototype,t),r&&N8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GQe(e,t,r){return t=uw(t),qQe(e,dJ()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function qQe(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YQe(e)}function YQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dJ=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}function JQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DS(e,t)}function DS(e,t){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},DS(e,t)}function dl(e,t,r){return t=fJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=KQe(e,"string");return Lm(t)=="symbol"?t:t+""}function KQe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Lm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kv=function(e){function t(){var r;HQe(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=GQe(this,t,[].concat(n)),dl(r,"state",{isAnimationFinished:!0,totalLength:0}),dl(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),dl(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(v,b){return v+b});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/d),u=o%d,m=l-o,h=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>u){h=[].concat(ch(c.slice(0,g)),[u-p]);break}var x=h.length%2===0?[0,m]:[m];return[].concat(ch(t.repeat(c,f)),ch(h),x).map(function(v){return"".concat(v,"px")}).join(", ")}),dl(r,"id",gv("recharts-line-")),dl(r,"pathRef",function(o){r.mainCurve=o}),dl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),dl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return JQe(t,e),VQe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,u=Fo(f,wv);if(!u)return null;var m=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:so(p.payload,x)}},h={clipPath:a?"url(#clipPath-".concat(n,")"):null};return Z.createElement(Sn,h,u.map(function(g){return Z.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(a,n,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,u=Sr(this.props,!1),m=Sr(c,!0),h=d.map(function(p,x){var v=Wi(Wi(Wi({key:"dot-".concat(x),r:3},u),m),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:f,payload:p.payload,points:d});return t.renderDotItem(c,v)}),g={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(s,")"):null};return Z.createElement(Sn,rx({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(a,n,s,o){var l=this.props,c=l.type,d=l.layout,f=l.connectNulls;l.ref;var u=k8(l,RQe),m=Wi(Wi(Wi({},Sr(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(s,")"):null,points:a},o),{},{type:c,layout:d,connectNulls:f});return Z.createElement(fS,rx({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,n){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,u=o.animationDuration,m=o.animationEasing,h=o.animationId,g=o.animateNewValues,p=o.width,x=o.height,v=this.state,b=v.prevPoints,y=v.totalLength;return Z.createElement(gd,{begin:f,duration:u,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t;if(b){var E=b.length/l.length,A=l.map(function(M,D){var O=Math.floor(D*E);if(b[O]){var B=b[O],U=ul(B.x,M.x),q=ul(B.y,M.y);return Wi(Wi({},M),{},{x:U(j),y:q(j)})}if(g){var K=ul(p*2,M.x),G=ul(x/2,M.y);return Wi(Wi({},M),{},{x:K(j),y:G(j)})}return Wi(Wi({},M),{},{x:M.x,y:M.y})});return s.renderCurveStatically(A,a,n)}var C=ul(0,y),S=C(j),T;if(c){var _="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});T=s.getStrokeDasharray(S,y,_)}else T=s.generateSimpleStrokeDasharray(y,S);return s.renderCurveStatically(l,a,n,{strokeDasharray:T})})}},{key:"renderCurve",value:function(a,n){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,d=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!d&&f>0||!lv(d,o))?this.renderCurveWithAnimation(a,n):this.renderCurveStatically(o,a,n)}},{key:"render",value:function(){var a,n=this.props,s=n.hide,o=n.dot,l=n.points,c=n.className,d=n.xAxis,f=n.yAxis,u=n.top,m=n.left,h=n.width,g=n.height,p=n.isAnimationActive,x=n.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,y=Cr("recharts-line",c),w=d&&d.allowDataOverflow,j=f&&f.allowDataOverflow,E=w||j,A=gr(x)?this.id:x,C=(a=Sr(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},S=C.r,T=S===void 0?3:S,_=C.strokeWidth,M=_===void 0?2:_,D=$7e(o)?o:{},O=D.clipDot,B=O===void 0?!0:O,U=T*2+M;return Z.createElement(Sn,{className:y},w||j?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(A)},Z.createElement("rect",{x:w?m:m-h/2,y:j?u:u-g/2,width:w?h:h*2,height:j?g:g*2})),!B&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(A)},Z.createElement("rect",{x:m-U/2,y:u-U/2,width:h+U,height:g+U}))):null,!b&&this.renderCurve(E,A),this.renderErrorBar(E,A),(b||o)&&this.renderDots(E,B,A),(!p||v)&&pf.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:n.curPoints}:a.points!==n.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,n){for(var s=a.length%2!==0?[].concat(ch(a),[0]):a,o=[],l=0;l<n;++l)o=[].concat(ch(o),ch(s));return o}},{key:"renderDotItem",value:function(a,n){var s;if(Z.isValidElement(a))s=Z.cloneElement(a,n);else if(fr(a))s=a(n);else{var o=n.key,l=k8(n,FQe),c=Cr("recharts-line-dot",typeof a!="boolean"?a.className:"");s=Z.createElement(OE,rx({key:o},l,{className:c}))}return s}}])}(k.PureComponent);dl(kv,"displayName","Line");dl(kv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!jp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});dl(kv,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,n=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,f=t.layout,u=c.map(function(m,h){var g=so(m,o);return f==="horizontal"?{x:i9({axis:r,ticks:n,bandSize:l,entry:m,index:h}),y:gr(g)?null:a.scale(g),value:g,payload:m}:{x:gr(g)?null:r.scale(g),y:i9({axis:a,ticks:s,bandSize:l,entry:m,index:h}),value:g,payload:m}});return Wi({points:u,layout:f},d)});function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function QQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XQe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,mJ(a.key),a)}}function ZQe(e,t,r){return t&&XQe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eXe(e,t,r){return t=hw(t),tXe(e,uJ()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function tXe(e,t){if(t&&(Tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rXe(e)}function rXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uJ=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function aXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PS(e,t)}function PS(e,t){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},PS(e,t)}function hJ(e,t,r){return t=mJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mJ(e){var t=nXe(e,"string");return Tm(t)=="symbol"?t:t+""}function nXe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Tm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},OS.apply(this,arguments)}function sXe(e){var t=e.xAxisId,r=zE(),a=$E(),n=XY(t);return n==null?null:k.createElement(Ap,OS({},n,{className:Cr("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(o){return Kc(o,!0)}}))}var Ep=function(e){function t(){return QQe(this,t),eXe(this,t,arguments)}return aXe(t,e),ZQe(t,[{key:"render",value:function(){return k.createElement(sXe,this.props)}}])}(k.Component);hJ(Ep,"displayName","XAxis");hJ(Ep,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function iXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oXe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xJ(a.key),a)}}function lXe(e,t,r){return t&&oXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cXe(e,t,r){return t=mw(t),dXe(e,pJ()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function dXe(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fXe(e)}function fXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pJ=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function uXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}function RS(e,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},RS(e,t)}function gJ(e,t,r){return t=xJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=hXe(e,"string");return Im(t)=="symbol"?t:t+""}function hXe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},FS.apply(this,arguments)}var mXe=function(t){var r=t.yAxisId,a=zE(),n=$E(),s=ZY(r);return s==null?null:k.createElement(Ap,FS({},s,{className:Cr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:n},ticksGenerator:function(l){return Kc(l,!0)}}))},_p=function(e){function t(){return iXe(this,t),cXe(this,t,arguments)}return uXe(t,e),lXe(t,[{key:"render",value:function(){return k.createElement(mXe,this.props)}}])}(k.Component);gJ(_p,"displayName","YAxis");gJ(_p,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function S8(e){return vXe(e)||xXe(e)||gXe(e)||pXe()}function pXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gXe(e,t){if(e){if(typeof e=="string")return BS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BS(e,t)}}function xXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vXe(e){if(Array.isArray(e))return BS(e)}function BS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var zS=function(t,r,a,n,s){var o=Fo(t,WE),l=Fo(t,xk),c=[].concat(S8(o),S8(l)),d=Fo(t,yk),f="".concat(n,"Id"),u=n[0],m=r;if(c.length&&(m=c.reduce(function(p,x){if(x.props[f]===a&&pc(x.props,"extendDomain")&&yt(x.props[u])){var v=x.props[u];return[Math.min(p[0],v),Math.max(p[1],v)]}return p},m)),d.length){var h="".concat(u,"1"),g="".concat(u,"2");m=d.reduce(function(p,x){if(x.props[f]===a&&pc(x.props,"extendDomain")&&yt(x.props[h])&&yt(x.props[g])){var v=x.props[h],b=x.props[g];return[Math.min(p[0],v,b),Math.max(p[1],v,b)]}return p},m)}return s&&s.length&&(m=s.reduce(function(p,x){return yt(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},m)),m},vJ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function n(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,u,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new n(f,u||c,m),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,u;if(this._eventsCount===0)return d;for(u in f=this._events)t.call(f,u)&&d.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,u=this._events[f];if(!u)return[];if(u.fn)return[u.fn];for(var m=0,h=u.length,g=new Array(h);m<h;m++)g[m]=u[m].fn;return g},l.prototype.listenerCount=function(d){var f=r?r+d:d,u=this._events[f];return u?u.fn?1:u.length:0},l.prototype.emit=function(d,f,u,m,h,g){var p=r?r+d:d;if(!this._events[p])return!1;var x=this._events[p],v=arguments.length,b,y;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,u),!0;case 4:return x.fn.call(x.context,f,u,m),!0;case 5:return x.fn.call(x.context,f,u,m,h),!0;case 6:return x.fn.call(x.context,f,u,m,h,g),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];x.fn.apply(x.context,b)}else{var w=x.length,j;for(y=0;y<w;y++)switch(x[y].once&&this.removeListener(d,x[y].fn,void 0,!0),v){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,f);break;case 3:x[y].fn.call(x[y].context,f,u);break;case 4:x[y].fn.call(x[y].context,f,u,m);break;default:if(!b)for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];x[y].fn.apply(x[y].context,b)}}return!0},l.prototype.on=function(d,f,u){return s(this,d,f,u,!1)},l.prototype.once=function(d,f,u){return s(this,d,f,u,!0)},l.prototype.removeListener=function(d,f,u,m){var h=r?r+d:d;if(!this._events[h])return this;if(!f)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===f&&(!m||g.once)&&(!u||g.context===u)&&o(this,h);else{for(var p=0,x=[],v=g.length;p<v;p++)(g[p].fn!==f||m&&!g[p].once||u&&g[p].context!==u)&&x.push(g[p]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(vJ);var yXe=vJ.exports;const bXe=Lr(yXe);var HN=new bXe,VN="recharts.syncMouseEvents";function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function wXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kXe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yJ(a.key),a)}}function jXe(e,t,r){return t&&kXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GN(e,t,r){return t=yJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=NXe(e,"string");return T1(t)=="symbol"?t:t+""}function NXe(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(T1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SXe=function(){function e(){wXe(this,e),GN(this,"activeIndex",0),GN(this,"coordinateList",[]),GN(this,"layout","horizontal")}return jXe(e,[{key:"setDetails",value:function(r){var a,n=r.coordinateList,s=n===void 0?null:n,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,f=r.offset,u=f===void 0?null:f,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(a=s??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),s=n.x,o=n.y,l=n.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((a=window)===null||a===void 0?void 0:a.scrollY)||0,u=s+c+d,m=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:u,pageY:m})}}}])}();function CXe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],n=e==null?void 0:e[1];if(a&&n&&yt(a)&&yt(n))return!0}return!1}function AXe(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-n,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function bJ(e){var t=e.cx,r=e.cy,a=e.radius,n=e.startAngle,s=e.endAngle,o=Ms(t,r,a,n),l=Ms(t,r,a,s);return{points:[o,l],cx:t,cy:r,radius:a,startAngle:n,endAngle:s}}function EXe(e,t,r){var a,n,s,o;if(e==="horizontal")a=t.x,s=a,n=r.top,o=r.top+r.height;else if(e==="vertical")n=t.y,o=n,a=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,f=t.outerRadius,u=t.angle,m=Ms(l,c,d,u),h=Ms(l,c,f,u);a=m.x,n=m.y,s=h.x,o=h.y}else return bJ(t);return[{x:a,y:n},{x:s,y:o}]}function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(a){_Xe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _Xe(e,t,r){return t=MXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MXe(e){var t=LXe(e,"string");return I1(t)=="symbol"?t:t+""}function LXe(e,t){if(I1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(I1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TXe(e){var t,r,a=e.element,n=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,u=e.layout,m=e.chartName,h=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!h||!s||!o||m!=="ScatterChart"&&n!=="axis")return null;var g,p=fS;if(m==="ScatterChart")g=o,p=jYe;else if(m==="BarChart")g=AXe(u,o,c,f),p=PE;else if(u==="radial"){var x=bJ(o),v=x.cx,b=x.cy,y=x.radius,w=x.startAngle,j=x.endAngle;g={cx:v,cy:b,startAngle:w,endAngle:j,innerRadius:y,outerRadius:y},p=EY}else g={points:EXe(u,o,c)},p=fS;var E=Jy(Jy(Jy(Jy({stroke:"#ccc",pointerEvents:"none"},c),g),Sr(h,!1)),{},{payload:l,payloadIndex:d,className:Cr("recharts-tooltip-cursor",h.className)});return k.isValidElement(h)?k.cloneElement(h,E):k.createElement(p,E)}var IXe=["item"],DXe=["children","className","width","height","style","compact","title","desc"];function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jh.apply(this,arguments)}function A8(e,t){return RXe(e)||OXe(e,t)||kJ(e,t)||PXe()}function PXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OXe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function RXe(e){if(Array.isArray(e))return e}function E8(e,t){if(e==null)return{};var r=FXe(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function FXe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function BXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zXe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jJ(a.key),a)}}function $Xe(e,t,r){return t&&zXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UXe(e,t,r){return t=pw(t),WXe(e,wJ()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function WXe(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HXe(e)}function HXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function VXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$S(e,t)}function $S(e,t){return $S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},$S(e,t)}function Pm(e){return YXe(e)||qXe(e)||kJ(e)||GXe()}function GXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(e,t){if(e){if(typeof e=="string")return US(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return US(e,t)}}function qXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YXe(e){if(Array.isArray(e))return US(e)}function US(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(a){Vt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vt(e,t,r){return t=jJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jJ(e){var t=JXe(e,"string");return Dm(t)=="symbol"?t:t+""}function JXe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Dm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KXe={xAxis:["bottom","top"],yAxis:["left","right"]},QXe={width:"100%",height:"100%"},NJ={x:0,y:0};function Ky(e){return e}var XXe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ZXe=function(t,r,a,n){var s=r.find(function(f){return f&&f.index===a});if(s){if(t==="horizontal")return{x:s.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=n.radius;return tt(tt(tt({},n),Ms(n.cx,n.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,d=n.angle;return tt(tt(tt({},n),Ms(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return NJ},bk=function(t,r){var a=r.graphicalItems,n=r.dataStartIndex,s=r.dataEndIndex,o=(a??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Pm(l),Pm(d)):l},[]);return o.length>0?o:t&&t.length&&yt(n)&&yt(s)?t.slice(n,s+1):[]};function SJ(e){return e==="number"?[0,"auto"]:void 0}var WS=function(t,r,a,n){var s=t.graphicalItems,o=t.tooltipAxis,l=bk(r,t);return a<0||!s||!s.length||a>=l.length?null:s.reduce(function(c,d){var f,u=(f=d.props.data)!==null&&f!==void 0?f:r;u&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(u=u.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=u===void 0?l:u;m=w2(h,o.dataKey,n)}else m=u&&u[a]||l[a];return m?[].concat(Pm(c),[NY(d,m)]):c},[])},M8=function(t,r,a,n){var s=n||{x:t.chartX,y:t.chartY},o=XXe(s,a),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,f=dVe(o,l,d,c);if(f>=0&&d){var u=d[f]&&d[f].value,m=WS(t,r,f,u),h=ZXe(a,l,f,s);return{activeTooltipIndex:f,activeLabel:u,activePayload:m,activeCoordinate:h}}return null},eZe=function(t,r){var a=r.axes,n=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=t.layout,u=t.children,m=t.stackOffset,h=vY(f,s);return a.reduce(function(g,p){var x,v=p.type.defaultProps!==void 0?tt(tt({},p.type.defaultProps),p.props):p.props,b=v.type,y=v.dataKey,w=v.allowDataOverflow,j=v.allowDuplicatedCategory,E=v.scale,A=v.ticks,C=v.includeHidden,S=v[o];if(g[S])return g;var T=bk(t.data,{graphicalItems:n.filter(function(I){var z,H=o in I.props?I.props[o]:(z=I.type.defaultProps)===null||z===void 0?void 0:z[o];return H===S}),dataStartIndex:c,dataEndIndex:d}),_=T.length,M,D,O;CXe(v.domain,w,b)&&(M=iS(v.domain,null,w),h&&(b==="number"||E!=="auto")&&(O=ex(T,y,"category")));var B=SJ(b);if(!M||M.length===0){var U,q=(U=v.domain)!==null&&U!==void 0?U:B;if(y){if(M=ex(T,y,b),b==="category"&&h){var K=L7e(M);j&&K?(D=M,M=Gx(0,_)):j||(M=d9(q,M,p).reduce(function(I,z){return I.indexOf(z)>=0?I:[].concat(Pm(I),[z])},[]))}else if(b==="category")j?M=M.filter(function(I){return I!==""&&!gr(I)}):M=d9(q,M,p).reduce(function(I,z){return I.indexOf(z)>=0||z===""||gr(z)?I:[].concat(Pm(I),[z])},[]);else if(b==="number"){var G=pVe(T,n.filter(function(I){var z,H,J=o in I.props?I.props[o]:(z=I.type.defaultProps)===null||z===void 0?void 0:z[o],te="hide"in I.props?I.props.hide:(H=I.type.defaultProps)===null||H===void 0?void 0:H.hide;return J===S&&(C||!te)}),y,s,f);G&&(M=G)}h&&(b==="number"||E!=="auto")&&(O=ex(T,y,"category"))}else h?M=Gx(0,_):l&&l[S]&&l[S].hasStack&&b==="number"?M=m==="expand"?[0,1]:jY(l[S].stackGroups,c,d):M=xY(T,n.filter(function(I){var z=o in I.props?I.props[o]:I.type.defaultProps[o],H="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return z===S&&(C||!H)}),b,f,!0);if(b==="number")M=zS(u,M,S,s,A),q&&(M=iS(q,M,w));else if(b==="category"&&q){var ve=q,fe=M.every(function(I){return ve.indexOf(I)>=0});fe&&(M=ve)}}return tt(tt({},g),{},Vt({},S,tt(tt({},v),{},{axisType:s,domain:M,categoricalDomain:O,duplicateDomain:D,originalDomain:(x=v.domain)!==null&&x!==void 0?x:B,isCategorical:h,layout:f})))},{})},tZe=function(t,r){var a=r.graphicalItems,n=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=t.layout,u=t.children,m=bk(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),h=m.length,g=vY(f,s),p=-1;return a.reduce(function(x,v){var b=v.type.defaultProps!==void 0?tt(tt({},v.type.defaultProps),v.props):v.props,y=b[o],w=SJ("number");if(!x[y]){p++;var j;return g?j=Gx(0,h):l&&l[y]&&l[y].hasStack?(j=jY(l[y].stackGroups,c,d),j=zS(u,j,y,s)):(j=iS(w,xY(m,a.filter(function(E){var A,C,S=o in E.props?E.props[o]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[o],T="hide"in E.props?E.props.hide:(C=E.type.defaultProps)===null||C===void 0?void 0:C.hide;return S===y&&!T}),"number",f),n.defaultProps.allowDataOverflow),j=zS(u,j,y,s)),tt(tt({},x),{},Vt({},y,tt(tt({axisType:s},n.defaultProps),{},{hide:!0,orientation:Oo(KXe,"".concat(s,".").concat(p%2),null),domain:j,originalDomain:w,isCategorical:g,layout:f})))}return x},{})},rZe=function(t,r){var a=r.axisType,n=a===void 0?"xAxis":a,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=t.children,u="".concat(n,"Id"),m=Fo(f,s),h={};return m&&m.length?h=eZe(t,{axes:m,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(h=tZe(t,{Axis:s,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),h},aZe=function(t){var r=ef(t),a=Kc(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:b4(a,function(n){return n.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Y2(r,a)}},L8=function(t){var r=t.children,a=t.defaultShowTooltip,n=Vi(r,Sm),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(s=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},nZe=function(t){return!t||!t.length?!1:t.some(function(r){var a=td(r&&r.type);return a&&a.indexOf("Bar")>=0})},T8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sZe=function(t,r){var a=t.props,n=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,d=a.width,f=a.height,u=a.children,m=a.margin||{},h=Vi(u,Sm),g=Vi(u,Ru),p=Object.keys(c).reduce(function(j,E){var A=c[E],C=A.orientation;return!A.mirror&&!A.hide?tt(tt({},j),{},Vt({},C,j[C]+A.width)):j},{left:m.left||0,right:m.right||0}),x=Object.keys(o).reduce(function(j,E){var A=o[E],C=A.orientation;return!A.mirror&&!A.hide?tt(tt({},j),{},Vt({},C,Oo(j,"".concat(C))+A.height)):j},{top:m.top||0,bottom:m.bottom||0}),v=tt(tt({},x),p),b=v.bottom;h&&(v.bottom+=h.props.height||Sm.defaultProps.height),g&&r&&(v=hVe(v,n,a,r));var y=d-v.left-v.right,w=f-v.top-v.bottom;return tt(tt({brushBottom:b},v),{},{width:Math.max(y,0),height:Math.max(w,0)})},iZe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},CJ=function(t){var r=t.chartName,a=t.GraphicalChild,n=t.defaultTooltipEventType,s=n===void 0?"axis":n,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,f=t.formatAxisMap,u=t.defaultProps,m=function(v,b){var y=b.graphicalItems,w=b.stackGroups,j=b.offset,E=b.updateId,A=b.dataStartIndex,C=b.dataEndIndex,S=v.barSize,T=v.layout,_=v.barGap,M=v.barCategoryGap,D=v.maxBarSize,O=T8(T),B=O.numericAxisName,U=O.cateAxisName,q=nZe(y),K=[];return y.forEach(function(G,ve){var fe=bk(v.data,{graphicalItems:[G],dataStartIndex:A,dataEndIndex:C}),I=G.type.defaultProps!==void 0?tt(tt({},G.type.defaultProps),G.props):G.props,z=I.dataKey,H=I.maxBarSize,J=I["".concat(B,"Id")],te=I["".concat(U,"Id")],W={},Y=c.reduce(function(de,Ae){var ze=b["".concat(Ae.axisType,"Map")],Ce=I["".concat(Ae.axisType,"Id")];ze&&ze[Ce]||Ae.axisType==="zAxis"||x0();var _e=ze[Ce];return tt(tt({},de),{},Vt(Vt({},Ae.axisType,_e),"".concat(Ae.axisType,"Ticks"),Kc(_e)))},W),Q=Y[U],ne=Y["".concat(U,"Ticks")],pe=w&&w[J]&&w[J].hasStack&&NVe(G,w[J].stackGroups),F=td(G.type).indexOf("Bar")>=0,Te=Y2(Q,ne),xe=[],se=q&&fVe({barSize:S,stackGroups:w,totalSize:iZe(Y,U)});if(F){var We,Se,Fe=gr(H)?D:H,he=(We=(Se=Y2(Q,ne,!0))!==null&&Se!==void 0?Se:Fe)!==null&&We!==void 0?We:0;xe=uVe({barGap:_,barCategoryGap:M,bandSize:he!==Te?he:Te,sizeList:se[te],maxBarSize:Fe}),he!==Te&&(xe=xe.map(function(de){return tt(tt({},de),{},{position:tt(tt({},de.position),{},{offset:de.position.offset-he/2})})}))}var ie=G&&G.type&&G.type.getComposedData;ie&&K.push({props:tt(tt({},ie(tt(tt({},Y),{},{displayedData:fe,props:v,dataKey:z,item:G,bandSize:Te,barPosition:xe,offset:j,stackedData:pe,layout:T,dataStartIndex:A,dataEndIndex:C}))),{},Vt(Vt(Vt({key:G.key||"item-".concat(ve)},B,Y[B]),U,Y[U]),"animationId",E)),childIndex:H7e(G,v.children),item:G})}),K},h=function(v,b){var y=v.props,w=v.dataStartIndex,j=v.dataEndIndex,E=v.updateId;if(!LP({props:y}))return null;var A=y.children,C=y.layout,S=y.stackOffset,T=y.data,_=y.reverseStackOrder,M=T8(C),D=M.numericAxisName,O=M.cateAxisName,B=Fo(A,a),U=kVe(T,B,"".concat(D,"Id"),"".concat(O,"Id"),S,_),q=c.reduce(function(I,z){var H="".concat(z.axisType,"Map");return tt(tt({},I),{},Vt({},H,rZe(y,tt(tt({},z),{},{graphicalItems:B,stackGroups:z.axisType===D&&U,dataStartIndex:w,dataEndIndex:j}))))},{}),K=sZe(tt(tt({},q),{},{props:y,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(q).forEach(function(I){q[I]=f(y,q[I],K,I.replace("Map",""),r)});var G=q["".concat(O,"Map")],ve=aZe(G),fe=m(y,tt(tt({},q),{},{dataStartIndex:w,dataEndIndex:j,updateId:E,graphicalItems:B,stackGroups:U,offset:K}));return tt(tt({formattedGraphicalItems:fe,graphicalItems:B,offset:K,stackGroups:U},ve),q)},g=function(x){function v(b){var y,w,j;return BXe(this,v),j=UXe(this,v,[b]),Vt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Vt(j,"accessibilityManager",new SXe),Vt(j,"handleLegendBBoxUpdate",function(E){if(E){var A=j.state,C=A.dataStartIndex,S=A.dataEndIndex,T=A.updateId;j.setState(tt({legendBBox:E},h({props:j.props,dataStartIndex:C,dataEndIndex:S,updateId:T},tt(tt({},j.state),{},{legendBBox:E}))))}}),Vt(j,"handleReceiveSyncEvent",function(E,A,C){if(j.props.syncId===E){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(A)}}),Vt(j,"handleBrushChange",function(E){var A=E.startIndex,C=E.endIndex;if(A!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var S=j.state.updateId;j.setState(function(){return tt({dataStartIndex:A,dataEndIndex:C},h({props:j.props,dataStartIndex:A,dataEndIndex:C,updateId:S},j.state))}),j.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),Vt(j,"handleMouseEnter",function(E){var A=j.getMouseInfo(E);if(A){var C=tt(tt({},A),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var S=j.props.onMouseEnter;fr(S)&&S(C,E)}}),Vt(j,"triggeredAfterMouseMove",function(E){var A=j.getMouseInfo(E),C=A?tt(tt({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var S=j.props.onMouseMove;fr(S)&&S(C,E)}),Vt(j,"handleItemMouseEnter",function(E){j.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Vt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Vt(j,"handleMouseMove",function(E){E.persist(),j.throttleTriggeredAfterMouseMove(E)}),Vt(j,"handleMouseLeave",function(E){j.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};j.setState(A),j.triggerSyncEvent(A);var C=j.props.onMouseLeave;fr(C)&&C(A,E)}),Vt(j,"handleOuterEvent",function(E){var A=W7e(E),C=Oo(j.props,"".concat(A));if(A&&fr(C)){var S,T;/.*touch.*/i.test(A)?T=j.getMouseInfo(E.changedTouches[0]):T=j.getMouseInfo(E),C((S=T)!==null&&S!==void 0?S:{},E)}}),Vt(j,"handleClick",function(E){var A=j.getMouseInfo(E);if(A){var C=tt(tt({},A),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var S=j.props.onClick;fr(S)&&S(C,E)}}),Vt(j,"handleMouseDown",function(E){var A=j.props.onMouseDown;if(fr(A)){var C=j.getMouseInfo(E);A(C,E)}}),Vt(j,"handleMouseUp",function(E){var A=j.props.onMouseUp;if(fr(A)){var C=j.getMouseInfo(E);A(C,E)}}),Vt(j,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Vt(j,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&j.handleMouseDown(E.changedTouches[0])}),Vt(j,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&j.handleMouseUp(E.changedTouches[0])}),Vt(j,"handleDoubleClick",function(E){var A=j.props.onDoubleClick;if(fr(A)){var C=j.getMouseInfo(E);A(C,E)}}),Vt(j,"handleContextMenu",function(E){var A=j.props.onContextMenu;if(fr(A)){var C=j.getMouseInfo(E);A(C,E)}}),Vt(j,"triggerSyncEvent",function(E){j.props.syncId!==void 0&&HN.emit(VN,j.props.syncId,E,j.eventEmitterSymbol)}),Vt(j,"applySyncEvent",function(E){var A=j.props,C=A.layout,S=A.syncMethod,T=j.state.updateId,_=E.dataStartIndex,M=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)j.setState(tt({dataStartIndex:_,dataEndIndex:M},h({props:j.props,dataStartIndex:_,dataEndIndex:M,updateId:T},j.state)));else if(E.activeTooltipIndex!==void 0){var D=E.chartX,O=E.chartY,B=E.activeTooltipIndex,U=j.state,q=U.offset,K=U.tooltipTicks;if(!q)return;if(typeof S=="function")B=S(K,E);else if(S==="value"){B=-1;for(var G=0;G<K.length;G++)if(K[G].value===E.activeLabel){B=G;break}}var ve=tt(tt({},q),{},{x:q.left,y:q.top}),fe=Math.min(D,ve.x+ve.width),I=Math.min(O,ve.y+ve.height),z=K[B]&&K[B].value,H=WS(j.state,j.props.data,B),J=K[B]?{x:C==="horizontal"?K[B].coordinate:fe,y:C==="horizontal"?I:K[B].coordinate}:NJ;j.setState(tt(tt({},E),{},{activeLabel:z,activeCoordinate:J,activePayload:H,activeTooltipIndex:B}))}else j.setState(E)}),Vt(j,"renderCursor",function(E){var A,C=j.state,S=C.isTooltipActive,T=C.activeCoordinate,_=C.activePayload,M=C.offset,D=C.activeTooltipIndex,O=C.tooltipAxisBandSize,B=j.getTooltipEventType(),U=(A=E.props.active)!==null&&A!==void 0?A:S,q=j.props.layout,K=E.key||"_recharts-cursor";return Z.createElement(TXe,{key:K,activeCoordinate:T,activePayload:_,activeTooltipIndex:D,chartName:r,element:E,isActive:U,layout:q,offset:M,tooltipAxisBandSize:O,tooltipEventType:B})}),Vt(j,"renderPolarAxis",function(E,A,C){var S=Oo(E,"type.axisType"),T=Oo(j.state,"".concat(S,"Map")),_=E.type.defaultProps,M=_!==void 0?tt(tt({},_),E.props):E.props,D=T&&T[M["".concat(S,"Id")]];return k.cloneElement(E,tt(tt({},D),{},{className:Cr(S,D.className),key:E.key||"".concat(A,"-").concat(C),ticks:Kc(D,!0)}))}),Vt(j,"renderPolarGrid",function(E){var A=E.props,C=A.radialLines,S=A.polarAngles,T=A.polarRadius,_=j.state,M=_.radiusAxisMap,D=_.angleAxisMap,O=ef(M),B=ef(D),U=B.cx,q=B.cy,K=B.innerRadius,G=B.outerRadius;return k.cloneElement(E,{polarAngles:Array.isArray(S)?S:Kc(B,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(T)?T:Kc(O,!0).map(function(ve){return ve.coordinate}),cx:U,cy:q,innerRadius:K,outerRadius:G,key:E.key||"polar-grid",radialLines:C})}),Vt(j,"renderLegend",function(){var E=j.state.formattedGraphicalItems,A=j.props,C=A.children,S=A.width,T=A.height,_=j.props.margin||{},M=S-(_.left||0)-(_.right||0),D=pY({children:C,formattedGraphicalItems:E,legendWidth:M,legendContent:d});if(!D)return null;var O=D.item,B=E8(D,IXe);return k.cloneElement(O,tt(tt({},B),{},{chartWidth:S,chartHeight:T,margin:_,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Vt(j,"renderTooltip",function(){var E,A=j.props,C=A.children,S=A.accessibilityLayer,T=Vi(C,ll);if(!T)return null;var _=j.state,M=_.isTooltipActive,D=_.activeCoordinate,O=_.activePayload,B=_.activeLabel,U=_.offset,q=(E=T.props.active)!==null&&E!==void 0?E:M;return k.cloneElement(T,{viewBox:tt(tt({},U),{},{x:U.left,y:U.top}),active:q,label:B,payload:q?O:[],coordinate:D,accessibilityLayer:S})}),Vt(j,"renderBrush",function(E){var A=j.props,C=A.margin,S=A.data,T=j.state,_=T.offset,M=T.dataStartIndex,D=T.dataEndIndex,O=T.updateId;return k.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Vy(j.handleBrushChange,E.props.onChange),data:S,x:yt(E.props.x)?E.props.x:_.left,y:yt(E.props.y)?E.props.y:_.top+_.height+_.brushBottom-(C.bottom||0),width:yt(E.props.width)?E.props.width:_.width,startIndex:M,endIndex:D,updateId:"brush-".concat(O)})}),Vt(j,"renderReferenceElement",function(E,A,C){if(!E)return null;var S=j,T=S.clipPathId,_=j.state,M=_.xAxisMap,D=_.yAxisMap,O=_.offset,B=E.type.defaultProps||{},U=E.props,q=U.xAxisId,K=q===void 0?B.xAxisId:q,G=U.yAxisId,ve=G===void 0?B.yAxisId:G;return k.cloneElement(E,{key:E.key||"".concat(A,"-").concat(C),xAxis:M[K],yAxis:D[ve],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:T})}),Vt(j,"renderActivePoints",function(E){var A=E.item,C=E.activePoint,S=E.basePoint,T=E.childIndex,_=E.isRange,M=[],D=A.props.key,O=A.item.type.defaultProps!==void 0?tt(tt({},A.item.type.defaultProps),A.item.props):A.item.props,B=O.activeDot,U=O.dataKey,q=tt(tt({index:T,dataKey:U,cx:C.x,cy:C.y,r:4,fill:DE(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Sr(B,!1)),k2(B));return M.push(v.renderActiveDot(B,q,"".concat(D,"-activePoint-").concat(T))),S?M.push(v.renderActiveDot(B,tt(tt({},q),{},{cx:S.x,cy:S.y}),"".concat(D,"-basePoint-").concat(T))):_&&M.push(null),M}),Vt(j,"renderGraphicChild",function(E,A,C){var S=j.filterFormatItem(E,A,C);if(!S)return null;var T=j.getTooltipEventType(),_=j.state,M=_.isTooltipActive,D=_.tooltipAxis,O=_.activeTooltipIndex,B=_.activeLabel,U=j.props.children,q=Vi(U,ll),K=S.props,G=K.points,ve=K.isRange,fe=K.baseLine,I=S.item.type.defaultProps!==void 0?tt(tt({},S.item.type.defaultProps),S.item.props):S.item.props,z=I.activeDot,H=I.hide,J=I.activeBar,te=I.activeShape,W=!!(!H&&M&&q&&(z||J||te)),Y={};T!=="axis"&&q&&q.props.trigger==="click"?Y={onClick:Vy(j.handleItemMouseEnter,E.props.onClick)}:T!=="axis"&&(Y={onMouseLeave:Vy(j.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Vy(j.handleItemMouseEnter,E.props.onMouseEnter)});var Q=k.cloneElement(E,tt(tt({},S.props),Y));function ne(Ae){return typeof D.dataKey=="function"?D.dataKey(Ae.payload):null}if(W)if(O>=0){var pe,F;if(D.dataKey&&!D.allowDuplicatedCategory){var Te=typeof D.dataKey=="function"?ne:"payload.".concat(D.dataKey.toString());pe=w2(G,Te,B),F=ve&&fe&&w2(fe,Te,B)}else pe=G==null?void 0:G[O],F=ve&&fe&&fe[O];if(te||J){var xe=E.props.activeIndex!==void 0?E.props.activeIndex:O;return[k.cloneElement(E,tt(tt(tt({},S.props),Y),{},{activeIndex:xe})),null,null]}if(!gr(pe))return[Q].concat(Pm(j.renderActivePoints({item:S,activePoint:pe,basePoint:F,childIndex:O,isRange:ve})))}else{var se,We=(se=j.getItemByXY(j.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:Q},Se=We.graphicalItem,Fe=Se.item,he=Fe===void 0?E:Fe,ie=Se.childIndex,de=tt(tt(tt({},S.props),Y),{},{activeIndex:ie});return[k.cloneElement(he,de),null,null]}return ve?[Q,null,null]:[Q,null]}),Vt(j,"renderCustomized",function(E,A,C){return k.cloneElement(E,tt(tt({key:"recharts-customized-".concat(C)},j.props),j.state))}),Vt(j,"renderMap",{CartesianGrid:{handler:Ky,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Ky},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Ky},YAxis:{handler:Ky},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:gv("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=hq(j.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return VXe(v,x),$Xe(v,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,j=y.data,E=y.height,A=y.layout,C=Vi(w,ll);if(C){var S=C.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,_=WS(this.state,j,S,T),M=this.state.tooltipTicks[S].coordinate,D=(this.state.offset.top+E)/2,O=A==="horizontal",B=O?{x:M,y:D}:{y:M,x:D},U=this.state.formattedGraphicalItems.find(function(K){var G=K.item;return G.type.name==="Scatter"});U&&(B=tt(tt({},B),U.props.points[S].tooltipPosition),_=U.props.points[S].tooltipPayload);var q={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:T,activePayload:_,activeCoordinate:B};this.setState(q),this.renderCursor(C),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var j,E;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(y){C5([Vi(y.children,ll)],[Vi(this.props.children,ll)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Vi(this.props.children,ll);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),E=Bze(j),A={chartX:Math.round(y.pageX-E.left),chartY:Math.round(y.pageY-E.top)},C=j.width/w.offsetWidth||1,S=this.inRange(A.chartX,A.chartY,C);if(!S)return null;var T=this.state,_=T.xAxisMap,M=T.yAxisMap,D=this.getTooltipEventType(),O=M8(this.state,this.props.data,this.props.layout,S);if(D!=="axis"&&_&&M){var B=ef(_).scale,U=ef(M).scale,q=B&&B.invert?B.invert(A.chartX):null,K=U&&U.invert?U.invert(A.chartY):null;return tt(tt({},A),{},{xValue:q,yValue:K},O)}return O?tt(tt({},A),O):null}},{key:"inRange",value:function(y,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=y/j,C=w/j;if(E==="horizontal"||E==="vertical"){var S=this.state.offset,T=A>=S.left&&A<=S.left+S.width&&C>=S.top&&C<=S.top+S.height;return T?{x:A,y:C}:null}var _=this.state,M=_.angleAxisMap,D=_.radiusAxisMap;if(M&&D){var O=ef(M);return h9({x:A,y:C},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),j=Vi(y,ll),E={};j&&w==="axis"&&(j.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=k2(this.props,this.handleOuterEvent);return tt(tt({},A),E)}},{key:"addListener",value:function(){HN.on(VN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){HN.removeListener(VN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,j){for(var E=this.state.formattedGraphicalItems,A=0,C=E.length;A<C;A++){var S=E[A];if(S.item===y||S.props.key===y.key||w===td(S.item.type)&&j===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,j=w.left,E=w.top,A=w.height,C=w.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:y},Z.createElement("rect",{x:j,y:E,height:A,width:C})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,j){var E=A8(j,2),A=E[0],C=E[1];return tt(tt({},w),{},Vt({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,j){var E=A8(j,2),A=E[0],C=E[1];return tt(tt({},w),{},Vt({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,j=w.formattedGraphicalItems,E=w.activeItem;if(j&&j.length)for(var A=0,C=j.length;A<C;A++){var S=j[A],T=S.props,_=S.item,M=_.type.defaultProps!==void 0?tt(tt({},_.type.defaultProps),_.props):_.props,D=td(_.type);if(D==="Bar"){var O=(T.data||[]).find(function(K){return hYe(y,K)});if(O)return{graphicalItem:S,payload:O}}else if(D==="RadialBar"){var B=(T.data||[]).find(function(K){return h9(y,K)});if(B)return{graphicalItem:S,payload:B}}else if(hk(S,E)||mk(S,E)||A1(S,E)){var U=rJe({graphicalItem:S,activeTooltipItem:E,itemData:M.data}),q=M.activeIndex===void 0?U:M.activeIndex;return{graphicalItem:tt(tt({},S),{},{childIndex:q}),payload:A1(S,E)?M.data[U]:S.props.data[U]}}}return null}},{key:"render",value:function(){var y=this;if(!LP(this))return null;var w=this.props,j=w.children,E=w.className,A=w.width,C=w.height,S=w.style,T=w.compact,_=w.title,M=w.desc,D=E8(w,DXe),O=Sr(D,!1);if(T)return Z.createElement(c8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(E5,jh({},O,{width:A,height:C,title:_,desc:M}),this.renderClipPath(),IP(j,this.renderMap)));if(this.props.accessibilityLayer){var B,U;O.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,O.role=(U=this.props.role)!==null&&U!==void 0?U:"application",O.onKeyDown=function(K){y.accessibilityManager.keyboardEvent(K)},O.onFocus=function(){y.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return Z.createElement(c8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",jh({className:Cr("recharts-wrapper",E),style:tt({position:"relative",cursor:"default",width:A,height:C},S)},q,{ref:function(G){y.container=G}}),Z.createElement(E5,jh({},O,{width:A,height:C,title:_,desc:M,style:QXe}),this.renderClipPath(),IP(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);Vt(g,"displayName",r),Vt(g,"defaultProps",tt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),Vt(g,"getDerivedStateFromProps",function(x,v){var b=x.dataKey,y=x.data,w=x.children,j=x.width,E=x.height,A=x.layout,C=x.stackOffset,S=x.margin,T=v.dataStartIndex,_=v.dataEndIndex;if(v.updateId===void 0){var M=L8(x);return tt(tt(tt({},M),{},{updateId:0},h(tt(tt({props:x},M),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:y,prevWidth:j,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:S,prevChildren:w})}if(b!==v.prevDataKey||y!==v.prevData||j!==v.prevWidth||E!==v.prevHeight||A!==v.prevLayout||C!==v.prevStackOffset||!Hh(S,v.prevMargin)){var D=L8(x),O={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},B=tt(tt({},M8(v,y,A)),{},{updateId:v.updateId+1}),U=tt(tt(tt({},D),O),B);return tt(tt(tt({},U),h(tt({props:x},U),v)),{},{prevDataKey:b,prevData:y,prevWidth:j,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:S,prevChildren:w})}if(!C5(w,v.prevChildren)){var q,K,G,ve,fe=Vi(w,Sm),I=fe&&(q=(K=fe.props)===null||K===void 0?void 0:K.startIndex)!==null&&q!==void 0?q:T,z=fe&&(G=(ve=fe.props)===null||ve===void 0?void 0:ve.endIndex)!==null&&G!==void 0?G:_,H=I!==T||z!==_,J=!gr(y),te=J&&!H?v.updateId:v.updateId+1;return tt(tt({updateId:te},h(tt(tt({props:x},v),{},{updateId:te,dataStartIndex:I,dataEndIndex:z}),v)),{},{prevChildren:w,dataStartIndex:I,dataEndIndex:z})}return null}),Vt(g,"renderActiveDot",function(x,v,b){var y;return k.isValidElement(x)?y=k.cloneElement(x,v):fr(x)?y=x(v):y=Z.createElement(OE,v),Z.createElement(Sn,{className:"recharts-active-dot",key:b},y)});var p=k.forwardRef(function(v,b){return Z.createElement(g,jh({},v,{ref:b}))});return p.displayName=g.displayName,p},oZe=CJ({chartName:"LineChart",GraphicalChild:kv,axisComponents:[{axisType:"xAxis",AxisComp:Ep},{axisType:"yAxis",AxisComp:_p}],formatAxisMap:HY}),lZe=CJ({chartName:"BarChart",GraphicalChild:B0,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ep},{axisType:"yAxis",AxisComp:_p}],formatAxisMap:HY});const AJ=()=>{const e=k.useContext(u6);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return{theme:e.theme,isDarkMode:e.theme==="dark",toggleTheme:e.toggleTheme}},cZe=({data:e,dataKey:t,xAxisKey:r,title:a,height:n=300,color:s})=>{const{isDarkMode:o}=AJ(),l={line:s||(o?"#60a5fa":"#3b82f6"),grid:o?"#374151":"#e5e7eb",text:o?"#9ca3af":"#6b7280"},c=({active:d,payload:f,label:u})=>d&&f&&f.length?i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:u}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:`${f[0].name}: ${f[0].value.toLocaleString("pt-BR")}`})]}):null;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[a&&i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:a}),i.jsx(mq,{width:"100%",height:n,children:i.jsxs(oZe,{data:e,children:[i.jsx(GE,{strokeDasharray:"3 3",stroke:l.grid}),i.jsx(Ep,{dataKey:r,stroke:l.text,style:{fontSize:"12px"}}),i.jsx(_p,{stroke:l.text,style:{fontSize:"12px"}}),i.jsx(ll,{content:i.jsx(c,{})}),i.jsx(Ru,{wrapperStyle:{color:l.text},iconType:"line"}),i.jsx(kv,{type:"monotone",dataKey:t,stroke:l.line,strokeWidth:2,dot:{fill:l.line,r:4},activeDot:{r:6}})]})})]})},I8=({data:e,dataKey:t,xAxisKey:r,title:a,height:n=300})=>{const{isDarkMode:s}=AJ(),o={bar:s?"#60a5fa":"#3b82f6",grid:s?"#374151":"#e5e7eb",text:s?"#9ca3af":"#6b7280"},l=({active:c,payload:d,label:f})=>c&&d&&d.length?i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:f}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:`${d[0].value.toLocaleString("pt-BR")}`})]}):null;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[a&&i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:a}),i.jsx(mq,{width:"100%",height:n,children:i.jsxs(lZe,{data:e,children:[i.jsx(GE,{strokeDasharray:"3 3",stroke:o.grid}),i.jsx(Ep,{dataKey:r,stroke:o.text,style:{fontSize:"12px"}}),i.jsx(_p,{stroke:o.text,style:{fontSize:"12px"}}),i.jsx(ll,{content:i.jsx(l,{})}),i.jsx(B0,{dataKey:t,fill:o.bar})]})})]})},D8=()=>{const[e,t]=k.useState(!0),[r,a]=k.useState(null),[n,s]=k.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],preset:"last30days"}),o=async()=>{t(!0);try{const c=await CP.getExecutiveDashboard({startDate:n.startDate,endDate:n.endDate});a(c)}catch(c){console.error("Erro ao carregar dashboard:",c)}finally{t(!1)}};k.useEffect(()=>{o()},[n]);const l=async c=>{try{const d=await CP.exportReport(r,c),f=window.URL.createObjectURL(d),u=document.createElement("a");u.href=f,u.download=`dashboard-${Date.now()}.${c}`,u.click(),window.URL.revokeObjectURL(f)}catch(d){console.error("Erro ao exportar:",d)}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3",children:[i.jsx(lx,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Business Intelligence"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Visão geral dos principais indicadores de negócio"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:o,disabled:e,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:[i.jsx(ix,{className:`w-4 h-4 ${e?"animate-spin":""}`}),"Atualizar"]}),i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:[i.jsx(Tg,{className:"w-4 h-4"}),"Exportar"]}),i.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[i.jsx("button",{onClick:()=>l("pdf"),className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg",children:"Exportar PDF"}),i.jsx("button",{onClick:()=>l("excel"),className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Exportar Excel"}),i.jsx("button",{onClick:()=>l("csv"),className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-b-lg",children:"Exportar CSV"})]})]})]})]})}),i.jsx("div",{className:"mb-6",children:i.jsx(c7e,{value:n,onChange:s})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:(r==null?void 0:r.kpis)&&i.jsxs(i.Fragment,{children:[i.jsx(sh,{kpi:r.kpis.revenue,loading:e}),i.jsx(sh,{kpi:r.kpis.sales,loading:e}),i.jsx(sh,{kpi:r.kpis.leads,loading:e}),i.jsx(sh,{kpi:r.kpis.conversionRate,loading:e}),i.jsx(sh,{kpi:r.kpis.averageTicket,loading:e}),i.jsx(sh,{kpi:r.kpis.profitMargin,loading:e})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(Ry,{title:"Receita Total",value:`R$ ${(r==null?void 0:r.kpis.revenue.value.toLocaleString("pt-BR"))||"0"}`,subtitle:"Últimos 30 dias",icon:Ba,iconColor:"text-green-600 dark:text-green-400",loading:e}),i.jsx(Ry,{title:"Total de Vendas",value:(r==null?void 0:r.kpis.sales.value)||0,subtitle:"Últimos 30 dias",icon:Ew,iconColor:"text-blue-600 dark:text-blue-400",loading:e}),i.jsx(Ry,{title:"Novos Leads",value:(r==null?void 0:r.kpis.leads.value)||0,subtitle:"Últimos 30 dias",icon:Ls,iconColor:"text-purple-600 dark:text-purple-400",loading:e}),i.jsx(Ry,{title:"Taxa de Conversão",value:`${(r==null?void 0:r.kpis.conversionRate.value.toFixed(1))||"0"}%`,subtitle:"Últimos 30 dias",icon:CQ,iconColor:"text-orange-600 dark:text-orange-400",loading:e})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:(r==null?void 0:r.charts)&&i.jsxs(i.Fragment,{children:[i.jsx(cZe,{data:r.charts.salesOverTime,dataKey:"value",xAxisKey:"date",title:"Evolução de Vendas",height:350}),i.jsx(I8,{data:r.charts.salesByProduct,dataKey:"value",xAxisKey:"name",title:"Vendas por Produto",height:350})]})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(r==null?void 0:r.charts)&&i.jsxs(i.Fragment,{children:[i.jsx(I8,{data:r.charts.salesFunnel,dataKey:"count",xAxisKey:"name",title:"Funil de Vendas",height:350}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Receitas vs Despesas"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Receitas"}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",r.charts.revenueVsExpenses.revenue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:i.jsx("div",{className:"bg-green-500 dark:bg-green-400 h-4 rounded-full",style:{width:"100%"}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Despesas"}),i.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:["R$ ",r.charts.revenueVsExpenses.expenses.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:i.jsx("div",{className:"bg-red-500 dark:bg-red-400 h-4 rounded-full",style:{width:`${r.charts.revenueVsExpenses.expenses/r.charts.revenueVsExpenses.revenue*100}%`}})})]}),i.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lucro Líquido"}),i.jsxs("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["R$ ",(r.charts.revenueVsExpenses.revenue-r.charts.revenueVsExpenses.expenses).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]})]})]})})]})},dZe={async getCampaigns(e){const{data:t}=await me.get("/marketing/campaigns",{params:e});return t},async getCampaignById(e){const{data:t}=await me.get(`/marketing/campaigns/${e}`);return t},async createCampaign(e){const{data:t}=await me.post("/marketing/campaigns",e);return t},async updateCampaign(e,t){const{data:r}=await me.put(`/marketing/campaigns/${e}`,t);return r},async deleteCampaign(e){await me.delete(`/marketing/campaigns/${e}`)},async getCampaignStats(){const{data:e}=await me.get("/marketing/campaigns/stats");return e}},fZe={async getSocialPosts(e){const{data:t}=await me.get("/marketing/social-posts",{params:e});return t},async getSocialPostById(e){const{data:t}=await me.get(`/marketing/social-posts/${e}`);return t},async createSocialPost(e){const{data:t}=await me.post("/marketing/social-posts",e);return t},async updateSocialPost(e,t){const{data:r}=await me.put(`/marketing/social-posts/${e}`,t);return r},async deleteSocialPost(e){await me.delete(`/marketing/social-posts/${e}`)},async scheduleSocialPost(e,t){const{data:r}=await me.post(`/marketing/social-posts/${e}/schedule`,{scheduledAt:t});return r}},uZe={async getBulkMessages(e){const{data:t}=await me.get("/marketing/bulk-messages",{params:e});return t},async getBulkMessageById(e){const{data:t}=await me.get(`/marketing/bulk-messages/${e}`);return t},async createBulkMessage(e){const{data:t}=await me.post("/marketing/bulk-messages",e);return t}},hZe={async getLandingPages(e){const{data:t}=await me.get("/marketing/landing-pages",{params:e});return t},async getLandingPageById(e){const{data:t}=await me.get(`/marketing/landing-pages/${e}`);return t},async createLandingPage(e){const{data:t}=await me.post("/marketing/landing-pages",e);return t},async updateLandingPage(e,t){const{data:r}=await me.put(`/marketing/landing-pages/${e}`,t);return r},async publishLandingPage(e){const{data:t}=await me.post(`/marketing/landing-pages/${e}/publish`);return t},async getLandingPageAnalytics(e,t){const{data:r}=await me.get(`/marketing/landing-pages/${e}/analytics`,{params:{days:t}});return r}},mZe={async analyzeWithAI(e){const{data:t}=await me.post("/marketing/ai/analyze",e);return t},async getAIAnalyses(e){const{data:t}=await me.get("/marketing/ai/analyses",{params:e});return t},async optimizeCopy(e){const{data:t}=await me.post("/marketing/ai/optimize-copy",e);return t},async generateImage(e){const{data:t}=await me.post("/marketing/ai/generate-image",e);return t}},Vo={...dZe,...fZe,...uZe,...hZe,...mZe};var jv=e=>e.type==="checkbox",Eu=e=>e instanceof Date,fi=e=>e==null;const EJ=e=>typeof e=="object";var Wn=e=>!fi(e)&&!Array.isArray(e)&&EJ(e)&&!Eu(e),pZe=e=>Wn(e)&&e.target?jv(e.target)?e.target.checked:e.target.value:e,gZe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xZe=(e,t)=>e.has(gZe(t)),vZe=e=>{const t=e.constructor&&e.constructor.prototype;return Wn(t)&&t.hasOwnProperty("isPrototypeOf")},qE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cs(e){let t;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(qE&&(e instanceof Blob||a))&&(r||Wn(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!vZe(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=cs(e[n]));else return e;return t}var wk=e=>/^\w*$/.test(e),Bn=e=>e===void 0,YE=e=>Array.isArray(e)?e.filter(Boolean):[],JE=e=>YE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_t=(e,t,r)=>{if(!t||!Wn(e))return r;const a=(wk(t)?[t]:JE(t)).reduce((n,s)=>fi(n)?n:n[s],e);return Bn(a)||a===e?Bn(e[t])?r:e[t]:a},Zl=e=>typeof e=="boolean",pa=(e,t,r)=>{let a=-1;const n=wk(t)?[t]:JE(t),s=n.length,o=s-1;for(;++a<s;){const l=n[a];let c=r;if(a!==o){const d=e[l];c=Wn(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const P8={BLUR:"blur",FOCUS_OUT:"focusout"},ml={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yZe=Z.createContext(null);yZe.displayName="HookFormContext";var bZe=(e,t,r,a=!0)=>{const n={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(n,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ml.all&&(t._proxyFormState[o]=!a||ml.all),e[o]}});return n};const wZe=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;var Xi=e=>typeof e=="string",kZe=(e,t,r,a,n)=>Xi(e)?(a&&t.watch.add(e),_t(r,e,n)):Array.isArray(e)?e.map(s=>(a&&t.watch.add(s),_t(r,s))):(a&&(t.watchAll=!0),r),HS=e=>fi(e)||!EJ(e);function tf(e,t,r=new WeakSet){if(HS(e)||HS(t))return e===t;if(Eu(e)&&Eu(t))return e.getTime()===t.getTime();const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of a){const o=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Eu(o)&&Eu(l)||Wn(o)&&Wn(l)||Array.isArray(o)&&Array.isArray(l)?!tf(o,l,r):o!==l)return!1}}return!0}var _J=(e,t,r,a,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:n||!0}}:{},ax=e=>Array.isArray(e)?e:[e],O8=()=>{let e=[];return{get observers(){return e},next:n=>{for(const s of e)s.next&&s.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(s=>s!==n)}}),unsubscribe:()=>{e=[]}}};function MJ(e,t){const r={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a],s=t[a];if(n&&Wn(n)&&s){const o=MJ(n,s);Wn(o)&&(r[a]=o)}else e[a]&&(r[a]=s)}return r}var ji=e=>Wn(e)&&!Object.keys(e).length,KE=e=>e.type==="file",pl=e=>typeof e=="function",gw=e=>{if(!qE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},LJ=e=>e.type==="select-multiple",QE=e=>e.type==="radio",jZe=e=>QE(e)||jv(e),qN=e=>gw(e)&&e.isConnected;function NZe(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=Bn(e)?a++:e[t[a++]];return e}function SZe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Bn(e[t]))return!1;return!0}function Dn(e,t){const r=Array.isArray(t)?t:wk(t)?[t]:JE(t),a=r.length===1?e:NZe(e,r),n=r.length-1,s=r[n];return a&&delete a[s],n!==0&&(Wn(a)&&ji(a)||Array.isArray(a)&&SZe(a))&&Dn(e,r.slice(0,-1)),e}var CZe=e=>{for(const t in e)if(pl(e[t]))return!0;return!1};function TJ(e){return Array.isArray(e)||Wn(e)&&!CZe(e)}function VS(e,t={}){for(const r in e)TJ(e[r])?(t[r]=Array.isArray(e[r])?[]:{},VS(e[r],t[r])):fi(e[r])||(t[r]=!0);return t}function ph(e,t,r){r||(r=VS(t));for(const a in e)TJ(e[a])?Bn(t)||HS(r[a])?r[a]=VS(e[a],Array.isArray(e[a])?[]:{}):ph(e[a],fi(t)?{}:t[a],r[a]):r[a]=!tf(e[a],t[a]);return r}const R8={value:!1,isValid:!1},F8={value:!0,isValid:!0};var IJ=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bn(e[0].attributes.value)?Bn(e[0].value)||e[0].value===""?F8:{value:e[0].value,isValid:!0}:F8:R8}return R8},DJ=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>Bn(e)?e:t?e===""?NaN:e&&+e:r&&Xi(e)?new Date(e):a?a(e):e;const B8={isValid:!1,value:null};var PJ=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,B8):B8;function z8(e){const t=e.ref;return KE(t)?t.files:QE(t)?PJ(e.refs).value:LJ(t)?[...t.selectedOptions].map(({value:r})=>r):jv(t)?IJ(e.refs).value:DJ(Bn(t.value)?e.ref.value:t.value,e)}var AZe=(e,t,r,a)=>{const n={};for(const s of e){const o=_t(t,s);o&&pa(n,s,o._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:a}},xw=e=>e instanceof RegExp,kg=e=>Bn(e)?e:xw(e)?e.source:Wn(e)?xw(e.value)?e.value.source:e.value:e,$8=e=>({isOnSubmit:!e||e===ml.onSubmit,isOnBlur:e===ml.onBlur,isOnChange:e===ml.onChange,isOnAll:e===ml.all,isOnTouch:e===ml.onTouched});const U8="AsyncFunction";var EZe=e=>!!e&&!!e.validate&&!!(pl(e.validate)&&e.validate.constructor.name===U8||Wn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===U8)),_Ze=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),W8=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const nx=(e,t,r,a)=>{for(const n of r||Object.keys(e)){const s=_t(e,n);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(nx(l,t))break}else if(Wn(l)&&nx(l,t))break}}};function H8(e,t,r){const a=_t(e,r);if(a||wk(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const s=n.join("."),o=_t(t,s),l=_t(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};n.pop()}return{name:r}}var MZe=(e,t,r,a)=>{r(e);const{name:n,...s}=e;return ji(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!a||ml.all))},LZe=(e,t,r)=>!e||!t||e===t||ax(e).some(a=>a&&(r?a===t:a.startsWith(t)||t.startsWith(a))),TZe=(e,t,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?a.isOnBlur:n.isOnBlur)?!e:(r?a.isOnChange:n.isOnChange)?e:!0,IZe=(e,t)=>!YE(_t(e,t)).length&&Dn(e,t),DZe=(e,t,r)=>{const a=ax(_t(e,r));return pa(a,"root",t[r]),pa(e,r,a),e};function V8(e,t,r="validate"){if(Xi(e)||Array.isArray(e)&&e.every(Xi)||Zl(e)&&!e)return{type:r,message:Xi(e)?e:"",ref:t}}var dh=e=>Wn(e)&&!xw(e)?e:{value:e,message:""},G8=async(e,t,r,a,n,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:u,max:m,pattern:h,validate:g,name:p,valueAsNumber:x,mount:v}=e._f,b=_t(r,p);if(!v||t.has(p))return{};const y=l?l[0]:o,w=M=>{n&&y.reportValidity&&(y.setCustomValidity(Zl(M)?"":M||""),y.reportValidity())},j={},E=QE(o),A=jv(o),C=E||A,S=(x||KE(o))&&Bn(o.value)&&Bn(b)||gw(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,T=_J.bind(null,p,a,j),_=(M,D,O,B=Wc.maxLength,U=Wc.minLength)=>{const q=M?D:O;j[p]={type:M?B:U,message:q,ref:o,...T(M?B:U,q)}};if(s?!Array.isArray(b)||!b.length:c&&(!C&&(S||fi(b))||Zl(b)&&!b||A&&!IJ(l).isValid||E&&!PJ(l).isValid)){const{value:M,message:D}=Xi(c)?{value:!!c,message:c}:dh(c);if(M&&(j[p]={type:Wc.required,message:D,ref:y,...T(Wc.required,D)},!a))return w(D),j}if(!S&&(!fi(u)||!fi(m))){let M,D;const O=dh(m),B=dh(u);if(!fi(b)&&!isNaN(b)){const U=o.valueAsNumber||b&&+b;fi(O.value)||(M=U>O.value),fi(B.value)||(D=U<B.value)}else{const U=o.valueAsDate||new Date(b),q=ve=>new Date(new Date().toDateString()+" "+ve),K=o.type=="time",G=o.type=="week";Xi(O.value)&&b&&(M=K?q(b)>q(O.value):G?b>O.value:U>new Date(O.value)),Xi(B.value)&&b&&(D=K?q(b)<q(B.value):G?b<B.value:U<new Date(B.value))}if((M||D)&&(_(!!M,O.message,B.message,Wc.max,Wc.min),!a))return w(j[p].message),j}if((d||f)&&!S&&(Xi(b)||s&&Array.isArray(b))){const M=dh(d),D=dh(f),O=!fi(M.value)&&b.length>+M.value,B=!fi(D.value)&&b.length<+D.value;if((O||B)&&(_(O,M.message,D.message),!a))return w(j[p].message),j}if(h&&!S&&Xi(b)){const{value:M,message:D}=dh(h);if(xw(M)&&!b.match(M)&&(j[p]={type:Wc.pattern,message:D,ref:o,...T(Wc.pattern,D)},!a))return w(D),j}if(g){if(pl(g)){const M=await g(b,r),D=V8(M,y);if(D&&(j[p]={...D,...T(Wc.validate,D.message)},!a))return w(D.message),j}else if(Wn(g)){let M={};for(const D in g){if(!ji(M)&&!a)break;const O=V8(await g[D](b,r),y,D);O&&(M={...O,...T(D,O.message)},w(O.message),a&&(j[p]=M))}if(!ji(M)&&(j[p]={ref:y,...M},!a))return j}}return w(!0),j};const PZe={mode:ml.onSubmit,reValidateMode:ml.onChange,shouldFocusError:!0};function OZe(e={}){let t={...PZe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:pl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=Wn(t.defaultValues)||Wn(t.values)?cs(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:cs(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...f};const m={array:O8(),state:O8()},h=t.criteriaMode===ml.all,g=ie=>de=>{clearTimeout(d),d=setTimeout(ie,de)},p=async ie=>{if(!t.disabled&&(f.isValid||u.isValid||ie)){const de=t.resolver?ji((await A()).errors):await S(a,!0);de!==r.isValid&&m.state.next({isValid:de})}},x=(ie,de)=>{!t.disabled&&(f.isValidating||f.validatingFields||u.isValidating||u.validatingFields)&&((ie||Array.from(l.mount)).forEach(Ae=>{Ae&&(de?pa(r.validatingFields,Ae,de):Dn(r.validatingFields,Ae))}),m.state.next({validatingFields:r.validatingFields,isValidating:!ji(r.validatingFields)}))},v=(ie,de=[],Ae,ze,Ce=!0,_e=!0)=>{if(ze&&Ae&&!t.disabled){if(o.action=!0,_e&&Array.isArray(_t(a,ie))){const Ve=Ae(_t(a,ie),ze.argA,ze.argB);Ce&&pa(a,ie,Ve)}if(_e&&Array.isArray(_t(r.errors,ie))){const Ve=Ae(_t(r.errors,ie),ze.argA,ze.argB);Ce&&pa(r.errors,ie,Ve),IZe(r.errors,ie)}if((f.touchedFields||u.touchedFields)&&_e&&Array.isArray(_t(r.touchedFields,ie))){const Ve=Ae(_t(r.touchedFields,ie),ze.argA,ze.argB);Ce&&pa(r.touchedFields,ie,Ve)}(f.dirtyFields||u.dirtyFields)&&(r.dirtyFields=ph(n,s)),m.state.next({name:ie,isDirty:_(ie,de),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pa(s,ie,de)},b=(ie,de)=>{pa(r.errors,ie,de),m.state.next({errors:r.errors})},y=ie=>{r.errors=ie,m.state.next({errors:r.errors,isValid:!1})},w=(ie,de,Ae,ze)=>{const Ce=_t(a,ie);if(Ce){const _e=_t(s,ie,Bn(Ae)?_t(n,ie):Ae);Bn(_e)||ze&&ze.defaultChecked||de?pa(s,ie,de?_e:z8(Ce._f)):O(ie,_e),o.mount&&p()}},j=(ie,de,Ae,ze,Ce)=>{let _e=!1,Ve=!1;const Ie={name:ie};if(!t.disabled){if(!Ae||ze){(f.isDirty||u.isDirty)&&(Ve=r.isDirty,r.isDirty=Ie.isDirty=_(),_e=Ve!==Ie.isDirty);const Re=tf(_t(n,ie),de);Ve=!!_t(r.dirtyFields,ie),Re?Dn(r.dirtyFields,ie):pa(r.dirtyFields,ie,!0),Ie.dirtyFields=r.dirtyFields,_e=_e||(f.dirtyFields||u.dirtyFields)&&Ve!==!Re}if(Ae){const Re=_t(r.touchedFields,ie);Re||(pa(r.touchedFields,ie,Ae),Ie.touchedFields=r.touchedFields,_e=_e||(f.touchedFields||u.touchedFields)&&Re!==Ae)}_e&&Ce&&m.state.next(Ie)}return _e?Ie:{}},E=(ie,de,Ae,ze)=>{const Ce=_t(r.errors,ie),_e=(f.isValid||u.isValid)&&Zl(de)&&r.isValid!==de;if(t.delayError&&Ae?(c=g(()=>b(ie,Ae)),c(t.delayError)):(clearTimeout(d),c=null,Ae?pa(r.errors,ie,Ae):Dn(r.errors,ie)),(Ae?!tf(Ce,Ae):Ce)||!ji(ze)||_e){const Ve={...ze,..._e&&Zl(de)?{isValid:de}:{},errors:r.errors,name:ie};r={...r,...Ve},m.state.next(Ve)}},A=async ie=>{x(ie,!0);const de=await t.resolver(s,t.context,AZe(ie||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return x(ie),de},C=async ie=>{const{errors:de}=await A(ie);if(ie)for(const Ae of ie){const ze=_t(de,Ae);ze?pa(r.errors,Ae,ze):Dn(r.errors,Ae)}else r.errors=de;return de},S=async(ie,de,Ae={valid:!0})=>{for(const ze in ie){const Ce=ie[ze];if(Ce){const{_f:_e,...Ve}=Ce;if(_e){const Ie=l.array.has(_e.name),Re=Ce._f&&EZe(Ce._f);Re&&f.validatingFields&&x([_e.name],!0);const Ee=await G8(Ce,l.disabled,s,h,t.shouldUseNativeValidation&&!de,Ie);if(Re&&f.validatingFields&&x([_e.name]),Ee[_e.name]&&(Ae.valid=!1,de))break;!de&&(_t(Ee,_e.name)?Ie?DZe(r.errors,Ee,_e.name):pa(r.errors,_e.name,Ee[_e.name]):Dn(r.errors,_e.name))}!ji(Ve)&&await S(Ve,de,Ae)}}return Ae.valid},T=()=>{for(const ie of l.unMount){const de=_t(a,ie);de&&(de._f.refs?de._f.refs.every(Ae=>!qN(Ae)):!qN(de._f.ref))&&W(ie)}l.unMount=new Set},_=(ie,de)=>!t.disabled&&(ie&&de&&pa(s,ie,de),!tf(ve(),n)),M=(ie,de,Ae)=>kZe(ie,l,{...o.mount?s:Bn(de)?n:Xi(ie)?{[ie]:de}:de},Ae,de),D=ie=>YE(_t(o.mount?s:n,ie,t.shouldUnregister?_t(n,ie,[]):[])),O=(ie,de,Ae={})=>{const ze=_t(a,ie);let Ce=de;if(ze){const _e=ze._f;_e&&(!_e.disabled&&pa(s,ie,DJ(de,_e)),Ce=gw(_e.ref)&&fi(de)?"":de,LJ(_e.ref)?[..._e.ref.options].forEach(Ve=>Ve.selected=Ce.includes(Ve.value)):_e.refs?jv(_e.ref)?_e.refs.forEach(Ve=>{(!Ve.defaultChecked||!Ve.disabled)&&(Array.isArray(Ce)?Ve.checked=!!Ce.find(Ie=>Ie===Ve.value):Ve.checked=Ce===Ve.value||!!Ce)}):_e.refs.forEach(Ve=>Ve.checked=Ve.value===Ce):KE(_e.ref)?_e.ref.value="":(_e.ref.value=Ce,_e.ref.type||m.state.next({name:ie,values:cs(s)})))}(Ae.shouldDirty||Ae.shouldTouch)&&j(ie,Ce,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&G(ie)},B=(ie,de,Ae)=>{for(const ze in de){if(!de.hasOwnProperty(ze))return;const Ce=de[ze],_e=ie+"."+ze,Ve=_t(a,_e);(l.array.has(ie)||Wn(Ce)||Ve&&!Ve._f)&&!Eu(Ce)?B(_e,Ce,Ae):O(_e,Ce,Ae)}},U=(ie,de,Ae={})=>{const ze=_t(a,ie),Ce=l.array.has(ie),_e=cs(de);pa(s,ie,_e),Ce?(m.array.next({name:ie,values:cs(s)}),(f.isDirty||f.dirtyFields||u.isDirty||u.dirtyFields)&&Ae.shouldDirty&&m.state.next({name:ie,dirtyFields:ph(n,s),isDirty:_(ie,_e)})):ze&&!ze._f&&!fi(_e)?B(ie,_e,Ae):O(ie,_e,Ae),W8(ie,l)&&m.state.next({...r,name:ie}),m.state.next({name:o.mount?ie:void 0,values:cs(s)})},q=async ie=>{o.mount=!0;const de=ie.target;let Ae=de.name,ze=!0;const Ce=_t(a,Ae),_e=Re=>{ze=Number.isNaN(Re)||Eu(Re)&&isNaN(Re.getTime())||tf(Re,_t(s,Ae,Re))},Ve=$8(t.mode),Ie=$8(t.reValidateMode);if(Ce){let Re,Ee;const Be=de.type?z8(Ce._f):pZe(ie),Pe=ie.type===P8.BLUR||ie.type===P8.FOCUS_OUT,it=!_Ze(Ce._f)&&!t.resolver&&!_t(r.errors,Ae)&&!Ce._f.deps||TZe(Pe,_t(r.touchedFields,Ae),r.isSubmitted,Ie,Ve),ft=W8(Ae,l,Pe);pa(s,Ae,Be),Pe?(!de||!de.readOnly)&&(Ce._f.onBlur&&Ce._f.onBlur(ie),c&&c(0)):Ce._f.onChange&&Ce._f.onChange(ie);const st=j(Ae,Be,Pe),pt=!ji(st)||ft;if(!Pe&&m.state.next({name:Ae,type:ie.type,values:cs(s)}),it)return(f.isValid||u.isValid)&&(t.mode==="onBlur"?Pe&&p():Pe||p()),pt&&m.state.next({name:Ae,...ft?{}:st});if(!Pe&&ft&&m.state.next({...r}),t.resolver){const{errors:At}=await A([Ae]);if(_e(Be),ze){const St=H8(r.errors,a,Ae),Ut=H8(At,a,St.name||Ae);Re=Ut.error,Ae=Ut.name,Ee=ji(At)}}else x([Ae],!0),Re=(await G8(Ce,l.disabled,s,h,t.shouldUseNativeValidation))[Ae],x([Ae]),_e(Be),ze&&(Re?Ee=!1:(f.isValid||u.isValid)&&(Ee=await S(a,!0)));ze&&(Ce._f.deps&&(!Array.isArray(Ce._f.deps)||Ce._f.deps.length>0)&&G(Ce._f.deps),E(Ae,Ee,Re,st))}},K=(ie,de)=>{if(_t(r.errors,de)&&ie.focus)return ie.focus(),1},G=async(ie,de={})=>{let Ae,ze;const Ce=ax(ie);if(t.resolver){const _e=await C(Bn(ie)?ie:Ce);Ae=ji(_e),ze=ie?!Ce.some(Ve=>_t(_e,Ve)):Ae}else ie?(ze=(await Promise.all(Ce.map(async _e=>{const Ve=_t(a,_e);return await S(Ve&&Ve._f?{[_e]:Ve}:Ve)}))).every(Boolean),!(!ze&&!r.isValid)&&p()):ze=Ae=await S(a);return m.state.next({...!Xi(ie)||(f.isValid||u.isValid)&&Ae!==r.isValid?{}:{name:ie},...t.resolver||!ie?{isValid:Ae}:{},errors:r.errors}),de.shouldFocus&&!ze&&nx(a,K,ie?Ce:l.mount),ze},ve=(ie,de)=>{let Ae={...o.mount?s:n};return de&&(Ae=MJ(de.dirtyFields?r.dirtyFields:r.touchedFields,Ae)),Bn(ie)?Ae:Xi(ie)?_t(Ae,ie):ie.map(ze=>_t(Ae,ze))},fe=(ie,de)=>({invalid:!!_t((de||r).errors,ie),isDirty:!!_t((de||r).dirtyFields,ie),error:_t((de||r).errors,ie),isValidating:!!_t(r.validatingFields,ie),isTouched:!!_t((de||r).touchedFields,ie)}),I=ie=>{ie&&ax(ie).forEach(de=>Dn(r.errors,de)),m.state.next({errors:ie?r.errors:{}})},z=(ie,de,Ae)=>{const ze=(_t(a,ie,{_f:{}})._f||{}).ref,Ce=_t(r.errors,ie)||{},{ref:_e,message:Ve,type:Ie,...Re}=Ce;pa(r.errors,ie,{...Re,...de,ref:ze}),m.state.next({name:ie,errors:r.errors,isValid:!1}),Ae&&Ae.shouldFocus&&ze&&ze.focus&&ze.focus()},H=(ie,de)=>pl(ie)?m.state.subscribe({next:Ae=>"values"in Ae&&ie(M(void 0,de),Ae)}):M(ie,de,!0),J=ie=>m.state.subscribe({next:de=>{LZe(ie.name,de.name,ie.exact)&&MZe(de,ie.formState||f,Se,ie.reRenderRoot)&&ie.callback({values:{...s},...r,...de,defaultValues:n})}}).unsubscribe,te=ie=>(o.mount=!0,u={...u,...ie.formState},J({...ie,formState:u})),W=(ie,de={})=>{for(const Ae of ie?ax(ie):l.mount)l.mount.delete(Ae),l.array.delete(Ae),de.keepValue||(Dn(a,Ae),Dn(s,Ae)),!de.keepError&&Dn(r.errors,Ae),!de.keepDirty&&Dn(r.dirtyFields,Ae),!de.keepTouched&&Dn(r.touchedFields,Ae),!de.keepIsValidating&&Dn(r.validatingFields,Ae),!t.shouldUnregister&&!de.keepDefaultValue&&Dn(n,Ae);m.state.next({values:cs(s)}),m.state.next({...r,...de.keepDirty?{isDirty:_()}:{}}),!de.keepIsValid&&p()},Y=({disabled:ie,name:de})=>{(Zl(ie)&&o.mount||ie||l.disabled.has(de))&&(ie?l.disabled.add(de):l.disabled.delete(de))},Q=(ie,de={})=>{let Ae=_t(a,ie);const ze=Zl(de.disabled)||Zl(t.disabled);return pa(a,ie,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:ie}},name:ie,mount:!0,...de}}),l.mount.add(ie),Ae?Y({disabled:Zl(de.disabled)?de.disabled:t.disabled,name:ie}):w(ie,!0,de.value),{...ze?{disabled:de.disabled||t.disabled}:{},...t.progressive?{required:!!de.required,min:kg(de.min),max:kg(de.max),minLength:kg(de.minLength),maxLength:kg(de.maxLength),pattern:kg(de.pattern)}:{},name:ie,onChange:q,onBlur:q,ref:Ce=>{if(Ce){Q(ie,de),Ae=_t(a,ie);const _e=Bn(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,Ve=jZe(_e),Ie=Ae._f.refs||[];if(Ve?Ie.find(Re=>Re===_e):_e===Ae._f.ref)return;pa(a,ie,{_f:{...Ae._f,...Ve?{refs:[...Ie.filter(qN),_e,...Array.isArray(_t(n,ie))?[{}]:[]],ref:{type:_e.type,name:ie}}:{ref:_e}}}),w(ie,!1,void 0,_e)}else Ae=_t(a,ie,{}),Ae._f&&(Ae._f.mount=!1),(t.shouldUnregister||de.shouldUnregister)&&!(xZe(l.array,ie)&&o.action)&&l.unMount.add(ie)}}},ne=()=>t.shouldFocusError&&nx(a,K,l.mount),pe=ie=>{Zl(ie)&&(m.state.next({disabled:ie}),nx(a,(de,Ae)=>{const ze=_t(a,Ae);ze&&(de.disabled=ze._f.disabled||ie,Array.isArray(ze._f.refs)&&ze._f.refs.forEach(Ce=>{Ce.disabled=ze._f.disabled||ie}))},0,!1))},F=(ie,de)=>async Ae=>{let ze;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let Ce=cs(s);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:_e,values:Ve}=await A();r.errors=_e,Ce=cs(Ve)}else await S(a);if(l.disabled.size)for(const _e of l.disabled)Dn(Ce,_e);if(Dn(r.errors,"root"),ji(r.errors)){m.state.next({errors:{}});try{await ie(Ce,Ae)}catch(_e){ze=_e}}else de&&await de({...r.errors},Ae),ne(),setTimeout(ne);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ji(r.errors)&&!ze,submitCount:r.submitCount+1,errors:r.errors}),ze)throw ze},Te=(ie,de={})=>{_t(a,ie)&&(Bn(de.defaultValue)?U(ie,cs(_t(n,ie))):(U(ie,de.defaultValue),pa(n,ie,cs(de.defaultValue))),de.keepTouched||Dn(r.touchedFields,ie),de.keepDirty||(Dn(r.dirtyFields,ie),r.isDirty=de.defaultValue?_(ie,cs(_t(n,ie))):_()),de.keepError||(Dn(r.errors,ie),f.isValid&&p()),m.state.next({...r}))},xe=(ie,de={})=>{const Ae=ie?cs(ie):n,ze=cs(Ae),Ce=ji(ie),_e=Ce?n:ze;if(de.keepDefaultValues||(n=Ae),!de.keepValues){if(de.keepDirtyValues){const Ve=new Set([...l.mount,...Object.keys(ph(n,s))]);for(const Ie of Array.from(Ve))_t(r.dirtyFields,Ie)?pa(_e,Ie,_t(s,Ie)):U(Ie,_t(_e,Ie))}else{if(qE&&Bn(ie))for(const Ve of l.mount){const Ie=_t(a,Ve);if(Ie&&Ie._f){const Re=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(gw(Re)){const Ee=Re.closest("form");if(Ee){Ee.reset();break}}}}if(de.keepFieldsRef)for(const Ve of l.mount)U(Ve,_t(_e,Ve));else a={}}s=t.shouldUnregister?de.keepDefaultValues?cs(n):{}:cs(_e),m.array.next({values:{..._e}}),m.state.next({values:{..._e}})}l={mount:de.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!de.keepIsValid||!!de.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:de.keepSubmitCount?r.submitCount:0,isDirty:Ce?!1:de.keepDirty?r.isDirty:!!(de.keepDefaultValues&&!tf(ie,n)),isSubmitted:de.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ce?{}:de.keepDirtyValues?de.keepDefaultValues&&s?ph(n,s):r.dirtyFields:de.keepDefaultValues&&ie?ph(n,ie):de.keepDirty?r.dirtyFields:{},touchedFields:de.keepTouched?r.touchedFields:{},errors:de.keepErrors?r.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},se=(ie,de)=>xe(pl(ie)?ie(s):ie,de),We=(ie,de={})=>{const Ae=_t(a,ie),ze=Ae&&Ae._f;if(ze){const Ce=ze.refs?ze.refs[0]:ze.ref;Ce.focus&&(Ce.focus(),de.shouldSelect&&pl(Ce.select)&&Ce.select())}},Se=ie=>{r={...r,...ie}},he={control:{register:Q,unregister:W,getFieldState:fe,handleSubmit:F,setError:z,_subscribe:J,_runSchema:A,_focusError:ne,_getWatch:M,_getDirty:_,_setValid:p,_setFieldArray:v,_setDisabledField:Y,_setErrors:y,_getFieldArray:D,_reset:xe,_resetDefaultValues:()=>pl(t.defaultValues)&&t.defaultValues().then(ie=>{se(ie,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:pe,_subjects:m,_proxyFormState:f,get _fields(){return a},get _formValues(){return s},get _state(){return o},set _state(ie){o=ie},get _defaultValues(){return n},get _names(){return l},set _names(ie){l=ie},get _formState(){return r},get _options(){return t},set _options(ie){t={...t,...ie}}},subscribe:te,trigger:G,register:Q,handleSubmit:F,watch:H,setValue:U,getValues:ve,reset:se,resetField:Te,clearErrors:I,unregister:W,setError:z,setFocus:We,getFieldState:fe};return{...he,formControl:he}}function XE(e={}){const t=Z.useRef(void 0),r=Z.useRef(void 0),[a,n]=Z.useState({isDirty:!1,isValidating:!1,isLoading:pl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:pl(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!pl(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=OZe(e);t.current={...l,formState:a}}const s=t.current.control;return s._options=e,wZe(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>n({...s._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),Z.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Z.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Z.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Z.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Z.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==a.isDirty&&s._subjects.state.next({isDirty:o})}},[s,a.isDirty]),Z.useEffect(()=>{e.values&&!tf(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,n(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),Z.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=bZe(a,s),t.current}const q8=(e,t,r)=>{if(e&&"reportValidity"in e){const a=_t(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},OJ=(e,t)=>{for(const r in t.fields){const a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?q8(a.ref,r,e):a.refs&&a.refs.forEach(n=>q8(n,r,e))}},RZe=(e,t)=>{t.shouldUseNativeValidation&&OJ(e,t);const r={};for(const a in e){const n=_t(t.fields,a),s=Object.assign(e[a]||{},{ref:n&&n.ref});if(FZe(t.names||Object.keys(e),a)){const o=Object.assign({},_t(r,a));pa(o,"root",s),pa(r,a,o)}else pa(r,a,s)}return r},FZe=(e,t)=>e.some(r=>r.startsWith(t+"."));var BZe=function(e,t){for(var r={};e.length;){var a=e[0],n=a.code,s=a.message,o=a.path.join(".");if(!r[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(f){return f.errors.forEach(function(u){return e.push(u)})}),t){var c=r[o].types,d=c&&c[a.code];r[o]=_J(o,t,r,n,d?[].concat(d,a.message):a.message)}e.shift()}return r},ZE=function(e,t,r){return r===void 0&&(r={}),function(a,n,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(d){return s.shouldUseNativeValidation&&OJ({},s),{errors:{},values:r.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:RZe(BZe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Fr;(function(e){e.assertEqual=n=>{};function t(n){}e.assertIs=t;function r(n){throw new Error}e.assertNever=r,e.arrayToEnum=n=>{const s={};for(const o of n)s[o]=o;return s},e.getValidEnumValues=n=>{const s=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of s)o[l]=n[l];return e.objectValues(o)},e.objectValues=n=>e.objectKeys(n).map(function(s){return n[s]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const s=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.push(o);return s},e.find=(n,s)=>{for(const o of n)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,s=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=a,e.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(Fr||(Fr={}));var Y8;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Y8||(Y8={}));const Tt=Fr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xd=e=>{switch(typeof e){case"undefined":return Tt.undefined;case"string":return Tt.string;case"number":return Number.isNaN(e)?Tt.nan:Tt.number;case"boolean":return Tt.boolean;case"function":return Tt.function;case"bigint":return Tt.bigint;case"symbol":return Tt.symbol;case"object":return Array.isArray(e)?Tt.array:e===null?Tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Tt.promise:typeof Map<"u"&&e instanceof Map?Tt.map:typeof Set<"u"&&e instanceof Set?Tt.set:typeof Date<"u"&&e instanceof Date?Tt.date:Tt.object;default:return Tt.unknown}},mt=Fr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xd extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},a={_errors:[]},n=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(r(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),a}static assert(t){if(!(t instanceof xd))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},a=[];for(const n of this.issues)if(n.path.length>0){const s=n.path[0];r[s]=r[s]||[],r[s].push(t(n))}else a.push(t(n));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}xd.create=e=>new xd(e);const GS=(e,t)=>{let r;switch(e.code){case mt.invalid_type:e.received===Tt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case mt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Fr.jsonStringifyReplacer)}`;break;case mt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Fr.joinValues(e.keys,", ")}`;break;case mt.invalid_union:r="Invalid input";break;case mt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Fr.joinValues(e.options)}`;break;case mt.invalid_enum_value:r=`Invalid enum value. Expected ${Fr.joinValues(e.options)}, received '${e.received}'`;break;case mt.invalid_arguments:r="Invalid function arguments";break;case mt.invalid_return_type:r="Invalid function return type";break;case mt.invalid_date:r="Invalid date";break;case mt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Fr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case mt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case mt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case mt.custom:r="Invalid input";break;case mt.invalid_intersection_types:r="Intersection results could not be merged";break;case mt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case mt.not_finite:r="Number must be finite";break;default:r=t.defaultError,Fr.assertNever(e)}return{message:r}};let zZe=GS;function $Ze(){return zZe}const UZe=e=>{const{data:t,path:r,errorMaps:a,issueData:n}=e,s=[...r,...n.path||[]],o={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...n,path:s,message:l}};function jt(e,t){const r=$Ze(),a=UZe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===GS?void 0:GS].filter(n=>!!n)});e.common.issues.push(a)}class io{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const a=[];for(const n of r){if(n.status==="aborted")return ar;n.status==="dirty"&&t.dirty(),a.push(n.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,r){const a=[];for(const n of r){const s=await n.key,o=await n.value;a.push({key:s,value:o})}return io.mergeObjectSync(t,a)}static mergeObjectSync(t,r){const a={};for(const n of r){const{key:s,value:o}=n;if(s.status==="aborted"||o.status==="aborted")return ar;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(a[s.value]=o.value)}return{status:t.value,value:a}}}const ar=Object.freeze({status:"aborted"}),Lg=e=>({status:"dirty",value:e}),Qo=e=>({status:"valid",value:e}),J8=e=>e.status==="aborted",K8=e=>e.status==="dirty",Om=e=>e.status==="valid",vw=e=>typeof Promise<"u"&&e instanceof Promise;var Ot;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ot||(Ot={}));class Mf{constructor(t,r,a,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Q8=(e,t)=>{if(Om(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new xd(e.common.issues);return this._error=r,this._error}}};function xr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:a,description:n}=e;if(t&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??a??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:n}}class Pr{get description(){return this._def.description}_getType(t){return Xd(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Xd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new io,ctx:{common:t.parent.common,data:t.data,parsedType:Xd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(vw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const a=this.safeParse(t,r);if(a.success)return a.data;throw a.error}safeParse(t,r){const a={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xd(t)},n=this._parseSync({data:t,path:a.path,parent:a});return Q8(a,n)}"~validate"(t){var a,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xd(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return Om(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(n=(a=s==null?void 0:s.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>Om(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const a=await this.safeParseAsync(t,r);if(a.success)return a.data;throw a.error}async safeParseAsync(t,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xd(t)},n=this._parse({data:t,path:a.path,parent:a}),s=await(vw(n)?n:Promise.resolve(n));return Q8(a,s)}refine(t,r){const a=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,s)=>{const o=t(n),l=()=>s.addIssue({code:mt.custom,...a(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((a,n)=>t(a)?!0:(n.addIssue(typeof r=="function"?r(a,n):r),!1))}_refinement(t){return new Fm({schema:this,typeName:nr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return gf.create(this,this._def)}nullable(){return Bm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gc.create(this)}promise(){return kw.create(this,this._def)}or(t){return bw.create([this,t],this._def)}and(t){return ww.create(this,t,this._def)}transform(t){return new Fm({...xr(this._def),schema:this,typeName:nr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new YS({...xr(this._def),innerType:this,defaultValue:r,typeName:nr.ZodDefault})}brand(){return new uet({typeName:nr.ZodBranded,type:this,...xr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new JS({...xr(this._def),innerType:this,catchValue:r,typeName:nr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return e_.create(this,t)}readonly(){return KS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const WZe=/^c[^\s-]{8,}$/i,HZe=/^[0-9a-z]+$/,VZe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,GZe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qZe=/^[a-z0-9_-]{21}$/i,YZe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,JZe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,KZe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,QZe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let YN;const XZe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZZe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eet=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tet=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ret=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aet=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,RJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",net=new RegExp(`^${RJ}$`);function FJ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function set(e){return new RegExp(`^${FJ(e)}$`)}function iet(e){let t=`${RJ}T${FJ(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function oet(e,t){return!!((t==="v4"||!t)&&XZe.test(e)||(t==="v6"||!t)&&eet.test(e))}function cet(e,t){if(!YZe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function det(e,t){return!!((t==="v4"||!t)&&ZZe.test(e)||(t==="v6"||!t)&&tet.test(e))}class cf extends Pr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Tt.string){const s=this._getOrReturnCtx(t);return jt(s,{code:mt.invalid_type,expected:Tt.string,received:s.parsedType}),ar}const a=new io;let n;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="max")t.data.length>s.value&&(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(n=this._getOrReturnCtx(t,n),o?jt(n,{code:mt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&jt(n,{code:mt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if(s.kind==="email")KZe.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"email",code:mt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="emoji")YN||(YN=new RegExp(QZe,"u")),YN.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"emoji",code:mt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="uuid")GZe.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"uuid",code:mt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="nanoid")qZe.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"nanoid",code:mt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid")WZe.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"cuid",code:mt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid2")HZe.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"cuid2",code:mt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="ulid")VZe.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"ulid",code:mt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),jt(n,{validation:"url",code:mt.invalid_string,message:s.message}),a.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"regex",code:mt.invalid_string,message:s.message}),a.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty()):s.kind==="datetime"?iet(s).test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.invalid_string,validation:"datetime",message:s.message}),a.dirty()):s.kind==="date"?net.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.invalid_string,validation:"date",message:s.message}),a.dirty()):s.kind==="time"?set(s).test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.invalid_string,validation:"time",message:s.message}),a.dirty()):s.kind==="duration"?JZe.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"duration",code:mt.invalid_string,message:s.message}),a.dirty()):s.kind==="ip"?oet(t.data,s.version)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"ip",code:mt.invalid_string,message:s.message}),a.dirty()):s.kind==="jwt"?cet(t.data,s.alg)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"jwt",code:mt.invalid_string,message:s.message}),a.dirty()):s.kind==="cidr"?det(t.data,s.version)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"cidr",code:mt.invalid_string,message:s.message}),a.dirty()):s.kind==="base64"?ret.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"base64",code:mt.invalid_string,message:s.message}),a.dirty()):s.kind==="base64url"?aet.test(t.data)||(n=this._getOrReturnCtx(t,n),jt(n,{validation:"base64url",code:mt.invalid_string,message:s.message}),a.dirty()):Fr.assertNever(s);return{status:a.value,value:t.data}}_regex(t,r,a){return this.refinement(n=>t.test(n),{validation:r,code:mt.invalid_string,...Ot.errToObj(a)})}_addCheck(t){return new cf({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ot.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ot.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ot.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ot.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ot.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ot.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ot.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ot.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ot.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ot.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ot.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ot.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ot.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ot.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ot.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ot.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ot.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ot.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ot.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ot.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ot.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ot.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ot.errToObj(r)})}nonempty(t){return this.min(1,Ot.errToObj(t))}trim(){return new cf({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cf({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cf({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}cf.create=e=>new cf({checks:[],typeName:nr.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...xr(e)});function fet(e,t){const r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,n=r>a?r:a,s=Number.parseInt(e.toFixed(n).replace(".","")),o=Number.parseInt(t.toFixed(n).replace(".",""));return s%o/10**n}class D1 extends Pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Tt.number){const s=this._getOrReturnCtx(t);return jt(s,{code:mt.invalid_type,expected:Tt.number,received:s.parsedType}),ar}let a;const n=new io;for(const s of this._def.checks)s.kind==="int"?Fr.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{code:mt.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(a=this._getOrReturnCtx(t,a),jt(a,{code:mt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(a=this._getOrReturnCtx(t,a),jt(a,{code:mt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?fet(t.data,s.value)!==0&&(a=this._getOrReturnCtx(t,a),jt(a,{code:mt.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{code:mt.not_finite,message:s.message}),n.dirty()):Fr.assertNever(s);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ot.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ot.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ot.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ot.toString(r))}setLimit(t,r,a,n){return new D1({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:Ot.toString(n)}]})}_addCheck(t){return new D1({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ot.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ot.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ot.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ot.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ot.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ot.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ot.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ot.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ot.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Fr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(r)&&Number.isFinite(t)}}D1.create=e=>new D1({checks:[],typeName:nr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...xr(e)});class P1 extends Pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Tt.bigint)return this._getInvalidInput(t);let a;const n=new io;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(a=this._getOrReturnCtx(t,a),jt(a,{code:mt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(a=this._getOrReturnCtx(t,a),jt(a,{code:mt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),jt(a,{code:mt.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):Fr.assertNever(s);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return jt(r,{code:mt.invalid_type,expected:Tt.bigint,received:r.parsedType}),ar}gte(t,r){return this.setLimit("min",t,!0,Ot.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ot.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ot.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ot.toString(r))}setLimit(t,r,a,n){return new P1({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:Ot.toString(n)}]})}_addCheck(t){return new P1({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ot.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ot.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ot.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ot.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ot.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}P1.create=e=>new P1({checks:[],typeName:nr.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...xr(e)});class X8 extends Pr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Tt.boolean){const a=this._getOrReturnCtx(t);return jt(a,{code:mt.invalid_type,expected:Tt.boolean,received:a.parsedType}),ar}return Qo(t.data)}}X8.create=e=>new X8({typeName:nr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...xr(e)});class yw extends Pr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Tt.date){const s=this._getOrReturnCtx(t);return jt(s,{code:mt.invalid_type,expected:Tt.date,received:s.parsedType}),ar}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return jt(s,{code:mt.invalid_date}),ar}const a=new io;let n;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),a.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(n=this._getOrReturnCtx(t,n),jt(n,{code:mt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),a.dirty()):Fr.assertNever(s);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new yw({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ot.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ot.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}yw.create=e=>new yw({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:nr.ZodDate,...xr(e)});class Z8 extends Pr{_parse(t){if(this._getType(t)!==Tt.symbol){const a=this._getOrReturnCtx(t);return jt(a,{code:mt.invalid_type,expected:Tt.symbol,received:a.parsedType}),ar}return Qo(t.data)}}Z8.create=e=>new Z8({typeName:nr.ZodSymbol,...xr(e)});class e7 extends Pr{_parse(t){if(this._getType(t)!==Tt.undefined){const a=this._getOrReturnCtx(t);return jt(a,{code:mt.invalid_type,expected:Tt.undefined,received:a.parsedType}),ar}return Qo(t.data)}}e7.create=e=>new e7({typeName:nr.ZodUndefined,...xr(e)});class t7 extends Pr{_parse(t){if(this._getType(t)!==Tt.null){const a=this._getOrReturnCtx(t);return jt(a,{code:mt.invalid_type,expected:Tt.null,received:a.parsedType}),ar}return Qo(t.data)}}t7.create=e=>new t7({typeName:nr.ZodNull,...xr(e)});class r7 extends Pr{constructor(){super(...arguments),this._any=!0}_parse(t){return Qo(t.data)}}r7.create=e=>new r7({typeName:nr.ZodAny,...xr(e)});class a7 extends Pr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Qo(t.data)}}a7.create=e=>new a7({typeName:nr.ZodUnknown,...xr(e)});class Lf extends Pr{_parse(t){const r=this._getOrReturnCtx(t);return jt(r,{code:mt.invalid_type,expected:Tt.never,received:r.parsedType}),ar}}Lf.create=e=>new Lf({typeName:nr.ZodNever,...xr(e)});class n7 extends Pr{_parse(t){if(this._getType(t)!==Tt.undefined){const a=this._getOrReturnCtx(t);return jt(a,{code:mt.invalid_type,expected:Tt.void,received:a.parsedType}),ar}return Qo(t.data)}}n7.create=e=>new n7({typeName:nr.ZodVoid,...xr(e)});class gc extends Pr{_parse(t){const{ctx:r,status:a}=this._processInputParams(t),n=this._def;if(r.parsedType!==Tt.array)return jt(r,{code:mt.invalid_type,expected:Tt.array,received:r.parsedType}),ar;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(o||l)&&(jt(r,{code:o?mt.too_big:mt.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(jt(r,{code:mt.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(jt(r,{code:mt.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>n.type._parseAsync(new Mf(r,o,r.path,l)))).then(o=>io.mergeArray(a,o));const s=[...r.data].map((o,l)=>n.type._parseSync(new Mf(r,o,r.path,l)));return io.mergeArray(a,s)}get element(){return this._def.type}min(t,r){return new gc({...this._def,minLength:{value:t,message:Ot.toString(r)}})}max(t,r){return new gc({...this._def,maxLength:{value:t,message:Ot.toString(r)}})}length(t,r){return new gc({...this._def,exactLength:{value:t,message:Ot.toString(r)}})}nonempty(t){return this.min(1,t)}}gc.create=(e,t)=>new gc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nr.ZodArray,...xr(t)});function gh(e){if(e instanceof Fn){const t={};for(const r in e.shape){const a=e.shape[r];t[r]=gf.create(gh(a))}return new Fn({...e._def,shape:()=>t})}else return e instanceof gc?new gc({...e._def,type:gh(e.element)}):e instanceof gf?gf.create(gh(e.unwrap())):e instanceof Bm?Bm.create(gh(e.unwrap())):e instanceof y0?y0.create(e.items.map(t=>gh(t))):e}class Fn extends Pr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Fr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Tt.object){const d=this._getOrReturnCtx(t);return jt(d,{code:mt.invalid_type,expected:Tt.object,received:d.parsedType}),ar}const{status:a,ctx:n}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Lf&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=s[d],u=n.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Mf(n,u,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof Lf){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:n.data[f]}});else if(d==="strict")l.length>0&&(jt(n,{code:mt.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const u=n.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Mf(n,u,n.path,f)),alwaysSet:f in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const u=await f.key,m=await f.value;d.push({key:u,value:m,alwaysSet:f.alwaysSet})}return d}).then(d=>io.mergeObjectSync(a,d)):io.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(t){return Ot.errToObj,new Fn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,a)=>{var s,o;const n=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,a).message)??a.defaultError;return r.code==="unrecognized_keys"?{message:Ot.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new Fn({...this._def,unknownKeys:"strip"})}passthrough(){return new Fn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Fn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Fn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:nr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Fn({...this._def,catchall:t})}pick(t){const r={};for(const a of Fr.objectKeys(t))t[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new Fn({...this._def,shape:()=>r})}omit(t){const r={};for(const a of Fr.objectKeys(this.shape))t[a]||(r[a]=this.shape[a]);return new Fn({...this._def,shape:()=>r})}deepPartial(){return gh(this)}partial(t){const r={};for(const a of Fr.objectKeys(this.shape)){const n=this.shape[a];t&&!t[a]?r[a]=n:r[a]=n.optional()}return new Fn({...this._def,shape:()=>r})}required(t){const r={};for(const a of Fr.objectKeys(this.shape))if(t&&!t[a])r[a]=this.shape[a];else{let s=this.shape[a];for(;s instanceof gf;)s=s._def.innerType;r[a]=s}return new Fn({...this._def,shape:()=>r})}keyof(){return BJ(Fr.objectKeys(this.shape))}}Fn.create=(e,t)=>new Fn({shape:()=>e,unknownKeys:"strip",catchall:Lf.create(),typeName:nr.ZodObject,...xr(t)});Fn.strictCreate=(e,t)=>new Fn({shape:()=>e,unknownKeys:"strict",catchall:Lf.create(),typeName:nr.ZodObject,...xr(t)});Fn.lazycreate=(e,t)=>new Fn({shape:e,unknownKeys:"strip",catchall:Lf.create(),typeName:nr.ZodObject,...xr(t)});class bw extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),a=this._def.options;function n(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new xd(l.ctx.common.issues));return jt(r,{code:mt.invalid_union,unionErrors:o}),ar}if(r.common.async)return Promise.all(a.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let s;const o=[];for(const c of a){const d={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new xd(c));return jt(r,{code:mt.invalid_union,unionErrors:l}),ar}}get options(){return this._def.options}}bw.create=(e,t)=>new bw({options:e,typeName:nr.ZodUnion,...xr(t)});function qS(e,t){const r=Xd(e),a=Xd(t);if(e===t)return{valid:!0,data:e};if(r===Tt.object&&a===Tt.object){const n=Fr.objectKeys(t),s=Fr.objectKeys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=qS(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Tt.array&&a===Tt.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=qS(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===Tt.date&&a===Tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ww extends Pr{_parse(t){const{status:r,ctx:a}=this._processInputParams(t),n=(s,o)=>{if(J8(s)||J8(o))return ar;const l=qS(s.value,o.value);return l.valid?((K8(s)||K8(o))&&r.dirty(),{status:r.value,value:l.data}):(jt(a,{code:mt.invalid_intersection_types}),ar)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([s,o])=>n(s,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}ww.create=(e,t,r)=>new ww({left:e,right:t,typeName:nr.ZodIntersection,...xr(r)});class y0 extends Pr{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==Tt.array)return jt(a,{code:mt.invalid_type,expected:Tt.array,received:a.parsedType}),ar;if(a.data.length<this._def.items.length)return jt(a,{code:mt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ar;!this._def.rest&&a.data.length>this._def.items.length&&(jt(a,{code:mt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Mf(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(s).then(o=>io.mergeArray(r,o)):io.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new y0({...this._def,rest:t})}}y0.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new y0({items:e,typeName:nr.ZodTuple,rest:null,...xr(t)})};class s7 extends Pr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==Tt.map)return jt(a,{code:mt.invalid_type,expected:Tt.map,received:a.parsedType}),ar;const n=this._def.keyType,s=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:n._parse(new Mf(a,l,a.path,[d,"key"])),value:s._parse(new Mf(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return ar;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return ar;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}}}}s7.create=(e,t,r)=>new s7({valueType:t,keyType:e,typeName:nr.ZodMap,...xr(r)});class O1 extends Pr{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==Tt.set)return jt(a,{code:mt.invalid_type,expected:Tt.set,received:a.parsedType}),ar;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(jt(a,{code:mt.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(jt(a,{code:mt.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return ar;f.status==="dirty"&&r.dirty(),d.add(f.value)}return{status:r.value,value:d}}const l=[...a.data.values()].map((c,d)=>s._parse(new Mf(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new O1({...this._def,minSize:{value:t,message:Ot.toString(r)}})}max(t,r){return new O1({...this._def,maxSize:{value:t,message:Ot.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}O1.create=(e,t)=>new O1({valueType:e,minSize:null,maxSize:null,typeName:nr.ZodSet,...xr(t)});class i7 extends Pr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}i7.create=(e,t)=>new i7({getter:e,typeName:nr.ZodLazy,...xr(t)});class o7 extends Pr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return jt(r,{received:r.data,code:mt.invalid_literal,expected:this._def.value}),ar}return{status:"valid",value:t.data}}get value(){return this._def.value}}o7.create=(e,t)=>new o7({value:e,typeName:nr.ZodLiteral,...xr(t)});function BJ(e,t){return new Rm({values:e,typeName:nr.ZodEnum,...xr(t)})}class Rm extends Pr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),a=this._def.values;return jt(r,{expected:Fr.joinValues(a),received:r.parsedType,code:mt.invalid_type}),ar}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),a=this._def.values;return jt(r,{received:r.data,code:mt.invalid_enum_value,options:a}),ar}return Qo(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Rm.create(t,{...this._def,...r})}exclude(t,r=this._def){return Rm.create(this.options.filter(a=>!t.includes(a)),{...this._def,...r})}}Rm.create=BJ;class l7 extends Pr{_parse(t){const r=Fr.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==Tt.string&&a.parsedType!==Tt.number){const n=Fr.objectValues(r);return jt(a,{expected:Fr.joinValues(n),received:a.parsedType,code:mt.invalid_type}),ar}if(this._cache||(this._cache=new Set(Fr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const n=Fr.objectValues(r);return jt(a,{received:a.data,code:mt.invalid_enum_value,options:n}),ar}return Qo(t.data)}get enum(){return this._def.values}}l7.create=(e,t)=>new l7({values:e,typeName:nr.ZodNativeEnum,...xr(t)});class kw extends Pr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Tt.promise&&r.common.async===!1)return jt(r,{code:mt.invalid_type,expected:Tt.promise,received:r.parsedType}),ar;const a=r.parsedType===Tt.promise?r.data:Promise.resolve(r.data);return Qo(a.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}kw.create=(e,t)=>new kw({type:e,typeName:nr.ZodPromise,...xr(t)});class Fm extends Pr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:a}=this._processInputParams(t),n=this._def.effect||null,s={addIssue:o=>{jt(a,o),o.fatal?r.abort():r.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){const o=n.transform(a.data,s);if(a.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ar;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?ar:c.status==="dirty"||r.value==="dirty"?Lg(c.value):c});{if(r.value==="aborted")return ar;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?ar:l.status==="dirty"||r.value==="dirty"?Lg(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,s);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?ar:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?ar:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Om(o))return ar;const l=n.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>Om(o)?Promise.resolve(n.transform(o.value,s)).then(l=>({status:r.value,value:l})):ar);Fr.assertNever(n)}}Fm.create=(e,t,r)=>new Fm({schema:e,typeName:nr.ZodEffects,effect:t,...xr(r)});Fm.createWithPreprocess=(e,t,r)=>new Fm({schema:t,effect:{type:"preprocess",transform:e},typeName:nr.ZodEffects,...xr(r)});class gf extends Pr{_parse(t){return this._getType(t)===Tt.undefined?Qo(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gf.create=(e,t)=>new gf({innerType:e,typeName:nr.ZodOptional,...xr(t)});class Bm extends Pr{_parse(t){return this._getType(t)===Tt.null?Qo(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bm.create=(e,t)=>new Bm({innerType:e,typeName:nr.ZodNullable,...xr(t)});class YS extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t);let a=r.data;return r.parsedType===Tt.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}YS.create=(e,t)=>new YS({innerType:e,typeName:nr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...xr(t)});class JS extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),a={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return vw(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xd(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new xd(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}JS.create=(e,t)=>new JS({innerType:e,typeName:nr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...xr(t)});class c7 extends Pr{_parse(t){if(this._getType(t)!==Tt.nan){const a=this._getOrReturnCtx(t);return jt(a,{code:mt.invalid_type,expected:Tt.nan,received:a.parsedType}),ar}return{status:"valid",value:t.data}}}c7.create=e=>new c7({typeName:nr.ZodNaN,...xr(e)});class uet extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class e_ extends Pr{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?ar:s.status==="dirty"?(r.dirty(),Lg(s.value)):this._def.out._parseAsync({data:s.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?ar:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(t,r){return new e_({in:t,out:r,typeName:nr.ZodPipeline})}}class KS extends Pr{_parse(t){const r=this._def.innerType._parse(t),a=n=>(Om(n)&&(n.value=Object.freeze(n.value)),n);return vw(r)?r.then(n=>a(n)):a(r)}unwrap(){return this._def.innerType}}KS.create=(e,t)=>new KS({innerType:e,typeName:nr.ZodReadonly,...xr(t)});var nr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(nr||(nr={}));const wl=cf.create;Lf.create;gc.create;const t_=Fn.create;bw.create;ww.create;y0.create;const qh=Rm.create;kw.create;gf.create;Bm.create;const het=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function zm(e,t,r){const a=met(e),{webkitRelativePath:n}=e,s=typeof t=="string"?t:typeof n=="string"&&n.length>0?n:`./${e.name}`;return typeof a.path!="string"&&d7(a,"path",s),d7(a,"relativePath",s),a}function met(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const a=t.split(".").pop().toLowerCase(),n=het.get(a);n&&Object.defineProperty(e,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return e}function d7(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const pet=[".DS_Store","Thumbs.db"];function get(e){return P0(this,void 0,void 0,function*(){return jw(e)&&xet(e.dataTransfer)?wet(e.dataTransfer,e.type):vet(e)?yet(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?bet(e):[]})}function xet(e){return jw(e)}function vet(e){return jw(e)&&jw(e.target)}function jw(e){return typeof e=="object"&&e!==null}function yet(e){return QS(e.target.files).map(t=>zm(t))}function bet(e){return P0(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>zm(r))})}function wet(e,t){return P0(this,void 0,void 0,function*(){if(e.items){const r=QS(e.items).filter(n=>n.kind==="file");if(t!=="drop")return r;const a=yield Promise.all(r.map(ket));return f7(zJ(a))}return f7(QS(e.files).map(r=>zm(r)))})}function f7(e){return e.filter(t=>pet.indexOf(t.name)===-1)}function QS(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const a=e[r];t.push(a)}return t}function ket(e){if(typeof e.webkitGetAsEntry!="function")return u7(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?$J(t):u7(e,t)}function zJ(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?zJ(r):[r]],[])}function u7(e,t){return P0(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,zm(o)}}const a=e.getAsFile();if(!a)throw new Error(`${e} is not a File`);return zm(a,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function jet(e){return P0(this,void 0,void 0,function*(){return e.isDirectory?$J(e):Net(e)})}function $J(e){const t=e.createReader();return new Promise((r,a)=>{const n=[];function s(){t.readEntries(o=>P0(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(jet));n.push(l),s()}else try{const l=yield Promise.all(n);r(l)}catch(l){a(l)}}),o=>{a(o)})}s()})}function Net(e){return P0(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(a=>{const n=zm(a,e.fullPath);t(n)},a=>{r(a)})})})}var JN=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var a=e.name||"",n=(e.type||"").toLowerCase(),s=n.replace(/\/.*$/,"");return r.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?a.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):n===l})}return!0};function h7(e){return Eet(e)||Aet(e)||WJ(e)||Cet()}function Cet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aet(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eet(e){if(Array.isArray(e))return XS(e)}function m7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function p7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(r),!0).forEach(function(a){UJ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UJ(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R1(e,t){return Let(e)||Met(e,t)||WJ(e,t)||_et()}function _et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WJ(e,t){if(e){if(typeof e=="string")return XS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XS(e,t)}}function XS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Met(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],n=!0,s=!1,o,l;try{for(r=r.call(e);!(n=(o=r.next()).done)&&(a.push(o.value),!(t&&a.length===t));n=!0);}catch(c){s=!0,l=c}finally{try{!n&&r.return!=null&&r.return()}finally{if(s)throw l}}return a}}function Let(e){if(Array.isArray(e))return e}var Tet=typeof JN=="function"?JN:JN.default,Iet="file-invalid-type",Det="file-too-large",Pet="file-too-small",Oet="too-many-files",Ret=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),a=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:Iet,message:"File type must be ".concat(a)}},g7=function(t){return{code:Det,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},x7=function(t){return{code:Pet,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Fet={code:Oet,message:"Too many files"};function HJ(e,t){var r=e.type==="application/x-moz-file"||Tet(e,t);return[r,r?null:Ret(t)]}function VJ(e,t,r){if(ku(e.size))if(ku(t)&&ku(r)){if(e.size>r)return[!1,g7(r)];if(e.size<t)return[!1,x7(t)]}else{if(ku(t)&&e.size<t)return[!1,x7(t)];if(ku(r)&&e.size>r)return[!1,g7(r)]}return[!0,null]}function ku(e){return e!=null}function Bet(e){var t=e.files,r=e.accept,a=e.minSize,n=e.maxSize,s=e.multiple,o=e.maxFiles,l=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(c){var d=HJ(c,r),f=R1(d,1),u=f[0],m=VJ(c,a,n),h=R1(m,1),g=h[0],p=l?l(c):null;return u&&g&&!p})}function Nw(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Qy(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function v7(e){e.preventDefault()}function zet(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function $et(e){return e.indexOf("Edge/")!==-1}function Uet(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return zet(e)||$et(e)}function Gl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(a){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return t.some(function(l){return!Nw(a)&&l&&l.apply(void 0,[a].concat(s)),Nw(a)})}}function Wet(){return"showOpenFilePicker"in window}function Het(e){if(ku(e)){var t=Object.entries(e).filter(function(r){var a=R1(r,2),n=a[0],s=a[1],o=!0;return GJ(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(qJ))&&(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(r,a){var n=R1(a,2),s=n[0],o=n[1];return p7(p7({},r),{},UJ({},s,o))},{});return[{description:"Files",accept:t}]}return e}function Vet(e){if(ku(e))return Object.entries(e).reduce(function(t,r){var a=R1(r,2),n=a[0],s=a[1];return[].concat(h7(t),[n],h7(s))},[]).filter(function(t){return GJ(t)||qJ(t)}).join(",")}function Get(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function qet(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function GJ(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function qJ(e){return/^.*\.[\w]+$/.test(e)}var Yet=["children"],Jet=["open"],Ket=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Qet=["refKey","onChange","onClick"];function Xet(e){return ttt(e)||ett(e)||YJ(e)||Zet()}function Zet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ett(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ttt(e){if(Array.isArray(e))return ZS(e)}function KN(e,t){return ntt(e)||att(e,t)||YJ(e,t)||rtt()}function rtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YJ(e,t){if(e){if(typeof e=="string")return ZS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZS(e,t)}}function ZS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function att(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],n=!0,s=!1,o,l;try{for(r=r.call(e);!(n=(o=r.next()).done)&&(a.push(o.value),!(t&&a.length===t));n=!0);}catch(c){s=!0,l=c}finally{try{!n&&r.return!=null&&r.return()}finally{if(s)throw l}}return a}}function ntt(e){if(Array.isArray(e))return e}function y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(r),!0).forEach(function(a){e6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e6(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sw(e,t){if(e==null)return{};var r=stt(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function stt(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,s;for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}var r_=k.forwardRef(function(e,t){var r=e.children,a=Sw(e,Yet),n=KJ(a),s=n.open,o=Sw(n,Jet);return k.useImperativeHandle(t,function(){return{open:s}},[s]),Z.createElement(k.Fragment,null,r(Xa(Xa({},o),{},{open:s})))});r_.displayName="Dropzone";var JJ={disabled:!1,getFilesFromEvent:get,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};r_.defaultProps=JJ;r_.propTypes={children:Qe.func,accept:Qe.objectOf(Qe.arrayOf(Qe.string)),multiple:Qe.bool,preventDropOnDocument:Qe.bool,noClick:Qe.bool,noKeyboard:Qe.bool,noDrag:Qe.bool,noDragEventsBubbling:Qe.bool,minSize:Qe.number,maxSize:Qe.number,maxFiles:Qe.number,disabled:Qe.bool,getFilesFromEvent:Qe.func,onFileDialogCancel:Qe.func,onFileDialogOpen:Qe.func,useFsAccessApi:Qe.bool,autoFocus:Qe.bool,onDragEnter:Qe.func,onDragLeave:Qe.func,onDragOver:Qe.func,onDrop:Qe.func,onDropAccepted:Qe.func,onDropRejected:Qe.func,onError:Qe.func,validator:Qe.func};var t6={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function KJ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Xa(Xa({},JJ),e),r=t.accept,a=t.disabled,n=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,f=t.onDragLeave,u=t.onDragOver,m=t.onDrop,h=t.onDropAccepted,g=t.onDropRejected,p=t.onFileDialogCancel,x=t.onFileDialogOpen,v=t.useFsAccessApi,b=t.autoFocus,y=t.preventDropOnDocument,w=t.noClick,j=t.noKeyboard,E=t.noDrag,A=t.noDragEventsBubbling,C=t.onError,S=t.validator,T=k.useMemo(function(){return Vet(r)},[r]),_=k.useMemo(function(){return Het(r)},[r]),M=k.useMemo(function(){return typeof x=="function"?x:b7},[x]),D=k.useMemo(function(){return typeof p=="function"?p:b7},[p]),O=k.useRef(null),B=k.useRef(null),U=k.useReducer(itt,t6),q=KN(U,2),K=q[0],G=q[1],ve=K.isFocused,fe=K.isFileDialogActive,I=k.useRef(typeof window<"u"&&window.isSecureContext&&v&&Wet()),z=function(){!I.current&&fe&&setTimeout(function(){if(B.current){var _e=B.current.files;_e.length||(G({type:"closeDialog"}),D())}},300)};k.useEffect(function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}},[B,fe,D,I]);var H=k.useRef([]),J=function(_e){O.current&&O.current.contains(_e.target)||(_e.preventDefault(),H.current=[])};k.useEffect(function(){return y&&(document.addEventListener("dragover",v7,!1),document.addEventListener("drop",J,!1)),function(){y&&(document.removeEventListener("dragover",v7),document.removeEventListener("drop",J))}},[O,y]),k.useEffect(function(){return!a&&b&&O.current&&O.current.focus(),function(){}},[O,b,a]);var te=k.useCallback(function(Ce){C?C(Ce):console.error(Ce)},[C]),W=k.useCallback(function(Ce){Ce.preventDefault(),Ce.persist(),ie(Ce),H.current=[].concat(Xet(H.current),[Ce.target]),Qy(Ce)&&Promise.resolve(n(Ce)).then(function(_e){if(!(Nw(Ce)&&!A)){var Ve=_e.length,Ie=Ve>0&&Bet({files:_e,accept:T,minSize:o,maxSize:s,multiple:l,maxFiles:c,validator:S}),Re=Ve>0&&!Ie;G({isDragAccept:Ie,isDragReject:Re,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Ce)}}).catch(function(_e){return te(_e)})},[n,d,te,A,T,o,s,l,c,S]),Y=k.useCallback(function(Ce){Ce.preventDefault(),Ce.persist(),ie(Ce);var _e=Qy(Ce);if(_e&&Ce.dataTransfer)try{Ce.dataTransfer.dropEffect="copy"}catch{}return _e&&u&&u(Ce),!1},[u,A]),Q=k.useCallback(function(Ce){Ce.preventDefault(),Ce.persist(),ie(Ce);var _e=H.current.filter(function(Ie){return O.current&&O.current.contains(Ie)}),Ve=_e.indexOf(Ce.target);Ve!==-1&&_e.splice(Ve,1),H.current=_e,!(_e.length>0)&&(G({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Qy(Ce)&&f&&f(Ce))},[O,f,A]),ne=k.useCallback(function(Ce,_e){var Ve=[],Ie=[];Ce.forEach(function(Re){var Ee=HJ(Re,T),Be=KN(Ee,2),Pe=Be[0],it=Be[1],ft=VJ(Re,o,s),st=KN(ft,2),pt=st[0],At=st[1],St=S?S(Re):null;if(Pe&&pt&&!St)Ve.push(Re);else{var Ut=[it,At];St&&(Ut=Ut.concat(St)),Ie.push({file:Re,errors:Ut.filter(function(Wt){return Wt})})}}),(!l&&Ve.length>1||l&&c>=1&&Ve.length>c)&&(Ve.forEach(function(Re){Ie.push({file:Re,errors:[Fet]})}),Ve.splice(0)),G({acceptedFiles:Ve,fileRejections:Ie,isDragReject:Ie.length>0,type:"setFiles"}),m&&m(Ve,Ie,_e),Ie.length>0&&g&&g(Ie,_e),Ve.length>0&&h&&h(Ve,_e)},[G,l,T,o,s,c,m,h,g,S]),pe=k.useCallback(function(Ce){Ce.preventDefault(),Ce.persist(),ie(Ce),H.current=[],Qy(Ce)&&Promise.resolve(n(Ce)).then(function(_e){Nw(Ce)&&!A||ne(_e,Ce)}).catch(function(_e){return te(_e)}),G({type:"reset"})},[n,ne,te,A]),F=k.useCallback(function(){if(I.current){G({type:"openDialog"}),M();var Ce={multiple:l,types:_};window.showOpenFilePicker(Ce).then(function(_e){return n(_e)}).then(function(_e){ne(_e,null),G({type:"closeDialog"})}).catch(function(_e){Get(_e)?(D(_e),G({type:"closeDialog"})):qet(_e)?(I.current=!1,B.current?(B.current.value=null,B.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(_e)});return}B.current&&(G({type:"openDialog"}),M(),B.current.value=null,B.current.click())},[G,M,D,v,ne,te,_,l]),Te=k.useCallback(function(Ce){!O.current||!O.current.isEqualNode(Ce.target)||(Ce.key===" "||Ce.key==="Enter"||Ce.keyCode===32||Ce.keyCode===13)&&(Ce.preventDefault(),F())},[O,F]),xe=k.useCallback(function(){G({type:"focus"})},[]),se=k.useCallback(function(){G({type:"blur"})},[]),We=k.useCallback(function(){w||(Uet()?setTimeout(F,0):F())},[w,F]),Se=function(_e){return a?null:_e},Fe=function(_e){return j?null:Se(_e)},he=function(_e){return E?null:Se(_e)},ie=function(_e){A&&_e.stopPropagation()},de=k.useMemo(function(){return function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=Ce.refKey,Ve=_e===void 0?"ref":_e,Ie=Ce.role,Re=Ce.onKeyDown,Ee=Ce.onFocus,Be=Ce.onBlur,Pe=Ce.onClick,it=Ce.onDragEnter,ft=Ce.onDragOver,st=Ce.onDragLeave,pt=Ce.onDrop,At=Sw(Ce,Ket);return Xa(Xa(e6({onKeyDown:Fe(Gl(Re,Te)),onFocus:Fe(Gl(Ee,xe)),onBlur:Fe(Gl(Be,se)),onClick:Se(Gl(Pe,We)),onDragEnter:he(Gl(it,W)),onDragOver:he(Gl(ft,Y)),onDragLeave:he(Gl(st,Q)),onDrop:he(Gl(pt,pe)),role:typeof Ie=="string"&&Ie!==""?Ie:"presentation"},Ve,O),!a&&!j?{tabIndex:0}:{}),At)}},[O,Te,xe,se,We,W,Y,Q,pe,j,E,a]),Ae=k.useCallback(function(Ce){Ce.stopPropagation()},[]),ze=k.useMemo(function(){return function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=Ce.refKey,Ve=_e===void 0?"ref":_e,Ie=Ce.onChange,Re=Ce.onClick,Ee=Sw(Ce,Qet),Be=e6({accept:T,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Se(Gl(Ie,pe)),onClick:Se(Gl(Re,Ae)),tabIndex:-1},Ve,B);return Xa(Xa({},Be),Ee)}},[B,r,l,pe,a]);return Xa(Xa({},K),{},{isFocused:ve&&!a,getRootProps:de,getInputProps:ze,rootRef:O,inputRef:B,open:Se(F)})}function itt(e,t){switch(t.type){case"focus":return Xa(Xa({},e),{},{isFocused:!0});case"blur":return Xa(Xa({},e),{},{isFocused:!1});case"openDialog":return Xa(Xa({},t6),{},{isFileDialogActive:!0});case"closeDialog":return Xa(Xa({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Xa(Xa({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Xa(Xa({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Xa({},t6);default:return e}}function b7(){}const ott=t_({platform:qh(["instagram","facebook","linkedin","tiktok"]),postType:qh(["feed","story","reel","carousel"]),content:wl().min(1,"Conteúdo é obrigatório"),scheduledDate:wl().optional(),scheduledTime:wl().optional(),campaignId:wl().optional()}),w7={instagram:"📷",facebook:"👍",linkedin:"💼",tiktok:"🎵"},ltt={instagram:"bg-gradient-to-r from-purple-500 to-pink-500",facebook:"bg-blue-600",linkedin:"bg-blue-700",tiktok:"bg-black"};function ctt({post:e,isOpen:t,onClose:r,onSuccess:a}){const[n,s]=k.useState(!1),[o,l]=k.useState((e==null?void 0:e.mediaUrls)||[]),{register:c,handleSubmit:d,watch:f,formState:{errors:u},reset:m}=XE({resolver:ZE(ott),defaultValues:e?{platform:e.platform,postType:e.postType,content:e.content,scheduledDate:e.scheduledAt?new Date(e.scheduledAt).toISOString().split("T")[0]:"",scheduledTime:e.scheduledAt?new Date(e.scheduledAt).toTimeString().split(" ")[0].substring(0,5):"",campaignId:e.campaignId||""}:{platform:"instagram",postType:"feed",content:"",scheduledDate:"",scheduledTime:"",campaignId:""}}),h=f("platform"),g=f("postType"),p=f("content"),{getRootProps:x,getInputProps:v,isDragActive:b}=KJ({accept:{"image/*":[".png",".jpg",".jpeg",".gif"],"video/*":[".mp4",".mov",".avi"]},maxFiles:g==="carousel"?10:1,onDrop:j=>{const E=j.map(A=>URL.createObjectURL(A));l(E)}}),y=async j=>{try{s(!0);let E;j.scheduledDate&&j.scheduledTime&&(E=new Date(`${j.scheduledDate}T${j.scheduledTime}`).toISOString());const A={platform:j.platform,postType:j.postType,content:j.content,mediaUrls:o,scheduledAt:E,campaignId:j.campaignId||void 0,status:E?"scheduled":"draft"};e?(await Vo.updateSocialPost(e.id,A),Le.success("Post atualizado com sucesso!")):(await Vo.createSocialPost(A),Le.success("Post criado com sucesso!")),m(),l([]),a(),r()}catch(E){console.error("Erro ao salvar post:",E),Le.error("Erro ao salvar post")}finally{s(!1)}},w=()=>{m(),l([]),r()};return i.jsx($A,{open:t,onOpenChange:w,children:i.jsxs(UA,{children:[i.jsx(L4,{className:"fixed inset-0 bg-black/50 z-50"}),i.jsxs(T4,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto z-50 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx(I4,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e?"Editar Post":"Novo Post para Redes Sociais"}),i.jsx(WA,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Fechar",children:i.jsx(br,{size:24})})})]}),i.jsxs("form",{onSubmit:d(y),className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Plataforma *"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["instagram","facebook","linkedin","tiktok"].map(j=>i.jsxs("label",{className:`flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition-all ${h===j?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",value:j,...c("platform"),className:"sr-only"}),i.jsx("span",{className:"text-2xl",children:w7[j]}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:j})]},j))}),u.platform&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.platform.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Post *"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["feed","story","reel","carousel"].map(j=>i.jsxs("label",{className:`flex items-center justify-center p-3 border-2 rounded-lg cursor-pointer transition-all ${g===j?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",value:j,...c("postType"),className:"sr-only"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:j})]},j))}),u.postType&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.postType.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Conteúdo *"}),i.jsx("textarea",{...c("content"),rows:6,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600 resize-none",placeholder:"Escreva o conteúdo do seu post aqui..."}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[u.content&&i.jsx("p",{className:"text-sm text-red-600",children:u.content.message}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 ml-auto",children:[(p==null?void 0:p.length)||0," caracteres"]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Mídia ",g==="carousel"?"(até 10 arquivos)":""]}),i.jsxs("div",{...x(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${b?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:[i.jsx("input",{...v()}),i.jsx(ox,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b?"Solte os arquivos aqui...":"Arraste arquivos ou clique para selecionar"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Imagens (PNG, JPG, GIF) ou vídeos (MP4, MOV)"})]}),o.length>0&&i.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:o.map((j,E)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:j,alt:`Preview ${E+1}`,className:"w-full h-24 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>{l(A=>A.filter((C,S)=>S!==E))},className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(br,{size:14})})]},E))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(Yr,{className:"inline mr-1",size:16}),"Data de Agendamento"]}),i.jsx("input",{type:"date",...c("scheduledDate"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[i.jsx(ka,{className:"inline mr-1",size:16}),"Horário"]}),i.jsx("input",{type:"time",...c("scheduledTime"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preview do Post"}),i.jsxs("div",{className:"border-2 border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:[i.jsx("div",{className:`${ltt[h]} text-white px-4 py-2 rounded-t-lg -mx-4 -mt-4 mb-4`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:w7[h]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Sua Empresa"}),i.jsx("p",{className:"text-xs opacity-80 capitalize",children:g})]})]})}),o.length>0&&i.jsx("div",{className:"mb-4",children:o.length===1?i.jsx("img",{src:o[0],alt:"Preview",className:"w-full rounded-lg"}):i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.slice(0,4).map((j,E)=>i.jsx("img",{src:j,alt:`Preview ${E+1}`,className:"w-full h-32 object-cover rounded-lg"},E)),o.length>4&&i.jsxs("div",{className:"col-span-2 text-center text-sm text-gray-500 dark:text-gray-400",children:["+",o.length-4," mais"]})]})}),i.jsx("div",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:p||i.jsx("p",{className:"text-gray-400 dark:text-gray-500 italic",children:"O conteúdo do post aparecerá aqui..."})}),!p&&o.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-400 dark:text-gray-500",children:[i.jsx(Um,{className:"mx-auto h-16 w-16 mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Adicione conteúdo e mídia para ver o preview"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:w,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Salvando...":e?"Atualizar Post":"Criar Post"})]})]})]})]})})}const dtt={instagram:"📷",facebook:"👍",linkedin:"💼",tiktok:"🎵"},ftt={instagram:"bg-gradient-to-r from-purple-500 to-pink-500",facebook:"bg-blue-600",linkedin:"bg-blue-700",tiktok:"bg-black"},utt={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",published:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",failed:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"},htt={draft:"Rascunho",scheduled:"Agendado",published:"Publicado",failed:"Falhou"};function mtt({onEdit:e,refreshTrigger:t}){const[r,a]=k.useState([]),[n,s]=k.useState(!0),[o,l]=k.useState({platform:"all",status:"all"});k.useEffect(()=>{c()},[t]);const c=async()=>{try{s(!0);const u={};o.platform!=="all"&&(u.platform=o.platform),o.status!=="all"&&(u.status=o.status);const m=await Vo.getSocialPosts(u);a(m)}catch(u){console.error("Erro ao carregar posts:",u),Le.error("Erro ao carregar posts")}finally{s(!1)}};k.useEffect(()=>{c()},[o]);const d=async u=>{if(window.confirm(`Tem certeza que deseja excluir este post para ${u.platform}?`))try{await Vo.deleteSocialPost(u.id),Le.success("Post excluído com sucesso!"),c()}catch(m){console.error("Erro ao excluir post:",m),Le.error("Erro ao excluir post")}},f=r.filter(u=>!(o.platform!=="all"&&u.platform!==o.platform||o.status!=="all"&&u.status!==o.status));return n?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Plataforma"}),i.jsxs("select",{value:o.platform,onChange:u=>l({...o,platform:u.target.value}),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",children:[i.jsx("option",{value:"all",children:"Todas"}),i.jsx("option",{value:"instagram",children:"📷 Instagram"}),i.jsx("option",{value:"facebook",children:"👍 Facebook"}),i.jsx("option",{value:"linkedin",children:"💼 LinkedIn"}),i.jsx("option",{value:"tiktok",children:"🎵 TikTok"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),i.jsxs("select",{value:o.status,onChange:u=>l({...o,status:u.target.value}),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"draft",children:"Rascunho"}),i.jsx("option",{value:"scheduled",children:"Agendado"}),i.jsx("option",{value:"published",children:"Publicado"}),i.jsx("option",{value:"failed",children:"Falhou"})]})]}),i.jsx("div",{className:"ml-auto flex items-end",children:i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.length," post",f.length!==1?"s":""," encontrado",f.length!==1?"s":""]})})]}),f.length===0?i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx(Um,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nenhum post encontrado"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.length===0?"Crie seu primeiro post para redes sociais":"Nenhum post corresponde aos filtros selecionados"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(u=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:`${ftt[u.platform]} text-white px-4 py-3`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:dtt[u.platform]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold capitalize",children:u.platform}),i.jsx("p",{className:"text-xs opacity-80 capitalize",children:u.postType})]})]}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${utt[u.status]}`,children:htt[u.status]})]})}),u.mediaUrls&&u.mediaUrls.length>0&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:u.mediaUrls[0],alt:"Post media",className:"w-full h-48 object-cover"}),u.mediaUrls.length>1&&i.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-xs",children:["+",u.mediaUrls.length-1]})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"text-gray-900 dark:text-white text-sm line-clamp-3 mb-4",children:u.content}),u.scheduledAt&&i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Yr,{size:14}),Es(new Date(u.scheduledAt),"dd/MM/yyyy",{locale:_s})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ka,{size:14}),Es(new Date(u.scheduledAt),"HH:mm",{locale:_s})]})]}),u.publishedAt&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 mb-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsx(F1,{size:14}),"Publicado em ",Es(new Date(u.publishedAt),"dd/MM/yyyy HH:mm",{locale:_s})]}),u.status==="published"&&u.metrics&&i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:u.metrics.likes||0}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Curtidas"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:u.metrics.comments||0}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Comentários"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:u.metrics.shares||0}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Compartilh."})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>e(u),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[i.jsx(Tf,{size:16}),"Editar"]}),i.jsx("button",{onClick:()=>d(u),className:"flex items-center justify-center px-3 py-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:i.jsx(An,{size:16})})]})]})]},u.id))})]})}const ptt={"pt-BR":_s},gtt=tH({format:Es,startOfWeek:Hu,getDay:K7,locales:ptt}),xtt={instagram:{bg:"bg-gradient-to-r from-purple-500 to-pink-500",border:"border-purple-500",text:"text-white"},facebook:{bg:"bg-blue-600",border:"border-blue-600",text:"text-white"},linkedin:{bg:"bg-blue-700",border:"border-blue-700",text:"text-white"},tiktok:{bg:"bg-black",border:"border-black",text:"text-white"}},k7={instagram:"📷",facebook:"👍",linkedin:"💼",tiktok:"🎵"};function vtt({onSelectPost:e,refreshTrigger:t}){const[r,a]=k.useState([]),[n,s]=k.useState(!0),[o,l]=k.useState("month"),[c,d]=k.useState(new Date);k.useEffect(()=>{f()},[t]);const f=async()=>{try{s(!0);const g=await Vo.getSocialPosts({status:"scheduled"});a(g)}catch(g){console.error("Erro ao carregar posts:",g),Le.error("Erro ao carregar posts agendados")}finally{s(!1)}},u=k.useMemo(()=>r.filter(g=>g.scheduledAt).map(g=>{const p=new Date(g.scheduledAt);return{id:g.id,title:`${k7[g.platform]} ${g.content.substring(0,30)}${g.content.length>30?"...":""}`,start:p,end:new Date(p.getTime()+60*60*1e3),resource:g}}),[r]),m=g=>{const p=g.resource.platform,x=xtt[p];return{style:{backgroundColor:x.bg.includes("gradient")?"#9333ea":x.bg.replace("bg-","#"),borderLeft:`4px solid ${x.border.replace("border-","#")}`,borderRadius:"4px",color:"white",border:"none",display:"block",fontSize:"12px",padding:"2px 4px"}}},h=g=>{e(g.resource)};return n?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Posts Agendados (",u.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(k7).map(([g,p])=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:`w-4 h-4 rounded ${g==="instagram"?"bg-purple-500":g==="facebook"?"bg-blue-600":g==="linkedin"?"bg-blue-700":"bg-black"}`}),i.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[p," ",g.charAt(0).toUpperCase()+g.slice(1)]})]},g))})]}),i.jsxs("div",{className:"calendar-container",style:{height:"600px"},children:[i.jsx("style",{children:`
            .rbc-calendar {
              font-family: inherit;
            }
            .rbc-header {
              padding: 12px 6px;
              font-weight: 600;
              border-bottom: 1px solid #e5e7eb;
            }
            .dark .rbc-header {
              border-bottom-color: #374151;
              color: #fff;
            }
            .rbc-today {
              background-color: #dbeafe;
            }
            .dark .rbc-today {
              background-color: #1e3a8a;
            }
            .rbc-off-range-bg {
              background-color: #f9fafb;
            }
            .dark .rbc-off-range-bg {
              background-color: #111827;
            }
            .rbc-month-view, .rbc-time-view {
              border: 1px solid #e5e7eb;
              border-radius: 8px;
              overflow: hidden;
            }
            .dark .rbc-month-view, .dark .rbc-time-view {
              border-color: #374151;
            }
            .rbc-event {
              cursor: pointer;
            }
            .rbc-event:hover {
              opacity: 0.85;
            }
            .rbc-toolbar {
              padding: 12px;
              margin-bottom: 12px;
              background-color: #f9fafb;
              border-radius: 8px;
            }
            .dark .rbc-toolbar {
              background-color: #1f2937;
            }
            .rbc-toolbar button {
              color: #374151;
              border: 1px solid #d1d5db;
              padding: 6px 12px;
              border-radius: 6px;
              background-color: white;
              font-weight: 500;
            }
            .dark .rbc-toolbar button {
              color: #d1d5db;
              border-color: #4b5563;
              background-color: #374151;
            }
            .rbc-toolbar button:hover {
              background-color: #f3f4f6;
            }
            .dark .rbc-toolbar button:hover {
              background-color: #4b5563;
            }
            .rbc-toolbar button.rbc-active {
              background-color: #2563eb;
              color: white;
              border-color: #2563eb;
            }
            .dark .rbc-toolbar button.rbc-active {
              background-color: #3b82f6;
              border-color: #3b82f6;
            }
            .rbc-time-slot {
              border-top: 1px solid #f3f4f6;
            }
            .dark .rbc-time-slot {
              border-top-color: #374151;
            }
            .rbc-day-slot .rbc-time-slot {
              border-top: 1px solid #f3f4f6;
            }
            .dark .rbc-day-slot .rbc-time-slot {
              border-top-color: #374151;
            }
            .rbc-time-content {
              border-top: 1px solid #e5e7eb;
            }
            .dark .rbc-time-content {
              border-top-color: #374151;
            }
            .rbc-time-header-content {
              border-left: 1px solid #e5e7eb;
            }
            .dark .rbc-time-header-content {
              border-left-color: #374151;
            }
            .rbc-day-bg + .rbc-day-bg {
              border-left: 1px solid #e5e7eb;
            }
            .dark .rbc-day-bg + .rbc-day-bg {
              border-left-color: #374151;
            }
            .rbc-month-row + .rbc-month-row {
              border-top: 1px solid #e5e7eb;
            }
            .dark .rbc-month-row + .rbc-month-row {
              border-top-color: #374151;
            }
            .rbc-date-cell {
              padding: 6px;
            }
            .dark .rbc-date-cell {
              color: #d1d5db;
            }
            .rbc-off-range {
              color: #9ca3af;
            }
            .dark .rbc-off-range {
              color: #6b7280;
            }
          `}),i.jsx(eH,{localizer:gtt,events:u,startAccessor:"start",endAccessor:"end",view:o,onView:l,date:c,onNavigate:d,eventPropGetter:m,onSelectEvent:h,messages:{next:"Próximo",previous:"Anterior",today:"Hoje",month:"Mês",week:"Semana",day:"Dia",agenda:"Agenda",date:"Data",time:"Hora",event:"Post",noEventsInRange:"Nenhum post agendado neste período.",showMore:g=>`+ ${g} post${g>1?"s":""}`},culture:"pt-BR",style:{height:"100%"}})]})]})}const ytt=t_({content:wl().min(10,"Conteúdo deve ter pelo menos 10 caracteres"),platform:qh(["instagram","facebook","linkedin","email","website"]).optional(),audience:wl().optional(),goal:qh(["engagement","conversion","awareness","education"]).optional(),provider:qh(["groq","openrouter","deepseek","mistral","qwen","ollama"]),model:wl()}),j7={groq:["mixtral-8x7b-32768","llama-3.1-70b-versatile","llama-3.1-8b-instant"],openrouter:["meta-llama/llama-3.1-70b-instruct","anthropic/claude-3.5-sonnet","google/gemini-pro-1.5"],deepseek:["deepseek-chat","deepseek-coder"],mistral:["mistral-large-latest","mistral-medium-latest","mistral-small-latest"],qwen:["qwen-turbo","qwen-plus","qwen-max"],ollama:["llama3.1","mistral","codellama"]};function btt(){var v;const[e,t]=k.useState(!1),[r,a]=k.useState(""),[n,s]=k.useState([]),[o,l]=k.useState(!1),{register:c,handleSubmit:d,watch:f,setValue:u,formState:{errors:m}}=XE({resolver:ZE(ytt),defaultValues:{content:"",platform:"instagram",audience:"",goal:"engagement",provider:"groq",model:"mixtral-8x7b-32768"}}),h=f("provider"),g=f("content"),p=async b=>{var y;try{t(!0),a(""),s([]);const w=await Vo.optimizeCopy({content:b.content,platform:b.platform,audience:b.audience,goal:b.goal});(y=w.outputData)!=null&&y.optimizedContent&&a(w.outputData.optimizedContent),w.suggestions&&s(w.suggestions),Le.success("Conteúdo otimizado com sucesso!")}catch(w){console.error("Erro ao otimizar conteúdo:",w),Le.error("Erro ao otimizar conteúdo")}finally{t(!1)}},x=b=>{navigator.clipboard.writeText(b),l(!0),Le.success("Copiado para área de transferência!"),setTimeout(()=>l(!1),2e3)};return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(df,{className:"text-primary-600",size:20}),"Otimizar Copy com IA"]}),i.jsxs("form",{onSubmit:d(p),className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Provider *"}),i.jsxs("select",{...c("provider"),onChange:b=>{u("provider",b.target.value);const y=j7[b.target.value];y.length>0&&u("model",y[0])},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",children:[i.jsx("option",{value:"groq",children:"Groq"}),i.jsx("option",{value:"openrouter",children:"OpenRouter"}),i.jsx("option",{value:"deepseek",children:"DeepSeek"}),i.jsx("option",{value:"mistral",children:"Mistral"}),i.jsx("option",{value:"qwen",children:"Qwen"}),i.jsx("option",{value:"ollama",children:"Ollama (Local)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Modelo *"}),i.jsx("select",{...c("model"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",children:(v=j7[h])==null?void 0:v.map(b=>i.jsx("option",{value:b,children:b},b))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Conteúdo Original *"}),i.jsx("textarea",{...c("content"),rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600 resize-none",placeholder:"Cole ou digite o texto que deseja otimizar..."}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[m.content&&i.jsx("p",{className:"text-sm text-red-600",children:m.content.message}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 ml-auto",children:[(g==null?void 0:g.length)||0," caracteres"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Plataforma"}),i.jsxs("select",{...c("platform"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",children:[i.jsx("option",{value:"instagram",children:"Instagram"}),i.jsx("option",{value:"facebook",children:"Facebook"}),i.jsx("option",{value:"linkedin",children:"LinkedIn"}),i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"website",children:"Website"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Objetivo"}),i.jsxs("select",{...c("goal"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",children:[i.jsx("option",{value:"engagement",children:"Engajamento"}),i.jsx("option",{value:"conversion",children:"Conversão"}),i.jsx("option",{value:"awareness",children:"Consciência"}),i.jsx("option",{value:"education",children:"Educação"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Público-Alvo (Opcional)"}),i.jsx("input",{type:"text",...c("audience"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",placeholder:"Ex: Mulheres 25-40 anos interessadas em beleza"})]}),i.jsx("button",{type:"submit",disabled:e,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:e?i.jsxs(i.Fragment,{children:[i.jsx(ix,{className:"animate-spin",size:20}),"Otimizando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(df,{size:20}),"Otimizar com IA"]})})]})]})}),i.jsxs("div",{className:"space-y-6",children:[r&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(ba,{className:"text-green-600",size:20}),"Conteúdo Otimizado"]}),i.jsx("button",{onClick:()=>x(r),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm",children:o?i.jsxs(i.Fragment,{children:[i.jsx(ba,{size:16}),"Copiado!"]}):i.jsxs(i.Fragment,{children:[i.jsx(f6,{size:16}),"Copiar"]})})]}),i.jsx("div",{className:"prose dark:prose-invert max-w-none",children:i.jsx("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:r})})]}),n.length>0&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Sugestões de Melhoria"}),i.jsx("ul",{className:"space-y-3",children:n.map((b,y)=>i.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 flex items-center justify-center font-medium text-xs",children:y+1}),i.jsx("span",{children:b})]},y))})]}),!r&&!e&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-12 shadow-sm border border-gray-200 dark:border-gray-700 text-center",children:[i.jsx(df,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aguardando otimização"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:'Preencha o formulário e clique em "Otimizar com IA" para ver os resultados'})]}),e&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-12 shadow-sm border border-gray-200 dark:border-gray-700 text-center",children:[i.jsx(ix,{className:"h-16 w-16 text-primary-600 mx-auto mb-4 animate-spin"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Otimizando conteúdo..."}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"A IA está analisando e melhorando seu texto"})]})]})]})}const wtt={sentiment:i.jsx(Do,{size:16,className:"text-blue-600"}),optimization:i.jsx(Zs,{size:16,className:"text-yellow-600"}),prediction:i.jsx(Wm,{size:16,className:"text-purple-600"}),copywriting:i.jsx("span",{className:"text-green-600",children:"✍️"}),image_gen:i.jsx("span",{className:"text-pink-600",children:"🎨"})},ktt={sentiment:"Análise de Sentimento",optimization:"Otimização",prediction:"Predição",copywriting:"Copywriting",image_gen:"Geração de Imagem"},jtt={groq:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",openrouter:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",deepseek:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",mistral:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300",qwen:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300",ollama:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};function Ntt({refreshTrigger:e}){const[t,r]=k.useState([]),[a,n]=k.useState(!0),[s,o]=k.useState("all");k.useEffect(()=>{l()},[e]);const l=async()=>{try{n(!0);const d={};s!=="all"&&(d.analysisType=s);const f=await Vo.getAIAnalyses(d);r(f)}catch(d){console.error("Erro ao carregar análises:",d),Le.error("Erro ao carregar histórico de análises")}finally{n(!1)}};k.useEffect(()=>{l()},[s]);const c=d=>d?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"USD",minimumFractionDigits:4}).format(d):"N/A";return a?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Histórico de Análises (",t.length,")"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Filtrar:"}),i.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-600",children:[i.jsx("option",{value:"all",children:"Todos os tipos"}),i.jsx("option",{value:"sentiment",children:"Sentimento"}),i.jsx("option",{value:"optimization",children:"Otimização"}),i.jsx("option",{value:"prediction",children:"Predição"}),i.jsx("option",{value:"copywriting",children:"Copywriting"}),i.jsx("option",{value:"image_gen",children:"Geração de Imagem"})]})]})]})}),i.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:i.jsx(Zs,{size:48,className:"mx-auto opacity-50"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nenhuma análise encontrada"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:s==="all"?"Comece usando a IA para otimizar seus conteúdos":"Nenhuma análise deste tipo foi realizada ainda"})]}):t.map(d=>i.jsxs("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700",children:wtt[d.analysisType]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:ktt[d.analysisType]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${jtt[d.aiProvider]}`,children:d.aiProvider}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.aiModel})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(ka,{size:14}),Es(new Date(d.createdAt),"dd/MM/yyyy HH:mm",{locale:_s})]}),d.score&&i.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white mt-1",children:["Score: ",d.score,"/100"]})]})]}),d.inputData&&i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Entrada:"}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",children:typeof d.inputData=="object"?JSON.stringify(d.inputData).substring(0,200):d.inputData})]}),d.outputData&&i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Resultado:"}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-3",children:typeof d.outputData=="object"?JSON.stringify(d.outputData).substring(0,200):d.outputData})]}),d.suggestions&&d.suggestions.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase mb-2",children:"Sugestões:"}),i.jsxs("ul",{className:"space-y-1",children:[d.suggestions.slice(0,3).map((f,u)=>i.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-start gap-2",children:[i.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"•"}),i.jsx("span",{className:"line-clamp-1",children:f})]},u)),d.suggestions.length>3&&i.jsxs("li",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",d.suggestions.length-3," mais sugestões"]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:[d.tokensUsed&&i.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(Zs,{size:14}),i.jsxs("span",{children:[d.tokensUsed.toLocaleString("pt-BR")," tokens"]})]}),d.cost&&i.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(Ba,{size:14}),i.jsx("span",{children:c(d.cost)})]}),d.processingTimeMs&&i.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(ka,{size:14}),i.jsxs("span",{children:[d.processingTimeMs,"ms"]})]})]})]},d.id))})]})}const Stt=()=>{const[e,t]=k.useState([]),[r,a]=k.useState(null),[n,s]=k.useState(!0),[o,l]=k.useState("week");k.useEffect(()=>{c()},[o]);const c=async()=>{try{s(!0);const p=new Date;let x=new Date;o==="today"?x.setHours(0,0,0,0):o==="week"?x.setDate(p.getDate()-7):x.setMonth(p.getMonth()-1);const[v,b]=await Promise.all([me.get("/marketing/ai/usage-stats",{params:{startDate:x.toISOString(),endDate:p.toISOString()}}),me.get("/marketing/ai/rate-limits")]);v.data.success&&t(v.data.data),b.data.success&&a(b.data.data)}catch(p){console.error("Erro ao buscar dados:",p),Le.error("Erro ao carregar dashboard")}finally{s(!1)}},d=()=>{const p={};return e.forEach(x=>{p[x.provider]||(p[x.provider]={requests:0,tokens:0,cost:0}),p[x.provider].requests+=parseInt(x.total_requests.toString()),p[x.provider].tokens+=parseInt(x.total_tokens.toString()),p[x.provider].cost+=parseFloat(x.total_cost_usd.toString())}),p},f=()=>e.reduce((p,x)=>({requests:p.requests+parseInt(x.total_requests.toString()),tokens:p.tokens+parseInt(x.total_tokens.toString()),cost:p.cost+parseFloat(x.total_cost_usd.toString()),avgResponseTime:(p.avgResponseTime+parseFloat(x.avg_response_time_ms.toString()))/2}),{requests:0,tokens:0,cost:0,avgResponseTime:0}),u=(p,x)=>Math.min(p/x*100,100),m=p=>p>=90?"text-red-600 bg-red-100":p>=70?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100",h=f(),g=d();return n?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(lx,{className:"w-6 h-6 text-blue-600"}),"Dashboard de Uso de IAs"]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Monitore o uso, custos e performance das IAs"})]}),i.jsx("div",{className:"flex gap-2",children:["today","week","month"].map(p=>i.jsx("button",{onClick:()=>l(p),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===p?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p==="today"?"Hoje":p==="week"?"Última Semana":"Último Mês"},p))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Zs,{className:"w-6 h-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Requisições"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.requests.toLocaleString()})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:i.jsx(Do,{className:"w-6 h-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tokens Usados"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.tokens.toLocaleString()})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(Ba,{className:"w-6 h-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Custo Total"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",h.cost.toFixed(4)]})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:i.jsx(ka,{className:"w-6 h-6 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tempo Médio"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[h.avgResponseTime.toFixed(0),"ms"]})]})]})})]}),r&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(rs,{className:"w-5 h-5 text-yellow-600"}),"Limites de Uso"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Requisições / Hora"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[r.current_requests_hour," / ",r.max_requests_per_hour]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all ${m(u(r.current_requests_hour,r.max_requests_per_hour))}`,style:{width:`${u(r.current_requests_hour,r.max_requests_per_hour)}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tokens / Dia"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[r.current_tokens_day.toLocaleString()," /"," ",r.max_tokens_per_day.toLocaleString()]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all ${m(u(r.current_tokens_day,r.max_tokens_per_day))}`,style:{width:`${u(r.current_tokens_day,r.max_tokens_per_day)}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Custo / Mês"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",parseFloat(r.current_cost_month_usd.toString()).toFixed(2)," / $",parseFloat(r.max_cost_per_month_usd.toString()).toFixed(2)]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all ${m(u(parseFloat(r.current_cost_month_usd.toString()),parseFloat(r.max_cost_per_month_usd.toString())))}`,style:{width:`${u(parseFloat(r.current_cost_month_usd.toString()),parseFloat(r.max_cost_per_month_usd.toString()))}%`}})})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Uso por Provedor"}),i.jsx("div",{className:"space-y-4",children:Object.entries(g).map(([p,x])=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:p}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.requests," requisições • ",x.tokens.toLocaleString()," tokens"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:["$",x.cost.toFixed(4)]}),i.jsx("p",{className:"text-xs text-gray-500",children:"custo total"})]})]},p))})]})]})};var QJ={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,a)=>{e.exports=a()})(ms,function r(){var a=typeof self<"u"?self:typeof window<"u"?window:a!==void 0?a:{},n,s=!a.document&&!!a.postMessage,o=a.IS_PAPA_WORKER||!1,l={},c=0,d={};function f(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var T=j(S);T.chunkSize=parseInt(T.chunkSize),S.step||S.chunk||(T.chunkSize=null),this._handle=new p(T),(this._handle.streamer=this)._config=T}).call(this,C),this.parseChunk=function(S,T){var _=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<_){let D=this._config.newline;D||(M=this._config.quoteChar||'"',D=this._handle.guessLineEndings(S,M)),S=[...S.split(D).slice(_)].join(D)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(M=this._config.beforeFirstChunk(S))!==void 0&&(S=M),this.isFirstChunk=!1,this._halted=!1;var _=this._partialLine+S,M=(this._partialLine="",this._handle.parse(_,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=M.meta.cursor,_=(this._finished||(this._partialLine=_.substring(S-this._baseIndex),this._baseIndex=S),M&&M.data&&(this._rowCount+=M.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)a.postMessage({results:M,workerId:d.WORKER_ID,finished:_});else if(A(this._config.chunk)&&!T){if(this._config.chunk(M,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=M=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(M.data),this._completeResults.errors=this._completeResults.errors.concat(M.errors),this._completeResults.meta=M.meta),this._completed||!_||!A(this._config.complete)||M&&M.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),_||M&&M.meta.paused||this._nextChunk(),M}this._halted=!0},this._sendError=function(S){A(this._config.error)?this._config.error(S):o&&this._config.error&&a.postMessage({workerId:d.WORKER_ID,error:S,finished:!1})}}function u(C){var S;(C=C||{}).chunkSize||(C.chunkSize=d.RemoteChunkSize),f.call(this,C),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),s||(S.onload=E(this._chunkLoaded,this),S.onerror=E(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var T,_=this._config.downloadRequestHeaders;for(T in _)S.setRequestHeader(T,_[T])}var M;this._config.chunkSize&&(M=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+M));try{S.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}s&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(T=>(T=T.getResponseHeader("Content-Range"))!==null?parseInt(T.substring(T.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(T){T=S.statusText||T,this._sendError(new Error(T))}}function m(C){(C=C||{}).chunkSize||(C.chunkSize=d.LocalChunkSize),f.call(this,C);var S,T,_=typeof FileReader<"u";this.stream=function(M){this._input=M,T=M.slice||M.webkitSlice||M.mozSlice,_?((S=new FileReader).onload=E(this._chunkLoaded,this),S.onerror=E(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var M=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),M=T.call(M,this._start,D)),S.readAsText(M,this._config.encoding));_||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(M){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(M.target.result)},this._chunkError=function(){this._sendError(S.error)}}function h(C){var S;f.call(this,C=C||{}),this.stream=function(T){return S=T,this._nextChunk()},this._nextChunk=function(){var T,_;if(!this._finished)return T=this._config.chunkSize,S=T?(_=S.substring(0,T),S.substring(T)):(_=S,""),this._finished=!S,this.parseChunk(_)}}function g(C){f.call(this,C=C||{});var S=[],T=!0,_=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(M){this._input=M,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){_&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):T=!0},this._streamData=E(function(M){try{S.push(typeof M=="string"?M:M.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(D){this._streamError(D)}},this),this._streamError=E(function(M){this._streamCleanUp(),this._sendError(M)},this),this._streamEnd=E(function(){this._streamCleanUp(),_=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(C){var S,T,_,M,D=Math.pow(2,53),O=-D,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,q=this,K=0,G=0,ve=!1,fe=!1,I=[],z={data:[],errors:[],meta:{}};function H(Y){return C.skipEmptyLines==="greedy"?Y.join("").trim()==="":Y.length===1&&Y[0].length===0}function J(){if(z&&_&&(W("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),_=!1),C.skipEmptyLines&&(z.data=z.data.filter(function(pe){return!H(pe)})),te()){let pe=function(F,Te){A(C.transformHeader)&&(F=C.transformHeader(F,Te)),I.push(F)};if(z)if(Array.isArray(z.data[0])){for(var Y=0;te()&&Y<z.data.length;Y++)z.data[Y].forEach(pe);z.data.splice(0,1)}else z.data.forEach(pe)}function Q(pe,F){for(var Te=C.header?{}:[],xe=0;xe<pe.length;xe++){var se=xe,We=pe[xe],We=((Se,Fe)=>(he=>(C.dynamicTypingFunction&&C.dynamicTyping[he]===void 0&&(C.dynamicTyping[he]=C.dynamicTypingFunction(he)),(C.dynamicTyping[he]||C.dynamicTyping)===!0))(Se)?Fe==="true"||Fe==="TRUE"||Fe!=="false"&&Fe!=="FALSE"&&((he=>{if(B.test(he)&&(he=parseFloat(he),O<he&&he<D))return 1})(Fe)?parseFloat(Fe):U.test(Fe)?new Date(Fe):Fe===""?null:Fe):Fe)(se=C.header?xe>=I.length?"__parsed_extra":I[xe]:se,We=C.transform?C.transform(We,se):We);se==="__parsed_extra"?(Te[se]=Te[se]||[],Te[se].push(We)):Te[se]=We}return C.header&&(xe>I.length?W("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+xe,G+F):xe<I.length&&W("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+xe,G+F)),Te}var ne;z&&(C.header||C.dynamicTyping||C.transform)&&(ne=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(Q),ne=z.data.length):z.data=Q(z.data,0),C.header&&z.meta&&(z.meta.fields=I),G+=ne)}function te(){return C.header&&I.length===0}function W(Y,Q,ne,pe){Y={type:Y,code:Q,message:ne},pe!==void 0&&(Y.row=pe),z.errors.push(Y)}A(C.step)&&(M=C.step,C.step=function(Y){z=Y,te()?J():(J(),z.data.length!==0&&(K+=Y.data.length,C.preview&&K>C.preview?T.abort():(z.data=z.data[0],M(z,q))))}),this.parse=function(Y,Q,ne){var pe=C.quoteChar||'"',pe=(C.newline||(C.newline=this.guessLineEndings(Y,pe)),_=!1,C.delimiter?A(C.delimiter)&&(C.delimiter=C.delimiter(Y),z.meta.delimiter=C.delimiter):((pe=((F,Te,xe,se,We)=>{var Se,Fe,he,ie;We=We||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var de=0;de<We.length;de++){for(var Ae,ze=We[de],Ce=0,_e=0,Ve=0,Ie=(he=void 0,new v({comments:se,delimiter:ze,newline:Te,preview:10}).parse(F)),Re=0;Re<Ie.data.length;Re++)xe&&H(Ie.data[Re])?Ve++:(Ae=Ie.data[Re].length,_e+=Ae,he===void 0?he=Ae:0<Ae&&(Ce+=Math.abs(Ae-he),he=Ae));0<Ie.data.length&&(_e/=Ie.data.length-Ve),(Fe===void 0||Ce<=Fe)&&(ie===void 0||ie<_e)&&1.99<_e&&(Fe=Ce,Se=ze,ie=_e)}return{successful:!!(C.delimiter=Se),bestDelimiter:Se}})(Y,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=pe.bestDelimiter:(_=!0,C.delimiter=d.DefaultDelimiter),z.meta.delimiter=C.delimiter),j(C));return C.preview&&C.header&&pe.preview++,S=Y,T=new v(pe),z=T.parse(S,Q,ne),J(),ve?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return ve},this.pause=function(){ve=!0,T.abort(),S=A(C.chunk)?"":S.substring(T.getCharIndex())},this.resume=function(){q.streamer._halted?(ve=!1,q.streamer.parseChunk(S,!0)):setTimeout(q.resume,3)},this.aborted=function(){return fe},this.abort=function(){fe=!0,T.abort(),z.meta.aborted=!0,A(C.complete)&&C.complete(z),S=""},this.guessLineEndings=function(F,pe){F=F.substring(0,1048576);var pe=new RegExp(x(pe)+"([^]*?)"+x(pe),"gm"),ne=(F=F.replace(pe,"")).split("\r"),pe=F.split(`
`),F=1<pe.length&&pe[0].length<ne[0].length;if(ne.length===1||F)return`
`;for(var Te=0,xe=0;xe<ne.length;xe++)ne[xe][0]===`
`&&Te++;return Te>=ne.length/2?`\r
`:"\r"}}function x(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(C){var S=(C=C||{}).delimiter,T=C.newline,_=C.comments,M=C.step,D=C.preview,O=C.fastMode,B=null,U=!1,q=C.quoteChar==null?'"':C.quoteChar,K=q;if(C.escapeChar!==void 0&&(K=C.escapeChar),(typeof S!="string"||-1<d.BAD_DELIMITERS.indexOf(S))&&(S=","),_===S)throw new Error("Comment character same as delimiter");_===!0?_="#":(typeof _!="string"||-1<d.BAD_DELIMITERS.indexOf(_))&&(_=!1),T!==`
`&&T!=="\r"&&T!==`\r
`&&(T=`
`);var G=0,ve=!1;this.parse=function(fe,I,z){if(typeof fe!="string")throw new Error("Input must be a string");var H=fe.length,J=S.length,te=T.length,W=_.length,Y=A(M),Q=[],ne=[],pe=[],F=G=0;if(!fe)return Ce();if(O||O!==!1&&fe.indexOf(q)===-1){for(var Te=fe.split(T),xe=0;xe<Te.length;xe++){if(pe=Te[xe],G+=pe.length,xe!==Te.length-1)G+=T.length;else if(z)return Ce();if(!_||pe.substring(0,W)!==_){if(Y){if(Q=[],ie(pe.split(S)),_e(),ve)return Ce()}else ie(pe.split(S));if(D&&D<=xe)return Q=Q.slice(0,D),Ce(!0)}}return Ce()}for(var se=fe.indexOf(S,G),We=fe.indexOf(T,G),Se=new RegExp(x(K)+x(q),"g"),Fe=fe.indexOf(q,G);;)if(fe[G]===q)for(Fe=G,G++;;){if((Fe=fe.indexOf(q,Fe+1))===-1)return z||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Q.length,index:G}),Ae();if(Fe===H-1)return Ae(fe.substring(G,Fe).replace(Se,q));if(q===K&&fe[Fe+1]===K)Fe++;else if(q===K||Fe===0||fe[Fe-1]!==K){se!==-1&&se<Fe+1&&(se=fe.indexOf(S,Fe+1));var he=de((We=We!==-1&&We<Fe+1?fe.indexOf(T,Fe+1):We)===-1?se:Math.min(se,We));if(fe.substr(Fe+1+he,J)===S){pe.push(fe.substring(G,Fe).replace(Se,q)),fe[G=Fe+1+he+J]!==q&&(Fe=fe.indexOf(q,G)),se=fe.indexOf(S,G),We=fe.indexOf(T,G);break}if(he=de(We),fe.substring(Fe+1+he,Fe+1+he+te)===T){if(pe.push(fe.substring(G,Fe).replace(Se,q)),ze(Fe+1+he+te),se=fe.indexOf(S,G),Fe=fe.indexOf(q,G),Y&&(_e(),ve))return Ce();if(D&&Q.length>=D)return Ce(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Q.length,index:G}),Fe++}}else if(_&&pe.length===0&&fe.substring(G,G+W)===_){if(We===-1)return Ce();G=We+te,We=fe.indexOf(T,G),se=fe.indexOf(S,G)}else if(se!==-1&&(se<We||We===-1))pe.push(fe.substring(G,se)),G=se+J,se=fe.indexOf(S,G);else{if(We===-1)break;if(pe.push(fe.substring(G,We)),ze(We+te),Y&&(_e(),ve))return Ce();if(D&&Q.length>=D)return Ce(!0)}return Ae();function ie(Ve){Q.push(Ve),F=G}function de(Ve){var Ie=0;return Ie=Ve!==-1&&(Ve=fe.substring(Fe+1,Ve))&&Ve.trim()===""?Ve.length:Ie}function Ae(Ve){return z||(Ve===void 0&&(Ve=fe.substring(G)),pe.push(Ve),G=H,ie(pe),Y&&_e()),Ce()}function ze(Ve){G=Ve,ie(pe),pe=[],We=fe.indexOf(T,G)}function Ce(Ve){if(C.header&&!I&&Q.length&&!U){var Ie=Q[0],Re=Object.create(null),Ee=new Set(Ie);let Be=!1;for(let Pe=0;Pe<Ie.length;Pe++){let it=Ie[Pe];if(Re[it=A(C.transformHeader)?C.transformHeader(it,Pe):it]){let ft,st=Re[it];for(;ft=it+"_"+st,st++,Ee.has(ft););Ee.add(ft),Ie[Pe]=ft,Re[it]++,Be=!0,(B=B===null?{}:B)[ft]=it}else Re[it]=1,Ie[Pe]=it;Ee.add(it)}Be&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:Q,errors:ne,meta:{delimiter:S,linebreak:T,aborted:ve,truncated:!!Ve,cursor:F+(I||0),renamedHeaders:B}}}function _e(){M(Ce()),Q=[],ne=[]}},this.abort=function(){ve=!0},this.getCharIndex=function(){return G}}function b(C){var S=C.data,T=l[S.workerId],_=!1;if(S.error)T.userError(S.error,S.file);else if(S.results&&S.results.data){var M={abort:function(){_=!0,y(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(A(T.userStep)){for(var D=0;D<S.results.data.length&&(T.userStep({data:S.results.data[D],errors:S.results.errors,meta:S.results.meta},M),!_);D++);delete S.results}else A(T.userChunk)&&(T.userChunk(S.results,M,S.file),delete S.results)}S.finished&&!_&&y(S.workerId,S.results)}function y(C,S){var T=l[C];A(T.userComplete)&&T.userComplete(S),T.terminate(),delete l[C]}function w(){throw new Error("Not implemented.")}function j(C){if(typeof C!="object"||C===null)return C;var S,T=Array.isArray(C)?[]:{};for(S in C)T[S]=j(C[S]);return T}function E(C,S){return function(){C.apply(S,arguments)}}function A(C){return typeof C=="function"}return d.parse=function(C,S){var T=(S=S||{}).dynamicTyping||!1;if(A(T)&&(S.dynamicTypingFunction=T,T={}),S.dynamicTyping=T,S.transform=!!A(S.transform)&&S.transform,!S.worker||!d.WORKERS_SUPPORTED)return T=null,d.NODE_STREAM_INPUT,typeof C=="string"?(C=(_=>_.charCodeAt(0)!==65279?_:_.slice(1))(C),T=new(S.download?u:h)(S)):C.readable===!0&&A(C.read)&&A(C.on)?T=new g(S):(a.File&&C instanceof File||C instanceof Object)&&(T=new m(S)),T.stream(C);(T=(()=>{var _;return!!d.WORKERS_SUPPORTED&&(_=(()=>{var M=a.URL||a.webkitURL||null,D=r.toString();return d.BLOB_URL||(d.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(_=new a.Worker(_)).onmessage=b,_.id=c++,l[_.id]=_)})()).userStep=S.step,T.userChunk=S.chunk,T.userComplete=S.complete,T.userError=S.error,S.step=A(S.step),S.chunk=A(S.chunk),S.complete=A(S.complete),S.error=A(S.error),delete S.worker,T.postMessage({input:C,config:S,workerId:T.id})},d.unparse=function(C,S){var T=!1,_=!0,M=",",D=`\r
`,O='"',B=O+O,U=!1,q=null,K=!1,G=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||d.BAD_DELIMITERS.filter(function(I){return S.delimiter.indexOf(I)!==-1}).length||(M=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(T=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(U=S.skipEmptyLines),typeof S.newline=="string"&&(D=S.newline),typeof S.quoteChar=="string"&&(O=S.quoteChar),typeof S.header=="boolean"&&(_=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");q=S.columns}S.escapeChar!==void 0&&(B=S.escapeChar+O),S.escapeFormulae instanceof RegExp?K=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(K=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(O),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return ve(null,C,U);if(typeof C[0]=="object")return ve(q||Object.keys(C[0]),C,U)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||q),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),ve(C.fields||[],C.data||[],U);throw new Error("Unable to serialize unrecognized input");function ve(I,z,H){var J="",te=(typeof I=="string"&&(I=JSON.parse(I)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(I)&&0<I.length),W=!Array.isArray(z[0]);if(te&&_){for(var Y=0;Y<I.length;Y++)0<Y&&(J+=M),J+=fe(I[Y],Y);0<z.length&&(J+=D)}for(var Q=0;Q<z.length;Q++){var ne=(te?I:z[Q]).length,pe=!1,F=te?Object.keys(z[Q]).length===0:z[Q].length===0;if(H&&!te&&(pe=H==="greedy"?z[Q].join("").trim()==="":z[Q].length===1&&z[Q][0].length===0),H==="greedy"&&te){for(var Te=[],xe=0;xe<ne;xe++){var se=W?I[xe]:xe;Te.push(z[Q][se])}pe=Te.join("").trim()===""}if(!pe){for(var We=0;We<ne;We++){0<We&&!F&&(J+=M);var Se=te&&W?I[We]:We;J+=fe(z[Q][Se],We)}Q<z.length-1&&(!H||0<ne&&!F)&&(J+=D)}}return J}function fe(I,z){var H,J;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(J=!1,K&&typeof I=="string"&&K.test(I)&&(I="'"+I,J=!0),H=I.toString().replace(G,B),(J=J||T===!0||typeof T=="function"&&T(I,z)||Array.isArray(T)&&T[z]||((te,W)=>{for(var Y=0;Y<W.length;Y++)if(-1<te.indexOf(W[Y]))return!0;return!1})(H,d.BAD_DELIMITERS)||-1<H.indexOf(M)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?O+H+O:H)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!s&&!!a.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=v,d.ParserHandle=p,d.NetworkStreamer=u,d.FileStreamer=m,d.StringStreamer=h,d.ReadableStreamStreamer=g,a.jQuery&&((n=a.jQuery).fn.parse=function(C){var S=C.config||{},T=[];return this.each(function(D){if(!(n(this).prop("tagName").toUpperCase()==="INPUT"&&n(this).attr("type").toLowerCase()==="file"&&a.FileReader)||!this.files||this.files.length===0)return!0;for(var O=0;O<this.files.length;O++)T.push({file:this.files[O],inputElem:this,instanceConfig:n.extend({},S)})}),_(),this;function _(){if(T.length===0)A(C.complete)&&C.complete();else{var D,O,B,U,q=T[0];if(A(C.before)){var K=C.before(q.file,q.inputElem);if(typeof K=="object"){if(K.action==="abort")return D="AbortError",O=q.file,B=q.inputElem,U=K.reason,void(A(C.error)&&C.error({name:D},O,B,U));if(K.action==="skip")return void M();typeof K.config=="object"&&(q.instanceConfig=n.extend(q.instanceConfig,K.config))}else if(K==="skip")return void M()}var G=q.instanceConfig.complete;q.instanceConfig.complete=function(ve){A(G)&&G(ve,q.file,q.inputElem),M()},d.parse(q.file,q.instanceConfig)}}function M(){T.splice(0,1),_()}}),o&&(a.onmessage=function(C){C=C.data,d.WORKER_ID===void 0&&C&&(d.WORKER_ID=C.workerId),typeof C.input=="string"?a.postMessage({workerId:d.WORKER_ID,results:d.parse(C.input,C.config),finished:!0}):(a.File&&C.input instanceof File||C.input instanceof Object)&&(C=d.parse(C.input,C.config))&&a.postMessage({workerId:d.WORKER_ID,results:C,finished:!0})}),(u.prototype=Object.create(f.prototype)).constructor=u,(m.prototype=Object.create(f.prototype)).constructor=m,(h.prototype=Object.create(h.prototype)).constructor=h,(g.prototype=Object.create(f.prototype)).constructor=g,d})})(QJ);var Ctt=QJ.exports;const Att=Lr(Ctt),Ett=t_({name:wl().min(3,"Nome deve ter pelo menos 3 caracteres"),platform:qh(["whatsapp","instagram_dm","email"]),content:wl().min(10,"Mensagem deve ter pelo menos 10 caracteres"),scheduledDate:wl().optional(),scheduledTime:wl().optional()}),_tt={whatsapp:"💬",instagram_dm:"📷",email:"📧"},Mtt={whatsapp:"WhatsApp",instagram_dm:"Instagram DM",email:"Email"};function Ltt({message:e,isOpen:t,onClose:r,onSuccess:a}){const[n,s]=k.useState(!1),[o,l]=k.useState([]),[c,d]=k.useState([]),[f,u]=k.useState(!1),[m,h]=k.useState(""),[g,p]=k.useState([]),[x,v]=k.useState(""),[b,y]=k.useState(!1),[w,j]=k.useState([]),[E,A]=k.useState(null),[C,S]=k.useState(!1),[T,_]=k.useState(!1),[M,D]=k.useState(""),[O,B]=k.useState(!1),[U,q]=k.useState(""),[K,G]=k.useState(!1),[ve,fe]=k.useState(""),[I,z]=k.useState(1),[H,J]=k.useState(5),[te,W]=k.useState("immediate"),{register:Y,handleSubmit:Q,watch:ne,formState:{errors:pe},reset:F}=XE({resolver:ZE(Ett),defaultValues:e?{name:e.name,platform:e.platform,content:e.content,scheduledDate:e.scheduledAt?new Date(e.scheduledAt).toISOString().split("T")[0]:"",scheduledTime:e.scheduledAt?new Date(e.scheduledAt).toTimeString().split(" ")[0].substring(0,5):""}:{name:"",platform:"whatsapp",content:"",scheduledDate:"",scheduledTime:""}}),Te=ne("content"),xe=ne("platform");k.useEffect(()=>{t&&(se(),We())},[t]);const se=async()=>{try{const Ie=await Qn.getLeads();l(Ie)}catch(Ie){console.error("Erro ao carregar leads:",Ie),Le.error("Erro ao carregar leads")}},We=async()=>{y(!0);try{const Re=await(await fetch("/api/marketing/waha/sessions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(Re.success){const Ee=Re.data.filter(Pe=>Pe.status==="working");p(Ee);const Be=Ee.find(Pe=>Pe.isPrimary);Be&&v(Be.id)}}catch(Ie){console.error("Erro ao buscar sessões WAHA:",Ie),Le.error("Erro ao carregar sessões WhatsApp")}finally{y(!1)}},Se=Ie=>{const Re=Ie.replace(/\D/g,"");if(!Re.startsWith("55"))return{isValid:!1,cleaned:Re,error:"Falta código do país (+55)"};const Ee=Re.substring(2);if(Ee.length<2)return{isValid:!1,cleaned:Re,error:"DDD incompleto"};const Be=Ee.substring(0,2),Pe=Ee.substring(2);return Pe.length===9&&Pe[0]==="9"?{isValid:!0,cleaned:`+55${Be}${Pe}`}:Pe.length===8?{isValid:!0,cleaned:`+55${Be}${Pe}`}:{isValid:!1,cleaned:Re,error:"Número deve ter 8 ou 9 dígitos"}},Fe=Ie=>{S(!0),A(Ie),Att.parse(Ie,{header:!0,skipEmptyLines:!0,complete:Re=>{const Ee=Re.data.map(it=>{const ft=it.nome||it.name||it.Name||it.NOME||"",st=it.telefone||it.phone||it.Phone||it.TELEFONE||it.whatsapp||"",pt=Se(st);return{name:ft.trim(),phone:pt.cleaned,isValid:pt.isValid,error:pt.error}}),Be=Ee.filter(it=>it.isValid&&it.name);j(Be),Le.success(`${Be.length} contatos importados com sucesso!`);const Pe=Ee.length-Be.length;Pe>0&&Le.error(`${Pe} contatos foram ignorados (inválidos)`),S(!1)},error:Re=>{console.error("Erro ao processar CSV:",Re),Le.error("Erro ao processar arquivo CSV"),S(!1)}})},he=async Ie=>{if(Ie.size>5*1024*1024){Le.error("Imagem muito grande. Máximo 5MB");return}if(!Ie.type.startsWith("image/")){Le.error("Arquivo deve ser uma imagem");return}q(URL.createObjectURL(Ie)),G(!0);try{const Re=new FormData;Re.append("image",Ie);const Be=await(await fetch("/api/marketing/upload-image",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:Re})).json();Be.success?(fe(Be.url),Le.success("Imagem enviada com sucesso!")):(Le.error("Erro ao enviar imagem"),q(""))}catch(Re){console.error("Erro ao fazer upload:",Re),Le.error("Erro ao enviar imagem"),q("")}finally{G(!1)}},ie=async()=>{if(!M.trim()){Le.error("Digite uma instrução para a IA");return}_(!0);try{const Re=await(await fetch("/api/marketing/ai-assistant/generate-copy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({prompt:M,context:{platform:"whatsapp",audience:"leads",goal:"engagement"}})})).json();if(Re.success){const Ee=document.querySelector('textarea[name="content"]');Ee&&(Ee.value=Re.output.generatedText,Ee.dispatchEvent(new Event("input",{bubbles:!0}))),B(!1),D(""),Le.success("Mensagem gerada com sucesso!")}else Le.error(Re.message||"Erro ao gerar mensagem")}catch(Ie){console.error("Erro ao gerar com IA:",Ie),Le.error("Erro ao comunicar com a IA")}finally{_(!1)}},de=o.filter(Ie=>{var Re,Ee;return Ie.name.toLowerCase().includes(m.toLowerCase())||((Re=Ie.phone)==null?void 0:Re.includes(m))||((Ee=Ie.email)==null?void 0:Ee.toLowerCase().includes(m.toLowerCase()))}),Ae=Ie=>{d(Re=>Re.includes(Ie)?Re.filter(Ee=>Ee!==Ie):[...Re,Ie])},ze=()=>{d(f?[]:de.map(Ie=>Ie.id)),u(!f)},Ce=Ie=>{const Re=document.querySelector('textarea[name="content"]');if(Re){const Ee=Re.selectionStart,Be=Re.selectionEnd,Pe=Te||"",it=Pe.substring(0,Ee)+Ie+Pe.substring(Be);Re.value=it,Re.dispatchEvent(new Event("input",{bubbles:!0})),setTimeout(()=>{Re.focus(),Re.setSelectionRange(Ee+Ie.length,Ee+Ie.length)},0)}},_e=async Ie=>{if(!x&&xe==="whatsapp"){Le.error("Selecione uma sessão WhatsApp");return}if(w.length===0&&c.length===0){Le.error("Importe uma lista de contatos ou selecione leads");return}if(!Te.trim()){Le.error("Digite uma mensagem");return}if(te==="scheduled"&&(!Ie.scheduledDate||!Ie.scheduledTime)){Le.error("Selecione data e hora do agendamento");return}try{s(!0);let Re;te==="scheduled"&&Ie.scheduledDate&&Ie.scheduledTime&&(Re=new Date(`${Ie.scheduledDate}T${Ie.scheduledTime}`).toISOString());const Ee=w.length>0?w:c.map(it=>{const ft=o.find(st=>st.id===it);return{name:(ft==null?void 0:ft.name)||"",phone:(ft==null?void 0:ft.phone)||""}}),Pe=await(await fetch("/api/marketing/bulk-messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({sessionId:x,contacts:Ee,message:Te,imageUrl:ve||null,minDelaySeconds:I,maxDelaySeconds:H,scheduledFor:Re||null})})).json();Pe.success?(Le.success(te==="immediate"?`Disparo iniciado! ${Ee.length} mensagens na fila`:`Disparo agendado para ${new Date(Re).toLocaleString()}`),F(),j([]),d([]),u(!1),q(""),fe(""),A(null),h(""),W("immediate"),a(),r()):Le.error(Pe.message||"Erro ao criar disparo")}catch(Re){console.error("Erro ao criar disparo:",Re),Le.error("Erro ao comunicar com o servidor")}finally{s(!1)}},Ve=()=>{F(),d([]),u(!1),h(""),r()};return i.jsx($A,{open:t,onOpenChange:Ve,children:i.jsxs(UA,{children:[i.jsx(L4,{className:"fixed inset-0 bg-black/50 z-50"}),i.jsxs(T4,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] overflow-y-auto z-50 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx(I4,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e?"Editar Mensagem em Massa":"Nova Mensagem em Massa"}),i.jsx(WA,{asChild:!0,children:i.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Fechar",children:i.jsx(br,{size:24})})})]}),i.jsxs("form",{onSubmit:Q(_e),className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome da Campanha *"}),i.jsx("input",{type:"text",...Y("name"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",placeholder:"Ex: Promoção Black Friday"}),pe.name&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:pe.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Plataforma *"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:["whatsapp","instagram_dm","email"].map(Ie=>i.jsxs("label",{className:`flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition-all ${xe===Ie?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",value:Ie,...Y("platform"),className:"sr-only"}),i.jsx("span",{className:"text-2xl",children:_tt[Ie]}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Mtt[Ie]})]},Ie))})]}),xe==="whatsapp"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sessão WhatsApp *"}),b?i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),"Carregando sessões..."]}):g.length===0?i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Nenhuma sessão WhatsApp conectada."}),i.jsx("a",{href:"/integracoes-sociais",className:"text-sm text-blue-600 hover:underline mt-1 inline-block",children:"Configurar sessões WhatsApp →"})]}):i.jsxs("select",{value:x,onChange:Ie=>v(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-600 dark:bg-gray-700 dark:text-white",required:!0,children:[i.jsx("option",{value:"",children:"Selecione uma sessão"}),g.map(Ie=>i.jsxs("option",{value:Ie.id,children:[Ie.displayName," ",Ie.phoneNumber?`(${Ie.phoneNumber})`:"",Ie.status==="working"?" ✓":""]},Ie.id))]}),x&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Os disparos serão enviados através desta sessão WhatsApp"})]}),xe==="whatsapp"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Importar Lista de Contatos (CSV)"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[i.jsx("input",{type:"file",accept:".csv",onChange:Ie=>{var Re;(Re=Ie.target.files)!=null&&Re[0]&&Fe(Ie.target.files[0])},className:"hidden",id:"csv-upload",disabled:C}),i.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:[i.jsx(ox,{size:18}),"Selecionar Arquivo CSV"]}),C&&i.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Processando arquivo..."}),E&&!C&&i.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Arquivo: ",E.name]})]}),w.length>0&&i.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h4",{className:"font-medium text-green-800",children:["✓ ",w.length," contatos prontos para envio"]}),i.jsx("button",{type:"button",onClick:()=>j([]),className:"text-xs text-red-600 hover:underline",children:"Limpar lista"})]}),i.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[i.jsxs("table",{className:"w-full text-xs",children:[i.jsx("thead",{className:"bg-green-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-2",children:"Nome"}),i.jsx("th",{className:"text-left p-2",children:"Telefone"})]})}),i.jsx("tbody",{children:w.slice(0,10).map((Ie,Re)=>i.jsxs("tr",{className:"border-t border-green-200",children:[i.jsx("td",{className:"p-2",children:Ie.name}),i.jsx("td",{className:"p-2",children:Ie.phone})]},Re))})]}),w.length>10&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["... e mais ",w.length-10," contatos"]})]})]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[i.jsx("p",{className:"font-medium mb-1",children:"Formato do CSV:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["Colunas: ",i.jsx("code",{className:"bg-gray-100 px-1",children:"nome,telefone"})]}),i.jsx("li",{children:"Telefone: formato +5511999999999 ou 11999999999"}),i.jsx("li",{children:"Aceita 8 ou 9 dígitos (fixo ou celular)"})]}),i.jsx("a",{href:"/exemplo-contatos.csv",download:!0,className:"text-blue-600 hover:underline mt-1 inline-block",children:"Baixar arquivo de exemplo →"})]})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-2",children:"Variáveis disponíveis (clique para inserir):"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["{nome}","{telefone}","{email}","{empresa}"].map(Ie=>i.jsx("button",{type:"button",onClick:()=>Ce(Ie),className:"px-3 py-1 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded text-xs font-mono hover:bg-blue-200 dark:hover:bg-blue-700 transition-colors",children:Ie},Ie))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mensagem *"}),i.jsxs("button",{type:"button",onClick:()=>B(!0),className:"inline-flex items-center gap-1 px-3 py-1 text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600",children:[i.jsx(df,{size:14}),"Usar IA"]})]}),i.jsx("textarea",{...Y("content"),rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600 resize-none font-mono text-sm",placeholder:"Olá {nome}! Temos uma oferta especial para você..."}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[pe.content&&i.jsx("p",{className:"text-sm text-red-600",children:pe.content.message}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 ml-auto",children:[(Te==null?void 0:Te.length)||0," caracteres"]})]})]}),xe==="whatsapp"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Imagem (Opcional)"}),i.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4",children:U?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:U,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),K&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),!K&&i.jsx("button",{type:"button",onClick:()=>{q(""),fe("")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600",children:i.jsx(An,{size:16})})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:Ie=>{var Re;(Re=Ie.target.files)!=null&&Re[0]&&he(Ie.target.files[0])},className:"hidden",id:"image-upload",disabled:K}),i.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg",children:[i.jsx(Um,{size:18}),"Adicionar Imagem"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG ou GIF • Máx. 5MB"})]})})]}),xe==="whatsapp"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Intervalo entre Mensagens"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Mínimo (segundos)"}),i.jsx("input",{type:"number",value:I,onChange:Ie=>{const Re=Number(Ie.target.value);z(Math.max(1,Math.min(Re,H-1)))},min:1,max:60,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-600 dark:bg-gray-700 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Máximo (segundos)"}),i.jsx("input",{type:"number",value:H,onChange:Ie=>{const Re=Number(Ie.target.value);J(Math.max(I+1,Math.min(Re,60)))},min:1,max:60,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-600 dark:bg-gray-700 dark:text-white"})]})]}),i.jsxs("div",{className:"mt-2 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[i.jsxs("p",{className:"text-xs text-blue-800",children:["⏱️ Tempo aleatório entre ",i.jsxs("strong",{children:[I,"s"]})," e ",i.jsxs("strong",{children:[H,"s"]})," entre cada mensagem"]}),i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Tempo estimado total: ",Math.ceil((w.length||c.length)*(I+H)/2/60)," minutos"]})]})]}),xe==="whatsapp"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Quando Enviar?"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("input",{type:"radio",name:"sendMode",value:"immediate",checked:te==="immediate",onChange:()=>W("immediate"),className:"w-4 h-4 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Enviar Imediatamente"}),i.jsx("div",{className:"text-xs text-gray-500",children:'Os disparos começarão assim que você clicar em "Enviar"'})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("input",{type:"radio",name:"sendMode",value:"scheduled",checked:te==="scheduled",onChange:()=>W("scheduled"),className:"w-4 h-4 text-blue-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:"Agendar Envio"}),i.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Escolha data e hora para iniciar os disparos"})]})]})]})]}),(te==="scheduled"||xe!=="whatsapp")&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data de Envio (opcional)"}),i.jsx("input",{type:"date",...Y("scheduledDate"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Horário"}),i.jsx("input",{type:"time",...Y("scheduledTime"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600"})]})]})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ls,{size:18}),"Destinatários"]}),i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c.length," selecionados"]})]}),i.jsx("input",{type:"text",value:m,onChange:Ie=>h(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg text-sm mb-3",placeholder:"Buscar por nome, telefone..."}),i.jsxs("button",{type:"button",onClick:ze,className:"w-full flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm mb-3",children:[f?i.jsx(M7,{size:16}):i.jsx(I7,{size:16}),"Selecionar todos (",de.length,")"]}),i.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2",children:de.length===0?i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum lead encontrado"}):de.map(Ie=>i.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-all ${c.includes(Ie.id)?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[i.jsx("input",{type:"checkbox",checked:c.includes(Ie.id),onChange:()=>Ae(Ie.id),className:"mt-1"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:Ie.name}),Ie.phone&&i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:["📱 ",Ie.phone]}),Ie.email&&i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:["📧 ",Ie.email]})]})]},Ie.id))})]})})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:Ve,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:n||c.length===0&&w.length===0,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i.jsx(_u,{size:18}),n?"Salvando...":e?"Atualizar Mensagem":"Criar Mensagem"]})]})]}),O&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100]",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(df,{size:20,className:"text-purple-500"}),"Gerar Mensagem com IA"]}),i.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700",children:i.jsx(br,{size:20})})]}),i.jsx("textarea",{value:M,onChange:Ie=>D(Ie.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white mb-4",placeholder:"Ex: Criar mensagem de vendas para curso online de marketing, tom amigável e profissional, incluir call-to-action"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>B(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100",disabled:T,children:"Cancelar"}),i.jsx("button",{onClick:ie,className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 disabled:opacity-50",disabled:T,children:T?"Gerando...":"Gerar"})]})]})})]})]})})}const Ttt={whatsapp:"💬",instagram_dm:"📷",email:"📧"},Itt={whatsapp:"WhatsApp",instagram_dm:"Instagram DM",email:"Email"},Dtt={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",sending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",completed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",failed:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"},Ptt={draft:"Rascunho",scheduled:"Agendado",sending:"Enviando",completed:"Concluído",failed:"Falhou"};function Ott({onEdit:e,refreshTrigger:t}){const[r,a]=k.useState([]),[n,s]=k.useState(!0),[o,l]=k.useState({platform:"all",status:"all"});k.useEffect(()=>{c()},[t]);const c=async()=>{try{s(!0);const f={};o.platform!=="all"&&(f.platform=o.platform),o.status!=="all"&&(f.status=o.status);const u=await Vo.getBulkMessages(f);a(u)}catch(f){console.error("Erro ao carregar mensagens:",f),Le.error("Erro ao carregar mensagens")}finally{s(!1)}};k.useEffect(()=>{c()},[o]);const d=f=>{const u=f.totalRecipients>0?(f.deliveredCount/f.totalRecipients*100).toFixed(1):"0",m=f.deliveredCount>0?(f.openedCount/f.deliveredCount*100).toFixed(1):"0",h=f.openedCount>0?(f.clickedCount/f.openedCount*100).toFixed(1):"0";return{deliveryRate:u,openRate:m,clickRate:h}};return n?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Plataforma"}),i.jsxs("select",{value:o.platform,onChange:f=>l({...o,platform:f.target.value}),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",children:[i.jsx("option",{value:"all",children:"Todas"}),i.jsx("option",{value:"whatsapp",children:"💬 WhatsApp"}),i.jsx("option",{value:"instagram_dm",children:"📷 Instagram DM"}),i.jsx("option",{value:"email",children:"📧 Email"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),i.jsxs("select",{value:o.status,onChange:f=>l({...o,status:f.target.value}),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"draft",children:"Rascunho"}),i.jsx("option",{value:"scheduled",children:"Agendado"}),i.jsx("option",{value:"sending",children:"Enviando"}),i.jsx("option",{value:"completed",children:"Concluído"}),i.jsx("option",{value:"failed",children:"Falhou"})]})]}),i.jsx("div",{className:"ml-auto flex items-end",children:i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.length," mensagem",r.length!==1?"ns":""," encontrada",r.length!==1?"s":""]})})]}),r.length===0?i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx(_u,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nenhuma mensagem encontrada"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.length===0?"Crie sua primeira mensagem em massa":"Nenhuma mensagem corresponde aos filtros selecionados"})]}):i.jsx("div",{className:"space-y-4",children:r.map(f=>{const u=d(f);return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg text-2xl",children:Ttt[f.platform]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:f.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:Itt[f.platform]}),i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Dtt[f.status]}`,children:Ptt[f.status]})]})]})]}),i.jsxs("div",{className:"text-right",children:[f.scheduledAt&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 mb-1",children:[i.jsx(ka,{size:14}),"Agendado: ",Es(new Date(f.scheduledAt),"dd/MM/yyyy HH:mm",{locale:_s})]}),f.sentAt&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(_u,{size:14}),"Enviado: ",Es(new Date(f.sentAt),"dd/MM/yyyy HH:mm",{locale:_s})]})]})]}),i.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2 font-mono",children:f.content})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-4",children:[i.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Ls,{size:14,className:"text-blue-600"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total"})]}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f.totalRecipients})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(_u,{size:14,className:"text-yellow-600"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Enviados"})]}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f.sentCount})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(ba,{size:14,className:"text-green-600"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Entregues"})]}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f.deliveredCount}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[u.deliveryRate,"%"]})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Wm,{size:14,className:"text-purple-600"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Abertos"})]}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f.openedCount}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[u.openRate,"%"]})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(F7,{size:14,className:"text-indigo-600"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Cliques"})]}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f.clickedCount}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[u.clickRate,"%"]})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(xc,{size:14,className:"text-red-600"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Falhas"})]}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f.failedCount})]})]}),i.jsx("div",{className:"flex gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>e(f),className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:"Ver Detalhes"})})]},f.id)})})]})}const Rtt={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",published:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",archived:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"},Ftt={draft:"Rascunho",published:"Publicado",archived:"Arquivado"};function Btt({onEdit:e,refreshTrigger:t}){const[r,a]=k.useState([]),[n,s]=k.useState(!0);k.useEffect(()=>{o()},[t]);const o=async()=>{try{s(!0);const f=await Vo.getLandingPages();a(f)}catch(f){console.error("Erro ao carregar landing pages:",f),Le.error("Erro ao carregar landing pages")}finally{s(!1)}},l=async f=>{if(window.confirm(`Tem certeza que deseja excluir a landing page "${f.name}"?`))try{Le.success("Landing page excluída com sucesso!"),o()}catch(u){console.error("Erro ao excluir landing page:",u),Le.error("Erro ao excluir landing page")}},c=async f=>{try{await Vo.publishLandingPage(f.id),Le.success("Landing page publicada com sucesso!"),o()}catch(u){console.error("Erro ao publicar landing page:",u),Le.error("Erro ao publicar landing page")}},d=f=>{const u=`https://nexusatemporal.com.br/lp/${f}`;navigator.clipboard.writeText(u),Le.success("Link copiado para área de transferência!")};return n?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsx("div",{children:r.length===0?i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx(F1,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nenhuma landing page criada"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Crie sua primeira landing page para começar a capturar leads"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"h-48 bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center relative",children:[i.jsxs("div",{className:"text-center p-4",children:[i.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:f.title}),i.jsx("p",{className:"text-white/80 text-sm",children:f.description})]}),i.jsx("span",{className:`absolute top-2 right-2 px-2 py-1 rounded text-xs font-medium ${Rtt[f.status]}`,children:Ftt[f.status]})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:f.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["/",f.slug]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 py-3 border-y border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Wm,{size:12,className:"text-blue-600"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Views"})]}),i.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:f.viewsCount})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Conversões"}),i.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:f.conversionsCount})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Taxa"}),i.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[f.viewsCount>0?(f.conversionsCount/f.viewsCount*100).toFixed(1):"0","%"]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.status==="published"&&i.jsxs("button",{onClick:()=>d(f.slug),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors text-sm",children:[i.jsx(f6,{size:14}),"Copiar Link"]}),f.status==="draft"&&i.jsx("button",{onClick:()=>c(f),className:"flex-1 px-3 py-2 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors text-sm",children:"Publicar"}),i.jsxs("button",{onClick:()=>e(f),className:"flex items-center justify-center gap-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm",children:[i.jsx(Tf,{size:14}),"Editar"]}),i.jsx("button",{onClick:()=>l(f),className:"flex items-center justify-center px-3 py-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors text-sm",children:i.jsx(An,{size:14})})]})]})]},f.id))})})}var kk="Switch",[ztt]=D0(kk),[$tt,Utt]=ztt(kk),XJ=k.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:n,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...u}=e,[m,h]=k.useState(null),g=Ya(t,y=>h(y)),p=k.useRef(!1),x=m?f||!!m.closest("form"):!0,[v,b]=lm({prop:n,defaultProp:s??!1,onChange:d,caller:kk});return i.jsxs($tt,{scope:r,checked:v,disabled:l,children:[i.jsx(Ar.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":rK(v),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:g,onClick:Nr(e.onClick,y=>{b(w=>!w),x&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})}),x&&i.jsx(tK,{control:m,bubbles:!p.current,name:a,value:c,checked:v,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});XJ.displayName=kk;var ZJ="SwitchThumb",eK=k.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,n=Utt(ZJ,r);return i.jsx(Ar.span,{"data-state":rK(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});eK.displayName=ZJ;var Wtt="SwitchBubbleInput",tK=k.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...n},s)=>{const o=k.useRef(null),l=Ya(o,s),c=VV(r),d=DV(t);return k.useEffect(()=>{const f=o.current;if(!f)return;const u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:a});h.call(f,r),f.dispatchEvent(g)}},[c,r,a]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tK.displayName=Wtt;function rK(e){return e?"checked":"unchecked"}var aK=XJ,Htt=eK;const nK=k.forwardRef(({className:e,...t},r)=>i.jsx(aK,{className:Hr("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(Htt,{className:Hr("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));nK.displayName=aK.displayName;const Vtt={async list(e){const t=e?{type:e}:{};return(await me.get("/marketing/automation/integrations",{params:t})).data.data},async getById(e){return(await me.get(`/marketing/automation/integrations/${e}`)).data.data},async create(e){return(await me.post("/marketing/automation/integrations",e)).data.data},async update(e,t){return(await me.put(`/marketing/automation/integrations/${e}`,t)).data.data},async delete(e){await me.delete(`/marketing/automation/integrations/${e}`)},async test(e){return(await me.post(`/marketing/automation/integrations/${e}/test`)).data}},xu={async list(e){return(await me.get("/marketing/automation/triggers",{params:e})).data.data},async getById(e){return(await me.get(`/marketing/automation/triggers/${e}`)).data.data},async create(e){return(await me.post("/marketing/automation/triggers",e)).data.data},async update(e,t){return(await me.put(`/marketing/automation/triggers/${e}`,t)).data.data},async delete(e){await me.delete(`/marketing/automation/triggers/${e}`)},async toggle(e){return(await me.patch(`/marketing/automation/triggers/${e}/toggle`)).data.data},async getStats(){return(await me.get("/marketing/automation/triggers/stats")).data.data},async getEventTypes(){return(await me.get("/marketing/automation/triggers/events")).data.data}};function N7(e){return{id:e.id,tenantId:e.tenant_id,eventType:e.event_name||e.event_type,entityType:e.entity_type,entityId:e.entity_id,payload:e.event_data||e.payload,metadata:e.metadata,processed:e.processed,triggeredAt:e.triggered_at,processedAt:e.processed_at,createdAt:e.triggered_at,updatedAt:e.processed_at||e.triggered_at}}const Gtt={async list(e){const r=(await me.get("/marketing/automation/events/v2",{params:e})).data.data||[];console.log("[eventService] Raw events from API:",r);const a=r.map(N7);return console.log("[eventService] Transformed events:",a),a},async getById(e){const t=await me.get(`/marketing/automation/events/v2/${e}`);return N7(t.data.data)},async getStats(e,t){const r={startDate:e,endDate:t};return(await me.get("/marketing/automation/events/v2/stats",{params:r})).data.data},async getEventTypes(){return(await me.get("/marketing/automation/events/v2/types")).data.data},async cleanup(e){return(await me.delete("/marketing/automation/events/v2/cleanup",{params:{daysToKeep:e}})).data}};function qtt(e){return{"lead.created":"Lead Criado","lead.updated":"Lead Atualizado","lead.stage_changed":"Mudança de Estágio","lead.status_changed":"Mudança de Status","lead.assigned":"Lead Atribuído","lead.converted":"Lead Convertido","appointment.scheduled":"Agendamento Criado","appointment.confirmed":"Agendamento Confirmado","appointment.cancelled":"Agendamento Cancelado","appointment.completed":"Atendimento Finalizado","appointment.no_show":"Cliente Não Compareceu","appointment.rescheduled":"Agendamento Remarcado","payment.pending":"Pagamento Pendente","payment.received":"Pagamento Recebido","payment.overdue":"Pagamento Atrasado","payment.failed":"Pagamento Falhou","whatsapp.message.received":"Mensagem WhatsApp Recebida","whatsapp.message.sent":"Mensagem WhatsApp Enviada","client.birthday":"Aniversário de Cliente","client.inactive":"Cliente Inativo","client.reactivated":"Cliente Reativado"}[e]||e}function Ytt(e){return e.startsWith("lead.")?"Leads":e.startsWith("appointment.")?"Agendamentos":e.startsWith("payment.")?"Pagamentos":e.startsWith("whatsapp.")?"WhatsApp":e.startsWith("client.")?"Clientes":"Outros"}function S7(e){const t=Ytt(e),r=qtt(e);return{category:t,label:r,icon:{Leads:"👤",Agendamentos:"📅",Pagamentos:"💰",WhatsApp:"💬",Clientes:"👥",Outros:"📦"}[t]||"📦"}}function Jtt(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let r6=1;class Ktt{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:a,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:r6++,o=this.toasts.find(c=>c.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:a}),{...c,...t,id:s,dismissible:l,title:a}):c):this.addToast({title:a,...n,dismissible:l,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(a=>a({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let a;r.loading!==void 0&&(a=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const n=Promise.resolve(t instanceof Function?t():t);let s=a!==void 0,o;const l=n.then(async d=>{if(o=["resolve",d],Z.isValidElement(d))s=!1,this.create({id:a,type:"default",message:d});else if(Xtt(d)&&!d.ok){s=!1;const u=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,g=typeof u=="object"&&!Z.isValidElement(u)?u:{message:u};this.create({id:a,type:"error",description:m,...g})}else if(d instanceof Error){s=!1;const u=typeof r.error=="function"?await r.error(d):r.error,m=typeof r.description=="function"?await r.description(d):r.description,g=typeof u=="object"&&!Z.isValidElement(u)?u:{message:u};this.create({id:a,type:"error",description:m,...g})}else if(r.success!==void 0){s=!1;const u=typeof r.success=="function"?await r.success(d):r.success,m=typeof r.description=="function"?await r.description(d):r.description,g=typeof u=="object"&&!Z.isValidElement(u)?u:{message:u};this.create({id:a,type:"success",description:m,...g})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){s=!1;const f=typeof r.error=="function"?await r.error(d):r.error,u=typeof r.description=="function"?await r.description(d):r.description,h=typeof f=="object"&&!Z.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:u,...h})}}).finally(()=>{s&&(this.dismiss(a),a=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof a!="string"&&typeof a!="number"?{unwrap:c}:Object.assign(a,{unwrap:c})},this.custom=(t,r)=>{const a=(r==null?void 0:r.id)||r6++;return this.create({jsx:t(a),id:a,...r}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Co=new Ktt,Qtt=(e,t)=>{const r=(t==null?void 0:t.id)||r6++;return Co.addToast({title:e,...t,id:r}),r},Xtt=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ztt=Qtt,ert=()=>Co.toasts,trt=()=>Co.getActiveToasts(),Si=Object.assign(Ztt,{success:Co.success,info:Co.info,warning:Co.warning,error:Co.error,custom:Co.custom,message:Co.message,promise:Co.promise,dismiss:Co.dismiss,loading:Co.loading},{getHistory:ert,getToasts:trt});Jtt("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const rrt=()=>{const[e,t]=k.useState([]),[r,a]=k.useState([]),[n,s]=k.useState(!0),[o,l]=k.useState(!1),[c,d]=k.useState(null),[f,u]=k.useState({name:"",description:"",event:"",conditions:[],actions:[],active:!0,priority:10});k.useEffect(()=>{m(),h()},[]);const m=async()=>{var y,w;try{s(!0);const j=await xu.list();t(j)}catch(j){Si.error("Erro ao carregar triggers",{description:((w=(y=j.response)==null?void 0:y.data)==null?void 0:w.message)||j.message})}finally{s(!1)}},h=async()=>{try{const y=await xu.getEventTypes();a(y)}catch(y){console.error("Error loading event types:",y)}},g=()=>{d(null),u({name:"",description:"",event:"",conditions:[],actions:[{type:"log",description:"Log do evento",config:{message:"Trigger executado: {{event.type}}"}}],active:!0,priority:10}),l(!0)},p=y=>{d(y),u({name:y.name,description:y.description||"",event:y.event,conditions:y.conditions||[],actions:y.actions||[],active:y.active,priority:y.priority||10}),l(!0)},x=async()=>{var y,w;try{if(!f.name||!f.event){Si.error("Preencha todos os campos obrigatórios");return}const j={name:f.name,description:f.description,event:f.event,conditions:f.conditions||[],actions:f.actions||[],active:f.active,priority:f.priority};c?(await xu.update(c.id,j),Si.success("Trigger atualizado com sucesso!")):(await xu.create(j),Si.success("Trigger criado com sucesso!")),l(!1),m()}catch(j){Si.error("Erro ao salvar trigger",{description:((w=(y=j.response)==null?void 0:y.data)==null?void 0:w.message)||j.message})}},v=async y=>{var w,j;if(confirm("Tem certeza que deseja excluir este trigger?"))try{await xu.delete(y),Si.success("Trigger excluído com sucesso!"),m()}catch(E){Si.error("Erro ao excluir trigger",{description:((j=(w=E.response)==null?void 0:w.data)==null?void 0:j.message)||E.message})}},b=async y=>{var w,j;try{await xu.toggle(y),Si.success("Status do trigger alterado!"),m()}catch(E){Si.error("Erro ao alterar status",{description:((j=(w=E.response)==null?void 0:w.data)==null?void 0:j.message)||E.message})}};return n?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Uu,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Triggers"}),i.jsx("p",{className:"text-muted-foreground",children:"Automações baseadas em eventos do sistema"})]}),i.jsxs(Wr,{onClick:g,children:[i.jsx(ja,{className:"h-4 w-4 mr-2"}),"Novo Trigger"]})]}),e.length===0?i.jsx(la,{children:i.jsxs(ca,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(Zs,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum trigger configurado"}),i.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Crie triggers para automatizar ações quando eventos ocorrerem"}),i.jsxs(Wr,{onClick:g,children:[i.jsx(ja,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Trigger"]})]})}):i.jsx("div",{className:"space-y-3",children:e.map(y=>{var j,E,A,C;const w=S7(y.event);return i.jsxs(la,{children:[i.jsx(va,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(_a,{className:"text-lg",children:y.name}),i.jsx(Ro,{variant:y.active?"default":"secondary",children:y.active?i.jsxs(i.Fragment,{children:[i.jsx(o6,{className:"h-3 w-3 mr-1"}),"Ativo"]}):i.jsxs(i.Fragment,{children:[i.jsx(t3,{className:"h-3 w-3 mr-1"}),"Inativo"]})}),y.priority&&y.priority>50&&i.jsx(Ro,{variant:"destructive",children:"Alta Prioridade"})]}),y.description&&i.jsx(hf,{children:y.description})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Wr,{variant:"outline",size:"icon",onClick:()=>b(y.id),title:y.active?"Desativar":"Ativar",children:y.active?i.jsx(AQ,{className:"h-4 w-4"}):i.jsx(EQ,{className:"h-4 w-4"})}),i.jsx(Wr,{variant:"outline",size:"icon",onClick:()=>p(y),children:i.jsx(Tf,{className:"h-4 w-4"})}),i.jsx(Wr,{variant:"outline",size:"icon",onClick:()=>v(y.id),children:i.jsx(An,{className:"h-4 w-4"})})]})]})}),i.jsxs(ca,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Evento"}),i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-accent rounded",children:[i.jsx("span",{children:w.icon}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:w.label}),i.jsx("p",{className:"text-xs text-muted-foreground",children:w.category})]})]})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium mb-2",children:["Ações (",((j=y.actions)==null?void 0:j.length)||0,")"]}),i.jsxs("div",{className:"space-y-1",children:[(E=y.actions)==null?void 0:E.slice(0,2).map((S,T)=>i.jsx("div",{className:"text-sm p-2 bg-accent rounded",children:S.description||S.type},T)),(((A=y.actions)==null?void 0:A.length)||0)>2&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(((C=y.actions)==null?void 0:C.length)||0)-2," mais"]})]})]})]}),y.executionCount!==void 0&&y.executionCount>0&&i.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center justify-between text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Execuções: "}),i.jsx("span",{className:"font-medium",children:y.executionCount})]}),y.avgExecutionTimeMs&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Tempo médio: "}),i.jsxs("span",{className:"font-medium",children:[y.avgExecutionTimeMs.toFixed(0),"ms"]})]}),y.lastExecutedAt&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Última execução: "}),i.jsx("span",{className:"font-medium",children:new Date(y.lastExecutedAt).toLocaleDateString("pt-BR")})]})]})]})]},y.id)})}),i.jsx(um,{open:o,onOpenChange:l,children:i.jsxs(o0,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(l0,{children:[i.jsx(d0,{children:c?"Editar Trigger":"Novo Trigger"}),i.jsx(f0,{children:"Configure uma automação baseada em eventos"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rr,{htmlFor:"name",children:"Nome *"}),i.jsx(nc,{id:"name",placeholder:"Ex: Boas-vindas ao Lead",value:f.name,onChange:y=>u({...f,name:y.target.value})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rr,{htmlFor:"description",children:"Descrição"}),i.jsx($4,{id:"description",placeholder:"Descreva o que este trigger faz",value:f.description,onChange:y=>u({...f,description:y.target.value}),rows:2})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rr,{htmlFor:"event",children:"Evento *"}),i.jsxs(ui,{value:f.event,onValueChange:y=>u({...f,event:y}),children:[i.jsx(Vs,{children:i.jsx(hi,{placeholder:"Selecione um evento"})}),i.jsx(Gs,{children:r.map(y=>{const w=S7(y);return i.jsx(qr,{value:y,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:w.icon}),i.jsx("span",{children:w.label})]})},y)})})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rr,{htmlFor:"priority",children:"Prioridade"}),i.jsxs(ui,{value:String(f.priority||10),onValueChange:y=>u({...f,priority:parseInt(y)}),children:[i.jsx(Vs,{children:i.jsx(hi,{})}),i.jsxs(Gs,{children:[i.jsx(qr,{value:"5",children:"Baixa (5)"}),i.jsx(qr,{value:"10",children:"Normal (10)"}),i.jsx(qr,{value:"50",children:"Alta (50)"}),i.jsx(qr,{value:"100",children:"Urgente (100)"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Triggers com prioridade maior são executados primeiro"})]}),i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:"ℹ️ Sobre Ações"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Por padrão, este trigger irá apenas registrar um log. Para configurar ações avançadas (enviar WhatsApp, executar IA, etc), edite o trigger após criar ou use a API diretamente."})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Rr,{children:"Trigger Ativo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Desative para pausar temporariamente"})]}),i.jsx(nK,{checked:f.active,onCheckedChange:y=>u({...f,active:y})})]})]}),i.jsxs(c0,{children:[i.jsx(Wr,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),i.jsx(Wr,{onClick:x,children:"Salvar"})]})]})})]})};function Xy({className:e,...t}){return i.jsx("div",{className:Hr("animate-pulse rounded-md bg-muted",e),...t})}const art=()=>{var h;const[e,t]=k.useState(!0),[r,a]=k.useState(null),[n,s]=k.useState(null),[o,l]=k.useState([]);k.useEffect(()=>{c()},[]);const c=async()=>{try{t(!0);const[g,p,x]=await Promise.all([Gtt.getStats(),xu.getStats(),Vtt.list()]);a(g),s(p),l(x)}catch(g){console.error("Error loading dashboard data:",g)}finally{t(!1)}};if(e)return i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((g,p)=>i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Xy,{className:"h-4 w-[100px]"}),i.jsx(Xy,{className:"h-4 w-4 rounded-full"})]}),i.jsxs(ca,{children:[i.jsx(Xy,{className:"h-8 w-[60px] mb-2"}),i.jsx(Xy,{className:"h-3 w-[120px]"})]})]},p))});const d=o.filter(g=>g.isActive).length,f=(n==null?void 0:n.active)||0,u=(r==null?void 0:r.total)||0,m=(r==null?void 0:r.successRate)||0;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Integrações Ativas"}),i.jsx(nd,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold",children:d}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length," total"]})]})]}),i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Triggers Ativos"}),i.jsx(Zs,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(n==null?void 0:n.total)||0," total"]})]})]}),i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Eventos"}),i.jsx(Qc,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ca,{children:[i.jsx("div",{className:"text-2xl font-bold",children:u}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r==null?void 0:r.processed)||0," processados"]})]})]}),i.jsxs(la,{children:[i.jsxs(va,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(_a,{className:"text-sm font-medium",children:"Taxa de Sucesso"}),i.jsx(Do,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ca,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[m.toFixed(1),"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r==null?void 0:r.triggersExecuted)||0," triggers executados"]})]})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs(la,{children:[i.jsxs(va,{children:[i.jsx(_a,{children:"Integrações"}),i.jsx(hf,{children:"Status das integrações configuradas"})]}),i.jsx(ca,{children:o.length===0?i.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[i.jsx(nd,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Nenhuma integração configurada"}),i.jsx("p",{className:"text-sm",children:"Adicione uma integração para começar"})]}):i.jsx("div",{className:"space-y-3",children:o.map(g=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`h-2 w-2 rounded-full ${g.isActive?"bg-green-500":"bg-gray-300"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:g.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:g.type})]})]}),i.jsx(Ro,{variant:g.isActive?"default":"secondary",children:g.isActive?"Ativo":"Inativo"})]},g.id))})})]}),i.jsxs(la,{children:[i.jsxs(va,{children:[i.jsx(_a,{children:"Eventos por Tipo"}),i.jsx(hf,{children:"Distribuição de eventos recentes"})]}),i.jsx(ca,{children:!r||Object.keys(r.byType||{}).length===0?i.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[i.jsx(Qc,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Nenhum evento registrado"}),i.jsx("p",{className:"text-sm",children:"Eventos aparecerão aqui quando gerados"})]}):i.jsx("div",{className:"space-y-3",children:Object.entries(r.byType||{}).sort(([,g],[,p])=>p-g).slice(0,5).map(([g,p])=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qc,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:g})]}),i.jsx(Ro,{variant:"outline",children:p})]},g))})})]})]}),i.jsxs(la,{children:[i.jsxs(va,{children:[i.jsx(_a,{children:"Estatísticas de Triggers"}),i.jsx(hf,{children:"Performance dos triggers ativos"})]}),i.jsxs(ca,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Execuções"}),i.jsx("p",{className:"text-2xl font-bold",children:(n==null?void 0:n.totalExecutions)||0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tempo Médio"}),i.jsxs("p",{className:"text-2xl font-bold",children:[((h=n==null?void 0:n.avgExecutionTime)==null?void 0:h.toFixed(0))||0,"ms"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Triggers por Evento"}),i.jsx("p",{className:"text-2xl font-bold",children:Object.keys((n==null?void 0:n.byEvent)||{}).length})]})]}),n&&Object.keys(n.byEvent||{}).length>0&&i.jsxs("div",{className:"mt-6 space-y-2",children:[i.jsx("p",{className:"text-sm font-medium mb-3",children:"Por Tipo de Evento"}),Object.entries(n.byEvent||{}).sort(([,g],[,p])=>p-g).slice(0,5).map(([g,p])=>i.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-accent rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Zs,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{className:"text-sm",children:g})]}),i.jsx(Ro,{children:p})]},g))]})]})]})]})};function C7(){const e=$m(),t=vi(),[r,a]=k.useState(!0),[n,s]=k.useState(()=>{const O=e.pathname;return O.includes("/campanhas")||O.includes("/campaigns")?"campaigns":O.includes("/social")?"social":O.includes("/mensagens")||O.includes("/bulk-messaging")?"bulk-messaging":O.includes("/landing-pages")?"landing-pages":O.includes("/ai-assistant")?"ai-assistant":O.includes("/ai-usage")?"ai-usage":O.includes("/automacao")||O.includes("/automation")?"automation":"dashboard"});k.useEffect(()=>{const O=e.pathname;O.includes("/campanhas")||O.includes("/campaigns")?s("campaigns"):O.includes("/social")?s("social"):O.includes("/mensagens")||O.includes("/bulk-messaging")?s("bulk-messaging"):O.includes("/landing-pages")?s("landing-pages"):O.includes("/ai-assistant")?s("ai-assistant"):O.includes("/ai-usage")?s("ai-usage"):O.includes("/automacao")||O.includes("/automation")?s("automation"):(O==="/marketing"||O==="/marketing/dashboard")&&s("dashboard")},[e]);const[o,l]=k.useState("list"),[c,d]=k.useState(!1),[f,u]=k.useState(),[m,h]=k.useState(0),[g]=k.useState(0),[p,x]=k.useState(!1),[v,b]=k.useState(),[y,w]=k.useState(0),[j]=k.useState(0),[E,A]=k.useState({totalCampaigns:0,activeCampaigns:0,totalSpent:0,totalBudget:0,totalImpressions:0,totalClicks:0,totalConversions:0,avgCtr:0,avgConversionRate:0}),[C,S]=k.useState([]);k.useEffect(()=>{T()},[]);const T=async()=>{try{a(!0);const[O,B]=await Promise.all([Vo.getCampaignStats(),Vo.getCampaigns()]);A(O),S(B)}catch(O){console.error("Erro ao carregar dados de marketing:",O),Le.error("Erro ao carregar dados de marketing")}finally{a(!1)}},_=O=>O==null?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(O),M=O=>O==null?"0":O>=1e6?`${(O/1e6).toFixed(1)}M`:O>=1e3?`${(O/1e3).toFixed(1)}K`:O.toString(),D=O=>O==null?"0%":`${O.toFixed(2)}%`;return r?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando..."})]})}):i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Marketing"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie suas campanhas, redes sociais e análises de marketing"})]}),i.jsxs(kH,{value:n,onValueChange:O=>{s(O),t(`/marketing/${O==="dashboard"?"":O}`)},children:[i.jsxs(MA,{className:"flex gap-2 border-b border-gray-200 dark:border-gray-700 mb-6",children:[i.jsx(Ql,{value:"dashboard",className:"px-4 py-3 text-sm font-medium transition-colors data-[state=active]:border-b-2 data-[state=active]:border-primary-600 data-[state=active]:text-primary-600 dark:data-[state=active]:text-primary-400 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lx,{size:16}),"Dashboard"]})}),i.jsx(Ql,{value:"campaigns",className:"px-4 py-3 text-sm font-medium transition-colors data-[state=active]:border-b-2 data-[state=active]:border-primary-600 data-[state=active]:text-primary-600 dark:data-[state=active]:text-primary-400 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xh,{size:16}),"Campanhas"]})}),i.jsx(Ql,{value:"social",className:"px-4 py-3 text-sm font-medium transition-colors data-[state=active]:border-b-2 data-[state=active]:border-primary-600 data-[state=active]:text-primary-600 dark:data-[state=active]:text-primary-400 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(B7,{size:16}),"Redes Sociais"]})}),i.jsx(Ql,{value:"bulk-messaging",className:"px-4 py-3 text-sm font-medium transition-colors data-[state=active]:border-b-2 data-[state=active]:border-primary-600 data-[state=active]:text-primary-600 dark:data-[state=active]:text-primary-400 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ro,{size:16}),"Mensagens em Massa"]})}),i.jsx(Ql,{value:"landing-pages",className:"px-4 py-3 text-sm font-medium transition-colors data-[state=active]:border-b-2 data-[state=active]:border-primary-600 data-[state=active]:text-primary-600 dark:data-[state=active]:text-primary-400 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qa,{size:16}),"Landing Pages"]})}),i.jsx(Ql,{value:"ai-assistant",className:"px-4 py-3 text-sm font-medium transition-colors data-[state=active]:border-b-2 data-[state=active]:border-primary-600 data-[state=active]:text-primary-600 dark:data-[state=active]:text-primary-400 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(df,{size:16}),"Assistente IA"]})}),i.jsx(Ql,{value:"ai-usage",className:"px-4 py-3 text-sm font-medium transition-colors data-[state=active]:border-b-2 data-[state=active]:border-primary-600 data-[state=active]:text-primary-600 dark:data-[state=active]:text-primary-400 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lx,{size:16}),"Uso de IA"]})}),i.jsx(Ql,{value:"automation",className:"px-4 py-3 text-sm font-medium transition-colors data-[state=active]:border-b-2 data-[state=active]:border-primary-600 data-[state=active]:text-primary-600 dark:data-[state=active]:text-primary-400 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wu,{size:16}),"Automações"]})})]}),i.jsxs(Xl,{value:"dashboard",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Campanhas Ativas"}),i.jsx(xh,{className:"h-5 w-5 text-blue-600"})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E.activeCampaigns}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["de ",E.totalCampaigns," totais"]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Impressões"}),i.jsx(Wm,{className:"h-5 w-5 text-purple-600"})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:M(E.totalImpressions)}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["CTR: ",D(E.avgCtr)]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Cliques"}),i.jsx(F7,{className:"h-5 w-5 text-green-600"})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:M(E.totalClicks)}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[E.totalConversions," conversões"]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Investimento"}),i.jsx(Ba,{className:"h-5 w-5 text-orange-600"})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_(E.totalSpent)}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["de ",_(E.totalBudget)]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Campanhas Recentes"})}),i.jsx("div",{className:"p-6",children:C.length>0?i.jsx("div",{className:"space-y-4",children:C.slice(0,5).map(O=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:O.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:O.description||"Sem descrição"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[O.type==="email"&&"Email",O.type==="social"&&"Social",O.type==="whatsapp"&&"WhatsApp",O.type==="mixed"&&"Mista"]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[O.status==="draft"&&"Rascunho",O.status==="active"&&"Ativa",O.status==="paused"&&"Pausada",O.status==="completed"&&"Concluída",O.status==="cancelled"&&"Cancelada"]})]}),O.budget&&i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_(O.spent||0)}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["de ",_(O.budget)]})]})]})]},O.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(z7,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nenhuma campanha criada"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Crie sua primeira campanha para começar"})]})})]})]}),i.jsx(Xl,{value:"campaigns",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Campanhas de Marketing"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie e acompanhe todas as suas campanhas de marketing"})]}),C.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(O=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg mb-1",children:O.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:O.description||"Sem descrição"})]}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${O.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":O.status==="paused"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":(O.status==="draft","bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300")}`,children:O.status==="active"?"Ativa":O.status==="paused"?"Pausada":O.status==="draft"?"Rascunho":O.status==="completed"?"Concluída":"Cancelada"})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(xh,{size:14,className:"text-gray-500"}),i.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tipo:"," ",i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:O.type==="email"?"Email":O.type==="social"?"Social":O.type==="whatsapp"?"WhatsApp":"Mista"})]})]}),O.budget&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Ba,{size:14,className:"text-gray-500"}),i.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Orçamento:"," ",i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_(O.budget)})]})]}),O.spent!==void 0&&i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:i.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${Math.min((O.spent||0)/(O.budget||1)*100,100)}%`}})})]}),i.jsx("button",{onClick:()=>Le.success("Edição de campanhas disponível em breve"),className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:"Ver Detalhes"})]},O.id))}):i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx(xh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nenhuma campanha criada"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Crie sua primeira campanha para começar a gerenciar seu marketing"})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[i.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-3",children:"API de Campanhas Disponível"}),i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300 mb-3",children:"O CRUD completo de campanhas está disponível via API. Interface de edição será implementada em breve."}),i.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[i.jsx("li",{children:"Criar, editar e excluir campanhas"}),i.jsx("li",{children:"Métricas de performance em tempo real"}),i.jsx("li",{children:"Filtros por tipo, status e período"}),i.jsx("li",{children:"Orçamento e controle de gastos"})]})]})]})}),i.jsx(Xl,{value:"social",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Redes Sociais"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie posts para Instagram, Facebook, LinkedIn e TikTok"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[i.jsxs("button",{onClick:()=>l("list"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${o==="list"?"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i.jsx(i6,{size:18}),"Lista"]}),i.jsxs("button",{onClick:()=>l("calendar"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${o==="calendar"?"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i.jsx(Yr,{size:18}),"Calendário"]})]}),i.jsxs("button",{onClick:()=>{u(void 0),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[i.jsx(ja,{size:20}),"Novo Post"]})]})]}),o==="list"?i.jsx(mtt,{onEdit:O=>{u(O),d(!0)},refreshTrigger:m}):i.jsx(vtt,{onSelectPost:O=>{u(O),d(!0)},refreshTrigger:m}),i.jsx(ctt,{post:f,isOpen:c,onClose:()=>{d(!1),u(void 0)},onSuccess:()=>{h(O=>O+1)}})]})}),i.jsx(Xl,{value:"bulk-messaging",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Mensagens em Massa"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Envie mensagens para múltiplos leads via WhatsApp, Instagram ou Email"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("button",{onClick:()=>{b(void 0),x(!0)},className:"flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[i.jsx(ja,{size:20}),"Nova Mensagem"]})})]}),i.jsx(Ott,{onEdit:O=>{b(O),x(!0)},refreshTrigger:y}),i.jsx(Ltt,{message:v,isOpen:p,onClose:()=>{x(!1),b(void 0)},onSuccess:()=>{w(O=>O+1)}})]})}),i.jsx(Xl,{value:"landing-pages",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Landing Pages"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie landing pages para captura de leads"})]}),i.jsx(Btt,{onEdit:()=>{Le.success("Editor visual de Landing Pages será implementado em breve")},refreshTrigger:j}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[i.jsxs("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-3 flex items-center gap-2",children:[i.jsx(qa,{size:20}),"Editor Visual (Em Desenvolvimento)"]}),i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300 mb-3",children:"O editor visual GrapesJS será integrado em breve para criar landing pages profissionais com arrastar e soltar."}),i.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[i.jsx("li",{children:"API completa já disponível"}),i.jsx("li",{children:"Publicação e analytics funcionais"}),i.jsx("li",{children:"SEO metadata configurável"}),i.jsx("li",{children:"Tracking de conversões"})]})]})]})}),i.jsx(Xl,{value:"ai-assistant",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(df,{className:"text-primary-600"}),"Assistente de IA"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Otimize seus conteúdos com múltiplos provedores de IA"})]}),i.jsx(btt,{}),i.jsx(Ntt,{refreshTrigger:g})]})}),i.jsx(Xl,{value:"ai-usage",children:i.jsx(Stt,{})}),i.jsx(Xl,{value:"automation",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Wu,{className:"text-primary-600"}),"Automações"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie triggers e eventos do sistema de automação"})]}),i.jsx(art,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Triggers"}),i.jsx(rrt,{})]})]})})]})]})})}const QN={async startOAuth(){return(await me.get("/api/meta/oauth/start")).data},async listAccounts(){return(await me.get("/api/meta/accounts")).data},async disconnectAccount(e){return(await me.delete(`/api/meta/accounts/${e}`)).data},async sendMessage(e){return(await me.post("/api/meta/send-message",e)).data},async getConversations(e,t=20){return(await me.get(`/api/meta/conversations/${e}`,{params:{limit:t}})).data},async getMessages(e,t,r=50){return(await me.get(`/api/meta/messages/${e}/${t}`,{params:{limit:r}})).data}},nrt=()=>{const[e,t]=k.useState([]),[r,a]=k.useState(!0),[n,s]=k.useState(!1);k.useEffect(()=>{o();const u=m=>{var h;((h=m.data)==null?void 0:h.type)==="meta-oauth-complete"&&(o(),Si.success("Instagram conectado com sucesso!"))};return window.addEventListener("message",u),()=>window.removeEventListener("message",u)},[]);const o=async()=>{var u,m;try{a(!0);const h=await QN.listAccounts();h.success&&t(h.data)}catch(h){console.error("Error loading accounts:",h),Si.error("Erro ao carregar contas",{description:((m=(u=h.response)==null?void 0:u.data)==null?void 0:m.error)||h.message})}finally{a(!1)}},l=async()=>{var u,m;try{s(!0);const h=await QN.startOAuth();if(h.success){const x=window.screen.width/2-300,v=window.screen.height/2-700/2,b=window.open(h.data.authUrl,"MetaOAuthPopup",`width=600,height=700,left=${x},top=${v},toolbar=no,location=no,status=no,menubar=no`),y=setInterval(()=>{b!=null&&b.closed&&(clearInterval(y),s(!1),setTimeout(()=>o(),1e3))},500)}}catch(h){console.error("Error starting OAuth:",h),s(!1),Si.error("Erro ao conectar Instagram",{description:((m=(u=h.response)==null?void 0:u.data)==null?void 0:m.error)||h.message})}},c=async u=>{var h,g;if(confirm(`Tem certeza que deseja desconectar a conta @${u.instagram_username}?`))try{await QN.disconnectAccount(u.id),Si.success("Conta desconectada com sucesso"),o()}catch(p){console.error("Error disconnecting account:",p),Si.error("Erro ao desconectar conta",{description:((g=(h=p.response)==null?void 0:h.data)==null?void 0:g.error)||p.message})}},d=u=>(new Date(u).getTime()-Date.now())/(1e3*60*60*24)<7,f=u=>new Date(u).toLocaleDateString("pt-BR");return i.jsxs(la,{children:[i.jsx(va,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(_a,{className:"flex items-center gap-2",children:[i.jsx(n3,{className:"h-5 w-5 text-pink-600"}),"Instagram Business via Meta API"]}),i.jsx(hf,{children:"Conecte suas contas Instagram Business diretamente via Meta Graph API (independente de terceiros)"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Wr,{variant:"outline",size:"sm",onClick:o,disabled:r,children:i.jsx(ix,{className:`h-4 w-4 ${r?"animate-spin":""}`})}),i.jsx(Wr,{onClick:l,disabled:n||r,size:"sm",children:n?i.jsxs(i.Fragment,{children:[i.jsx(Uu,{className:"mr-2 h-4 w-4 animate-spin"}),"Conectando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ja,{className:"mr-2 h-4 w-4"}),"Conectar Instagram"]})})]})]})}),i.jsxs(ca,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-950 rounded-md border border-blue-200 dark:border-blue-800",children:[i.jsx(_Q,{className:"h-4 w-4 mt-0.5 text-blue-600 dark:text-blue-400"}),i.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[i.jsx("strong",{children:"Requisitos:"})," Conta Instagram Business ou Creator conectada a uma Facebook Page. Você precisa ter permissões de administrador na página."]})]}),r&&i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(Uu,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),!r&&e.length===0&&i.jsxs("div",{className:"text-center py-8 space-y-3",children:[i.jsx(n3,{className:"h-12 w-12 mx-auto text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Nenhuma conta conectada"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Clique em "Conectar Instagram" para adicionar sua primeira conta'})]})]}),!r&&e.length>0&&i.jsx("div",{className:"space-y-3",children:e.map(u=>i.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[i.jsx("img",{src:u.profile_picture_url,alt:u.instagram_username,className:"w-12 h-12 rounded-full"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium",children:u.instagram_name}),u.status==="active"&&i.jsxs(Ro,{variant:"default",className:"text-xs",children:[i.jsx(MQ,{className:"h-3 w-3 mr-1"}),"Ativo"]}),d(u.token_expires_at)&&i.jsxs(Ro,{variant:"destructive",className:"text-xs",children:[i.jsx($u,{className:"h-3 w-3 mr-1"}),"Expira em breve"]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",u.instagram_username]}),u.facebook_page_name&&i.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[i.jsx(LQ,{className:"h-3 w-3"}),i.jsx("span",{children:u.facebook_page_name})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Conectado em: ",f(u.connected_at)," • Expira: ",f(u.token_expires_at)]})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx(Wr,{variant:"ghost",size:"sm",onClick:()=>c(u),className:"text-destructive hover:text-destructive",children:i.jsx(An,{className:"h-4 w-4"})})})]},u.id))}),i.jsx("div",{className:"border-t pt-4",children:i.jsxs(Wr,{variant:"link",size:"sm",className:"text-xs",onClick:()=>window.open("https://developers.facebook.com/docs/instagram-platform","_blank"),children:[i.jsx(F1,{className:"h-3 w-3 mr-1"}),"Documentação Meta API"]})})]})]})},srt=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Redes Sociais"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Conecte suas redes sociais e automatize o atendimento via Meta API"})]}),i.jsxs(_H,{defaultValue:"instagram",className:"w-full",children:[i.jsxs(TA,{className:"grid w-full grid-cols-3",children:[i.jsxs(sf,{value:"instagram",className:"flex items-center gap-2",children:[i.jsx(n3,{className:"h-4 w-4"}),"Instagram"]}),i.jsxs(sf,{value:"messenger",className:"flex items-center gap-2",children:[i.jsx(Lo,{className:"h-4 w-4"}),"Messenger"]}),i.jsxs(sf,{value:"whatsapp",className:"flex items-center gap-2",children:[i.jsx(Lo,{className:"h-4 w-4"}),"WhatsApp"]})]}),i.jsx(of,{value:"instagram",className:"mt-6",children:i.jsx(nrt,{})}),i.jsx(of,{value:"messenger",className:"mt-6",children:i.jsxs(la,{children:[i.jsxs(va,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Lo,{className:"h-5 w-5 text-blue-600"}),i.jsx(_a,{children:"Facebook Messenger via Meta API"})]}),i.jsx(hf,{children:"Conecte suas páginas do Facebook para atender via Messenger"})]}),i.jsx(ca,{children:i.jsxs("div",{className:"text-center py-8 space-y-3",children:[i.jsx(Wu,{className:"h-12 w-12 mx-auto text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Em breve!"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"A integração com Messenger usará a mesma API do Instagram. Será implementada em breve."})]})]})})]})}),i.jsx(of,{value:"whatsapp",className:"mt-6",children:i.jsxs(la,{children:[i.jsxs(va,{children:[i.jsx(_a,{children:"WhatsApp Business"}),i.jsx(hf,{children:"Configure sua integração com WhatsApp para atendimento"})]}),i.jsx(ca,{children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Acesse o módulo de"," ",i.jsx("a",{href:"/chat",className:"text-primary hover:underline",children:"Chat"})," ","para configurar sua conexão WhatsApp."]})})]})})]})]});function Ia({children:e}){const{isAuthenticated:t}=kc();return t?i.jsx(i.Fragment,{children:e}):i.jsx(XN,{to:"/login",replace:!0})}const irt="/assets/favicon-BpAW-oFG.png",ort="/assets/logo-full-alt-oP0OJJ6r.png",lrt="/assets/logo-icon-alt-CK4-Wsqd.png",A7=[{icon:TQ,label:"Dashboard",path:"/dashboard"},{icon:Ls,label:"Leads",path:"/leads"},{icon:s6,label:"Chat",path:"/chat"},{icon:Yr,label:"Agenda",path:"/agenda"},{icon:qa,label:"Prontuários",path:"/prontuarios"},{icon:rj,label:"Pacientes",path:"/pacientes"},{icon:Ba,label:"Financeiro",path:"/financeiro",roles:["superadmin","owner","admin"],submenu:[{icon:IQ,label:"Transações",path:"/financeiro/transacoes",roles:["superadmin","owner","admin"]},{icon:xf,label:"Contas a Pagar",path:"/financeiro/contas-pagar",roles:["superadmin","owner","admin"]},{icon:Do,label:"Contas a Receber",path:"/financeiro/contas-receber",roles:["superadmin","owner","admin"]},{icon:zu,label:"Fluxo de Caixa",path:"/financeiro/fluxo-caixa",roles:["superadmin","owner","admin"]},{icon:V_,label:"Relatórios",path:"/financeiro/relatorios",roles:["superadmin","owner","admin"]},{icon:d6,label:"Fornecedores",path:"/financeiro/fornecedores",roles:["superadmin","owner","admin"]}]},{icon:Do,label:"Vendas",path:"/vendas",roles:["superadmin","owner","admin"],submenu:[{icon:G_,label:"Dashboard",path:"/vendas",roles:["superadmin","owner","admin"]},{icon:rj,label:"Vendedores",path:"/vendas/vendedores",roles:["superadmin","owner","admin"]},{icon:Ew,label:"Vendas",path:"/vendas/vendas",roles:["superadmin","owner","admin"]},{icon:Ba,label:"Comissões",path:"/vendas/comissoes",roles:["superadmin","owner","admin"]}]},{icon:Yh,label:"Estoque",path:"/estoque",roles:["superadmin","owner","admin"],submenu:[{icon:Yh,label:"Produtos",path:"/estoque/produtos",roles:["superadmin","owner","admin"]},{icon:Do,label:"Movimentações",path:"/estoque/movimentacoes",roles:["superadmin","owner","admin"]},{icon:qa,label:"Inventário",path:"/estoque/inventario",roles:["superadmin","owner","admin"]}]},{icon:rj,label:"Colaboração",path:"/colaboracao"},{icon:lx,label:"BI & Analytics",path:"/bi",roles:["superadmin","owner","admin"],submenu:[{icon:G_,label:"Dashboards",path:"/bi/dashboards",roles:["superadmin","owner","admin"]},{icon:V_,label:"Relatórios",path:"/bi/relatorios",roles:["superadmin","owner","admin"]}]},{icon:B7,label:"Redes Sociais",path:"/redes-sociais",roles:["superadmin","owner","admin"]},{icon:z7,label:"Marketing",path:"/marketing",roles:["superadmin","owner","admin"],submenu:[{icon:Zs,label:"Campanhas",path:"/marketing/campanhas",roles:["superadmin","owner","admin"]},{icon:ro,label:"Mensagens em Massa",path:"/marketing/mensagens",roles:["superadmin","owner","admin"]},{icon:a3,label:"Redes Sociais",path:"/marketing/social",roles:["superadmin","owner","admin"]},{icon:qa,label:"Landing Pages",path:"/marketing/landing-pages",roles:["superadmin","owner","admin"]},{icon:Wu,label:"Assistente IA",path:"/marketing/ia",roles:["superadmin","owner","admin"]},{icon:Zs,label:"Automações",path:"/marketing/automacoes",roles:["superadmin","owner","admin"]}]},{icon:nd,label:"Configurações",path:"/configuracoes",roles:["superadmin","owner"]}];function Da({children:e}){var g,p,x,v,b;const[t,r]=k.useState(!0),[a,n]=k.useState([]),s=$m(),o=vi(),{user:l,logout:c}=kc(),{theme:d}=$7();console.log("🔍 DEBUG - Menu Items:",A7.map(y=>y.label));const f=k.useMemo(()=>{var j,E;const y=((j=l==null?void 0:l.role)==null?void 0:j.toLowerCase())||"user",w=((E=l==null?void 0:l.email)==null?void 0:E.toLowerCase())||"";return A7.filter(A=>w==="teste@nexusatemporal.com.br"||!A.roles?!0:A.roles.includes(y)).map(A=>A.submenu?{...A,submenu:A.submenu.filter(C=>w==="teste@nexusatemporal.com.br"||!C.roles?!0:C.roles.includes(y))}:A)},[l==null?void 0:l.role,l==null?void 0:l.email]),u=y=>{n(w=>w.includes(y)?w.filter(j=>j!==y):[...w,y])};k.useMemo(()=>{f.forEach(y=>{y.submenu&&y.submenu.some(j=>s.pathname===j.path||s.pathname.startsWith(j.path+"/"))&&!a.includes(y.label)&&n(j=>[...j,y.label])})},[s.pathname,f]);const m=async()=>{await c(),o("/login")},h=y=>y.path?s.pathname===y.path||s.pathname.startsWith(y.path+"/"):y.submenu?y.submenu.some(w=>s.pathname===w.path||s.pathname.startsWith(w.path+"/")):!1;return i.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[i.jsxs("aside",{className:`${t?"w-64":"w-20"} bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 flex flex-col`,children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-gray-200 dark:border-gray-700",children:[t?i.jsx("img",{src:d==="dark"?ort:h6,alt:"Nexus Atemporal",className:"h-10"}):i.jsx("img",{src:d==="dark"?lrt:irt,alt:"Nexus Atemporal",className:"h-8"}),i.jsx("button",{onClick:()=>r(!t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:t?i.jsx(br,{size:20}):i.jsx(DQ,{size:20})})]}),i.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:f.map(y=>{const w=y.icon,j=y.submenu&&y.submenu.length>0,E=a.includes(y.label),A=h(y);return i.jsxs("div",{children:[j?i.jsxs("button",{onClick:()=>u(y.label),className:`w-full flex items-center justify-between px-4 py-3 mx-2 rounded-lg transition-colors ${A?"bg-primary-100 dark:bg-primary-900/20 text-primary-600":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(w,{size:20,className:"flex-shrink-0"}),t&&i.jsx("span",{className:"ml-3",children:y.label})]}),t&&(E?i.jsx(b0,{size:16}):i.jsx(Sh,{size:16}))]}):i.jsxs(sx,{to:y.path,className:`flex items-center px-4 py-3 mx-2 rounded-lg transition-colors ${A?"bg-primary-100 dark:bg-primary-900/20 text-primary-600":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[i.jsx(w,{size:20,className:"flex-shrink-0"}),t&&i.jsx("span",{className:"ml-3",children:y.label})]}),j&&E&&t&&i.jsx("div",{className:"ml-4 mt-1 space-y-1",children:y.submenu.map(C=>{const S=C.icon,T=s.pathname===C.path||s.pathname.startsWith(C.path+"/");return i.jsxs(sx,{to:C.path,className:`flex items-center px-4 py-2 mx-2 rounded-lg transition-colors text-sm ${T?"bg-primary-50 dark:bg-primary-900/10 text-primary-600 font-medium":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[i.jsx(S,{size:16,className:"flex-shrink-0"}),i.jsx("span",{className:"ml-3",children:C.label})]},C.path)})})]},y.label)})}),i.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:t?i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-600 dark:bg-primary-500 flex items-center justify-center text-white font-bold",children:(g=l==null?void 0:l.name)==null?void 0:g.charAt(0).toUpperCase()}),i.jsxs("div",{className:"ml-3 flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:l==null?void 0:l.name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:l==null?void 0:l.role})]})]}),i.jsxs("button",{onClick:m,className:"w-full flex items-center px-3 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[i.jsx(q_,{size:18}),i.jsx("span",{className:"ml-2",children:"Sair"})]})]}):i.jsx("button",{onClick:m,className:"w-full flex items-center justify-center p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:i.jsx(q_,{size:20})})})]}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsxs("header",{className:"h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:((p=f.find(y=>y.path===s.pathname))==null?void 0:p.label)||((b=(v=(x=f.find(y=>{var w;return(w=y.submenu)==null?void 0:w.some(j=>j.path===s.pathname)}))==null?void 0:x.submenu)==null?void 0:v.find(y=>y.path===s.pathname))==null?void 0:b.label)||"Dashboard"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(MG,{}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:l==null?void 0:l.email})]})]}),i.jsx("main",{className:"flex-1 overflow-y-auto p-6",id:"main-content",children:e})]})]})}const crt=new VK({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function drt(){return i.jsx(U7,{children:i.jsx(OQ,{children:i.jsxs(GK,{client:crt,children:[i.jsx(qK,{children:i.jsxs(YK,{children:[i.jsx(ia,{path:"/login",element:i.jsx(FQ,{})}),i.jsx(ia,{path:"/register",element:i.jsx(BQ,{})}),i.jsx(ia,{path:"/",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(XN,{to:"/dashboard",replace:!0})})})}),i.jsx(ia,{path:"/dashboard",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(KQ,{})})})}),i.jsx(ia,{path:"/leads",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(bge,{})})})}),i.jsx(ia,{path:"/chat",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(qye,{})})})}),i.jsx(ia,{path:"/agenda",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(LIe,{})})})}),i.jsx(ia,{path:"/prontuarios",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(BIe,{})})})}),i.jsx(ia,{path:"/pacientes",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(I8e,{})})})}),i.jsx(ia,{path:"/pacientes/novo",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(NP,{})})})}),i.jsx(ia,{path:"/pacientes/:id",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(z8e,{})})})}),i.jsx(ia,{path:"/pacientes/:id/editar",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(NP,{})})})}),i.jsx(ia,{path:"/financeiro",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(qD,{})})})}),i.jsx(ia,{path:"/financeiro/*",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(qD,{})})})}),i.jsx(ia,{path:"/vendas",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(jP,{})})})}),i.jsx(ia,{path:"/vendas/*",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(jP,{})})})}),i.jsx(ia,{path:"/estoque",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(SP,{})})})}),i.jsx(ia,{path:"/estoque/*",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(SP,{})})})}),i.jsx(ia,{path:"/automation",element:i.jsx(XN,{to:"/marketing",replace:!0})}),i.jsx(ia,{path:"/bi",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(D8,{})})})}),i.jsx(ia,{path:"/bi/*",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(D8,{})})})}),i.jsx(ia,{path:"/colaboracao",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Colaboração"}),i.jsx("p",{className:"text-gray-600",children:"Em desenvolvimento..."})]})})})}),i.jsx(ia,{path:"/marketing",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(C7,{})})})}),i.jsx(ia,{path:"/marketing/*",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(C7,{})})})}),i.jsx(ia,{path:"/redes-sociais",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(srt,{})})})}),i.jsx(ia,{path:"/configuracoes",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(s7e,{})})})}),i.jsx(ia,{path:"/configuracoes/integracoes/pagamentos",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsx(o7e,{})})})}),i.jsx(ia,{path:"/settings",element:i.jsx(Ia,{children:i.jsx(Da,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Configurações"}),i.jsx("p",{className:"text-gray-600",children:"Em desenvolvimento..."})]})})})})]})}),i.jsx(PQ,{position:"top-right"})]})})})}s3.createRoot(document.getElementById("root")).render(i.jsx(Z.StrictMode,{children:i.jsx(drt,{})}));export{j2 as $,gd as A,lZe as B,fS as C,OE as D,kv as E,pq as F,jp as G,zt as H,ose as I,vh as J,$Q as K,Sn as L,HQ as M,WQ as N,VQ as O,UQ as P,zWe as Q,mq as R,jd as S,ll as T,qWe as U,D2 as V,Ms as W,Ep as X,_p as Y,wrt as Z,Zq as _,JQ as a,Ys as a0,JYe as a1,Oo as a2,yl as a3,Fo as a4,DVe as a5,bl as a6,rd as a7,brt as a8,GQ as a9,qQ as aa,wu as ab,xrt as b,vrt as c,Sr as d,ul as e,Ci as f,Jx as g,gr as h,yt as i,pv as j,lv as k,Cr as l,ck as m,$7e as n,pf as o,fr as p,so as q,i9 as r,Zd as s,CJ as t,gv as u,HY as v,GE as w,Ru as x,B0 as y,oZe as z};
