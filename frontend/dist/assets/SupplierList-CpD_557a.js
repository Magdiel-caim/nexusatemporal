import{j as e}from"./data-vendor-CPXAi296.js";import{r as c}from"./react-vendor-B1IcTyqJ.js";import{f as l}from"./index-CgQBQ2pb.js";import{ai as a,n as N,l as k,S as w,ah as g,d as p,t as S,P as A,k as C,o as F,a9 as E,m as P}from"./ui-vendor-Brh4_U-5.js";function J({onEditSupplier:o,onCreateSupplier:n}){const[i,u]=c.useState([]),[b,x]=c.useState(!0),[m,y]=c.useState(!1),[t,h]=c.useState({search:"",isActive:!0,city:"",state:""});c.useEffect(()=>{d()},[]);const d=async()=>{try{x(!0);const s=await l.getSuppliers({search:t.search||void 0,isActive:t.isActive,city:t.city||void 0,state:t.state||void 0});u(s)}catch(s){a.error("Erro ao carregar fornecedores: "+s.message)}finally{x(!1)}},v=async s=>{if(confirm("Tem certeza que deseja excluir este fornecedor?"))try{await l.deleteSupplier(s),a.success("Fornecedor excluÃ­do com sucesso!"),d()}catch(r){a.error("Erro ao excluir: "+r.message)}},j=async(s,r)=>{try{r?(await l.deactivateSupplier(s),a.success("Fornecedor desativado")):(await l.activateSupplier(s),a.success("Fornecedor ativado")),d()}catch(f){a.error("Erro: "+f.message)}};return b?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Fornecedores"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i.length," registro(s)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>y(!m),className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Filtros"]}),n&&e.jsxs("button",{onClick:n,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Novo Fornecedor"]})]})]}),m&&e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:t.search,onChange:s=>h(r=>({...r,search:s.target.value})),placeholder:"Nome, CNPJ...",className:"pl-10 w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{value:t.isActive?"true":"false",onChange:s=>h(r=>({...r,isActive:s.target.value==="true"})),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"true",children:"Ativos"}),e.jsx("option",{value:"false",children:"Inativos"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:d,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Aplicar Filtros"})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(g,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Nenhum fornecedor encontrado"})]}):i.map(s=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900",children:e.jsx(g,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:s.name}),s.cnpj&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["CNPJ: ",s.cnpj]})]})]}),e.jsx("button",{onClick:()=>j(s.id,s.isActive),className:`p-1 rounded ${s.isActive?"text-green-600 hover:bg-green-100 dark:hover:bg-green-900":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:s.isActive?"Ativo":"Inativo",children:s.isActive?e.jsx(p,{className:"w-5 h-5"}):e.jsx(S,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[s.phone&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),s.phone]}),s.email&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),s.email]}),s.city&&s.state&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),s.city,"/",s.state]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-3 border-t border-gray-200 dark:border-gray-700",children:[o&&e.jsx("button",{onClick:()=>o(s),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400",title:"Editar",children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(s.id),className:"text-red-600 hover:text-red-900 dark:text-red-400",title:"Excluir",children:e.jsx(P,{className:"w-4 h-4"})})]})]},s.id))})]})}export{J as default};
